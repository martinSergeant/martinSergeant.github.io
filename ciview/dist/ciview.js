!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=68)}([function(t,e,n){"use strict";(function(t){var n,i,r,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};
/*!
 * jQuery JavaScript Library v3.3.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2018-01-20T17:24Z
 */
i="undefined"!=typeof window?window:void 0,r=function(i,r){var a=[],s=i.document,l=Object.getPrototypeOf,c=a.slice,u=a.concat,f=a.push,h=a.indexOf,d={},p=d.toString,g=d.hasOwnProperty,m=g.toString,v=m.call(Object),b={},y=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},_=function(t){return null!=t&&t===t.window},x={type:!0,src:!0,noModule:!0};function w(t,e,n){var i,r=(e=e||s).createElement("script");if(r.text=t,n)for(i in x)n[i]&&(r[i]=n[i]);e.head.appendChild(r).parentNode.removeChild(r)}function k(t){return null==t?t+"":"object"===(void 0===t?"undefined":o(t))||"function"==typeof t?d[p.call(t)]||"object":void 0===t?"undefined":o(t)}var C=function t(e,n){return new t.fn.init(e,n)},F=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function A(t){var e=!!t&&"length"in t&&t.length,n=k(t);return!y(t)&&!_(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}C.fn=C.prototype={jquery:"3.3.1",constructor:C,length:0,toArray:function(){return c.call(this)},get:function(t){return null==t?c.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=C.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return C.each(this,t)},map:function(t){return this.pushStack(C.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(c.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:f,sort:a.sort,splice:a.splice},C.extend=C.fn.extend=function(){var t,e,n,i,r,a,s=arguments[0]||{},l=1,c=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[l]||{},l++),"object"===(void 0===s?"undefined":o(s))||y(s)||(s={}),l===c&&(s=this,l--);l<c;l++)if(null!=(t=arguments[l]))for(e in t)n=s[e],s!==(i=t[e])&&(u&&i&&(C.isPlainObject(i)||(r=Array.isArray(i)))?(r?(r=!1,a=n&&Array.isArray(n)?n:[]):a=n&&C.isPlainObject(n)?n:{},s[e]=C.extend(u,a,i)):void 0!==i&&(s[e]=i));return s},C.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==p.call(t))&&(!(e=l(t))||"function"==typeof(n=g.call(e,"constructor")&&e.constructor)&&m.call(n)===v)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t){w(t)},each:function(t,e){var n,i=0;if(A(t))for(n=t.length;i<n&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},trim:function(t){return null==t?"":(t+"").replace(F,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(A(Object(t))?C.merge(n,"string"==typeof t?[t]:t):f.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:h.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i=[],r=0,o=t.length,a=!n;r<o;r++)!e(t[r],r)!==a&&i.push(t[r]);return i},map:function(t,e,n){var i,r,o=0,a=[];if(A(t))for(i=t.length;o<i;o++)null!=(r=e(t[o],o,n))&&a.push(r);else for(o in t)null!=(r=e(t[o],o,n))&&a.push(r);return u.apply([],a)},guid:1,support:b}),"function"==typeof Symbol&&(C.fn[Symbol.iterator]=a[Symbol.iterator]),C.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){d["[object "+e+"]"]=e.toLowerCase()});var S=
/*!
  * Sizzle CSS Selector Engine v2.3.3
  * https://sizzlejs.com/
  *
  * Copyright jQuery Foundation and other contributors
  * Released under the MIT license
  * http://jquery.org/license
  *
  * Date: 2016-08-08
  */
function(t){var e,n,i,r,o,a,s,l,c,u,f,h,d,p,g,m,v,b,y,_="sizzle"+1*new Date,x=t.document,w=0,k=0,C=at(),F=at(),A=at(),S=function(t,e){return t===e&&(f=!0),0},D={}.hasOwnProperty,M=[],T=M.pop,E=M.push,P=M.push,I=M.slice,R=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},N="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",z="[\\x20\\t\\r\\n\\f]",O="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",L="\\["+z+"*("+O+")(?:"+z+"*([*^$|!~]?=)"+z+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+O+"))|)"+z+"*\\]",j=":("+O+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+L+")*)|.*)\\)|)",H=new RegExp(z+"+","g"),B=new RegExp("^"+z+"+|((?:^|[^\\\\])(?:\\\\.)*)"+z+"+$","g"),W=new RegExp("^"+z+"*,"+z+"*"),q=new RegExp("^"+z+"*([>+~]|"+z+")"+z+"*"),U=new RegExp("="+z+"*([^\\]'\"]*?)"+z+"*\\]","g"),$=new RegExp(j),V=new RegExp("^"+O+"$"),G={ID:new RegExp("^#("+O+")"),CLASS:new RegExp("^\\.("+O+")"),TAG:new RegExp("^("+O+"|[*])"),ATTR:new RegExp("^"+L),PSEUDO:new RegExp("^"+j),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+z+"*(even|odd|(([+-]|)(\\d*)n|)"+z+"*(?:([+-]|)"+z+"*(\\d+)|))"+z+"*\\)|)","i"),bool:new RegExp("^(?:"+N+")$","i"),needsContext:new RegExp("^"+z+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+z+"*((?:-\\d)?\\d*)"+z+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,Q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Z=/[+~]/,J=new RegExp("\\\\([\\da-f]{1,6}"+z+"?|("+z+")|.)","ig"),tt=function(t,e,n){var i="0x"+e-65536;return i!=i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},et=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,nt=function(t,e){return e?"\0"===t?"ï¿½":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},it=function(){h()},rt=bt(function(t){return!0===t.disabled&&("form"in t||"label"in t)},{dir:"parentNode",next:"legend"});try{P.apply(M=I.call(x.childNodes),x.childNodes),M[x.childNodes.length].nodeType}catch(t){P={apply:M.length?function(t,e){E.apply(t,I.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}function ot(t,e,i,r){var o,s,c,u,f,p,v,b=e&&e.ownerDocument,w=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==w&&9!==w&&11!==w)return i;if(!r&&((e?e.ownerDocument||e:x)!==d&&h(e),e=e||d,g)){if(11!==w&&(f=Q.exec(t)))if(o=f[1]){if(9===w){if(!(c=e.getElementById(o)))return i;if(c.id===o)return i.push(c),i}else if(b&&(c=b.getElementById(o))&&y(e,c)&&c.id===o)return i.push(c),i}else{if(f[2])return P.apply(i,e.getElementsByTagName(t)),i;if((o=f[3])&&n.getElementsByClassName&&e.getElementsByClassName)return P.apply(i,e.getElementsByClassName(o)),i}if(n.qsa&&!A[t+" "]&&(!m||!m.test(t))){if(1!==w)b=e,v=t;else if("object"!==e.nodeName.toLowerCase()){for((u=e.getAttribute("id"))?u=u.replace(et,nt):e.setAttribute("id",u=_),s=(p=a(t)).length;s--;)p[s]="#"+u+" "+vt(p[s]);v=p.join(","),b=Z.test(t)&&gt(e.parentNode)||e}if(v)try{return P.apply(i,b.querySelectorAll(v)),i}catch(t){}finally{u===_&&e.removeAttribute("id")}}}return l(t.replace(B,"$1"),e,i,r)}function at(){var t=[];return function e(n,r){return t.push(n+" ")>i.cacheLength&&delete e[t.shift()],e[n+" "]=r}}function st(t){return t[_]=!0,t}function lt(t){var e=d.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ct(t,e){for(var n=t.split("|"),r=n.length;r--;)i.attrHandle[n[r]]=e}function ut(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function ft(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function ht(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function dt(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&rt(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function pt(t){return st(function(e){return e=+e,st(function(n,i){for(var r,o=t([],n.length,e),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))})})}function gt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in n=ot.support={},o=ot.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},h=ot.setDocument=function(t){var e,r,a=t?t.ownerDocument||t:x;return a!==d&&9===a.nodeType&&a.documentElement?(p=(d=a).documentElement,g=!o(d),x!==d&&(r=d.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",it,!1):r.attachEvent&&r.attachEvent("onunload",it)),n.attributes=lt(function(t){return t.className="i",!t.getAttribute("className")}),n.getElementsByTagName=lt(function(t){return t.appendChild(d.createComment("")),!t.getElementsByTagName("*").length}),n.getElementsByClassName=K.test(d.getElementsByClassName),n.getById=lt(function(t){return p.appendChild(t).id=_,!d.getElementsByName||!d.getElementsByName(_).length}),n.getById?(i.filter.ID=function(t){var e=t.replace(J,tt);return function(t){return t.getAttribute("id")===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var n=e.getElementById(t);return n?[n]:[]}}):(i.filter.ID=function(t){var e=t.replace(J,tt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var n,i,r,o=e.getElementById(t);if(o){if((n=o.getAttributeNode("id"))&&n.value===t)return[o];for(r=e.getElementsByName(t),i=0;o=r[i++];)if((n=o.getAttributeNode("id"))&&n.value===t)return[o]}return[]}}),i.find.TAG=n.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):n.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},i.find.CLASS=n.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&g)return e.getElementsByClassName(t)},v=[],m=[],(n.qsa=K.test(d.querySelectorAll))&&(lt(function(t){p.appendChild(t).innerHTML="<a id='"+_+"'></a><select id='"+_+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+z+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||m.push("\\["+z+"*(?:value|"+N+")"),t.querySelectorAll("[id~="+_+"-]").length||m.push("~="),t.querySelectorAll(":checked").length||m.push(":checked"),t.querySelectorAll("a#"+_+"+*").length||m.push(".#.+[+~]")}),lt(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=d.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&m.push("name"+z+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),p.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),m.push(",.*:")})),(n.matchesSelector=K.test(b=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&lt(function(t){n.disconnectedMatch=b.call(t,"*"),b.call(t,"[s!='']:x"),v.push("!=",j)}),m=m.length&&new RegExp(m.join("|")),v=v.length&&new RegExp(v.join("|")),e=K.test(p.compareDocumentPosition),y=e||K.test(p.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},S=e?function(t,e){if(t===e)return f=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!n.sortDetached&&e.compareDocumentPosition(t)===i?t===d||t.ownerDocument===x&&y(x,t)?-1:e===d||e.ownerDocument===x&&y(x,e)?1:u?R(u,t)-R(u,e):0:4&i?-1:1)}:function(t,e){if(t===e)return f=!0,0;var n,i=0,r=t.parentNode,o=e.parentNode,a=[t],s=[e];if(!r||!o)return t===d?-1:e===d?1:r?-1:o?1:u?R(u,t)-R(u,e):0;if(r===o)return ut(t,e);for(n=t;n=n.parentNode;)a.unshift(n);for(n=e;n=n.parentNode;)s.unshift(n);for(;a[i]===s[i];)i++;return i?ut(a[i],s[i]):a[i]===x?-1:s[i]===x?1:0},d):d},ot.matches=function(t,e){return ot(t,null,null,e)},ot.matchesSelector=function(t,e){if((t.ownerDocument||t)!==d&&h(t),e=e.replace(U,"='$1']"),n.matchesSelector&&g&&!A[e+" "]&&(!v||!v.test(e))&&(!m||!m.test(e)))try{var i=b.call(t,e);if(i||n.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){}return ot(e,d,null,[t]).length>0},ot.contains=function(t,e){return(t.ownerDocument||t)!==d&&h(t),y(t,e)},ot.attr=function(t,e){(t.ownerDocument||t)!==d&&h(t);var r=i.attrHandle[e.toLowerCase()],o=r&&D.call(i.attrHandle,e.toLowerCase())?r(t,e,!g):void 0;return void 0!==o?o:n.attributes||!g?t.getAttribute(e):(o=t.getAttributeNode(e))&&o.specified?o.value:null},ot.escape=function(t){return(t+"").replace(et,nt)},ot.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},ot.uniqueSort=function(t){var e,i=[],r=0,o=0;if(f=!n.detectDuplicates,u=!n.sortStable&&t.slice(0),t.sort(S),f){for(;e=t[o++];)e===t[o]&&(r=i.push(o));for(;r--;)t.splice(i[r],1)}return u=null,t},r=ot.getText=function(t){var e,n="",i=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=r(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[i++];)n+=r(e);return n},(i=ot.selectors={cacheLength:50,createPseudo:st,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(J,tt),t[3]=(t[3]||t[4]||t[5]||"").replace(J,tt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||ot.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&ot.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return G.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&$.test(n)&&(e=a(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(J,tt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=C[t+" "];return e||(e=new RegExp("(^|"+z+")"+t+"("+z+"|$)"))&&C(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,e,n){return function(i){var r=ot.attr(i,t);return null==r?"!="===e:!e||(r+="","="===e?r===n:"!="===e?r!==n:"^="===e?n&&0===r.indexOf(n):"*="===e?n&&r.indexOf(n)>-1:"$="===e?n&&r.slice(-n.length)===n:"~="===e?(" "+r.replace(H," ")+" ").indexOf(n)>-1:"|="===e&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,l){var c,u,f,h,d,p,g=o!==a?"nextSibling":"previousSibling",m=e.parentNode,v=s&&e.nodeName.toLowerCase(),b=!l&&!s,y=!1;if(m){if(o){for(;g;){for(h=e;h=h[g];)if(s?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;p=g="only"===t&&!p&&"nextSibling"}return!0}if(p=[a?m.firstChild:m.lastChild],a&&b){for(y=(d=(c=(u=(f=(h=m)[_]||(h[_]={}))[h.uniqueID]||(f[h.uniqueID]={}))[t]||[])[0]===w&&c[1])&&c[2],h=d&&m.childNodes[d];h=++d&&h&&h[g]||(y=d=0)||p.pop();)if(1===h.nodeType&&++y&&h===e){u[t]=[w,d,y];break}}else if(b&&(y=d=(c=(u=(f=(h=e)[_]||(h[_]={}))[h.uniqueID]||(f[h.uniqueID]={}))[t]||[])[0]===w&&c[1]),!1===y)for(;(h=++d&&h&&h[g]||(y=d=0)||p.pop())&&((s?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++y||(b&&((u=(f=h[_]||(h[_]={}))[h.uniqueID]||(f[h.uniqueID]={}))[t]=[w,y]),h!==e)););return(y-=r)===i||y%i==0&&y/i>=0}}},PSEUDO:function(t,e){var n,r=i.pseudos[t]||i.setFilters[t.toLowerCase()]||ot.error("unsupported pseudo: "+t);return r[_]?r(e):r.length>1?(n=[t,t,"",e],i.setFilters.hasOwnProperty(t.toLowerCase())?st(function(t,n){for(var i,o=r(t,e),a=o.length;a--;)t[i=R(t,o[a])]=!(n[i]=o[a])}):function(t){return r(t,0,n)}):r}},pseudos:{not:st(function(t){var e=[],n=[],i=s(t.replace(B,"$1"));return i[_]?st(function(t,e,n,r){for(var o,a=i(t,null,r,[]),s=t.length;s--;)(o=a[s])&&(t[s]=!(e[s]=o))}):function(t,r,o){return e[0]=t,i(e,null,o,n),e[0]=null,!n.pop()}}),has:st(function(t){return function(e){return ot(t,e).length>0}}),contains:st(function(t){return t=t.replace(J,tt),function(e){return(e.textContent||e.innerText||r(e)).indexOf(t)>-1}}),lang:st(function(t){return V.test(t||"")||ot.error("unsupported lang: "+t),t=t.replace(J,tt).toLowerCase(),function(e){var n;do{if(n=g?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===p},focus:function(t){return t===d.activeElement&&(!d.hasFocus||d.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:dt(!1),disabled:dt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!i.pseudos.empty(t)},header:function(t){return X.test(t.nodeName)},input:function(t){return Y.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:pt(function(){return[0]}),last:pt(function(t,e){return[e-1]}),eq:pt(function(t,e,n){return[n<0?n+e:n]}),even:pt(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:pt(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:pt(function(t,e,n){for(var i=n<0?n+e:n;--i>=0;)t.push(i);return t}),gt:pt(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}}).pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[e]=ft(e);for(e in{submit:!0,reset:!0})i.pseudos[e]=ht(e);function mt(){}function vt(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function bt(t,e,n){var i=e.dir,r=e.next,o=r||i,a=n&&"parentNode"===o,s=k++;return e.first?function(e,n,r){for(;e=e[i];)if(1===e.nodeType||a)return t(e,n,r);return!1}:function(e,n,l){var c,u,f,h=[w,s];if(l){for(;e=e[i];)if((1===e.nodeType||a)&&t(e,n,l))return!0}else for(;e=e[i];)if(1===e.nodeType||a)if(u=(f=e[_]||(e[_]={}))[e.uniqueID]||(f[e.uniqueID]={}),r&&r===e.nodeName.toLowerCase())e=e[i]||e;else{if((c=u[o])&&c[0]===w&&c[1]===s)return h[2]=c[2];if(u[o]=h,h[2]=t(e,n,l))return!0}return!1}}function yt(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function _t(t,e,n,i,r){for(var o,a=[],s=0,l=t.length,c=null!=e;s<l;s++)(o=t[s])&&(n&&!n(o,i,r)||(a.push(o),c&&e.push(s)));return a}function xt(t,e,n,i,r,o){return i&&!i[_]&&(i=xt(i)),r&&!r[_]&&(r=xt(r,o)),st(function(o,a,s,l){var c,u,f,h=[],d=[],p=a.length,g=o||function(t,e,n){for(var i=0,r=e.length;i<r;i++)ot(t,e[i],n);return n}(e||"*",s.nodeType?[s]:s,[]),m=!t||!o&&e?g:_t(g,h,t,s,l),v=n?r||(o?t:p||i)?[]:a:m;if(n&&n(m,v,s,l),i)for(c=_t(v,d),i(c,[],s,l),u=c.length;u--;)(f=c[u])&&(v[d[u]]=!(m[d[u]]=f));if(o){if(r||t){if(r){for(c=[],u=v.length;u--;)(f=v[u])&&c.push(m[u]=f);r(null,v=[],c,l)}for(u=v.length;u--;)(f=v[u])&&(c=r?R(o,f):h[u])>-1&&(o[c]=!(a[c]=f))}}else v=_t(v===a?v.splice(p,v.length):v),r?r(null,a,v,l):P.apply(a,v)})}function wt(t){for(var e,n,r,o=t.length,a=i.relative[t[0].type],s=a||i.relative[" "],l=a?1:0,u=bt(function(t){return t===e},s,!0),f=bt(function(t){return R(e,t)>-1},s,!0),h=[function(t,n,i){var r=!a&&(i||n!==c)||((e=n).nodeType?u(t,n,i):f(t,n,i));return e=null,r}];l<o;l++)if(n=i.relative[t[l].type])h=[bt(yt(h),n)];else{if((n=i.filter[t[l].type].apply(null,t[l].matches))[_]){for(r=++l;r<o&&!i.relative[t[r].type];r++);return xt(l>1&&yt(h),l>1&&vt(t.slice(0,l-1).concat({value:" "===t[l-2].type?"*":""})).replace(B,"$1"),n,l<r&&wt(t.slice(l,r)),r<o&&wt(t=t.slice(r)),r<o&&vt(t))}h.push(n)}return yt(h)}return mt.prototype=i.filters=i.pseudos,i.setFilters=new mt,a=ot.tokenize=function(t,e){var n,r,o,a,s,l,c,u=F[t+" "];if(u)return e?0:u.slice(0);for(s=t,l=[],c=i.preFilter;s;){for(a in n&&!(r=W.exec(s))||(r&&(s=s.slice(r[0].length)||s),l.push(o=[])),n=!1,(r=q.exec(s))&&(n=r.shift(),o.push({value:n,type:r[0].replace(B," ")}),s=s.slice(n.length)),i.filter)!(r=G[a].exec(s))||c[a]&&!(r=c[a](r))||(n=r.shift(),o.push({value:n,type:a,matches:r}),s=s.slice(n.length));if(!n)break}return e?s.length:s?ot.error(t):F(t,l).slice(0)},s=ot.compile=function(t,e){var n,r=[],o=[],s=A[t+" "];if(!s){for(e||(e=a(t)),n=e.length;n--;)(s=wt(e[n]))[_]?r.push(s):o.push(s);(s=A(t,function(t,e){var n=e.length>0,r=t.length>0,o=function(o,a,s,l,u){var f,p,m,v=0,b="0",y=o&&[],_=[],x=c,k=o||r&&i.find.TAG("*",u),C=w+=null==x?1:Math.random()||.1,F=k.length;for(u&&(c=a===d||a||u);b!==F&&null!=(f=k[b]);b++){if(r&&f){for(p=0,a||f.ownerDocument===d||(h(f),s=!g);m=t[p++];)if(m(f,a||d,s)){l.push(f);break}u&&(w=C)}n&&((f=!m&&f)&&v--,o&&y.push(f))}if(v+=b,n&&b!==v){for(p=0;m=e[p++];)m(y,_,a,s);if(o){if(v>0)for(;b--;)y[b]||_[b]||(_[b]=T.call(l));_=_t(_)}P.apply(l,_),u&&!o&&_.length>0&&v+e.length>1&&ot.uniqueSort(l)}return u&&(w=C,c=x),y};return n?st(o):o}(o,r))).selector=t}return s},l=ot.select=function(t,e,n,r){var o,l,c,u,f,h="function"==typeof t&&t,d=!r&&a(t=h.selector||t);if(n=n||[],1===d.length){if((l=d[0]=d[0].slice(0)).length>2&&"ID"===(c=l[0]).type&&9===e.nodeType&&g&&i.relative[l[1].type]){if(!(e=(i.find.ID(c.matches[0].replace(J,tt),e)||[])[0]))return n;h&&(e=e.parentNode),t=t.slice(l.shift().value.length)}for(o=G.needsContext.test(t)?0:l.length;o--&&(c=l[o],!i.relative[u=c.type]);)if((f=i.find[u])&&(r=f(c.matches[0].replace(J,tt),Z.test(l[0].type)&&gt(e.parentNode)||e))){if(l.splice(o,1),!(t=r.length&&vt(l)))return P.apply(n,r),n;break}}return(h||s(t,d))(r,e,!g,n,!e||Z.test(t)&&gt(e.parentNode)||e),n},n.sortStable=_.split("").sort(S).join("")===_,n.detectDuplicates=!!f,h(),n.sortDetached=lt(function(t){return 1&t.compareDocumentPosition(d.createElement("fieldset"))}),lt(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||ct("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),n.attributes&&lt(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||ct("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),lt(function(t){return null==t.getAttribute("disabled")})||ct(N,function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),ot}(i);C.find=S,C.expr=S.selectors,C.expr[":"]=C.expr.pseudos,C.uniqueSort=C.unique=S.uniqueSort,C.text=S.getText,C.isXMLDoc=S.isXML,C.contains=S.contains,C.escapeSelector=S.escape;var D=function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&C(t).is(n))break;i.push(t)}return i},M=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},T=C.expr.match.needsContext;function E(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var P=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function I(t,e,n){return y(e)?C.grep(t,function(t,i){return!!e.call(t,i,t)!==n}):e.nodeType?C.grep(t,function(t){return t===e!==n}):"string"!=typeof e?C.grep(t,function(t){return h.call(e,t)>-1!==n}):C.filter(e,t,n)}C.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?C.find.matchesSelector(i,t)?[i]:[]:C.find.matches(t,C.grep(e,function(t){return 1===t.nodeType}))},C.fn.extend({find:function(t){var e,n,i=this.length,r=this;if("string"!=typeof t)return this.pushStack(C(t).filter(function(){for(e=0;e<i;e++)if(C.contains(r[e],this))return!0}));for(n=this.pushStack([]),e=0;e<i;e++)C.find(t,r[e],n);return i>1?C.uniqueSort(n):n},filter:function(t){return this.pushStack(I(this,t||[],!1))},not:function(t){return this.pushStack(I(this,t||[],!0))},is:function(t){return!!I(this,"string"==typeof t&&T.test(t)?C(t):t||[],!1).length}});var R,N=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(C.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||R,"string"==typeof t){if(!(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:N.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof C?e[0]:e,C.merge(this,C.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:s,!0)),P.test(i[1])&&C.isPlainObject(e))for(i in e)y(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return(r=s.getElementById(i[2]))&&(this[0]=r,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):y(t)?void 0!==n.ready?n.ready(t):t(C):C.makeArray(t,this)}).prototype=C.fn,R=C(s);var z=/^(?:parents|prev(?:Until|All))/,O={children:!0,contents:!0,next:!0,prev:!0};function L(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}C.fn.extend({has:function(t){var e=C(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(C.contains(this,e[t]))return!0})},closest:function(t,e){var n,i=0,r=this.length,o=[],a="string"!=typeof t&&C(t);if(!T.test(t))for(;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&C.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?C.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?h.call(C(t),this[0]):h.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(C.uniqueSort(C.merge(this.get(),C(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),C.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return D(t,"parentNode")},parentsUntil:function(t,e,n){return D(t,"parentNode",n)},next:function(t){return L(t,"nextSibling")},prev:function(t){return L(t,"previousSibling")},nextAll:function(t){return D(t,"nextSibling")},prevAll:function(t){return D(t,"previousSibling")},nextUntil:function(t,e,n){return D(t,"nextSibling",n)},prevUntil:function(t,e,n){return D(t,"previousSibling",n)},siblings:function(t){return M((t.parentNode||{}).firstChild,t)},children:function(t){return M(t.firstChild)},contents:function(t){return E(t,"iframe")?t.contentDocument:(E(t,"template")&&(t=t.content||t),C.merge([],t.childNodes))}},function(t,e){C.fn[t]=function(n,i){var r=C.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=C.filter(i,r)),this.length>1&&(O[t]||C.uniqueSort(r),z.test(t)&&r.reverse()),this.pushStack(r)}});var j=/[^\x20\t\r\n\f]+/g;function H(t){return t}function B(t){throw t}function W(t,e,n,i){var r;try{t&&y(r=t.promise)?r.call(t).done(e).fail(n):t&&y(r=t.then)?r.call(t,e,n):e.apply(void 0,[t].slice(i))}catch(t){n.apply(void 0,[t])}}C.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return C.each(t.match(j)||[],function(t,n){e[n]=!0}),e}(t):C.extend({},t);var e,n,i,r,o=[],a=[],s=-1,l=function(){for(r=r||t.once,i=e=!0;a.length;s=-1)for(n=a.shift();++s<o.length;)!1===o[s].apply(n[0],n[1])&&t.stopOnFalse&&(s=o.length,n=!1);t.memory||(n=!1),e=!1,r&&(o=n?[]:"")},c={add:function(){return o&&(n&&!e&&(s=o.length-1,a.push(n)),function e(n){C.each(n,function(n,i){y(i)?t.unique&&c.has(i)||o.push(i):i&&i.length&&"string"!==k(i)&&e(i)})}(arguments),n&&!e&&l()),this},remove:function(){return C.each(arguments,function(t,e){for(var n;(n=C.inArray(e,o,n))>-1;)o.splice(n,1),n<=s&&s--}),this},has:function(t){return t?C.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return r=a=[],n||e||(o=n=""),this},locked:function(){return!!r},fireWith:function(t,n){return r||(n=[t,(n=n||[]).slice?n.slice():n],a.push(n),e||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},C.extend({Deferred:function(t){var e=[["notify","progress",C.Callbacks("memory"),C.Callbacks("memory"),2],["resolve","done",C.Callbacks("once memory"),C.Callbacks("once memory"),0,"resolved"],["reject","fail",C.Callbacks("once memory"),C.Callbacks("once memory"),1,"rejected"]],n="pending",r={state:function(){return n},always:function(){return a.done(arguments).fail(arguments),this},catch:function(t){return r.then(null,t)},pipe:function(){var t=arguments;return C.Deferred(function(n){C.each(e,function(e,i){var r=y(t[i[4]])&&t[i[4]];a[i[1]](function(){var t=r&&r.apply(this,arguments);t&&y(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+"With"](this,r?[t]:arguments)})}),t=null}).promise()},then:function(t,n,r){var a=0;function s(t,e,n,r){return function(){var l=this,c=arguments,u=function(){var i,u;if(!(t<a)){if((i=n.apply(l,c))===e.promise())throw new TypeError("Thenable self-resolution");u=i&&("object"===(void 0===i?"undefined":o(i))||"function"==typeof i)&&i.then,y(u)?r?u.call(i,s(a,e,H,r),s(a,e,B,r)):(a++,u.call(i,s(a,e,H,r),s(a,e,B,r),s(a,e,H,e.notifyWith))):(n!==H&&(l=void 0,c=[i]),(r||e.resolveWith)(l,c))}},f=r?u:function(){try{u()}catch(i){C.Deferred.exceptionHook&&C.Deferred.exceptionHook(i,f.stackTrace),t+1>=a&&(n!==B&&(l=void 0,c=[i]),e.rejectWith(l,c))}};t?f():(C.Deferred.getStackHook&&(f.stackTrace=C.Deferred.getStackHook()),i.setTimeout(f))}}return C.Deferred(function(i){e[0][3].add(s(0,i,y(r)?r:H,i.notifyWith)),e[1][3].add(s(0,i,y(t)?t:H)),e[2][3].add(s(0,i,y(n)?n:B))}).promise()},promise:function(t){return null!=t?C.extend(t,r):r}},a={};return C.each(e,function(t,i){var o=i[2],s=i[5];r[i[1]]=o.add,s&&o.add(function(){n=s},e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock),o.add(i[3].fire),a[i[0]]=function(){return a[i[0]+"With"](this===a?void 0:this,arguments),this},a[i[0]+"With"]=o.fireWith}),r.promise(a),t&&t.call(a,a),a},when:function(t){var e=arguments.length,n=e,i=Array(n),r=c.call(arguments),o=C.Deferred(),a=function(t){return function(n){i[t]=this,r[t]=arguments.length>1?c.call(arguments):n,--e||o.resolveWith(i,r)}};if(e<=1&&(W(t,o.done(a(n)).resolve,o.reject,!e),"pending"===o.state()||y(r[n]&&r[n].then)))return o.then();for(;n--;)W(r[n],a(n),o.reject);return o.promise()}});var q=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;C.Deferred.exceptionHook=function(t,e){i.console&&i.console.warn&&t&&q.test(t.name)&&i.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},C.readyException=function(t){i.setTimeout(function(){throw t})};var U=C.Deferred();function $(){s.removeEventListener("DOMContentLoaded",$),i.removeEventListener("load",$),C.ready()}C.fn.ready=function(t){return U.then(t).catch(function(t){C.readyException(t)}),this},C.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--C.readyWait:C.isReady)||(C.isReady=!0,!0!==t&&--C.readyWait>0||U.resolveWith(s,[C]))}}),C.ready.then=U.then,"complete"===s.readyState||"loading"!==s.readyState&&!s.documentElement.doScroll?i.setTimeout(C.ready):(s.addEventListener("DOMContentLoaded",$),i.addEventListener("load",$));var V=function t(e,n,i,r,o,a,s){var l=0,c=e.length,u=null==i;if("object"===k(i))for(l in o=!0,i)t(e,n,l,i[l],!0,a,s);else if(void 0!==r&&(o=!0,y(r)||(s=!0),u&&(s?(n.call(e,r),n=null):(u=n,n=function(t,e,n){return u.call(C(t),n)})),n))for(;l<c;l++)n(e[l],i,s?r:r.call(e[l],l,n(e[l],i)));return o?e:u?n.call(e):c?n(e[0],i):a},G=/^-ms-/,Y=/-([a-z])/g;function X(t,e){return e.toUpperCase()}function K(t){return t.replace(G,"ms-").replace(Y,X)}var Q=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function Z(){this.expando=C.expando+Z.uid++}Z.uid=1,Z.prototype={cache:function(t){var e=t[this.expando];return e||(e={},Q(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"==typeof e)r[K(e)]=n;else for(i in e)r[K(i)]=e[i];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][K(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i=t[this.expando];if(void 0!==i){if(void 0!==e){n=(e=Array.isArray(e)?e.map(K):(e=K(e))in i?[e]:e.match(j)||[]).length;for(;n--;)delete i[e[n]]}(void 0===e||C.isEmptyObject(i))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!C.isEmptyObject(e)}};var J=new Z,tt=new Z,et=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,nt=/[A-Z]/g;function it(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(nt,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(i))){try{n=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:et.test(t)?JSON.parse(t):t)}(n)}catch(t){}tt.set(t,e,n)}else n=void 0;return n}C.extend({hasData:function(t){return tt.hasData(t)||J.hasData(t)},data:function(t,e,n){return tt.access(t,e,n)},removeData:function(t,e){tt.remove(t,e)},_data:function(t,e,n){return J.access(t,e,n)},_removeData:function(t,e){J.remove(t,e)}}),C.fn.extend({data:function(t,e){var n,i,r,a=this[0],s=a&&a.attributes;if(void 0===t){if(this.length&&(r=tt.get(a),1===a.nodeType&&!J.get(a,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(i=s[n].name).indexOf("data-")&&(i=K(i.slice(5)),it(a,i,r[i]));J.set(a,"hasDataAttrs",!0)}return r}return"object"===(void 0===t?"undefined":o(t))?this.each(function(){tt.set(this,t)}):V(this,function(e){var n;if(a&&void 0===e)return void 0!==(n=tt.get(a,t))?n:void 0!==(n=it(a,t))?n:void 0;this.each(function(){tt.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){tt.remove(this,t)})}}),C.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=J.get(t,e),n&&(!i||Array.isArray(n)?i=J.access(t,e,C.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=C.queue(t,e),i=n.length,r=n.shift(),o=C._queueHooks(t,e);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,function(){C.dequeue(t,e)},o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return J.get(t,n)||J.access(t,n,{empty:C.Callbacks("once memory").add(function(){J.remove(t,[e+"queue",n])})})}}),C.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?C.queue(this[0],t):void 0===e?this:this.each(function(){var n=C.queue(this,t,e);C._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&C.dequeue(this,t)})},dequeue:function(t){return this.each(function(){C.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=C.Deferred(),o=this,a=this.length,s=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)(n=J.get(o[a],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(e)}});var rt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ot=new RegExp("^(?:([+-])=|)("+rt+")([a-z%]*)$","i"),at=["Top","Right","Bottom","Left"],st=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&C.contains(t.ownerDocument,t)&&"none"===C.css(t,"display")},lt=function(t,e,n,i){var r,o,a={};for(o in e)a[o]=t.style[o],t.style[o]=e[o];for(o in r=n.apply(t,i||[]),e)t.style[o]=a[o];return r};function ct(t,e,n,i){var r,o,a=20,s=i?function(){return i.cur()}:function(){return C.css(t,e,"")},l=s(),c=n&&n[3]||(C.cssNumber[e]?"":"px"),u=(C.cssNumber[e]||"px"!==c&&+l)&&ot.exec(C.css(t,e));if(u&&u[3]!==c){for(l/=2,c=c||u[3],u=+l||1;a--;)C.style(t,e,u+c),(1-o)*(1-(o=s()/l||.5))<=0&&(a=0),u/=o;u*=2,C.style(t,e,u+c),n=n||[]}return n&&(u=+u||+l||0,r=n[1]?u+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=u,i.end=r)),r}var ut={};function ft(t){var e,n=t.ownerDocument,i=t.nodeName,r=ut[i];return r||(e=n.body.appendChild(n.createElement(i)),r=C.css(e,"display"),e.parentNode.removeChild(e),"none"===r&&(r="block"),ut[i]=r,r)}function ht(t,e){for(var n,i,r=[],o=0,a=t.length;o<a;o++)(i=t[o]).style&&(n=i.style.display,e?("none"===n&&(r[o]=J.get(i,"display")||null,r[o]||(i.style.display="")),""===i.style.display&&st(i)&&(r[o]=ft(i))):"none"!==n&&(r[o]="none",J.set(i,"display",n)));for(o=0;o<a;o++)null!=r[o]&&(t[o].style.display=r[o]);return t}C.fn.extend({show:function(){return ht(this,!0)},hide:function(){return ht(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){st(this)?C(this).show():C(this).hide()})}});var dt=/^(?:checkbox|radio)$/i,pt=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,gt=/^$|^module$|\/(?:java|ecma)script/i,mt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function vt(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&E(t,e)?C.merge([t],n):n}function bt(t,e){for(var n=0,i=t.length;n<i;n++)J.set(t[n],"globalEval",!e||J.get(e[n],"globalEval"))}mt.optgroup=mt.option,mt.tbody=mt.tfoot=mt.colgroup=mt.caption=mt.thead,mt.th=mt.td;var yt,_t,xt=/<|&#?\w+;/;function wt(t,e,n,i,r){for(var o,a,s,l,c,u,f=e.createDocumentFragment(),h=[],d=0,p=t.length;d<p;d++)if((o=t[d])||0===o)if("object"===k(o))C.merge(h,o.nodeType?[o]:o);else if(xt.test(o)){for(a=a||f.appendChild(e.createElement("div")),s=(pt.exec(o)||["",""])[1].toLowerCase(),l=mt[s]||mt._default,a.innerHTML=l[1]+C.htmlPrefilter(o)+l[2],u=l[0];u--;)a=a.lastChild;C.merge(h,a.childNodes),(a=f.firstChild).textContent=""}else h.push(e.createTextNode(o));for(f.textContent="",d=0;o=h[d++];)if(i&&C.inArray(o,i)>-1)r&&r.push(o);else if(c=C.contains(o.ownerDocument,o),a=vt(f.appendChild(o),"script"),c&&bt(a),n)for(u=0;o=a[u++];)gt.test(o.type||"")&&n.push(o);return f}yt=s.createDocumentFragment().appendChild(s.createElement("div")),(_t=s.createElement("input")).setAttribute("type","radio"),_t.setAttribute("checked","checked"),_t.setAttribute("name","t"),yt.appendChild(_t),b.checkClone=yt.cloneNode(!0).cloneNode(!0).lastChild.checked,yt.innerHTML="<textarea>x</textarea>",b.noCloneChecked=!!yt.cloneNode(!0).lastChild.defaultValue;var kt=s.documentElement,Ct=/^key/,Ft=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,At=/^([^.]*)(?:\.(.+)|)/;function St(){return!0}function Dt(){return!1}function Mt(){try{return s.activeElement}catch(t){}}function Tt(t,e,n,i,r,a){var s,l;if("object"===(void 0===e?"undefined":o(e))){for(l in"string"!=typeof n&&(i=i||n,n=void 0),e)Tt(t,l,n,i,e[l],a);return t}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=Dt;else if(!r)return t;return 1===a&&(s=r,(r=function(t){return C().off(t),s.apply(this,arguments)}).guid=s.guid||(s.guid=C.guid++)),t.each(function(){C.event.add(this,e,r,i,n)})}C.event={global:{},add:function(t,e,n,i,r){var o,a,s,l,c,u,f,h,d,p,g,m=J.get(t);if(m)for(n.handler&&(n=(o=n).handler,r=o.selector),r&&C.find.matchesSelector(kt,r),n.guid||(n.guid=C.guid++),(l=m.events)||(l=m.events={}),(a=m.handle)||(a=m.handle=function(e){return void 0!==C&&C.event.triggered!==e.type?C.event.dispatch.apply(t,arguments):void 0}),c=(e=(e||"").match(j)||[""]).length;c--;)d=g=(s=At.exec(e[c])||[])[1],p=(s[2]||"").split(".").sort(),d&&(f=C.event.special[d]||{},d=(r?f.delegateType:f.bindType)||d,f=C.event.special[d]||{},u=C.extend({type:d,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&C.expr.match.needsContext.test(r),namespace:p.join(".")},o),(h=l[d])||((h=l[d]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(t,i,p,a)||t.addEventListener&&t.addEventListener(d,a)),f.add&&(f.add.call(t,u),u.handler.guid||(u.handler.guid=n.guid)),r?h.splice(h.delegateCount++,0,u):h.push(u),C.event.global[d]=!0)},remove:function(t,e,n,i,r){var o,a,s,l,c,u,f,h,d,p,g,m=J.hasData(t)&&J.get(t);if(m&&(l=m.events)){for(c=(e=(e||"").match(j)||[""]).length;c--;)if(d=g=(s=At.exec(e[c])||[])[1],p=(s[2]||"").split(".").sort(),d){for(f=C.event.special[d]||{},h=l[d=(i?f.delegateType:f.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=h.length;o--;)u=h[o],!r&&g!==u.origType||n&&n.guid!==u.guid||s&&!s.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(h.splice(o,1),u.selector&&h.delegateCount--,f.remove&&f.remove.call(t,u));a&&!h.length&&(f.teardown&&!1!==f.teardown.call(t,p,m.handle)||C.removeEvent(t,d,m.handle),delete l[d])}else for(d in l)C.event.remove(t,d+e[c],n,i,!0);C.isEmptyObject(l)&&J.remove(t,"handle events")}},dispatch:function(t){var e,n,i,r,o,a,s=C.event.fix(t),l=new Array(arguments.length),c=(J.get(this,"events")||{})[s.type]||[],u=C.event.special[s.type]||{};for(l[0]=s,e=1;e<arguments.length;e++)l[e]=arguments[e];if(s.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,s)){for(a=C.event.handlers.call(this,s,c),e=0;(r=a[e++])&&!s.isPropagationStopped();)for(s.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,void 0!==(i=((C.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,l))&&!1===(s.result=i)&&(s.preventDefault(),s.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,s),s.result}},handlers:function(t,e){var n,i,r,o,a,s=[],l=e.delegateCount,c=t.target;if(l&&c.nodeType&&!("click"===t.type&&t.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==t.type||!0!==c.disabled)){for(o=[],a={},n=0;n<l;n++)void 0===a[r=(i=e[n]).selector+" "]&&(a[r]=i.needsContext?C(r,this).index(c)>-1:C.find(r,this,null,[c]).length),a[r]&&o.push(i);o.length&&s.push({elem:c,handlers:o})}return c=this,l<e.length&&s.push({elem:c,handlers:e.slice(l)}),s},addProp:function(t,e){Object.defineProperty(C.Event.prototype,t,{enumerable:!0,configurable:!0,get:y(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[C.expando]?t:new C.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==Mt()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===Mt()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&E(this,"input"))return this.click(),!1},_default:function(t){return E(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},C.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},C.Event=function(t,e){if(!(this instanceof C.Event))return new C.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?St:Dt,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&C.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[C.expando]=!0},C.Event.prototype={constructor:C.Event,isDefaultPrevented:Dt,isPropagationStopped:Dt,isImmediatePropagationStopped:Dt,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=St,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=St,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=St,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},C.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&Ct.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&Ft.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},C.event.addProp),C.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){C.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=t.relatedTarget,r=t.handleObj;return i&&(i===this||C.contains(this,i))||(t.type=r.origType,n=r.handler.apply(this,arguments),t.type=e),n}}}),C.fn.extend({on:function(t,e,n,i){return Tt(this,t,e,n,i)},one:function(t,e,n,i){return Tt(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,C(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"===(void 0===t?"undefined":o(t))){for(r in t)this.off(r,e,t[r]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=Dt),this.each(function(){C.event.remove(this,t,n,e)})}});var Et=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Pt=/<script|<style|<link/i,It=/checked\s*(?:[^=]|=\s*.checked.)/i,Rt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Nt(t,e){return E(t,"table")&&E(11!==e.nodeType?e:e.firstChild,"tr")&&C(t).children("tbody")[0]||t}function zt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Ot(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Lt(t,e){var n,i,r,o,a,s,l,c;if(1===e.nodeType){if(J.hasData(t)&&(o=J.access(t),a=J.set(e,o),c=o.events))for(r in delete a.handle,a.events={},c)for(n=0,i=c[r].length;n<i;n++)C.event.add(e,r,c[r][n]);tt.hasData(t)&&(s=tt.access(t),l=C.extend({},s),tt.set(e,l))}}function jt(t,e,n,i){e=u.apply([],e);var r,o,a,s,l,c,f=0,h=t.length,d=h-1,p=e[0],g=y(p);if(g||h>1&&"string"==typeof p&&!b.checkClone&&It.test(p))return t.each(function(r){var o=t.eq(r);g&&(e[0]=p.call(this,r,o.html())),jt(o,e,n,i)});if(h&&(o=(r=wt(e,t[0].ownerDocument,!1,t,i)).firstChild,1===r.childNodes.length&&(r=o),o||i)){for(s=(a=C.map(vt(r,"script"),zt)).length;f<h;f++)l=r,f!==d&&(l=C.clone(l,!0,!0),s&&C.merge(a,vt(l,"script"))),n.call(t[f],l,f);if(s)for(c=a[a.length-1].ownerDocument,C.map(a,Ot),f=0;f<s;f++)l=a[f],gt.test(l.type||"")&&!J.access(l,"globalEval")&&C.contains(c,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?C._evalUrl&&C._evalUrl(l.src):w(l.textContent.replace(Rt,""),c,l))}return t}function Ht(t,e,n){for(var i,r=e?C.filter(e,t):t,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||C.cleanData(vt(i)),i.parentNode&&(n&&C.contains(i.ownerDocument,i)&&bt(vt(i,"script")),i.parentNode.removeChild(i));return t}C.extend({htmlPrefilter:function(t){return t.replace(Et,"<$1></$2>")},clone:function(t,e,n){var i,r,o,a,s,l,c,u=t.cloneNode(!0),f=C.contains(t.ownerDocument,t);if(!(b.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||C.isXMLDoc(t)))for(a=vt(u),i=0,r=(o=vt(t)).length;i<r;i++)s=o[i],l=a[i],void 0,"input"===(c=l.nodeName.toLowerCase())&&dt.test(s.type)?l.checked=s.checked:"input"!==c&&"textarea"!==c||(l.defaultValue=s.defaultValue);if(e)if(n)for(o=o||vt(t),a=a||vt(u),i=0,r=o.length;i<r;i++)Lt(o[i],a[i]);else Lt(t,u);return(a=vt(u,"script")).length>0&&bt(a,!f&&vt(t,"script")),u},cleanData:function(t){for(var e,n,i,r=C.event.special,o=0;void 0!==(n=t[o]);o++)if(Q(n)){if(e=n[J.expando]){if(e.events)for(i in e.events)r[i]?C.event.remove(n,i):C.removeEvent(n,i,e.handle);n[J.expando]=void 0}n[tt.expando]&&(n[tt.expando]=void 0)}}}),C.fn.extend({detach:function(t){return Ht(this,t,!0)},remove:function(t){return Ht(this,t)},text:function(t){return V(this,function(t){return void 0===t?C.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return jt(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Nt(this,t).appendChild(t)})},prepend:function(){return jt(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Nt(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return jt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return jt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(C.cleanData(vt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return C.clone(this,t,e)})},html:function(t){return V(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Pt.test(t)&&!mt[(pt.exec(t)||["",""])[1].toLowerCase()]){t=C.htmlPrefilter(t);try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(C.cleanData(vt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return jt(this,arguments,function(e){var n=this.parentNode;C.inArray(this,t)<0&&(C.cleanData(vt(this)),n&&n.replaceChild(e,this))},t)}}),C.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){C.fn[t]=function(t){for(var n,i=[],r=C(t),o=r.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),C(r[a])[e](n),f.apply(i,n.get());return this.pushStack(i)}});var Bt=new RegExp("^("+rt+")(?!px)[a-z%]+$","i"),Wt=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=i),e.getComputedStyle(t)},qt=new RegExp(at.join("|"),"i");function Ut(t,e,n){var i,r,o,a,s=t.style;return(n=n||Wt(t))&&(""!==(a=n.getPropertyValue(e)||n[e])||C.contains(t.ownerDocument,t)||(a=C.style(t,e)),!b.pixelBoxStyles()&&Bt.test(a)&&qt.test(e)&&(i=s.width,r=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=r,s.maxWidth=o)),void 0!==a?a+"":a}function $t(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function t(){if(u){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",kt.appendChild(c).appendChild(u);var t=i.getComputedStyle(u);n="1%"!==t.top,l=12===e(t.marginLeft),u.style.right="60%",a=36===e(t.right),r=36===e(t.width),u.style.position="absolute",o=36===u.offsetWidth||"absolute",kt.removeChild(c),u=null}}function e(t){return Math.round(parseFloat(t))}var n,r,o,a,l,c=s.createElement("div"),u=s.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",b.clearCloneStyle="content-box"===u.style.backgroundClip,C.extend(b,{boxSizingReliable:function(){return t(),r},pixelBoxStyles:function(){return t(),a},pixelPosition:function(){return t(),n},reliableMarginLeft:function(){return t(),l},scrollboxSize:function(){return t(),o}}))}();var Vt=/^(none|table(?!-c[ea]).+)/,Gt=/^--/,Yt={position:"absolute",visibility:"hidden",display:"block"},Xt={letterSpacing:"0",fontWeight:"400"},Kt=["Webkit","Moz","ms"],Qt=s.createElement("div").style;function Zt(t){var e=C.cssProps[t];return e||(e=C.cssProps[t]=function(t){if(t in Qt)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=Kt.length;n--;)if((t=Kt[n]+e)in Qt)return t}(t)||t),e}function Jt(t,e,n){var i=ot.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function te(t,e,n,i,r,o){var a="width"===e?1:0,s=0,l=0;if(n===(i?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(l+=C.css(t,n+at[a],!0,r)),i?("content"===n&&(l-=C.css(t,"padding"+at[a],!0,r)),"margin"!==n&&(l-=C.css(t,"border"+at[a]+"Width",!0,r))):(l+=C.css(t,"padding"+at[a],!0,r),"padding"!==n?l+=C.css(t,"border"+at[a]+"Width",!0,r):s+=C.css(t,"border"+at[a]+"Width",!0,r));return!i&&o>=0&&(l+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-o-l-s-.5))),l}function ee(t,e,n){var i=Wt(t),r=Ut(t,e,i),o="border-box"===C.css(t,"boxSizing",!1,i),a=o;if(Bt.test(r)){if(!n)return r;r="auto"}return a=a&&(b.boxSizingReliable()||r===t.style[e]),("auto"===r||!parseFloat(r)&&"inline"===C.css(t,"display",!1,i))&&(r=t["offset"+e[0].toUpperCase()+e.slice(1)],a=!0),(r=parseFloat(r)||0)+te(t,e,n||(o?"border":"content"),a,i,r)+"px"}function ne(t,e,n,i,r){return new ne.prototype.init(t,e,n,i,r)}C.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Ut(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,a,s,l=K(e),c=Gt.test(e),u=t.style;if(c||(e=Zt(l)),s=C.cssHooks[e]||C.cssHooks[l],void 0===n)return s&&"get"in s&&void 0!==(r=s.get(t,!1,i))?r:u[e];"string"===(a=void 0===n?"undefined":o(n))&&(r=ot.exec(n))&&r[1]&&(n=ct(t,e,r),a="number"),null!=n&&n==n&&("number"===a&&(n+=r&&r[3]||(C.cssNumber[l]?"":"px")),b.clearCloneStyle||""!==n||0!==e.indexOf("background")||(u[e]="inherit"),s&&"set"in s&&void 0===(n=s.set(t,n,i))||(c?u.setProperty(e,n):u[e]=n))}},css:function(t,e,n,i){var r,o,a,s=K(e);return Gt.test(e)||(e=Zt(s)),(a=C.cssHooks[e]||C.cssHooks[s])&&"get"in a&&(r=a.get(t,!0,n)),void 0===r&&(r=Ut(t,e,i)),"normal"===r&&e in Xt&&(r=Xt[e]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),C.each(["height","width"],function(t,e){C.cssHooks[e]={get:function(t,n,i){if(n)return!Vt.test(C.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?ee(t,e,i):lt(t,Yt,function(){return ee(t,e,i)})},set:function(t,n,i){var r,o=Wt(t),a="border-box"===C.css(t,"boxSizing",!1,o),s=i&&te(t,e,i,a,o);return a&&b.scrollboxSize()===o.position&&(s-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(o[e])-te(t,e,"border",!1,o)-.5)),s&&(r=ot.exec(n))&&"px"!==(r[3]||"px")&&(t.style[e]=n,n=C.css(t,e)),Jt(0,n,s)}}}),C.cssHooks.marginLeft=$t(b.reliableMarginLeft,function(t,e){if(e)return(parseFloat(Ut(t,"marginLeft"))||t.getBoundingClientRect().left-lt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),C.each({margin:"",padding:"",border:"Width"},function(t,e){C.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[t+at[i]+e]=o[i]||o[i-2]||o[0];return r}},"margin"!==t&&(C.cssHooks[t+e].set=Jt)}),C.fn.extend({css:function(t,e){return V(this,function(t,e,n){var i,r,o={},a=0;if(Array.isArray(e)){for(i=Wt(t),r=e.length;a<r;a++)o[e[a]]=C.css(t,e[a],!1,i);return o}return void 0!==n?C.style(t,e,n):C.css(t,e)},t,e,arguments.length>1)}}),C.Tween=ne,ne.prototype={constructor:ne,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||C.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(C.cssNumber[n]?"":"px")},cur:function(){var t=ne.propHooks[this.prop];return t&&t.get?t.get(this):ne.propHooks._default.get(this)},run:function(t){var e,n=ne.propHooks[this.prop];return this.options.duration?this.pos=e=C.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):ne.propHooks._default.set(this),this}},ne.prototype.init.prototype=ne.prototype,ne.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=C.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){C.fx.step[t.prop]?C.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[C.cssProps[t.prop]]&&!C.cssHooks[t.prop]?t.elem[t.prop]=t.now:C.style(t.elem,t.prop,t.now+t.unit)}}},ne.propHooks.scrollTop=ne.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},C.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},C.fx=ne.prototype.init,C.fx.step={};var ie,re,oe=/^(?:toggle|show|hide)$/,ae=/queueHooks$/;function se(){re&&(!1===s.hidden&&i.requestAnimationFrame?i.requestAnimationFrame(se):i.setTimeout(se,C.fx.interval),C.fx.tick())}function le(){return i.setTimeout(function(){ie=void 0}),ie=Date.now()}function ce(t,e){var n,i=0,r={height:t};for(e=e?1:0;i<4;i+=2-e)r["margin"+(n=at[i])]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function ue(t,e,n){for(var i,r=(fe.tweeners[e]||[]).concat(fe.tweeners["*"]),o=0,a=r.length;o<a;o++)if(i=r[o].call(n,e,t))return i}function fe(t,e,n){var i,r,o=0,a=fe.prefilters.length,s=C.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=ie||le(),n=Math.max(0,c.startTime+c.duration-e),i=1-(n/c.duration||0),o=0,a=c.tweens.length;o<a;o++)c.tweens[o].run(i);return s.notifyWith(t,[c,i,n]),i<1&&a?n:(a||s.notifyWith(t,[c,1,0]),s.resolveWith(t,[c]),!1)},c=s.promise({elem:t,props:C.extend({},e),opts:C.extend(!0,{specialEasing:{},easing:C.easing._default},n),originalProperties:e,originalOptions:n,startTime:ie||le(),duration:n.duration,tweens:[],createTween:function(e,n){var i=C.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(i),i},stop:function(e){var n=0,i=e?c.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)c.tweens[n].run(1);return e?(s.notifyWith(t,[c,1,0]),s.resolveWith(t,[c,e])):s.rejectWith(t,[c,e]),this}}),u=c.props;for(!function(t,e){var n,i,r,o,a;for(n in t)if(r=e[i=K(n)],o=t[n],Array.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),(a=C.cssHooks[i])&&"expand"in a)for(n in o=a.expand(o),delete t[i],o)n in t||(t[n]=o[n],e[n]=r);else e[i]=r}(u,c.opts.specialEasing);o<a;o++)if(i=fe.prefilters[o].call(c,t,u,c.opts))return y(i.stop)&&(C._queueHooks(c.elem,c.opts.queue).stop=i.stop.bind(i)),i;return C.map(u,ue,c),y(c.opts.start)&&c.opts.start.call(t,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),C.fx.timer(C.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c}C.Animation=C.extend(fe,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return ct(n.elem,t,ot.exec(e),n),n}]},tweener:function(t,e){y(t)?(e=t,t=["*"]):t=t.match(j);for(var n,i=0,r=t.length;i<r;i++)n=t[i],fe.tweeners[n]=fe.tweeners[n]||[],fe.tweeners[n].unshift(e)},prefilters:[function(t,e,n){var i,r,o,a,s,l,c,u,f="width"in e||"height"in e,h=this,d={},p=t.style,g=t.nodeType&&st(t),m=J.get(t,"fxshow");for(i in n.queue||(null==(a=C._queueHooks(t,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,h.always(function(){h.always(function(){a.unqueued--,C.queue(t,"fx").length||a.empty.fire()})})),e)if(r=e[i],oe.test(r)){if(delete e[i],o=o||"toggle"===r,r===(g?"hide":"show")){if("show"!==r||!m||void 0===m[i])continue;g=!0}d[i]=m&&m[i]||C.style(t,i)}if((l=!C.isEmptyObject(e))||!C.isEmptyObject(d))for(i in f&&1===t.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(c=m&&m.display)&&(c=J.get(t,"display")),"none"===(u=C.css(t,"display"))&&(c?u=c:(ht([t],!0),c=t.style.display||c,u=C.css(t,"display"),ht([t]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===C.css(t,"float")&&(l||(h.done(function(){p.display=c}),null==c&&(u=p.display,c="none"===u?"":u)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",h.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),l=!1,d)l||(m?"hidden"in m&&(g=m.hidden):m=J.access(t,"fxshow",{display:c}),o&&(m.hidden=!g),g&&ht([t],!0),h.done(function(){for(i in g||ht([t]),J.remove(t,"fxshow"),d)C.style(t,i,d[i])})),l=ue(g?m[i]:0,i,h),i in m||(m[i]=l.start,g&&(l.end=l.start,l.start=0))}],prefilter:function(t,e){e?fe.prefilters.unshift(t):fe.prefilters.push(t)}}),C.speed=function(t,e,n){var i=t&&"object"===(void 0===t?"undefined":o(t))?C.extend({},t):{complete:n||!n&&e||y(t)&&t,duration:t,easing:n&&e||e&&!y(e)&&e};return C.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in C.fx.speeds?i.duration=C.fx.speeds[i.duration]:i.duration=C.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){y(i.old)&&i.old.call(this),i.queue&&C.dequeue(this,i.queue)},i},C.fn.extend({fadeTo:function(t,e,n,i){return this.filter(st).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=C.isEmptyObject(t),o=C.speed(e,n,i),a=function(){var e=fe(this,C.extend({},t),o);(r||J.get(this,"finish"))&&e.stop(!0)};return a.finish=a,r||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=C.timers,a=J.get(this);if(r)a[r]&&a[r].stop&&i(a[r]);else for(r in a)a[r]&&a[r].stop&&ae.test(r)&&i(a[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(n),e=!1,o.splice(r,1));!e&&n||C.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,n=J.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=C.timers,a=i?i.length:0;for(n.finish=!0,C.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<a;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),C.each(["toggle","show","hide"],function(t,e){var n=C.fn[e];C.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(ce(e,!0),t,i,r)}}),C.each({slideDown:ce("show"),slideUp:ce("hide"),slideToggle:ce("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){C.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),C.timers=[],C.fx.tick=function(){var t,e=0,n=C.timers;for(ie=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||C.fx.stop(),ie=void 0},C.fx.timer=function(t){C.timers.push(t),C.fx.start()},C.fx.interval=13,C.fx.start=function(){re||(re=!0,se())},C.fx.stop=function(){re=null},C.fx.speeds={slow:600,fast:200,_default:400},C.fn.delay=function(t,e){return t=C.fx&&C.fx.speeds[t]||t,e=e||"fx",this.queue(e,function(e,n){var r=i.setTimeout(e,t);n.stop=function(){i.clearTimeout(r)}})},function(){var t=s.createElement("input"),e=s.createElement("select").appendChild(s.createElement("option"));t.type="checkbox",b.checkOn=""!==t.value,b.optSelected=e.selected,(t=s.createElement("input")).value="t",t.type="radio",b.radioValue="t"===t.value}();var he,de=C.expr.attrHandle;C.fn.extend({attr:function(t,e){return V(this,C.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){C.removeAttr(this,t)})}}),C.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?C.prop(t,e,n):(1===o&&C.isXMLDoc(t)||(r=C.attrHooks[e.toLowerCase()]||(C.expr.match.bool.test(e)?he:void 0)),void 0!==n?null===n?void C.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:null==(i=C.find.attr(t,e))?void 0:i)},attrHooks:{type:{set:function(t,e){if(!b.radioValue&&"radio"===e&&E(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i=0,r=e&&e.match(j);if(r&&1===t.nodeType)for(;n=r[i++];)t.removeAttribute(n)}}),he={set:function(t,e,n){return!1===e?C.removeAttr(t,n):t.setAttribute(n,n),n}},C.each(C.expr.match.bool.source.match(/\w+/g),function(t,e){var n=de[e]||C.find.attr;de[e]=function(t,e,i){var r,o,a=e.toLowerCase();return i||(o=de[a],de[a]=r,r=null!=n(t,e,i)?a:null,de[a]=o),r}});var pe=/^(?:input|select|textarea|button)$/i,ge=/^(?:a|area)$/i;function me(t){return(t.match(j)||[]).join(" ")}function ve(t){return t.getAttribute&&t.getAttribute("class")||""}function be(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(j)||[]}C.fn.extend({prop:function(t,e){return V(this,C.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[C.propFix[t]||t]})}}),C.extend({prop:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&C.isXMLDoc(t)||(e=C.propFix[e]||e,r=C.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=C.find.attr(t,"tabindex");return e?parseInt(e,10):pe.test(t.nodeName)||ge.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),b.optSelected||(C.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),C.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){C.propFix[this.toLowerCase()]=this}),C.fn.extend({addClass:function(t){var e,n,i,r,o,a,s,l=0;if(y(t))return this.each(function(e){C(this).addClass(t.call(this,e,ve(this)))});if((e=be(t)).length)for(;n=this[l++];)if(r=ve(n),i=1===n.nodeType&&" "+me(r)+" "){for(a=0;o=e[a++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");r!==(s=me(i))&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,i,r,o,a,s,l=0;if(y(t))return this.each(function(e){C(this).removeClass(t.call(this,e,ve(this)))});if(!arguments.length)return this.attr("class","");if((e=be(t)).length)for(;n=this[l++];)if(r=ve(n),i=1===n.nodeType&&" "+me(r)+" "){for(a=0;o=e[a++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");r!==(s=me(i))&&n.setAttribute("class",s)}return this},toggleClass:function(t,e){var n=void 0===t?"undefined":o(t),i="string"===n||Array.isArray(t);return"boolean"==typeof e&&i?e?this.addClass(t):this.removeClass(t):y(t)?this.each(function(n){C(this).toggleClass(t.call(this,n,ve(this),e),e)}):this.each(function(){var e,r,o,a;if(i)for(r=0,o=C(this),a=be(t);e=a[r++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else void 0!==t&&"boolean"!==n||((e=ve(this))&&J.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":J.get(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+me(ve(n))+" ").indexOf(e)>-1)return!0;return!1}});var ye=/\r/g;C.fn.extend({val:function(t){var e,n,i,r=this[0];return arguments.length?(i=y(t),this.each(function(n){var r;1===this.nodeType&&(null==(r=i?t.call(this,n,C(this).val()):t)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=C.map(r,function(t){return null==t?"":t+""})),(e=C.valHooks[this.type]||C.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))})):r?(e=C.valHooks[r.type]||C.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(ye,""):null==n?"":n:void 0}}),C.extend({valHooks:{option:{get:function(t){var e=C.find.attr(t,"value");return null!=e?e:me(C.text(t))}},select:{get:function(t){var e,n,i,r=t.options,o=t.selectedIndex,a="select-one"===t.type,s=a?null:[],l=a?o+1:r.length;for(i=o<0?l:a?o:0;i<l;i++)if(((n=r[i]).selected||i===o)&&!n.disabled&&(!n.parentNode.disabled||!E(n.parentNode,"optgroup"))){if(e=C(n).val(),a)return e;s.push(e)}return s},set:function(t,e){for(var n,i,r=t.options,o=C.makeArray(e),a=r.length;a--;)((i=r[a]).selected=C.inArray(C.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),C.each(["radio","checkbox"],function(){C.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=C.inArray(C(t).val(),e)>-1}},b.checkOn||(C.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),b.focusin="onfocusin"in i;var _e=/^(?:focusinfocus|focusoutblur)$/,xe=function(t){t.stopPropagation()};C.extend(C.event,{trigger:function(t,e,n,r){var a,l,c,u,f,h,d,p,m=[n||s],v=g.call(t,"type")?t.type:t,b=g.call(t,"namespace")?t.namespace.split("."):[];if(l=p=c=n=n||s,3!==n.nodeType&&8!==n.nodeType&&!_e.test(v+C.event.triggered)&&(v.indexOf(".")>-1&&(v=(b=v.split(".")).shift(),b.sort()),f=v.indexOf(":")<0&&"on"+v,(t=t[C.expando]?t:new C.Event(v,"object"===(void 0===t?"undefined":o(t))&&t)).isTrigger=r?2:3,t.namespace=b.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),e=null==e?[t]:C.makeArray(e,[t]),d=C.event.special[v]||{},r||!d.trigger||!1!==d.trigger.apply(n,e))){if(!r&&!d.noBubble&&!_(n)){for(u=d.delegateType||v,_e.test(u+v)||(l=l.parentNode);l;l=l.parentNode)m.push(l),c=l;c===(n.ownerDocument||s)&&m.push(c.defaultView||c.parentWindow||i)}for(a=0;(l=m[a++])&&!t.isPropagationStopped();)p=l,t.type=a>1?u:d.bindType||v,(h=(J.get(l,"events")||{})[t.type]&&J.get(l,"handle"))&&h.apply(l,e),(h=f&&l[f])&&h.apply&&Q(l)&&(t.result=h.apply(l,e),!1===t.result&&t.preventDefault());return t.type=v,r||t.isDefaultPrevented()||d._default&&!1!==d._default.apply(m.pop(),e)||!Q(n)||f&&y(n[v])&&!_(n)&&((c=n[f])&&(n[f]=null),C.event.triggered=v,t.isPropagationStopped()&&p.addEventListener(v,xe),n[v](),t.isPropagationStopped()&&p.removeEventListener(v,xe),C.event.triggered=void 0,c&&(n[f]=c)),t.result}},simulate:function(t,e,n){var i=C.extend(new C.Event,n,{type:t,isSimulated:!0});C.event.trigger(i,null,e)}}),C.fn.extend({trigger:function(t,e){return this.each(function(){C.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return C.event.trigger(t,e,n,!0)}}),b.focusin||C.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){C.event.simulate(e,t.target,C.event.fix(t))};C.event.special[e]={setup:function(){var i=this.ownerDocument||this,r=J.access(i,e);r||i.addEventListener(t,n,!0),J.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=J.access(i,e)-1;r?J.access(i,e,r):(i.removeEventListener(t,n,!0),J.remove(i,e))}}});var we=i.location,ke=Date.now(),Ce=/\?/;C.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new i.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||C.error("Invalid XML: "+t),e};var Fe=/\[\]$/,Ae=/\r?\n/g,Se=/^(?:submit|button|image|reset|file)$/i,De=/^(?:input|select|textarea|keygen)/i;function Me(t,e,n,i){var r;if(Array.isArray(e))C.each(e,function(e,r){n||Fe.test(t)?i(t,r):Me(t+"["+("object"===(void 0===r?"undefined":o(r))&&null!=r?e:"")+"]",r,n,i)});else if(n||"object"!==k(e))i(t,e);else for(r in e)Me(t+"["+r+"]",e[r],n,i)}C.param=function(t,e){var n,i=[],r=function(t,e){var n=y(e)?e():e;i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(t)||t.jquery&&!C.isPlainObject(t))C.each(t,function(){r(this.name,this.value)});else for(n in t)Me(n,t[n],e,r);return i.join("&")},C.fn.extend({serialize:function(){return C.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=C.prop(this,"elements");return t?C.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!C(this).is(":disabled")&&De.test(this.nodeName)&&!Se.test(t)&&(this.checked||!dt.test(t))}).map(function(t,e){var n=C(this).val();return null==n?null:Array.isArray(n)?C.map(n,function(t){return{name:e.name,value:t.replace(Ae,"\r\n")}}):{name:e.name,value:n.replace(Ae,"\r\n")}}).get()}});var Te=/%20/g,Ee=/#.*$/,Pe=/([?&])_=[^&]*/,Ie=/^(.*?):[ \t]*([^\r\n]*)$/gm,Re=/^(?:GET|HEAD)$/,Ne=/^\/\//,ze={},Oe={},Le="*/".concat("*"),je=s.createElement("a");function He(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(j)||[];if(y(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function Be(t,e,n,i){var r={},o=t===Oe;function a(s){var l;return r[s]=!0,C.each(t[s]||[],function(t,s){var c=s(e,n,i);return"string"!=typeof c||o||r[c]?o?!(l=c):void 0:(e.dataTypes.unshift(c),a(c),!1)}),l}return a(e.dataTypes[0])||!r["*"]&&a("*")}function We(t,e){var n,i,r=C.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&C.extend(!0,t,i),t}je.href=we.href,C.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:we.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(we.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Le,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":C.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?We(We(t,C.ajaxSettings),e):We(C.ajaxSettings,t)},ajaxPrefilter:He(ze),ajaxTransport:He(Oe),ajax:function(t,e){"object"===(void 0===t?"undefined":o(t))&&(e=t,t=void 0),e=e||{};var n,r,a,l,c,u,f,h,d,p,g=C.ajaxSetup({},e),m=g.context||g,v=g.context&&(m.nodeType||m.jquery)?C(m):C.event,b=C.Deferred(),y=C.Callbacks("once memory"),_=g.statusCode||{},x={},w={},k="canceled",F={readyState:0,getResponseHeader:function(t){var e;if(f){if(!l)for(l={};e=Ie.exec(a);)l[e[1].toLowerCase()]=e[2];e=l[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return f?a:null},setRequestHeader:function(t,e){return null==f&&(t=w[t.toLowerCase()]=w[t.toLowerCase()]||t,x[t]=e),this},overrideMimeType:function(t){return null==f&&(g.mimeType=t),this},statusCode:function(t){var e;if(t)if(f)F.always(t[F.status]);else for(e in t)_[e]=[_[e],t[e]];return this},abort:function(t){var e=t||k;return n&&n.abort(e),A(0,e),this}};if(b.promise(F),g.url=((t||g.url||we.href)+"").replace(Ne,we.protocol+"//"),g.type=e.method||e.type||g.method||g.type,g.dataTypes=(g.dataType||"*").toLowerCase().match(j)||[""],null==g.crossDomain){u=s.createElement("a");try{u.href=g.url,u.href=u.href,g.crossDomain=je.protocol+"//"+je.host!=u.protocol+"//"+u.host}catch(t){g.crossDomain=!0}}if(g.data&&g.processData&&"string"!=typeof g.data&&(g.data=C.param(g.data,g.traditional)),Be(ze,g,e,F),f)return F;for(d in(h=C.event&&g.global)&&0==C.active++&&C.event.trigger("ajaxStart"),g.type=g.type.toUpperCase(),g.hasContent=!Re.test(g.type),r=g.url.replace(Ee,""),g.hasContent?g.data&&g.processData&&0===(g.contentType||"").indexOf("application/x-www-form-urlencoded")&&(g.data=g.data.replace(Te,"+")):(p=g.url.slice(r.length),g.data&&(g.processData||"string"==typeof g.data)&&(r+=(Ce.test(r)?"&":"?")+g.data,delete g.data),!1===g.cache&&(r=r.replace(Pe,"$1"),p=(Ce.test(r)?"&":"?")+"_="+ke+++p),g.url=r+p),g.ifModified&&(C.lastModified[r]&&F.setRequestHeader("If-Modified-Since",C.lastModified[r]),C.etag[r]&&F.setRequestHeader("If-None-Match",C.etag[r])),(g.data&&g.hasContent&&!1!==g.contentType||e.contentType)&&F.setRequestHeader("Content-Type",g.contentType),F.setRequestHeader("Accept",g.dataTypes[0]&&g.accepts[g.dataTypes[0]]?g.accepts[g.dataTypes[0]]+("*"!==g.dataTypes[0]?", "+Le+"; q=0.01":""):g.accepts["*"]),g.headers)F.setRequestHeader(d,g.headers[d]);if(g.beforeSend&&(!1===g.beforeSend.call(m,F,g)||f))return F.abort();if(k="abort",y.add(g.complete),F.done(g.success),F.fail(g.error),n=Be(Oe,g,e,F)){if(F.readyState=1,h&&v.trigger("ajaxSend",[F,g]),f)return F;g.async&&g.timeout>0&&(c=i.setTimeout(function(){F.abort("timeout")},g.timeout));try{f=!1,n.send(x,A)}catch(t){if(f)throw t;A(-1,t)}}else A(-1,"No Transport");function A(t,e,o,s){var l,u,d,p,x,w=e;f||(f=!0,c&&i.clearTimeout(c),n=void 0,a=s||"",F.readyState=t>0?4:0,l=t>=200&&t<300||304===t,o&&(p=function(t,e,n){for(var i,r,o,a,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||t.converters[r+" "+l[0]]){o=r;break}a||(a=r)}o=o||a}if(o)return o!==l[0]&&l.unshift(o),n[o]}(g,F,o)),p=function(t,e,n,i){var r,o,a,s,l,c={},u=t.dataTypes.slice();if(u[1])for(a in t.converters)c[a.toLowerCase()]=t.converters[a];for(o=u.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(a=c[l+" "+o]||c["* "+o]))for(r in c)if((s=r.split(" "))[1]===o&&(a=c[l+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[r]:!0!==c[r]&&(o=s[0],u.unshift(s[1]));break}if(!0!==a)if(a&&t.throws)e=a(e);else try{e=a(e)}catch(t){return{state:"parsererror",error:a?t:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}(g,p,F,l),l?(g.ifModified&&((x=F.getResponseHeader("Last-Modified"))&&(C.lastModified[r]=x),(x=F.getResponseHeader("etag"))&&(C.etag[r]=x)),204===t||"HEAD"===g.type?w="nocontent":304===t?w="notmodified":(w=p.state,u=p.data,l=!(d=p.error))):(d=w,!t&&w||(w="error",t<0&&(t=0))),F.status=t,F.statusText=(e||w)+"",l?b.resolveWith(m,[u,w,F]):b.rejectWith(m,[F,w,d]),F.statusCode(_),_=void 0,h&&v.trigger(l?"ajaxSuccess":"ajaxError",[F,g,l?u:d]),y.fireWith(m,[F,w]),h&&(v.trigger("ajaxComplete",[F,g]),--C.active||C.event.trigger("ajaxStop")))}return F},getJSON:function(t,e,n){return C.get(t,e,n,"json")},getScript:function(t,e){return C.get(t,void 0,e,"script")}}),C.each(["get","post"],function(t,e){C[e]=function(t,n,i,r){return y(n)&&(r=r||i,i=n,n=void 0),C.ajax(C.extend({url:t,type:e,dataType:r,data:n,success:i},C.isPlainObject(t)&&t))}}),C._evalUrl=function(t){return C.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},C.fn.extend({wrapAll:function(t){var e;return this[0]&&(y(t)&&(t=t.call(this[0])),e=C(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return y(t)?this.each(function(e){C(this).wrapInner(t.call(this,e))}):this.each(function(){var e=C(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=y(t);return this.each(function(n){C(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){C(this).replaceWith(this.childNodes)}),this}}),C.expr.pseudos.hidden=function(t){return!C.expr.pseudos.visible(t)},C.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},C.ajaxSettings.xhr=function(){try{return new i.XMLHttpRequest}catch(t){}};var qe={0:200,1223:204},Ue=C.ajaxSettings.xhr();b.cors=!!Ue&&"withCredentials"in Ue,b.ajax=Ue=!!Ue,C.ajaxTransport(function(t){var e,n;if(b.cors||Ue&&!t.crossDomain)return{send:function(r,o){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];for(a in t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)s.setRequestHeader(a,r[a]);e=function(t){return function(){e&&(e=n=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===t?s.abort():"error"===t?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(qe[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=e(),n=s.onerror=s.ontimeout=e("error"),void 0!==s.onabort?s.onabort=n:s.onreadystatechange=function(){4===s.readyState&&i.setTimeout(function(){e&&n()})},e=e("abort");try{s.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}}),C.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),C.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return C.globalEval(t),t}}}),C.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),C.ajaxTransport("script",function(t){var e,n;if(t.crossDomain)return{send:function(i,r){e=C("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),s.head.appendChild(e[0])},abort:function(){n&&n()}}});var $e,Ve=[],Ge=/(=)\?(?=&|$)|\?\?/;C.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ve.pop()||C.expando+"_"+ke++;return this[t]=!0,t}}),C.ajaxPrefilter("json jsonp",function(t,e,n){var r,o,a,s=!1!==t.jsonp&&(Ge.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ge.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=y(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Ge,"$1"+r):!1!==t.jsonp&&(t.url+=(Ce.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return a||C.error(r+" was not called"),a[0]},t.dataTypes[0]="json",o=i[r],i[r]=function(){a=arguments},n.always(function(){void 0===o?C(i).removeProp(r):i[r]=o,t[r]&&(t.jsonpCallback=e.jsonpCallback,Ve.push(r)),a&&y(o)&&o(a[0]),a=o=void 0}),"script"}),b.createHTMLDocument=(($e=s.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===$e.childNodes.length),C.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(b.createHTMLDocument?((i=(e=s.implementation.createHTMLDocument("")).createElement("base")).href=s.location.href,e.head.appendChild(i)):e=s),r=P.exec(t),o=!n&&[],r?[e.createElement(r[1])]:(r=wt([t],e,o),o&&o.length&&C(o).remove(),C.merge([],r.childNodes)));var i,r,o},C.fn.load=function(t,e,n){var i,r,a,s=this,l=t.indexOf(" ");return l>-1&&(i=me(t.slice(l)),t=t.slice(0,l)),y(e)?(n=e,e=void 0):e&&"object"===(void 0===e?"undefined":o(e))&&(r="POST"),s.length>0&&C.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){a=arguments,s.html(i?C("<div>").append(C.parseHTML(t)).find(i):t)}).always(n&&function(t,e){s.each(function(){n.apply(this,a||[t.responseText,e,t])})}),this},C.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){C.fn[e]=function(t){return this.on(e,t)}}),C.expr.pseudos.animated=function(t){return C.grep(C.timers,function(e){return t===e.elem}).length},C.offset={setOffset:function(t,e,n){var i,r,o,a,s,l,c=C.css(t,"position"),u=C(t),f={};"static"===c&&(t.style.position="relative"),s=u.offset(),o=C.css(t,"top"),l=C.css(t,"left"),("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1?(a=(i=u.position()).top,r=i.left):(a=parseFloat(o)||0,r=parseFloat(l)||0),y(e)&&(e=e.call(t,n,C.extend({},s))),null!=e.top&&(f.top=e.top-s.top+a),null!=e.left&&(f.left=e.left-s.left+r),"using"in e?e.using.call(t,f):u.css(f)}},C.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){C.offset.setOffset(this,t,e)});var e,n,i=this[0];return i?i.getClientRects().length?(e=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,i=this[0],r={top:0,left:0};if("fixed"===C.css(i,"position"))e=i.getBoundingClientRect();else{for(e=this.offset(),n=i.ownerDocument,t=i.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===C.css(t,"position");)t=t.parentNode;t&&t!==i&&1===t.nodeType&&((r=C(t).offset()).top+=C.css(t,"borderTopWidth",!0),r.left+=C.css(t,"borderLeftWidth",!0))}return{top:e.top-r.top-C.css(i,"marginTop",!0),left:e.left-r.left-C.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===C.css(t,"position");)t=t.offsetParent;return t||kt})}}),C.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;C.fn[t]=function(i){return V(this,function(t,i,r){var o;if(_(t)?o=t:9===t.nodeType&&(o=t.defaultView),void 0===r)return o?o[e]:t[i];o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):t[i]=r},t,i,arguments.length)}}),C.each(["top","left"],function(t,e){C.cssHooks[e]=$t(b.pixelPosition,function(t,n){if(n)return n=Ut(t,e),Bt.test(n)?C(t).position()[e]+"px":n})}),C.each({Height:"height",Width:"width"},function(t,e){C.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){C.fn[i]=function(r,o){var a=arguments.length&&(n||"boolean"!=typeof r),s=n||(!0===r||!0===o?"margin":"border");return V(this,function(e,n,r){var o;return _(e)?0===i.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===r?C.css(e,n,s):C.style(e,n,r,s)},e,a?r:void 0,a)}})}),C.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){C.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),C.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),C.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),C.proxy=function(t,e){var n,i,r;if("string"==typeof e&&(n=t[e],e=t,t=n),y(t))return i=c.call(arguments,2),(r=function(){return t.apply(e||this,i.concat(c.call(arguments)))}).guid=t.guid=t.guid||C.guid++,r},C.holdReady=function(t){t?C.readyWait++:C.ready(!0)},C.isArray=Array.isArray,C.parseJSON=JSON.parse,C.nodeName=E,C.isFunction=y,C.isWindow=_,C.camelCase=K,C.type=k,C.now=Date.now,C.isNumeric=function(t){var e=C.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},void 0===(n=function(){return C}.apply(e,[]))||(t.exports=n);var Ye=i.jQuery,Xe=i.$;return C.noConflict=function(t){return i.$===C&&(i.$=Xe),t&&i.jQuery===C&&(i.jQuery=Ye),C},r||(i.jQuery=i.$=C),C},"object"===o(t)&&"object"===o(t.exports)?t.exports=i.document?r(i,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return r(t)}:r(i)}).call(this,n(18)(t))},function(t,e,n){var i,r,o={},a=(i=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===r&&(r=i.apply(this,arguments)),r}),s=function(t){var e={};return function(t){if("function"==typeof t)return t();if(void 0===e[t]){var n=function(t){return document.querySelector(t)}.call(this,t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}}(),l=null,c=0,u=[],f=n(62);function h(t,e){for(var n=0;n<t.length;n++){var i=t[n],r=o[i.id];if(r){r.refs++;for(var a=0;a<r.parts.length;a++)r.parts[a](i.parts[a]);for(;a<i.parts.length;a++)r.parts.push(b(i.parts[a],e))}else{var s=[];for(a=0;a<i.parts.length;a++)s.push(b(i.parts[a],e));o[i.id]={id:i.id,refs:1,parts:s}}}}function d(t,e){for(var n=[],i={},r=0;r<t.length;r++){var o=t[r],a=e.base?o[0]+e.base:o[0],s={css:o[1],media:o[2],sourceMap:o[3]};i[a]?i[a].parts.push(s):n.push(i[a]={id:a,parts:[s]})}return n}function p(t,e){var n=s(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=u[u.length-1];if("top"===t.insertAt)i?i.nextSibling?n.insertBefore(e,i.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),u.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=s(t.insertInto+" "+t.insertAt.before);n.insertBefore(e,r)}}function g(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=u.indexOf(t);e>=0&&u.splice(e,1)}function m(t){var e=document.createElement("style");return void 0===t.attrs.type&&(t.attrs.type="text/css"),v(e,t.attrs),p(t,e),e}function v(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function b(t,e){var n,i,r,o;if(e.transform&&t.css){if(!(o=e.transform(t.css)))return function(){};t.css=o}if(e.singleton){var a=c++;n=l||(l=m(e)),i=x.bind(null,n,a,!1),r=x.bind(null,n,a,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",v(e,t.attrs),p(t,e),e}(e),i=function(t,e,n){var i=n.css,r=n.sourceMap,o=void 0===e.convertToAbsoluteUrls&&r;(e.convertToAbsoluteUrls||o)&&(i=f(i));r&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var a=new Blob([i],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,n,e),r=function(){g(n),n.href&&URL.revokeObjectURL(n.href)}):(n=m(e),i=function(t,e){var n=e.css,i=e.media;i&&t.setAttribute("media",i);if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,n),r=function(){g(n)});return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else r()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=a()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=d(t,e);return h(n,e),function(t){for(var i=[],r=0;r<n.length;r++){var a=n[r];(s=o[a.id]).refs--,i.push(s)}t&&h(d(t,e),e);for(r=0;r<i.length;r++){var s;if(0===(s=i[r]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete o[s.id]}}}};var y,_=(y=[],function(t,e){return y[t]=e,y.filter(Boolean).join("\n")});function x(t,e,n,i){var r=n?"":i.css;if(t.styleSheet)t.styleSheet.cssText=_(e,r);else{var o=document.createTextNode(r),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=function(t,e){var n=t[1]||"",i=t[3];if(!i)return n;if(e&&"function"==typeof btoa){var r=(a=i,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),o=i.sources.map(function(t){return"/*# sourceURL="+i.sourceRoot+t+" */"});return[n].concat(o).concat([r]).join("\n")}var a;return[n].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(i[o]=!0)}for(r=0;r<t.length;r++){var a=t[r];"number"==typeof a[0]&&i[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(t,e,n){"use strict";t.exports=function(t){return"string"!=typeof t?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),/["'() \t\n]/.test(t)?'"'+t.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':t)}},function(module,exports,__webpack_require__){"use strict";(function(jQuery,$){function EventData(){var t=!1,e=!1;this.stopPropagation=function(){t=!0},this.isPropagationStopped=function(){return t},this.stopImmediatePropagation=function(){e=!0},this.isImmediatePropagationStopped=function(){return e}}function Event(){var t=[];this.subscribe=function(e){t.push(e)},this.unsubscribe=function(e){for(var n=t.length-1;n>=0;n--)t[n]===e&&t.splice(n,1)},this.notify=function(e,n,i){var r;n=n||new EventData,i=i||this;for(var o=0;o<t.length&&!n.isPropagationStopped()&&!n.isImmediatePropagationStopped();o++)r=t[o].call(i,n,e);return r}}function EventHandler(){var t=[];this.subscribe=function(e,n){return t.push({event:e,handler:n}),e.subscribe(n),this},this.unsubscribe=function(e,n){for(var i=t.length;i--;)if(t[i].event===e&&t[i].handler===n)return t.splice(i,1),void e.unsubscribe(n);return this},this.unsubscribeAll=function(){for(var e=t.length;e--;)t[e].event.unsubscribe(t[e].handler);return t=[],this}}function Range(t,e,n,i){void 0===n&&void 0===i&&(n=t,i=e),this.fromRow=Math.min(t,n),this.fromCell=Math.min(e,i),this.toRow=Math.max(t,n),this.toCell=Math.max(e,i),this.isSingleRow=function(){return this.fromRow==this.toRow},this.isSingleCell=function(){return this.fromRow==this.toRow&&this.fromCell==this.toCell},this.contains=function(t,e){return t>=this.fromRow&&t<=this.toRow&&e>=this.fromCell&&e<=this.toCell},this.toString=function(){return this.isSingleCell()?"("+this.fromRow+":"+this.fromCell+")":"("+this.fromRow+":"+this.fromCell+" - "+this.toRow+":"+this.toCell+")"}}function NonDataItem(){this.__nonDataRow=!0}function Group(){this.__group=!0,this.level=0,this.count=0,this.value=null,this.title=null,this.collapsed=!1,this.selectChecked=!1,this.totals=null,this.rows=[],this.groups=null,this.groupingKey=null}function GroupTotals(){this.__groupTotals=!0,this.group=null,this.initialized=!1}function EditorLock(){var t=null;this.isActive=function(e){return e?t===e:null!==t},this.activate=function(e){if(e!==t){if(null!==t)throw new Error("SlickGrid.EditorLock.activate: an editController is still active, can't activate another editController");if(!e.commitCurrentEdit)throw new Error("SlickGrid.EditorLock.activate: editController must implement .commitCurrentEdit()");if(!e.cancelCurrentEdit)throw new Error("SlickGrid.EditorLock.activate: editController must implement .cancelCurrentEdit()");t=e}},this.deactivate=function(e){if(t!==e)throw new Error("SlickGrid.EditorLock.deactivate: specified editController is not the currently active one");t=null},this.commitCurrentEdit=function(){return!t||t.commitCurrentEdit()},this.cancelCurrentEdit=function(){return!t||t.cancelCurrentEdit()}}Object.defineProperty(exports,"__esModule",{value:!0}),function(t){t.fn.drag=function(e,n,i){var r="string"==typeof e?e:"",o=t.isFunction(e)?e:t.isFunction(n)?n:null;return 0!==r.indexOf("drag")&&(r="drag"+r),i=(e==o?n:i)||{},o?this.on(r,i,o):this.trigger(r)};var e=t.event,n=e.special,i=n.drag={defaults:{which:1,distance:0,not:":input",handle:null,relative:!1,drop:!0,click:!1},datakey:"dragdata",noBubble:!0,add:function(e){var n=t.data(this,i.datakey),r=e.data||{};n.related+=1,t.each(i.defaults,function(t,e){void 0!==r[t]&&(n[t]=r[t])})},remove:function(){t.data(this,i.datakey).related-=1},setup:function(){if(!t.data(this,i.datakey)){var n=t.extend({related:0},i.defaults);t.data(this,i.datakey,n),e.add(this,"touchstart mousedown",i.init,n),this.attachEvent&&this.attachEvent("ondragstart",i.dontstart)}},teardown:function(){(t.data(this,i.datakey)||{}).related||(t.removeData(this,i.datakey),e.remove(this,"touchstart mousedown",i.init),i.textselect(!0),this.detachEvent&&this.detachEvent("ondragstart",i.dontstart))},init:function(r){if(!i.touched){var o,a=r.data;if(!(0!=r.which&&a.which>0&&r.which!=a.which)&&!t(r.target).is(a.not)&&(!a.handle||t(r.target).closest(a.handle,r.currentTarget).length)&&(i.touched="touchstart"==r.type?this:null,a.propagates=1,a.mousedown=this,a.interactions=[i.interaction(this,a)],a.target=r.target,a.pageX=r.pageX,a.pageY=r.pageY,a.dragging=null,o=i.hijack(r,"draginit",a),a.propagates))return(o=i.flatten(o))&&o.length&&(a.interactions=[],t.each(o,function(){a.interactions.push(i.interaction(this,a))})),a.propagates=a.interactions.length,!1!==a.drop&&n.drop&&n.drop.handler(r,a),i.textselect(!1),i.touched?e.add(i.touched,"touchmove touchend",i.handler,a):e.add(document,"mousemove mouseup",i.handler,a),!(!i.touched||a.live)&&void 0}},interaction:function(e,n){var r=e&&e.ownerDocument&&t(e)[n.relative?"position":"offset"]()||{top:0,left:0};return{drag:e,callback:new i.callback,droppable:[],offset:r}},handler:function(r){var o=r.data;switch(r.type){case!o.dragging&&"touchmove":r.preventDefault();case!o.dragging&&"mousemove":if(Math.pow(r.pageX-o.pageX,2)+Math.pow(r.pageY-o.pageY,2)<Math.pow(o.distance,2))break;r.target=o.target,i.hijack(r,"dragstart",o),o.propagates&&(o.dragging=!0);case"touchmove":r.preventDefault();case"mousemove":if(o.dragging){if(i.hijack(r,"drag",o),o.propagates){!1!==o.drop&&n.drop&&n.drop.handler(r,o);break}r.type="mouseup"}case"touchend":case"mouseup":default:i.touched?e.remove(i.touched,"touchmove touchend",i.handler):e.remove(document,"mousemove mouseup",i.handler),o.dragging&&(!1!==o.drop&&n.drop&&n.drop.handler(r,o),i.hijack(r,"dragend",o)),i.textselect(!0),!1===o.click&&o.dragging&&t.data(o.mousedown,"suppress.click",(new Date).getTime()+5),o.dragging=i.touched=!1}},hijack:function(n,r,o,a,s){if(o){var l,c,u,f={event:n.originalEvent,type:n.type},h=r.indexOf("drop")?"drag":"drop",d=a||0,p=isNaN(a)?o.interactions.length:a;n.type=r;var g=function(){};n.originalEvent=new jQuery.Event(f.event,{preventDefault:g,stopPropagation:g,stopImmediatePropagation:g}),o.results=[];do{if(c=o.interactions[d]){if("dragend"!==r&&c.cancelled)continue;u=i.properties(n,o,c),c.results=[],t(s||c[h]||o.droppable).each(function(a,s){if(u.target=s,n.isPropagationStopped=function(){return!1},!1===(l=s?e.dispatch.call(s,n,u):null)?("drag"==h&&(c.cancelled=!0,o.propagates-=1),"drop"==r&&(c[h][a]=null)):"dropinit"==r&&c.droppable.push(i.element(l)||s),"dragstart"==r&&(c.proxy=t(i.element(l)||c.drag)[0]),c.results.push(l),delete n.result,"dropinit"!==r)return l}),o.results[d]=i.flatten(c.results),"dropinit"==r&&(c.droppable=i.flatten(c.droppable)),"dragstart"!=r||c.cancelled||u.update()}}while(++d<p);return n.type=f.type,n.originalEvent=f.event,i.flatten(o.results)}},properties:function(t,e,n){var r=n.callback;return r.drag=n.drag,r.proxy=n.proxy||n.drag,r.startX=e.pageX,r.startY=e.pageY,r.deltaX=t.pageX-e.pageX,r.deltaY=t.pageY-e.pageY,r.originalX=n.offset.left,r.originalY=n.offset.top,r.offsetX=r.originalX+r.deltaX,r.offsetY=r.originalY+r.deltaY,r.drop=i.flatten((n.drop||[]).slice()),r.available=i.flatten((n.droppable||[]).slice()),r},element:function(t){if(t&&(t.jquery||1==t.nodeType))return t},flatten:function(e){return t.map(e,function(e){return e&&e.jquery?t.makeArray(e):e&&e.length?i.flatten(e):e})},textselect:function(e){t(document)[e?"off":"on"]("selectstart",i.dontstart).css("MozUserSelect",e?"":"none"),document.unselectable=e?"off":"on"},dontstart:function(){return!1},callback:function(){}};i.callback.prototype={update:function(){n.drop&&this.available.length&&t.each(this.available,function(t){n.drop.locate(this,t)})}};var r=e.dispatch;e.dispatch=function(e){if(!(t.data(this,"suppress."+e.type)-(new Date).getTime()>0))return r.apply(this,arguments);t.removeData(this,"suppress."+e.type)},n.draginit=n.dragstart=n.dragend=i}(jQuery),Group.prototype=new NonDataItem,Group.prototype.equals=function(t){return this.value===t.value&&this.count===t.count&&this.collapsed===t.collapsed&&this.title===t.title},GroupTotals.prototype=new NonDataItem;var Slick={Event:Event,EventData:EventData,EventHandler:EventHandler,Range:Range,NonDataRow:NonDataItem,Group:Group,GroupTotals:GroupTotals,EditorLock:EditorLock,GlobalEditorLock:new EditorLock,keyCode:{BACKSPACE:8,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,RIGHT:39,TAB:9,UP:38,A:65},preClickClassName:"slick-edit-preclick"},scrollbarDimensions,maxSupportedCssHeight;
/**
 * @license
 * (c) 2009-2016 Michael Leibman
 * michael{dot}leibman{at}gmail{dot}com
 * http://github.com/mleibman/slickgrid
 *
 * Distributed under MIT license.
 * All rights reserved.
 *
 * SlickGrid v2.3
 *
 * NOTES:
 *     Cell/row DOM manipulations are done directly bypassing jQuery's DOM manipulation methods.
 *     This increases the speed dramatically, but can only be done safely because there are no event handlers
 *     or data associated with any cell/row DOM nodes.  Cell editors must make sure they implement .destroy()
 *     and do proper cleanup.
 */if(void 0===jQuery)throw new Error("SlickGrid requires jquery module to be loaded");if(!jQuery.fn.drag)throw new Error("SlickGrid requires jquery.event.drag module to be loaded");if(void 0===Slick)throw new Error("slick.core.js not loaded");function SlickGrid(container,data,columns,options){var defaults={alwaysShowVerticalScroll:!1,explicitInitialization:!1,rowHeight:25,defaultColumnWidth:80,enableAddRow:!1,leaveSpaceForNewRows:!1,editable:!1,autoEdit:!0,suppressActiveCellChangeOnEdit:!1,enableCellNavigation:!0,enableColumnReorder:!0,asyncEditorLoading:!1,asyncEditorLoadDelay:100,forceFitColumns:!1,enableAsyncPostRender:!1,asyncPostRenderDelay:50,enableAsyncPostRenderCleanup:!1,asyncPostRenderCleanupDelay:40,autoHeight:!1,editorLock:Slick.GlobalEditorLock,showHeaderRow:!1,headerRowHeight:25,createFooterRow:!1,showFooterRow:!1,footerRowHeight:25,createPreHeaderPanel:!1,showPreHeaderPanel:!1,preHeaderPanelHeight:25,showTopPanel:!1,topPanelHeight:25,formatterFactory:null,editorFactory:null,cellFlashingCssClass:"flashing",selectedCellCssClass:"selected",multiSelect:!0,enableTextSelectionOnCells:!1,dataItemColumnValueExtractor:null,fullWidthRows:!1,multiColumnSort:!1,numberedMultiColumnSort:!1,tristateMultiColumnSort:!1,sortColNumberInSeparateSpan:!1,defaultFormatter:defaultFormatter,forceSyncScrolling:!1,addNewRowCssClass:"new-row",preserveCopiedSelectionOnPaste:!1,showCellSelection:!0,viewportClass:null,minRowBuffer:3,emulatePagingWhenScrolling:!0,editorCellNavOnLRKeys:!1},columnDefaults={name:"",resizable:!0,sortable:!1,minWidth:30,rerenderOnResize:!1,headerCssClass:null,defaultSortAsc:!0,focusable:!0,selectable:!0},th,h,ph,n,cj,page=0,offset=0,vScrollDir=1,initialized=!1,$container,uid="slickgrid_"+Math.round(1e6*Math.random()),self=this,$focusSink,$focusSink2,$headerScroller,$headers,$headerRow,$headerRowScroller,$headerRowSpacer,$footerRow,$footerRowScroller,$footerRowSpacer,$preHeaderPanel,$preHeaderPanelScroller,$preHeaderPanelSpacer,$topPanelScroller,$topPanel,$viewport,$canvas,$style,$boundAncestors,stylesheet,columnCssRulesL,columnCssRulesR,viewportH,viewportW,canvasWidth,viewportHasHScroll,viewportHasVScroll,headerColumnWidthDiff=0,headerColumnHeightDiff=0,cellWidthDiff=0,cellHeightDiff=0,jQueryNewWidthBehaviour=!1,absoluteColumnMinWidth,tabbingDirection=1,activePosX,activeRow,activeCell,activeCellNode=null,currentEditor=null,serializedEditorValue,editController,rowsCache={},renderedRows=0,numVisibleRows,prevScrollTop=0,scrollTop=0,lastRenderedScrollTop=0,lastRenderedScrollLeft=0,prevScrollLeft=0,scrollLeft=0,selectionModel,selectedRows=[],plugins=[],cellCssClasses={},columnsById={},sortColumns=[],columnPosLeft=[],columnPosRight=[],pagingActive=!1,pagingIsLastPage=!1,h_editorLoader=null,h_render=null,h_postrender=null,h_postrenderCleanup=null,postProcessedRows={},postProcessToRow=null,postProcessFromRow=null,postProcessedCleanupQueue=[],postProcessgroupId=0,counter_rows_rendered=0,counter_rows_removed=0,rowNodeFromLastMouseWheelEvent,zombieRowNodeFromLastMouseWheelEvent,zombieRowCacheFromLastMouseWheelEvent,zombieRowPostProcessedFromLastMouseWheelEvent,cssShow={position:"absolute",visibility:"hidden",display:"block"},$hiddenParents,oldProps=[],columnResizeDragging=!1;function init(){if(($container=container instanceof jQuery?container:$(container)).length<1)throw new Error("SlickGrid requires a valid container, "+container+" does not exist in the DOM.");cacheCssForHiddenInit(),maxSupportedCssHeight=maxSupportedCssHeight||getMaxSupportedCssHeight(),options=$.extend({},defaults,options),validateAndEnforceOptions(),columnDefaults.width=options.defaultColumnWidth,columnsById={};for(var t=0;t<columns.length;t++){var e=columns[t]=$.extend({},columnDefaults,columns[t]);columnsById[e.id]=t,e.minWidth&&e.width<e.minWidth&&(e.width=e.minWidth),e.maxWidth&&e.width>e.maxWidth&&(e.width=e.maxWidth)}if(options.enableColumnReorder&&!$.fn.sortable)throw new Error("SlickGrid's 'enableColumnReorder = true' option requires jquery-ui.sortable module to be loaded");editController={commitCurrentEdit:commitCurrentEdit,cancelCurrentEdit:cancelCurrentEdit},$container.empty().css("overflow","hidden").css("outline",0).addClass(uid).addClass("ui-widget"),/relative|absolute|fixed/.test($container.css("position"))||$container.css("position","relative"),$focusSink=$("<div tabIndex='0' hideFocus style='position:fixed;width:0;height:0;top:0;left:0;outline:0;'></div>").appendTo($container),options.createPreHeaderPanel&&($preHeaderPanelScroller=$("<div class='slick-preheader-panel ui-state-default' style='overflow:hidden;position:relative;' />").appendTo($container),$preHeaderPanel=$("<div />").appendTo($preHeaderPanelScroller),$preHeaderPanelSpacer=$("<div style='display:block;height:1px;position:absolute;top:0;left:0;'></div>").appendTo($preHeaderPanelScroller),options.showPreHeaderPanel||$preHeaderPanelScroller.hide()),$headerScroller=$("<div class='slick-header ui-state-default' />").appendTo($container),$headers=$("<div class='slick-header-columns' style='left:-1000px' />").appendTo($headerScroller),$headerRowScroller=$("<div class='slick-headerrow ui-state-default' />").appendTo($container),$headerRow=$("<div class='slick-headerrow-columns' />").appendTo($headerRowScroller),$headerRowSpacer=$("<div style='display:block;height:1px;position:absolute;top:0;left:0;'></div>").appendTo($headerRowScroller),$topPanelScroller=$("<div class='slick-top-panel-scroller ui-state-default' />").appendTo($container),$topPanel=$("<div class='slick-top-panel' style='width:10000px' />").appendTo($topPanelScroller),options.showTopPanel||$topPanelScroller.hide(),options.showHeaderRow||$headerRowScroller.hide(),($viewport=$("<div class='slick-viewport' style='width:100%;overflow:auto;outline:0;position:relative;;'>").appendTo($container)).css("overflow-y",options.alwaysShowVerticalScroll?"scroll":options.autoHeight?"hidden":"auto"),$viewport.css("overflow-x",options.forceFitColumns?"hidden":"auto"),options.viewportClass&&$viewport.toggleClass(options.viewportClass,!0),$canvas=$("<div class='grid-canvas' />").appendTo($viewport),scrollbarDimensions=scrollbarDimensions||measureScrollbar(),$preHeaderPanelSpacer&&$preHeaderPanelSpacer.css("width",getCanvasWidth()+scrollbarDimensions.width+"px"),$headers.width(getHeadersWidth()),$headerRowSpacer.css("width",getCanvasWidth()+scrollbarDimensions.width+"px"),options.createFooterRow&&($footerRowScroller=$("<div class='slick-footerrow ui-state-default' />").appendTo($container),$footerRow=$("<div class='slick-footerrow-columns' />").appendTo($footerRowScroller),$footerRowSpacer=$("<div style='display:block;height:1px;position:absolute;top:0;left:0;'></div>").css("width",getCanvasWidth()+scrollbarDimensions.width+"px").appendTo($footerRowScroller),options.showFooterRow||$footerRowScroller.hide()),$focusSink2=$focusSink.clone().appendTo($container),options.explicitInitialization||finishInitialization()}function finishInitialization(){initialized||(initialized=!0,viewportW=parseFloat($.css($container[0],"width",!0)),measureCellPaddingAndBorder(),disableSelection($headers),options.enableTextSelectionOnCells||$viewport.on("selectstart.ui",function(t){return $(t.target).is("input,textarea")}),updateColumnCaches(),createColumnHeaders(),setupColumnSort(),createCssRules(),resizeCanvas(),bindAncestorScrollEvents(),$container.on("resize.slickgrid",resizeCanvas),$viewport.on("scroll",handleScroll),$headerScroller.on("contextmenu",handleHeaderContextMenu).on("click",handleHeaderClick).on("mouseenter",".slick-header-column",handleHeaderMouseEnter).on("mouseleave",".slick-header-column",handleHeaderMouseLeave),$headerRowScroller.on("scroll",handleHeaderRowScroll),options.createFooterRow&&$footerRowScroller.on("scroll",handleFooterRowScroll),options.createPreHeaderPanel&&$preHeaderPanelScroller.on("scroll",handlePreHeaderPanelScroll),$focusSink.add($focusSink2).on("keydown",handleKeyDown),$canvas.on("keydown",handleKeyDown).on("click",handleClick).on("dblclick",handleDblClick).on("contextmenu",handleContextMenu).on("draginit",handleDragInit).on("dragstart",{distance:3},handleDragStart).on("drag",handleDrag).on("dragend",handleDragEnd).on("mouseenter",".slick-cell",handleMouseEnter).on("mouseleave",".slick-cell",handleMouseLeave),navigator.userAgent.toLowerCase().match(/webkit/)&&navigator.userAgent.toLowerCase().match(/macintosh/)&&$canvas.on("mousewheel",handleMouseWheel),restoreCssFromHiddenInit())}function cacheCssForHiddenInit(){($hiddenParents=$container.parents().addBack().not(":visible")).each(function(){var t={};for(var e in cssShow)t[e]=this.style[e],this.style[e]=cssShow[e];oldProps.push(t)})}function restoreCssFromHiddenInit(){$hiddenParents.each(function(t){var e=oldProps[t];for(var n in cssShow)this.style[n]=e[n]})}function registerPlugin(t){plugins.unshift(t),t.init(self)}function unregisterPlugin(t){for(var e=plugins.length;e>=0;e--)if(plugins[e]===t){plugins[e].destroy&&plugins[e].destroy(),plugins.splice(e,1);break}}function setSelectionModel(t){selectionModel&&(selectionModel.onSelectedRangesChanged.unsubscribe(handleSelectedRangesChanged),selectionModel.destroy&&selectionModel.destroy()),(selectionModel=t)&&(selectionModel.init(self),selectionModel.onSelectedRangesChanged.subscribe(handleSelectedRangesChanged))}function getSelectionModel(){return selectionModel}function getCanvasNode(){return $canvas[0]}function measureScrollbar(){var t=$('<div class="'+$viewport.className+'" style="position:absolute; top:-10000px; left:-10000px; overflow:auto; width:100px; height:100px;"></div>').appendTo($viewport),e=$('<div style="width:200px; height:200px; overflow:auto;"></div>').appendTo(t),n={width:t[0].offsetWidth-t[0].clientWidth,height:t[0].offsetHeight-t[0].clientHeight};return e.remove(),t.remove(),n}function getColumnTotalWidth(t){for(var e=0,n=0,i=columns.length;n<i;n++){e+=columns[n].width}return t&&(e+=scrollbarDimensions.width),e}function getHeadersWidth(){var t=getColumnTotalWidth(!options.autoHeight);return Math.max(t,viewportW)+1e3}function getCanvasWidth(){for(var t=viewportHasVScroll?viewportW-scrollbarDimensions.width:viewportW,e=0,n=columns.length;n--;)e+=columns[n].width;return options.fullWidthRows?Math.max(e,t):e}function updateCanvasWidth(t){var e=canvasWidth;(canvasWidth=getCanvasWidth())!=e&&($canvas.width(canvasWidth),$headerRow.width(canvasWidth),options.createFooterRow&&$footerRow.width(canvasWidth),options.createPreHeaderPanel&&$preHeaderPanel.width(canvasWidth),$headers.width(getHeadersWidth()),viewportHasHScroll=canvasWidth>viewportW-scrollbarDimensions.width);var n=canvasWidth+(viewportHasVScroll?scrollbarDimensions.width:0);$headerRowSpacer.width(n),options.createFooterRow&&$footerRowSpacer.width(n),options.createPreHeaderPanel&&$preHeaderPanelSpacer.width(n),(canvasWidth!=e||t)&&applyColumnWidths()}function disableSelection(t){t&&t.jquery&&t.attr("unselectable","on").css("MozUserSelect","none").on("selectstart.ui",function(){return!1})}function getMaxSupportedCssHeight(){for(var t=1e6,e=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,n=$("<div style='display:none' />").appendTo(document.body);;){var i=2*t;if(n.css("height",i),i>e||n.height()!==i)break;t=i}return n.remove(),t}function getUID(){return uid}function getHeaderColumnWidthDiff(){return headerColumnWidthDiff}function getScrollbarDimensions(){return scrollbarDimensions}function bindAncestorScrollEvents(){for(var t=$canvas[0];(t=t.parentNode)!=document.body&&null!=t;)if(t==$viewport[0]||t.scrollWidth!=t.clientWidth||t.scrollHeight!=t.clientHeight){var e=$(t);$boundAncestors=$boundAncestors?$boundAncestors.add(e):e,e.on("scroll."+uid,handleActiveCellPositionChange)}}function unbindAncestorScrollEvents(){$boundAncestors&&($boundAncestors.off("scroll."+uid),$boundAncestors=null)}function updateColumnHeader(t,e,n){if(initialized){var i=getColumnIndex(t);if(null!=i){var r=columns[i],o=$headers.children().eq(i);o&&(void 0!==e&&(columns[i].name=e),void 0!==n&&(columns[i].toolTip=n),trigger(self.onBeforeHeaderCellDestroy,{node:o[0],column:r,grid:self}),o.attr("title",n||"").children().eq(0).html(e),trigger(self.onHeaderCellRendered,{node:o[0],column:r,grid:self}))}}}function getHeader(){return $headers[0]}function getHeaderColumn(t){var e="number"==typeof t?t:getColumnIndex(t),n=$headers.children().eq(e);return n&&n[0]}function getHeaderRow(){return $headerRow[0]}function getFooterRow(){return $footerRow[0]}function getPreHeaderPanel(){return $preHeaderPanel[0]}function getHeaderRowColumn(t){var e="number"==typeof t?t:getColumnIndex(t),n=$headerRow.children().eq(e);return n&&n[0]}function getFooterRowColumn(t){var e="number"==typeof t?t:getColumnIndex(t),n=$footerRow.children().eq(e);return n&&n[0]}function createColumnHeaders(){function t(){$(this).addClass("ui-state-hover")}function e(){$(this).removeClass("ui-state-hover")}$headers.find(".slick-header-column").each(function(){var t=$(this).data("column");t&&trigger(self.onBeforeHeaderCellDestroy,{node:this,column:t,grid:self})}),$headers.empty(),$headers.width(getHeadersWidth()),$headerRow.find(".slick-headerrow-column").each(function(){var t=$(this).data("column");t&&trigger(self.onBeforeHeaderRowCellDestroy,{node:this,column:t,grid:self})}),$headerRow.empty(),options.createFooterRow&&($footerRow.find(".slick-footerrow-column").each(function(){var t=$(this).data("column");t&&trigger(self.onBeforeFooterRowCellDestroy,{node:this,column:t})}),$footerRow.empty());for(var n=0;n<columns.length;n++){var i=columns[n],r=$("<div class='ui-state-default slick-header-column' />").html("<span class='slick-column-name'>"+i.name+"</span>").width(i.width-headerColumnWidthDiff).attr("id",""+uid+i.id).attr("title",i.toolTip||"").data("column",i).addClass(i.headerCssClass||"").appendTo($headers);if((options.enableColumnReorder||i.sortable)&&r.on("mouseenter",t).on("mouseleave",e),i.sortable&&(r.addClass("slick-header-sortable"),r.append("<span class='slick-sort-indicator"+(options.numberedMultiColumnSort&&!options.sortColNumberInSeparateSpan?" slick-sort-indicator-numbered":"")+"' />"),options.numberedMultiColumnSort&&options.sortColNumberInSeparateSpan&&r.append("<span class='slick-sort-indicator-numbered' />")),trigger(self.onHeaderCellRendered,{node:r[0],column:i,grid:self}),options.showHeaderRow){var o=$("<div class='ui-state-default slick-headerrow-column l"+n+" r"+n+"'></div>").data("column",i).appendTo($headerRow);trigger(self.onHeaderRowCellRendered,{node:o[0],column:i,grid:self})}if(options.createFooterRow&&options.showFooterRow){var a=$("<div class='ui-state-default slick-footerrow-column l"+n+" r"+n+"'></div>").data("column",i).appendTo($footerRow);trigger(self.onFooterRowCellRendered,{node:a[0],column:i})}}setSortColumns(sortColumns),setupColumnResize(),options.enableColumnReorder&&("function"==typeof options.enableColumnReorder?options.enableColumnReorder(self,$headers,headerColumnWidthDiff,setColumns,setupColumnResize,columns,getColumnIndex,uid,trigger):setupColumnReorder())}function setupColumnSort(){$headers.click(function(t){if(!columnResizeDragging&&(t.metaKey=t.metaKey||t.ctrlKey,!$(t.target).hasClass("slick-resizable-handle"))){var e=$(t.target).closest(".slick-header-column");if(e.length){var n=e.data("column");if(n.sortable){if(!getEditorLock().commitCurrentEdit())return;for(var i=null,r=0;r<sortColumns.length;r++)if(sortColumns[r].columnId==n.id){(i=sortColumns[r]).sortAsc=!i.sortAsc;break}var o=!!i;options.tristateMultiColumnSort?(i||(i={columnId:n.id,sortAsc:n.defaultSortAsc}),o&&i.sortAsc&&(sortColumns.splice(r,1),i=null),options.multiColumnSort||(sortColumns=[]),!i||o&&options.multiColumnSort||sortColumns.push(i)):t.metaKey&&options.multiColumnSort?i&&sortColumns.splice(r,1):((t.shiftKey||t.metaKey)&&options.multiColumnSort||(sortColumns=[]),i?0==sortColumns.length&&sortColumns.push(i):(i={columnId:n.id,sortAsc:n.defaultSortAsc},sortColumns.push(i))),setSortColumns(sortColumns),options.multiColumnSort?trigger(self.onSort,{multiColumnSort:!0,sortCols:$.map(sortColumns,function(t){return{sortCol:columns[getColumnIndex(t.columnId)],sortAsc:t.sortAsc}}),grid:self},t):trigger(self.onSort,{multiColumnSort:!1,sortCol:sortColumns.length>0?n:null,sortAsc:!(sortColumns.length>0)||sortColumns[0].sortAsc,grid:self},t)}}}})}function setupColumnReorder(){$headers.filter(":ui-sortable").sortable("destroy"),$headers.sortable({containment:"parent",distance:3,axis:"x",cursor:"default",tolerance:"intersection",helper:"clone",placeholder:"slick-sortable-placeholder ui-state-default slick-header-column",start:function(t,e){e.placeholder.width(e.helper.outerWidth()-headerColumnWidthDiff),$(e.helper).addClass("slick-header-column-active")},beforeStop:function(t,e){$(e.helper).removeClass("slick-header-column-active")},stop:function(t,e){if(getEditorLock().commitCurrentEdit()){for(var n=$headers.sortable("toArray"),i=[],r=0;r<n.length;r++)i.push(columns[getColumnIndex(n[r].replace(uid,""))]);setColumns(i),trigger(self.onColumnsReordered,{grid:self}),t.stopPropagation(),setupColumnResize()}else $(this).sortable("cancel")}})}function setupColumnResize(){var t,e,n,i,r,o,a,s;(i=$headers.children()).find(".slick-resizable-handle").remove(),i.each(function(t,e){t>=columns.length||columns[t].resizable&&(void 0===a&&(a=t),s=t)}),void 0!==a&&i.each(function(l,c){l>=columns.length||l<a||options.forceFitColumns&&l>=s||($(c),$("<div class='slick-resizable-handle' />").appendTo(c).on("dragstart",function(a,s){if(!getEditorLock().commitCurrentEdit())return!1;n=a.pageX,$(this).parent().addClass("slick-header-column-active");var c=null,u=null;if(i.each(function(t,e){t>=columns.length||(columns[t].previousWidth=$(e).outerWidth())}),options.forceFitColumns)for(c=0,u=0,t=l+1;t<columns.length;t++)(e=columns[t]).resizable&&(null!==u&&(e.maxWidth?u+=e.maxWidth-e.previousWidth:u=null),c+=e.previousWidth-Math.max(e.minWidth||0,absoluteColumnMinWidth));var f=0,h=0;for(t=0;t<=l;t++)(e=columns[t]).resizable&&(null!==h&&(e.maxWidth?h+=e.maxWidth-e.previousWidth:h=null),f+=e.previousWidth-Math.max(e.minWidth||0,absoluteColumnMinWidth));null===c&&(c=1e5),null===f&&(f=1e5),null===u&&(u=1e5),null===h&&(h=1e5),o=n+Math.min(c,h),r=n-Math.min(f,u)}).on("drag",function(i,a){columnResizeDragging=!0;var s,c,u=Math.min(o,Math.max(r,i.pageX))-n;if(u<0){for(c=u,t=l;t>=0;t--)(e=columns[t]).resizable&&(s=Math.max(e.minWidth||0,absoluteColumnMinWidth),c&&e.previousWidth+c<s?(c+=e.previousWidth-s,e.width=s):(e.width=e.previousWidth+c,c=0));if(options.forceFitColumns)for(c=-u,t=l+1;t<columns.length;t++)(e=columns[t]).resizable&&(c&&e.maxWidth&&e.maxWidth-e.previousWidth<c?(c-=e.maxWidth-e.previousWidth,e.width=e.maxWidth):(e.width=e.previousWidth+c,c=0))}else{for(c=u,t=l;t>=0;t--)(e=columns[t]).resizable&&(c&&e.maxWidth&&e.maxWidth-e.previousWidth<c?(c-=e.maxWidth-e.previousWidth,e.width=e.maxWidth):(e.width=e.previousWidth+c,c=0));if(options.forceFitColumns)for(c=-u,t=l+1;t<columns.length;t++)(e=columns[t]).resizable&&(s=Math.max(e.minWidth||0,absoluteColumnMinWidth),c&&e.previousWidth+c<s?(c+=e.previousWidth-s,e.width=s):(e.width=e.previousWidth+c,c=0))}applyColumnHeaderWidths(),options.syncColumnCellResize&&applyColumnWidths()}).on("dragend",function(n,r){var o;for($(this).parent().removeClass("slick-header-column-active"),t=0;t<columns.length;t++)e=columns[t],o=$(i[t]).outerWidth(),e.previousWidth!==o&&e.rerenderOnResize&&invalidateAllRows();updateCanvasWidth(!0),render(),trigger(self.onColumnsResized,{grid:self}),setTimeout(function(){columnResizeDragging=!1},300)}))})}function getVBoxDelta(t){var e=0;return $.each(["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],function(n,i){e+=parseFloat(t.css(i))||0}),e}function measureCellPaddingAndBorder(){var t,e=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],n=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],i=$.fn.jquery.split(".");jQueryNewWidthBehaviour=1==i[0]&&i[1]>=8||i[0]>=2,t=$("<div class='ui-state-default slick-header-column' style='visibility:hidden'>-</div>").appendTo($headers),headerColumnWidthDiff=headerColumnHeightDiff=0,"border-box"!=t.css("box-sizing")&&"border-box"!=t.css("-moz-box-sizing")&&"border-box"!=t.css("-webkit-box-sizing")&&($.each(e,function(e,n){headerColumnWidthDiff+=parseFloat(t.css(n))||0}),$.each(n,function(e,n){headerColumnHeightDiff+=parseFloat(t.css(n))||0})),t.remove();var r=$("<div class='slick-row' />").appendTo($canvas);t=$("<div class='slick-cell' id='' style='visibility:hidden'>-</div>").appendTo(r),cellWidthDiff=cellHeightDiff=0,"border-box"!=t.css("box-sizing")&&"border-box"!=t.css("-moz-box-sizing")&&"border-box"!=t.css("-webkit-box-sizing")&&($.each(e,function(e,n){cellWidthDiff+=parseFloat(t.css(n))||0}),$.each(n,function(e,n){cellHeightDiff+=parseFloat(t.css(n))||0})),r.remove(),absoluteColumnMinWidth=Math.max(headerColumnWidthDiff,cellWidthDiff)}function createCssRules(){$style=$("<style type='text/css' rel='stylesheet' />").appendTo($("head"));for(var t=options.rowHeight-cellHeightDiff,e=["."+uid+" .slick-header-column { left: 1000px; }","."+uid+" .slick-top-panel { height:"+options.topPanelHeight+"px; }","."+uid+" .slick-preheader-panel { height:"+options.preHeaderPanelHeight+"px; }","."+uid+" .slick-headerrow-columns { height:"+options.headerRowHeight+"px; }","."+uid+" .slick-footerrow-columns { height:"+options.footerRowHeight+"px; }","."+uid+" .slick-cell { height:"+t+"px; }","."+uid+" .slick-row { height:"+options.rowHeight+"px; }"],n=0;n<columns.length;n++)e.push("."+uid+" .l"+n+" { }"),e.push("."+uid+" .r"+n+" { }");$style[0].styleSheet?$style[0].styleSheet.cssText=e.join(" "):$style[0].appendChild(document.createTextNode(e.join(" ")))}function getColumnCssRules(t){var e;if(!stylesheet){var n=document.styleSheets;for(e=0;e<n.length;e++)if((n[e].ownerNode||n[e].owningElement)==$style[0]){stylesheet=n[e];break}if(!stylesheet)throw new Error("Cannot find stylesheet.");columnCssRulesL=[],columnCssRulesR=[];var i,r,o=stylesheet.cssRules||stylesheet.rules;for(e=0;e<o.length;e++){var a=o[e].selectorText;(i=/\.l\d+/.exec(a))?(r=parseInt(i[0].substr(2,i[0].length-2),10),columnCssRulesL[r]=o[e]):(i=/\.r\d+/.exec(a))&&(r=parseInt(i[0].substr(2,i[0].length-2),10),columnCssRulesR[r]=o[e])}}return{left:columnCssRulesL[t],right:columnCssRulesR[t]}}function removeCssRules(){$style.remove(),stylesheet=null}function destroy(){getEditorLock().cancelCurrentEdit(),trigger(self.onBeforeDestroy,{grid:self});for(var t=plugins.length;t--;)unregisterPlugin(plugins[t]);options.enableColumnReorder&&$headers.filter(":ui-sortable").sortable("destroy"),unbindAncestorScrollEvents(),$container.off(".slickgrid"),removeCssRules(),$canvas.off("draginit dragstart dragend drag"),$container.empty().removeClass(uid)}function trigger(t,e,n){return n=n||new Slick.EventData,(e=e||{}).grid=self,t.notify(e,n,self)}function getEditorLock(){return options.editorLock}function getEditController(){return editController}function getColumnIndex(t){return columnsById[t]}function autosizeColumns(){var t,e,n,i=[],r=0,o=0,a=viewportHasVScroll?viewportW-scrollbarDimensions.width:viewportW;for(t=0;t<columns.length;t++)e=columns[t],i.push(e.width),o+=e.width,e.resizable&&(r+=e.width-Math.max(e.minWidth,absoluteColumnMinWidth));for(n=o;o>a&&r;){var s=(o-a)/r;for(t=0;t<columns.length&&o>a;t++){e=columns[t];var l=i[t];if(!(!e.resizable||l<=e.minWidth||l<=absoluteColumnMinWidth)){var c=Math.max(e.minWidth,absoluteColumnMinWidth),u=Math.floor(s*(l-c))||1;o-=u=Math.min(u,l-c),r-=u,i[t]-=u}}if(n<=o)break;n=o}for(n=o;o<a;){var f=a/o;for(t=0;t<columns.length&&o<a;t++){e=columns[t];var h,d=i[t];o+=h=!e.resizable||e.maxWidth<=d?0:Math.min(Math.floor(f*d)-d,e.maxWidth-d||1e6)||1,i[t]+=o<=a?h:0}if(n>=o)break;n=o}var p=!1;for(t=0;t<columns.length;t++)columns[t].rerenderOnResize&&columns[t].width!=i[t]&&(p=!0),columns[t].width=i[t];applyColumnHeaderWidths(),updateCanvasWidth(!0),p&&(invalidateAllRows(),render())}function applyColumnHeaderWidths(){if(initialized){for(var t,e=0,n=$headers.children(),i=columns.length;e<i;e++)t=$(n[e]),jQueryNewWidthBehaviour?t.outerWidth()!==columns[e].width&&t.outerWidth(columns[e].width):t.width()!==columns[e].width-headerColumnWidthDiff&&t.width(columns[e].width-headerColumnWidthDiff);updateColumnCaches()}}function applyColumnWidths(){for(var t,e,n=0,i=0;i<columns.length;i++)t=columns[i].width,(e=getColumnCssRules(i)).left.style.left=n+"px",e.right.style.right=canvasWidth-n-t+"px",n+=columns[i].width}function setSortColumn(t,e){setSortColumns([{columnId:t,sortAsc:e}])}function setSortColumns(t){sortColumns=t;var e=options.numberedMultiColumnSort&&sortColumns.length>1,n=$headers.children();n.removeClass("slick-header-column-sorted").find(".slick-sort-indicator").removeClass("slick-sort-indicator-asc slick-sort-indicator-desc"),n.find(".slick-sort-indicator-numbered").text(""),$.each(sortColumns,function(t,i){null==i.sortAsc&&(i.sortAsc=!0);var r=getColumnIndex(i.columnId);null!=r&&(n.eq(r).addClass("slick-header-column-sorted").find(".slick-sort-indicator").addClass(i.sortAsc?"slick-sort-indicator-asc":"slick-sort-indicator-desc"),e&&n.eq(r).find(".slick-sort-indicator-numbered").text(t+1))})}function getSortColumns(){return sortColumns}function handleSelectedRangesChanged(t,e){selectedRows=[];for(var n={},i=0;i<e.length;i++)for(var r=e[i].fromRow;r<=e[i].toRow;r++){n[r]||(selectedRows.push(r),n[r]={});for(var o=e[i].fromCell;o<=e[i].toCell;o++)canCellBeSelected(r,o)&&(n[r][columns[o].id]=options.selectedCellCssClass)}setCellCssStyles(options.selectedCellCssClass,n),trigger(self.onSelectedRowsChanged,{rows:getSelectedRows(),grid:self},t)}function getColumns(){return columns}function updateColumnCaches(){columnPosLeft=[],columnPosRight=[];for(var t=0,e=0,n=columns.length;e<n;e++)columnPosLeft[e]=t,columnPosRight[e]=t+columns[e].width,t+=columns[e].width}function setColumns(t){columns=t,columnsById={};for(var e=0;e<columns.length;e++){var n=columns[e]=$.extend({},columnDefaults,columns[e]);columnsById[n.id]=e,n.minWidth&&n.width<n.minWidth&&(n.width=n.minWidth),n.maxWidth&&n.width>n.maxWidth&&(n.width=n.maxWidth)}updateColumnCaches(),initialized&&(invalidateAllRows(),createColumnHeaders(),removeCssRules(),createCssRules(),resizeCanvas(),applyColumnWidths(),handleScroll())}function getOptions(){return options}function setOptions(t,e){getEditorLock().commitCurrentEdit()&&(makeActiveCellNormal(),options.enableAddRow!==t.enableAddRow&&invalidateRow(getDataLength()),options=$.extend(options,t),validateAndEnforceOptions(),$viewport.css("overflow-y",options.autoHeight?"hidden":"auto"),e||render())}function validateAndEnforceOptions(){options.autoHeight&&(options.leaveSpaceForNewRows=!1)}function setData(t,e){data=t,invalidateAllRows(),updateRowCount(),e&&scrollTo(0)}function getData(){return data}function getDataLength(){return data.getLength?data.getLength():data.length}function getDataLengthIncludingAddNew(){return getDataLength()+(options.enableAddRow&&(!pagingActive||pagingIsLastPage)?1:0)}function getDataItem(t){return data.getItem?data.getItem(t):data[t]}function getTopPanel(){return $topPanel[0]}function setTopPanelVisibility(t){options.showTopPanel!=t&&(options.showTopPanel=t,t?$topPanelScroller.slideDown("fast",resizeCanvas):$topPanelScroller.slideUp("fast",resizeCanvas))}function setHeaderRowVisibility(t){options.showHeaderRow!=t&&(options.showHeaderRow=t,t?$headerRowScroller.slideDown("fast",resizeCanvas):$headerRowScroller.slideUp("fast",resizeCanvas))}function setFooterRowVisibility(t){options.showFooterRow!=t&&(options.showFooterRow=t,t?$footerRowScroller.slideDown("fast",resizeCanvas):$footerRowScroller.slideUp("fast",resizeCanvas))}function setPreHeaderPanelVisibility(t){options.showPreHeaderPanel!=t&&(options.showPreHeaderPanel=t,t?$preHeaderPanelScroller.slideDown("fast",resizeCanvas):$preHeaderPanelScroller.slideUp("fast",resizeCanvas))}function getContainerNode(){return $container.get(0)}function getRowTop(t){return options.rowHeight*t-offset}function getRowFromPosition(t){return Math.floor((t+offset)/options.rowHeight)}function scrollTo(t){t=Math.max(t,0),t=Math.min(t,th-viewportH+(viewportHasHScroll?scrollbarDimensions.height:0));var e=offset;page=Math.min(n-1,Math.floor(t/ph));var i=t-(offset=Math.round(page*cj));offset!=e&&(cleanupRows(getVisibleRange(i)),updateRowPositions());prevScrollTop!=i&&(vScrollDir=prevScrollTop+e<i+offset?1:-1,$viewport[0].scrollTop=lastRenderedScrollTop=scrollTop=prevScrollTop=i,trigger(self.onViewportChanged,{grid:self}))}function defaultFormatter(t,e,n,i,r,o){return null==n?"":(n+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function getFormatter(t,e){var n=data.getItemMetadata&&data.getItemMetadata(t),i=n&&n.columns&&(n.columns[e.id]||n.columns[getColumnIndex(e.id)]);return i&&i.formatter||n&&n.formatter||e.formatter||options.formatterFactory&&options.formatterFactory.getFormatter(e)||options.defaultFormatter}function getEditor(t,e){var n=columns[e],i=data.getItemMetadata&&data.getItemMetadata(t),r=i&&i.columns;return r&&r[n.id]&&void 0!==r[n.id].editor?r[n.id].editor:r&&r[e]&&void 0!==r[e].editor?r[e].editor:n.editor||options.editorFactory&&options.editorFactory.getEditor(n)}function getDataItemValueForColumn(t,e){return options.dataItemColumnValueExtractor?options.dataItemColumnValueExtractor(t,e):t[e.field]}function appendRowHtml(t,e,n,i){var r=getDataItem(e),o="slick-row"+(e<i&&!r?" loading":"")+(e===activeRow&&options.showCellSelection?" active":"")+(e%2==1?" odd":" even");r||(o+=" "+options.addNewRowCssClass);var a,s,l=data.getItemMetadata&&data.getItemMetadata(e);l&&l.cssClasses&&(o+=" "+l.cssClasses),t.push("<div class='ui-widget-content "+o+"' style='top:"+getRowTop(e)+"px'>");for(var c=0,u=columns.length;c<u;c++){if(s=columns[c],a=1,l&&l.columns){var f=l.columns[s.id]||l.columns[c];"*"===(a=f&&f.colspan||1)&&(a=u-c)}if(columnPosRight[Math.min(u-1,c+a-1)]>n.leftPx){if(columnPosLeft[c]>n.rightPx)break;appendCellHtml(t,e,c,a,r)}a>1&&(c+=a-1)}t.push("</div>")}function appendCellHtml(t,e,n,i,r){var o=columns[n],a="slick-cell l"+n+" r"+Math.min(columns.length-1,n+i-1)+(o.cssClass?" "+o.cssClass:"");for(var s in e===activeRow&&n===activeCell&&options.showCellSelection&&(a+=" active"),cellCssClasses)cellCssClasses[s][e]&&cellCssClasses[s][e][o.id]&&(a+=" "+cellCssClasses[s][e][o.id]);var l=null,c="";r&&(l=getDataItemValueForColumn(r,o),null!==(c=getFormatter(e,o)(e,n,l,o,r,self))&&void 0!==c||(c=""));var u=trigger(self.onBeforeAppendCell,{row:e,cell:n,grid:self,value:l,dataContext:r})||"";u+=c&&c.addClasses?(u?" ":"")+c.addClasses:"",t.push("<div class='"+a+(u?" "+u:"")+"'>"),r&&t.push("[object Object]"!==Object.prototype.toString.call(c)?c:c.text),t.push("</div>"),rowsCache[e].cellRenderQueue.push(n),rowsCache[e].cellColSpans[n]=i}function cleanupRows(t){for(var e in rowsCache)(e=parseInt(e,10))!==activeRow&&(e<t.top||e>t.bottom)&&removeRowFromCache(e);options.enableAsyncPostRenderCleanup&&startPostProcessingCleanup()}function invalidate(){updateRowCount(),invalidateAllRows(),render()}function invalidateAllRows(){for(var t in currentEditor&&makeActiveCellNormal(),rowsCache)removeRowFromCache(t);options.enableAsyncPostRenderCleanup&&startPostProcessingCleanup()}function queuePostProcessedRowForCleanup(t,e,n){for(var i in postProcessgroupId++,e)e.hasOwnProperty(i)&&postProcessedCleanupQueue.push({actionType:"C",groupId:postProcessgroupId,node:t.cellNodesByColumnIdx[0|i],columnIdx:0|i,rowIdx:n});postProcessedCleanupQueue.push({actionType:"R",groupId:postProcessgroupId,node:t.rowNode}),$(t.rowNode).detach()}function queuePostProcessedCellForCleanup(t,e,n){postProcessedCleanupQueue.push({actionType:"C",groupId:postProcessgroupId,node:t,columnIdx:e,rowIdx:n}),$(t).detach()}function removeRowFromCache(t){var e=rowsCache[t];e&&(e.rowNode&&(rowNodeFromLastMouseWheelEvent===e.rowNode?(e.rowNode.style.display="none",zombieRowNodeFromLastMouseWheelEvent=rowNodeFromLastMouseWheelEvent,zombieRowCacheFromLastMouseWheelEvent=e,zombieRowPostProcessedFromLastMouseWheelEvent=postProcessedRows[t]):options.enableAsyncPostRenderCleanup&&postProcessedRows[t]?queuePostProcessedRowForCleanup(e,postProcessedRows[t],t):$canvas[0].removeChild(e.rowNode)),delete rowsCache[t],delete postProcessedRows[t],renderedRows--,counter_rows_removed++)}function invalidateRows(t){var e,n;if(t&&t.length){for(vScrollDir=0,n=t.length,e=0;e<n;e++)currentEditor&&activeRow===t[e]&&makeActiveCellNormal(),rowsCache[t[e]]&&removeRowFromCache(t[e]);options.enableAsyncPostRenderCleanup&&startPostProcessingCleanup()}}function invalidateRow(t){(t||0===t)&&invalidateRows([t])}function applyFormatResultToCellNode(t,e,n){null!==t&&void 0!==t||(t=""),"[object Object]"===Object.prototype.toString.call(t)?(e.innerHTML=t.text,t.removeClasses&&!n&&$(e).removeClass(t.removeClasses),t.addClasses&&$(e).addClass(t.addClasses)):e.innerHTML=t}function updateCell(t,e){var n=getCellNode(t,e);if(n){var i=columns[e],r=getDataItem(t);if(currentEditor&&activeRow===t&&activeCell===e)currentEditor.loadValue(r);else applyFormatResultToCellNode(r?getFormatter(t,i)(t,e,getDataItemValueForColumn(r,i),i,r,self):"",n),invalidatePostProcessingResults(t)}}function updateRow(t){var e=rowsCache[t];if(e){ensureCellNodesInRowsCache(t);var n=getDataItem(t);for(var i in e.cellNodesByColumnIdx)if(e.cellNodesByColumnIdx.hasOwnProperty(i)){var r=columns[i|=0],o=e.cellNodesByColumnIdx[i];t===activeRow&&i===activeCell&&currentEditor?currentEditor.loadValue(n):n?applyFormatResultToCellNode(getFormatter(t,r)(t,i,getDataItemValueForColumn(n,r),r,n,self),o):o.innerHTML=""}invalidatePostProcessingResults(t)}}function getViewportHeight(){return parseFloat($.css($container[0],"height",!0))-parseFloat($.css($container[0],"paddingTop",!0))-parseFloat($.css($container[0],"paddingBottom",!0))-parseFloat($.css($headerScroller[0],"height"))-getVBoxDelta($headerScroller)-(options.showTopPanel?options.topPanelHeight+getVBoxDelta($topPanelScroller):0)-(options.showHeaderRow?options.headerRowHeight+getVBoxDelta($headerRowScroller):0)-(options.createFooterRow&&options.showFooterRow?options.footerRowHeight+getVBoxDelta($footerRowScroller):0)-(options.createPreHeaderPanel&&options.showPreHeaderPanel?options.preHeaderPanelHeight+getVBoxDelta($preHeaderPanelScroller):0)}function resizeCanvas(){initialized&&(viewportH=options.autoHeight?options.rowHeight*getDataLengthIncludingAddNew():getViewportHeight(),numVisibleRows=Math.ceil(viewportH/options.rowHeight),viewportW=parseFloat($.css($container[0],"width",!0)),options.autoHeight||$viewport.height(viewportH),scrollbarDimensions&&scrollbarDimensions.width||(scrollbarDimensions=measureScrollbar()),options.forceFitColumns&&autosizeColumns(),updateRowCount(),handleScroll(),lastRenderedScrollLeft=-1,render())}function updatePagingStatusFromView(t){pagingActive=0!==t.pageSize,pagingIsLastPage=t.pageNum==t.totalPages-1}function updateRowCount(){if(initialized){var t=getDataLength(),e=getDataLengthIncludingAddNew()+(options.leaveSpaceForNewRows?numVisibleRows-1:0),i=viewportHasVScroll;viewportHasVScroll=options.alwaysShowVerticalScroll||!options.autoHeight&&e*options.rowHeight>viewportH,viewportHasHScroll=canvasWidth>viewportW-scrollbarDimensions.width,makeActiveCellNormal();var r=t-1;for(var o in rowsCache)o>r&&removeRowFromCache(o);options.enableAsyncPostRenderCleanup&&startPostProcessingCleanup(),activeCellNode&&activeRow>r&&resetActiveCell();var a=h;(th=Math.max(options.rowHeight*e,viewportH-scrollbarDimensions.height))<maxSupportedCssHeight?(h=ph=th,n=1,cj=0):(ph=(h=maxSupportedCssHeight)/100,n=Math.floor(th/ph),cj=(th-h)/(n-1)),h!==a&&($canvas.css("height",h),scrollTop=$viewport[0].scrollTop);var s=scrollTop+offset<=th-viewportH;0==th||0==scrollTop?page=offset=0:scrollTo(s?scrollTop+offset:th-viewportH),h!=a&&options.autoHeight&&resizeCanvas(),options.forceFitColumns&&i!=viewportHasVScroll&&autosizeColumns(),updateCanvasWidth(!1)}}function getVisibleRange(t,e){return null==t&&(t=scrollTop),null==e&&(e=scrollLeft),{top:getRowFromPosition(t),bottom:getRowFromPosition(t+viewportH)+1,leftPx:e,rightPx:e+viewportW}}function getRenderedRange(t,e){var n=getVisibleRange(t,e),i=Math.round(viewportH/options.rowHeight),r=options.minRowBuffer;return-1==vScrollDir?(n.top-=i,n.bottom+=r):1==vScrollDir?(n.top-=r,n.bottom+=i):(n.top-=r,n.bottom+=r),n.top=Math.max(0,n.top),n.bottom=Math.min(getDataLengthIncludingAddNew()-1,n.bottom),n.leftPx-=viewportW,n.rightPx+=viewportW,n.leftPx=Math.max(0,n.leftPx),n.rightPx=Math.min(canvasWidth,n.rightPx),n}function ensureCellNodesInRowsCache(t){var e=rowsCache[t];if(e&&e.cellRenderQueue.length)for(var n=e.rowNode.lastChild;e.cellRenderQueue.length;){var i=e.cellRenderQueue.pop();e.cellNodesByColumnIdx[i]=n,n=n.previousSibling}}function cleanUpCells(t,e){var n,i,r=rowsCache[e],o=[];for(var a in r.cellNodesByColumnIdx)if(r.cellNodesByColumnIdx.hasOwnProperty(a)){a|=0;var s=r.cellColSpans[a];(columnPosLeft[a]>t.rightPx||columnPosRight[Math.min(columns.length-1,a+s-1)]<t.leftPx)&&(e==activeRow&&a==activeCell||o.push(a))}for(postProcessgroupId++;null!=(n=o.pop());)i=r.cellNodesByColumnIdx[n],options.enableAsyncPostRenderCleanup&&postProcessedRows[e]&&postProcessedRows[e][n]?queuePostProcessedCellForCleanup(i,n,e):r.rowNode.removeChild(i),delete r.cellColSpans[n],delete r.cellNodesByColumnIdx[n],postProcessedRows[e]&&delete postProcessedRows[e][n],0}function cleanUpAndRenderCells(t){for(var e,n,i,r=[],o=[],a=t.top,s=t.bottom;a<=s;a++)if(e=rowsCache[a]){ensureCellNodesInRowsCache(a),cleanUpCells(t,a),n=0;var l=data.getItemMetadata&&data.getItemMetadata(a);l=l&&l.columns;for(var c=getDataItem(a),u=0,f=columns.length;u<f&&!(columnPosLeft[u]>t.rightPx);u++)if(null==(i=e.cellColSpans[u])){if(i=1,l){var h=l[columns[u].id]||l[u];"*"===(i=h&&h.colspan||1)&&(i=f-u)}columnPosRight[Math.min(f-1,u+i-1)]>t.leftPx&&(appendCellHtml(r,a,u,i,c),n++),u+=i>1?i-1:0}else u+=i>1?i-1:0;n&&(n,o.push(a))}if(r.length){var d,p,g=document.createElement("div");for(g.innerHTML=r.join("");null!=(d=o.pop());){var m;for(e=rowsCache[d];null!=(m=e.cellRenderQueue.pop());)p=g.lastChild,e.rowNode.appendChild(p),e.cellNodesByColumnIdx[m]=p}}}function renderRows(t){for(var e=$canvas[0],n=[],i=[],r=!1,o=getDataLength(),a=t.top,s=t.bottom;a<=s;a++)rowsCache[a]||(renderedRows++,i.push(a),rowsCache[a]={rowNode:null,cellColSpans:[],cellNodesByColumnIdx:[],cellRenderQueue:[]},appendRowHtml(n,a,t,o),activeCellNode&&activeRow===a&&(r=!0),counter_rows_rendered++);if(i.length){var l=document.createElement("div");l.innerHTML=n.join("");for(a=0,s=i.length;a<s;a++)rowsCache[i[a]].rowNode=e.appendChild(l.firstChild);r&&(activeCellNode=getCellNode(activeRow,activeCell))}}function startPostProcessing(){options.enableAsyncPostRender&&(clearTimeout(h_postrender),h_postrender=setTimeout(asyncPostProcessRows,options.asyncPostRenderDelay))}function startPostProcessingCleanup(){options.enableAsyncPostRenderCleanup&&(clearTimeout(h_postrenderCleanup),h_postrenderCleanup=setTimeout(asyncPostProcessCleanupRows,options.asyncPostRenderCleanupDelay))}function invalidatePostProcessingResults(t){for(var e in postProcessedRows[t])postProcessedRows[t].hasOwnProperty(e)&&(postProcessedRows[t][e]="C");postProcessFromRow=Math.min(postProcessFromRow,t),postProcessToRow=Math.max(postProcessToRow,t),startPostProcessing()}function updateRowPositions(){for(var t in rowsCache)rowsCache[t].rowNode.style.top=getRowTop(t)+"px"}function render(){if(initialized){var t=getVisibleRange(),e=getRenderedRange();cleanupRows(e),lastRenderedScrollLeft!=scrollLeft&&cleanUpAndRenderCells(e),renderRows(e),postProcessFromRow=t.top,postProcessToRow=Math.min(getDataLengthIncludingAddNew()-1,t.bottom),startPostProcessing(),lastRenderedScrollTop=scrollTop,lastRenderedScrollLeft=scrollLeft,h_render=null}}function handleHeaderScroll(){handleElementScroll($headerScroller[0])}function handleHeaderRowScroll(){handleElementScroll($headerRowScroller[0])}function handleFooterRowScroll(){handleElementScroll($footerRowScroller[0])}function handlePreHeaderPanelScroll(){handleElementScroll($preHeaderPanelScroller[0])}function handleElementScroll(t){var e=t.scrollLeft;e!=$viewport[0].scrollLeft&&($viewport[0].scrollLeft=e)}function handleScroll(){scrollTop=$viewport[0].scrollTop,scrollLeft=$viewport[0].scrollLeft;var t=Math.abs(scrollTop-prevScrollTop),e=Math.abs(scrollLeft-prevScrollLeft);if(e&&(prevScrollLeft=scrollLeft,$headerScroller[0].scrollLeft=scrollLeft,$topPanelScroller[0].scrollLeft=scrollLeft,$headerRowScroller[0].scrollLeft=scrollLeft,options.createFooterRow&&($footerRowScroller[0].scrollLeft=scrollLeft),options.createPreHeaderPanel&&($preHeaderPanelScroller[0].scrollLeft=scrollLeft)),t)if(vScrollDir=prevScrollTop<scrollTop?1:-1,prevScrollTop=scrollTop,t<viewportH)scrollTo(scrollTop+offset);else{var i=offset;page=h==viewportH?0:Math.min(n-1,Math.floor(scrollTop*((th-viewportH)/(h-viewportH))*(1/ph))),i!=(offset=Math.round(page*cj))&&invalidateAllRows()}(e||t)&&(h_render&&clearTimeout(h_render),(Math.abs(lastRenderedScrollTop-scrollTop)>20||Math.abs(lastRenderedScrollLeft-scrollLeft)>20)&&(options.forceSyncScrolling||Math.abs(lastRenderedScrollTop-scrollTop)<viewportH&&Math.abs(lastRenderedScrollLeft-scrollLeft)<viewportW?render():h_render=setTimeout(render,50),trigger(self.onViewportChanged,{grid:self}))),trigger(self.onScroll,{scrollLeft:scrollLeft,scrollTop:scrollTop,grid:self})}function asyncPostProcessRows(){for(var t=getDataLength();postProcessFromRow<=postProcessToRow;){var e=vScrollDir>=0?postProcessFromRow++:postProcessToRow--,n=rowsCache[e];if(n&&!(e>=t)){for(var i in postProcessedRows[e]||(postProcessedRows[e]={}),ensureCellNodesInRowsCache(e),n.cellNodesByColumnIdx)if(n.cellNodesByColumnIdx.hasOwnProperty(i)){var r=columns[i|=0],o=postProcessedRows[e][i];if(r.asyncPostRender&&"R"!==o){var a=n.cellNodesByColumnIdx[i];a&&r.asyncPostRender(a,e,getDataItem(e),r,"C"===o),postProcessedRows[e][i]="R"}}return void(h_postrender=setTimeout(asyncPostProcessRows,options.asyncPostRenderDelay))}}}function asyncPostProcessCleanupRows(){if(postProcessedCleanupQueue.length>0){for(var t=postProcessedCleanupQueue[0].groupId;postProcessedCleanupQueue.length>0&&postProcessedCleanupQueue[0].groupId==t;){var e=postProcessedCleanupQueue.shift();if("R"==e.actionType&&$(e.node).remove(),"C"==e.actionType){var n=columns[e.columnIdx];n.asyncPostRenderCleanup&&e.node&&n.asyncPostRenderCleanup(e.node,e.rowIdx,n)}}h_postrenderCleanup=setTimeout(asyncPostProcessCleanupRows,options.asyncPostRenderCleanupDelay)}}function updateCellCssStylesOnRenderedRows(t,e){var n,i,r,o;for(var a in rowsCache){if(o=e&&e[a],r=t&&t[a],o)for(i in o)r&&o[i]==r[i]||(n=getCellNode(a,getColumnIndex(i)))&&$(n).removeClass(o[i]);if(r)for(i in r)o&&o[i]==r[i]||(n=getCellNode(a,getColumnIndex(i)))&&$(n).addClass(r[i])}}function addCellCssStyles(t,e){if(cellCssClasses[t])throw new Error("addCellCssStyles: cell CSS hash with key '"+t+"' already exists.");cellCssClasses[t]=e,updateCellCssStylesOnRenderedRows(e,null),trigger(self.onCellCssStylesChanged,{key:t,hash:e,grid:self})}function removeCellCssStyles(t){cellCssClasses[t]&&(updateCellCssStylesOnRenderedRows(null,cellCssClasses[t]),delete cellCssClasses[t],trigger(self.onCellCssStylesChanged,{key:t,hash:null,grid:self}))}function setCellCssStyles(t,e){var n=cellCssClasses[t];cellCssClasses[t]=e,updateCellCssStylesOnRenderedRows(e,n),trigger(self.onCellCssStylesChanged,{key:t,hash:e,grid:self})}function getCellCssStyles(t){return cellCssClasses[t]}function flashCell(t,e,n){if(n=n||100,rowsCache[t]){var i=$(getCellNode(t,e));!function t(e){e&&setTimeout(function(){i.queue(function(){i.toggleClass(options.cellFlashingCssClass).dequeue(),t(e-1)})},n)}(4)}}function handleMouseWheel(t){var e=$(t.target).closest(".slick-row")[0];e!=rowNodeFromLastMouseWheelEvent&&(zombieRowNodeFromLastMouseWheelEvent&&zombieRowNodeFromLastMouseWheelEvent!=e&&(options.enableAsyncPostRenderCleanup&&zombieRowPostProcessedFromLastMouseWheelEvent?queuePostProcessedRowForCleanup(zombieRowCacheFromLastMouseWheelEvent,zombieRowPostProcessedFromLastMouseWheelEvent):$canvas[0].removeChild(zombieRowNodeFromLastMouseWheelEvent),zombieRowNodeFromLastMouseWheelEvent=null,zombieRowCacheFromLastMouseWheelEvent=null,zombieRowPostProcessedFromLastMouseWheelEvent=null,options.enableAsyncPostRenderCleanup&&startPostProcessingCleanup()),rowNodeFromLastMouseWheelEvent=e)}function handleDragInit(t,e){var n=getCellFromEvent(t);if(!n||!cellExists(n.row,n.cell))return!1;var i=trigger(self.onDragInit,e,t);return!!t.isImmediatePropagationStopped()&&i}function handleDragStart(t,e){var n=getCellFromEvent(t);if(!n||!cellExists(n.row,n.cell))return!1;var i=trigger(self.onDragStart,e,t);return!!t.isImmediatePropagationStopped()&&i}function handleDrag(t,e){return trigger(self.onDrag,e,t)}function handleDragEnd(t,e){trigger(self.onDragEnd,e,t)}function handleKeyDown(t){trigger(self.onKeyDown,{row:activeRow,cell:activeCell,grid:self},t);var e=t.isImmediatePropagationStopped(),n=Slick.keyCode;if(!e&&!t.shiftKey&&!t.altKey){if(options.editable&&currentEditor&&currentEditor.keyCaptureList&&currentEditor.keyCaptureList.indexOf(t.which)>-1)return;t.which==n.HOME?e=t.ctrlKey?navigateTop():navigateRowStart():t.which==n.END&&(e=t.ctrlKey?navigateBottom():navigateRowEnd())}if(!e)if(t.shiftKey||t.altKey||t.ctrlKey)t.which!=n.TAB||!t.shiftKey||t.ctrlKey||t.altKey||(e=navigatePrev());else{if(options.editable&&currentEditor&&currentEditor.keyCaptureList&&currentEditor.keyCaptureList.indexOf(t.which)>-1)return;if(t.which==n.ESCAPE){if(!getEditorLock().isActive())return;cancelEditAndSetFocus()}else t.which==n.PAGE_DOWN?(navigatePageDown(),e=!0):t.which==n.PAGE_UP?(navigatePageUp(),e=!0):t.which==n.LEFT?e=navigateLeft():t.which==n.RIGHT?e=navigateRight():t.which==n.UP?e=navigateUp():t.which==n.DOWN?e=navigateDown():t.which==n.TAB?e=navigateNext():t.which==n.ENTER&&(options.editable&&(currentEditor?activeRow===getDataLength()?navigateDown():commitEditAndSetFocus():getEditorLock().commitCurrentEdit()&&makeActiveCellEditable()),e=!0)}if(e){t.stopPropagation(),t.preventDefault();try{t.originalEvent.keyCode=0}catch(t){}}}function handleClick(t){currentEditor||(t.target!=document.activeElement||$(t.target).hasClass("slick-cell"))&&setFocus();var e=getCellFromEvent(t);if(e&&(null===currentEditor||activeRow!=e.row||activeCell!=e.cell)&&(trigger(self.onClick,{row:e.row,cell:e.cell,grid:self},t),!t.isImmediatePropagationStopped()&&canCellBeActive(e.row,e.cell)&&(!getEditorLock().isActive()||getEditorLock().commitCurrentEdit()))){scrollRowIntoView(e.row,!1);var n=t.target&&t.target.className===Slick.preClickClassName,i=columns[e.cell],r=!!(options.editable&&i&&i.editor&&options.suppressActiveCellChangeOnEdit);setActiveCellInternal(getCellNode(e.row,e.cell),null,n,r)}}function handleContextMenu(t){var e=$(t.target).closest(".slick-cell",$canvas);0!==e.length&&(activeCellNode===e[0]&&null!==currentEditor||trigger(self.onContextMenu,{grid:self},t))}function handleDblClick(t){var e=getCellFromEvent(t);!e||null!==currentEditor&&activeRow==e.row&&activeCell==e.cell||(trigger(self.onDblClick,{row:e.row,cell:e.cell,grid:self},t),t.isImmediatePropagationStopped()||options.editable&&gotoCell(e.row,e.cell,!0))}function handleHeaderMouseEnter(t){trigger(self.onHeaderMouseEnter,{column:$(this).data("column"),grid:self},t)}function handleHeaderMouseLeave(t){trigger(self.onHeaderMouseLeave,{column:$(this).data("column"),grid:self},t)}function handleHeaderContextMenu(t){var e=$(t.target).closest(".slick-header-column",".slick-header-columns"),n=e&&e.data("column");trigger(self.onHeaderContextMenu,{column:n,grid:self},t)}function handleHeaderClick(t){if(!columnResizeDragging){var e=$(t.target).closest(".slick-header-column",".slick-header-columns"),n=e&&e.data("column");n&&trigger(self.onHeaderClick,{column:n,grid:self},t)}}function handleMouseEnter(t){trigger(self.onMouseEnter,{grid:self},t)}function handleMouseLeave(t){trigger(self.onMouseLeave,{grid:self},t)}function cellExists(t,e){return!(t<0||t>=getDataLength()||e<0||e>=columns.length)}function getCellFromPoint(t,e){for(var n=getRowFromPosition(e),i=0,r=0,o=0;o<columns.length&&r<t;o++)r+=columns[o].width,i++;return i<0&&(i=0),{row:n,cell:i-1}}function getCellFromNode(t){var e=/l\d+/.exec(t.className);if(!e)throw new Error("getCellFromNode: cannot get cell - "+t.className);return parseInt(e[0].substr(1,e[0].length-1),10)}function getRowFromNode(t){for(var e in rowsCache)if(rowsCache[e].rowNode===t)return 0|e;return null}function getCellFromEvent(t){var e=$(t.target).closest(".slick-cell",$canvas);if(!e.length)return null;var n=getRowFromNode(e[0].parentNode),i=getCellFromNode(e[0]);return null==n||null==i?null:{row:n,cell:i}}function getCellNodeBox(t,e){if(!cellExists(t,e))return null;for(var n=getRowTop(t),i=n+options.rowHeight-1,r=0,o=0;o<e;o++)r+=columns[o].width;return{top:n,left:r,bottom:i,right:r+columns[e].width}}function resetActiveCell(){setActiveCellInternal(null,!1)}function setFocus(){-1==tabbingDirection?$focusSink[0].focus():$focusSink2[0].focus()}function scrollCellIntoView(t,e,n){scrollRowIntoView(t,n);var i=getColspan(t,e);internalScrollColumnIntoView(columnPosLeft[e],columnPosRight[e+(i>1?i-1:0)])}function internalScrollColumnIntoView(t,e){var n=scrollLeft+viewportW;t<scrollLeft?($viewport.scrollLeft(t),handleScroll(),render()):e>n&&($viewport.scrollLeft(Math.min(t,e-$viewport[0].clientWidth)),handleScroll(),render())}function scrollColumnIntoView(t){internalScrollColumnIntoView(columnPosLeft[t],columnPosRight[t])}function setActiveCellInternal(t,e,n,i){null!==activeCellNode&&(makeActiveCellNormal(),$(activeCellNode).removeClass("active"),rowsCache[activeRow]&&$(rowsCache[activeRow].rowNode).removeClass("active"));null!=(activeCellNode=t)?(activeRow=getRowFromNode(activeCellNode.parentNode),activeCell=activePosX=getCellFromNode(activeCellNode),null==e&&(e=activeRow==getDataLength()||options.autoEdit),options.showCellSelection&&($(activeCellNode).addClass("active"),$(rowsCache[activeRow].rowNode).addClass("active")),options.editable&&e&&isCellPotentiallyEditable(activeRow,activeCell)&&(clearTimeout(h_editorLoader),options.asyncEditorLoading?h_editorLoader=setTimeout(function(){makeActiveCellEditable(void 0,n)},options.asyncEditorLoadDelay):makeActiveCellEditable(void 0,n))):activeRow=activeCell=null,i||trigger(self.onActiveCellChanged,getActiveCell())}function clearTextSelection(){if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(t){}else if(window.getSelection){var t=window.getSelection();t&&t.removeAllRanges&&t.removeAllRanges()}}function isCellPotentiallyEditable(t,e){var n=getDataLength();return!(t<n&&!getDataItem(t))&&(!(columns[e].cannotTriggerInsert&&t>=n)&&!!getEditor(t,e))}function makeActiveCellNormal(){if(currentEditor){if(trigger(self.onBeforeCellEditorDestroy,{editor:currentEditor,grid:self}),currentEditor.destroy(),currentEditor=null,activeCellNode){var t=getDataItem(activeRow);if($(activeCellNode).removeClass("editable invalid"),t){var e=columns[activeCell];applyFormatResultToCellNode(getFormatter(activeRow,e)(activeRow,activeCell,getDataItemValueForColumn(t,e),e,t,self),activeCellNode),invalidatePostProcessingResults(activeRow)}}navigator.userAgent.toLowerCase().match(/msie/)&&clearTextSelection(),getEditorLock().deactivate(editController)}}function makeActiveCellEditable(t,e){if(activeCellNode){if(!options.editable)throw new Error("Grid : makeActiveCellEditable : should never get called when options.editable is false");if(clearTimeout(h_editorLoader),isCellPotentiallyEditable(activeRow,activeCell)){var n=columns[activeCell],i=getDataItem(activeRow);if(!1!==trigger(self.onBeforeEditCell,{row:activeRow,cell:activeCell,item:i,column:n,grid:self})){getEditorLock().activate(editController),$(activeCellNode).addClass("editable");var r=t||getEditor(activeRow,activeCell);t||r.suppressClearOnEdit||(activeCellNode.innerHTML=""),currentEditor=new r({grid:self,gridPosition:absBox($container[0]),position:absBox(activeCellNode),container:activeCellNode,column:n,item:i||{},commitChanges:commitEditAndSetFocus,cancelChanges:cancelEditAndSetFocus}),i&&(currentEditor.loadValue(i),e&&currentEditor.preClick&&currentEditor.preClick()),serializedEditorValue=currentEditor.serializeValue(),currentEditor.position&&handleActiveCellPositionChange()}else setFocus()}}}function commitEditAndSetFocus(){getEditorLock().commitCurrentEdit()&&(setFocus(),options.autoEdit&&navigateDown())}function cancelEditAndSetFocus(){getEditorLock().cancelCurrentEdit()&&setFocus()}function absBox(t){var e={top:t.offsetTop,left:t.offsetLeft,bottom:0,right:0,width:$(t).outerWidth(),height:$(t).outerHeight(),visible:!0};e.bottom=e.top+e.height,e.right=e.left+e.width;for(var n=t.offsetParent;(t=t.parentNode)!=document.body&&null!=t;)e.visible&&t.scrollHeight!=t.offsetHeight&&"visible"!=$(t).css("overflowY")&&(e.visible=e.bottom>t.scrollTop&&e.top<t.scrollTop+t.clientHeight),e.visible&&t.scrollWidth!=t.offsetWidth&&"visible"!=$(t).css("overflowX")&&(e.visible=e.right>t.scrollLeft&&e.left<t.scrollLeft+t.clientWidth),e.left-=t.scrollLeft,e.top-=t.scrollTop,t===n&&(e.left+=t.offsetLeft,e.top+=t.offsetTop,n=t.offsetParent),e.bottom=e.top+e.height,e.right=e.left+e.width;return e}function getActiveCellPosition(){return absBox(activeCellNode)}function getGridPosition(){return absBox($container[0])}function handleActiveCellPositionChange(){if(activeCellNode&&(trigger(self.onActiveCellPositionChanged,{grid:self}),currentEditor)){var t=getActiveCellPosition();currentEditor.show&&currentEditor.hide&&(t.visible?currentEditor.show():currentEditor.hide()),currentEditor.position&&currentEditor.position(t)}}function getCellEditor(){return currentEditor}function getActiveCell(){return activeCellNode?{row:activeRow,cell:activeCell,grid:self}:null}function getActiveCellNode(){return activeCellNode}function scrollRowIntoView(t,e){var n=t*options.rowHeight,i=(t+1)*options.rowHeight-viewportH+(viewportHasHScroll?scrollbarDimensions.height:0);(t+1)*options.rowHeight>scrollTop+viewportH+offset?(scrollTo(e?n:i),render()):t*options.rowHeight<scrollTop+offset&&(scrollTo(e?i:n),render())}function scrollRowToTop(t){scrollTo(t*options.rowHeight),render()}function scrollPage(t){var e=t*numVisibleRows;if(scrollTo((getRowFromPosition(scrollTop)+e)*options.rowHeight),render(),options.enableCellNavigation&&null!=activeRow){var n=activeRow+e,i=getDataLengthIncludingAddNew();n>=i&&(n=i-1),n<0&&(n=0);for(var r=0,o=null,a=activePosX;r<=activePosX;)canCellBeActive(n,r)&&(o=r),r+=getColspan(n,r);null!==o?(setActiveCellInternal(getCellNode(n,o)),activePosX=a):resetActiveCell()}}function navigatePageDown(){scrollPage(1)}function navigatePageUp(){scrollPage(-1)}function navigateTop(){navigateToRow(0)}function navigateBottom(){navigateToRow(getDataLength()-1)}function navigateToRow(t){var e=getDataLength();if(!e)return!0;if(t<0?t=0:t>=e&&(t=e-1),scrollCellIntoView(t,0,!0),options.enableCellNavigation&&null!=activeRow){for(var n=0,i=null,r=activePosX;n<=activePosX;)canCellBeActive(t,n)&&(i=n),n+=getColspan(t,n);null!==i?(setActiveCellInternal(getCellNode(t,i)),activePosX=r):resetActiveCell()}return!0}function getColspan(t,e){var n=data.getItemMetadata&&data.getItemMetadata(t);if(!n||!n.columns)return 1;var i=n.columns[columns[e].id]||n.columns[e],r=i&&i.colspan;return r="*"===r?columns.length-e:r||1}function findFirstFocusableCell(t){for(var e=0;e<columns.length;){if(canCellBeActive(t,e))return e;e+=getColspan(t,e)}return null}function findLastFocusableCell(t){for(var e=0,n=null;e<columns.length;)canCellBeActive(t,e)&&(n=e),e+=getColspan(t,e);return n}function gotoRight(t,e,n){if(e>=columns.length)return null;do{e+=getColspan(t,e)}while(e<columns.length&&!canCellBeActive(t,e));return e<columns.length?{row:t,cell:e,posX:e}:null}function gotoLeft(t,e,n){if(e<=0)return null;var i=findFirstFocusableCell(t);if(null===i||i>=e)return null;for(var r,o={row:t,cell:i,posX:i};;){if(!(r=gotoRight(o.row,o.cell,o.posX)))return null;if(r.cell>=e)return o;o=r}}function gotoDown(t,e,n){for(var i,r=getDataLengthIncludingAddNew();;){if(++t>=r)return null;for(i=e=0;e<=n;)i=e,e+=getColspan(t,e);if(canCellBeActive(t,i))return{row:t,cell:i,posX:n}}}function gotoUp(t,e,n){for(var i;;){if(--t<0)return null;for(i=e=0;e<=n;)i=e,e+=getColspan(t,e);if(canCellBeActive(t,i))return{row:t,cell:i,posX:n}}}function gotoNext(t,e,n){if(null==t&&null==e&&canCellBeActive(t=e=n=0,e))return{row:t,cell:e,posX:e};var i=gotoRight(t,e,n);if(i)return i;var r=null,o=getDataLengthIncludingAddNew();for(t===o-1&&t--;++t<o;)if(null!==(r=findFirstFocusableCell(t)))return{row:t,cell:r,posX:r};return null}function gotoPrev(t,e,n){if(null==t&&null==e&&canCellBeActive(t=getDataLengthIncludingAddNew()-1,e=n=columns.length-1))return{row:t,cell:e,posX:e};for(var i,r;!i&&!(i=gotoLeft(t,e,n));){if(--t<0)return null;e=0,null!==(r=findLastFocusableCell(t))&&(i={row:t,cell:r,posX:r})}return i}function gotoRowStart(t,e,n){var i=findFirstFocusableCell(t);return null===i?null:{row:t,cell:i,posX:n}}function gotoRowEnd(t,e,n){var i=findLastFocusableCell(t);return null===i?null:{row:t,cell:i,posX:n}}function navigateRight(){return navigate("right")}function navigateLeft(){return navigate("left")}function navigateDown(){return navigate("down")}function navigateUp(){return navigate("up")}function navigateNext(){return navigate("next")}function navigatePrev(){return navigate("prev")}function navigateRowStart(){return navigate("home")}function navigateRowEnd(){return navigate("end")}function navigate(t){if(!options.enableCellNavigation)return!1;if(!activeCellNode&&"prev"!=t&&"next"!=t)return!1;if(!getEditorLock().commitCurrentEdit())return!0;setFocus();tabbingDirection={up:-1,down:1,left:-1,right:1,prev:-1,next:1,home:-1,end:1}[t];var e=(0,{up:gotoUp,down:gotoDown,left:gotoLeft,right:gotoRight,prev:gotoPrev,next:gotoNext,home:gotoRowStart,end:gotoRowEnd}[t])(activeRow,activeCell,activePosX);if(e){var n=e.row==getDataLength();return scrollCellIntoView(e.row,e.cell,!n&&options.emulatePagingWhenScrolling),setActiveCellInternal(getCellNode(e.row,e.cell)),activePosX=e.posX,!0}return setActiveCellInternal(getCellNode(activeRow,activeCell)),!1}function getCellNode(t,e){return rowsCache[t]?(ensureCellNodesInRowsCache(t),rowsCache[t].cellNodesByColumnIdx[e]):null}function setActiveCell(t,e,n,i,r){initialized&&(t>getDataLength()||t<0||e>=columns.length||e<0||options.enableCellNavigation&&(scrollCellIntoView(t,e,!1),setActiveCellInternal(getCellNode(t,e),n,i,r)))}function canCellBeActive(t,e){if(!options.enableCellNavigation||t>=getDataLengthIncludingAddNew()||t<0||e>=columns.length||e<0)return!1;var n=data.getItemMetadata&&data.getItemMetadata(t);if(n&&void 0!==n.focusable)return!!n.focusable;var i=n&&n.columns;return i&&i[columns[e].id]&&void 0!==i[columns[e].id].focusable?!!i[columns[e].id].focusable:i&&i[e]&&void 0!==i[e].focusable?!!i[e].focusable:!!columns[e].focusable}function canCellBeSelected(t,e){if(t>=getDataLength()||t<0||e>=columns.length||e<0)return!1;var n=data.getItemMetadata&&data.getItemMetadata(t);if(n&&void 0!==n.selectable)return!!n.selectable;var i=n&&n.columns&&(n.columns[columns[e].id]||n.columns[e]);return i&&void 0!==i.selectable?!!i.selectable:!!columns[e].selectable}function gotoCell(t,e,n){initialized&&(canCellBeActive(t,e)&&getEditorLock().commitCurrentEdit()&&(scrollCellIntoView(t,e,!1),setActiveCellInternal(getCellNode(t,e),n||t===getDataLength()||options.autoEdit,null,options.editable),currentEditor||setFocus()))}function commitCurrentEdit(){var t=getDataItem(activeRow),e=columns[activeCell];if(currentEditor){if(currentEditor.isValueChanged()){var n=currentEditor.validate();if(n.valid){if(activeRow<getDataLength()){var i={row:activeRow,cell:activeCell,editor:currentEditor,serializedValue:currentEditor.serializeValue(),prevSerializedValue:serializedEditorValue,execute:function(){this.editor.applyValue(t,this.serializedValue),updateRow(this.row),trigger(self.onCellChange,{row:this.row,cell:this.cell,item:t,grid:self})},undo:function(){this.editor.applyValue(t,this.prevSerializedValue),updateRow(this.row),trigger(self.onCellChange,{row:this.row,cell:this.cell,item:t,grid:self})}};options.editCommandHandler?(makeActiveCellNormal(),options.editCommandHandler(t,e,i)):(i.execute(),makeActiveCellNormal())}else{var r={};currentEditor.applyValue(r,currentEditor.serializeValue()),makeActiveCellNormal(),trigger(self.onAddNewRow,{item:r,column:e,grid:self})}return!getEditorLock().isActive()}return $(activeCellNode).removeClass("invalid"),$(activeCellNode).width(),$(activeCellNode).addClass("invalid"),trigger(self.onValidationError,{editor:currentEditor,cellNode:activeCellNode,validationResults:n,row:activeRow,cell:activeCell,column:e,grid:self}),currentEditor.focus(),!1}makeActiveCellNormal()}return!0}function cancelCurrentEdit(){return makeActiveCellNormal(),!0}function rowsToRanges(t){for(var e=[],n=columns.length-1,i=0;i<t.length;i++)e.push(new Slick.Range(t[i],0,t[i],n));return e}function getSelectedRows(){if(!selectionModel)throw new Error("Selection model is not set");return selectedRows}function setSelectedRows(t){if(!selectionModel)throw new Error("Selection model is not set");selectionModel.setSelectedRanges(rowsToRanges(t))}this.debug=function(){var t="";t+="\ncounter_rows_rendered:  "+counter_rows_rendered,t+="\ncounter_rows_removed:  "+counter_rows_removed,t+="\nrenderedRows:  "+renderedRows,t+="\nnumVisibleRows:  "+numVisibleRows,t+="\nmaxSupportedCssHeight:  "+maxSupportedCssHeight,t+="\nn(umber of pages):  "+n,t+="\n(current) page:  "+page,t+="\npage height (ph):  "+ph,t+="\nvScrollDir:  "+vScrollDir,alert(t)},this.eval=function(expr){return eval(expr)},$.extend(this,{slickGridVersion:"2.3.19",onScroll:new Slick.Event,onSort:new Slick.Event,onHeaderMouseEnter:new Slick.Event,onHeaderMouseLeave:new Slick.Event,onHeaderContextMenu:new Slick.Event,onHeaderClick:new Slick.Event,onHeaderCellRendered:new Slick.Event,onBeforeHeaderCellDestroy:new Slick.Event,onHeaderRowCellRendered:new Slick.Event,onFooterRowCellRendered:new Slick.Event,onBeforeHeaderRowCellDestroy:new Slick.Event,onBeforeFooterRowCellDestroy:new Slick.Event,onMouseEnter:new Slick.Event,onMouseLeave:new Slick.Event,onClick:new Slick.Event,onDblClick:new Slick.Event,onContextMenu:new Slick.Event,onKeyDown:new Slick.Event,onAddNewRow:new Slick.Event,onBeforeAppendCell:new Slick.Event,onValidationError:new Slick.Event,onViewportChanged:new Slick.Event,onColumnsReordered:new Slick.Event,onColumnsResized:new Slick.Event,onCellChange:new Slick.Event,onBeforeEditCell:new Slick.Event,onBeforeCellEditorDestroy:new Slick.Event,onBeforeDestroy:new Slick.Event,onActiveCellChanged:new Slick.Event,onActiveCellPositionChanged:new Slick.Event,onDragInit:new Slick.Event,onDragStart:new Slick.Event,onDrag:new Slick.Event,onDragEnd:new Slick.Event,onSelectedRowsChanged:new Slick.Event,onCellCssStylesChanged:new Slick.Event,registerPlugin:registerPlugin,unregisterPlugin:unregisterPlugin,getColumns:getColumns,setColumns:setColumns,getColumnIndex:getColumnIndex,updateColumnHeader:updateColumnHeader,setSortColumn:setSortColumn,setSortColumns:setSortColumns,getSortColumns:getSortColumns,autosizeColumns:autosizeColumns,getOptions:getOptions,setOptions:setOptions,getData:getData,getDataLength:getDataLength,getDataItem:getDataItem,setData:setData,getSelectionModel:getSelectionModel,setSelectionModel:setSelectionModel,getSelectedRows:getSelectedRows,setSelectedRows:setSelectedRows,getContainerNode:getContainerNode,updatePagingStatusFromView:updatePagingStatusFromView,render:render,invalidate:invalidate,invalidateRow:invalidateRow,invalidateRows:invalidateRows,invalidateAllRows:invalidateAllRows,updateCell:updateCell,updateRow:updateRow,getViewport:getVisibleRange,getRenderedRange:getRenderedRange,resizeCanvas:resizeCanvas,updateRowCount:updateRowCount,scrollRowIntoView:scrollRowIntoView,scrollRowToTop:scrollRowToTop,scrollCellIntoView:scrollCellIntoView,scrollColumnIntoView:scrollColumnIntoView,getCanvasNode:getCanvasNode,getUID:getUID,getHeaderColumnWidthDiff:getHeaderColumnWidthDiff,getScrollbarDimensions:getScrollbarDimensions,getHeadersWidth:getHeadersWidth,getCanvasWidth:getCanvasWidth,focus:setFocus,scrollTo:scrollTo,getCellFromPoint:getCellFromPoint,getCellFromEvent:getCellFromEvent,getActiveCell:getActiveCell,setActiveCell:setActiveCell,getActiveCellNode:getActiveCellNode,getActiveCellPosition:getActiveCellPosition,resetActiveCell:resetActiveCell,editActiveCell:makeActiveCellEditable,getCellEditor:getCellEditor,getCellNode:getCellNode,getCellNodeBox:getCellNodeBox,canCellBeSelected:canCellBeSelected,canCellBeActive:canCellBeActive,navigatePrev:navigatePrev,navigateNext:navigateNext,navigateUp:navigateUp,navigateDown:navigateDown,navigateLeft:navigateLeft,navigateRight:navigateRight,navigatePageUp:navigatePageUp,navigatePageDown:navigatePageDown,navigateTop:navigateTop,navigateBottom:navigateBottom,navigateRowStart:navigateRowStart,navigateRowEnd:navigateRowEnd,gotoCell:gotoCell,getTopPanel:getTopPanel,setTopPanelVisibility:setTopPanelVisibility,getPreHeaderPanel:getPreHeaderPanel,setPreHeaderPanelVisibility:setPreHeaderPanelVisibility,getHeader:getHeader,getHeaderColumn:getHeaderColumn,setHeaderRowVisibility:setHeaderRowVisibility,getHeaderRow:getHeaderRow,getHeaderRowColumn:getHeaderRowColumn,setFooterRowVisibility:setFooterRowVisibility,getFooterRow:getFooterRow,getFooterRowColumn:getFooterRowColumn,getGridPosition:getGridPosition,flashCell:flashCell,addCellCssStyles:addCellCssStyles,setCellCssStyles:setCellCssStyles,removeCellCssStyles:removeCellCssStyles,getCellCssStyles:getCellCssStyles,init:finishInitialization,destroy:destroy,getEditorLock:getEditorLock,getEditController:getEditController}),init()}exports.Slick=Slick,exports.SlickGrid=SlickGrid}).call(this,__webpack_require__(0),__webpack_require__(0))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r={};function o(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function a(t){var e;return 1===t.length&&(e=t,t=function(t,n){return o(e(t),n)}),{left:function(e,n,i,r){for(null==i&&(i=0),null==r&&(r=e.length);i<r;){var o=i+r>>>1;t(e[o],n)<0?i=o+1:r=o}return i},right:function(e,n,i,r){for(null==i&&(i=0),null==r&&(r=e.length);i<r;){var o=i+r>>>1;t(e[o],n)>0?r=o:i=o+1}return i}}}var s=a(o),l=s.right,c=s.left;function u(t,e){return[t,e]}function f(t){return null===t?NaN:+t}function h(t,e){var n,i,r=t.length,o=0,a=-1,s=0,l=0;if(null==e)for(;++a<r;)isNaN(n=f(t[a]))||(l+=(i=n-s)*(n-(s+=i/++o)));else for(;++a<r;)isNaN(n=f(e(t[a],a,t)))||(l+=(i=n-s)*(n-(s+=i/++o)));if(o>1)return l/(o-1)}function d(t,e){var n=h(t,e);return n?Math.sqrt(n):n}function p(t,e){var n,i,r,o=t.length,a=-1;if(null==e){for(;++a<o;)if(null!=(n=t[a])&&n>=n)for(i=r=n;++a<o;)null!=(n=t[a])&&(i>n&&(i=n),r<n&&(r=n))}else for(;++a<o;)if(null!=(n=e(t[a],a,t))&&n>=n)for(i=r=n;++a<o;)null!=(n=e(t[a],a,t))&&(i>n&&(i=n),r<n&&(r=n));return[i,r]}var g=Array.prototype,m=g.slice,v=g.map;function b(t){return function(){return t}}function y(t){return t}function _(t,e,n){t=+t,e=+e,n=(r=arguments.length)<2?(e=t,t=0,1):r<3?1:+n;for(var i=-1,r=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(r);++i<r;)o[i]=t+i*n;return o}var x=Math.sqrt(50),w=Math.sqrt(10),k=Math.sqrt(2);function C(t,e,n){var i,r,o,a,s=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((i=e<t)&&(r=t,t=e,e=r),0===(a=F(t,e,n))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),e=Math.floor(e/a),o=new Array(r=Math.ceil(e-t+1));++s<r;)o[s]=(t+s)*a;else for(t=Math.floor(t*a),e=Math.ceil(e*a),o=new Array(r=Math.ceil(t-e+1));++s<r;)o[s]=(t-s)/a;return i&&o.reverse(),o}function F(t,e,n){var i=(e-t)/Math.max(0,n),r=Math.floor(Math.log(i)/Math.LN10),o=i/Math.pow(10,r);return r>=0?(o>=x?10:o>=w?5:o>=k?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(o>=x?10:o>=w?5:o>=k?2:1)}function A(t,e,n){var i=Math.abs(e-t)/Math.max(0,n),r=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),o=i/r;return o>=x?r*=10:o>=w?r*=5:o>=k&&(r*=2),e<t?-r:r}function S(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}function D(t,e,n){if(null==n&&(n=f),i=t.length){if((e=+e)<=0||i<2)return+n(t[0],0,t);if(e>=1)return+n(t[i-1],i-1,t);var i,r=(i-1)*e,o=Math.floor(r),a=+n(t[o],o,t);return a+(+n(t[o+1],o+1,t)-a)*(r-o)}}function M(t,e){var n,i,r=t.length,o=-1;if(null==e){for(;++o<r;)if(null!=(n=t[o])&&n>=n)for(i=n;++o<r;)null!=(n=t[o])&&n>i&&(i=n)}else for(;++o<r;)if(null!=(n=e(t[o],o,t))&&n>=n)for(i=n;++o<r;)null!=(n=e(t[o],o,t))&&n>i&&(i=n);return i}function T(t){for(var e,n,i,r=t.length,o=-1,a=0;++o<r;)a+=t[o].length;for(n=new Array(a);--r>=0;)for(e=(i=t[r]).length;--e>=0;)n[--a]=i[e];return n}function E(t,e){var n,i,r=t.length,o=-1;if(null==e){for(;++o<r;)if(null!=(n=t[o])&&n>=n)for(i=n;++o<r;)null!=(n=t[o])&&i>n&&(i=n)}else for(;++o<r;)if(null!=(n=e(t[o],o,t))&&n>=n)for(i=n;++o<r;)null!=(n=e(t[o],o,t))&&i>n&&(i=n);return i}function P(t){if(!(r=t.length))return[];for(var e=-1,n=E(t,I),i=new Array(n);++e<n;)for(var r,o=-1,a=i[e]=new Array(r);++o<r;)a[o]=t[o][e];return i}function I(t){return t.length}var R=Array.prototype.slice;function N(t){return t}var z=1,O=2,L=3,j=4,H=1e-6;function B(t){return"translate("+(t+.5)+",0)"}function W(t){return"translate(0,"+(t+.5)+")"}function q(){return!this.__axis}function U(t,e){var n=[],i=null,r=null,o=6,a=6,s=3,l=t===z||t===j?-1:1,c=t===j||t===O?"x":"y",u=t===z||t===L?B:W;function f(f){var h=null==i?e.ticks?e.ticks.apply(e,n):e.domain():i,d=null==r?e.tickFormat?e.tickFormat.apply(e,n):N:r,p=Math.max(o,0)+s,g=e.range(),m=+g[0]+.5,v=+g[g.length-1]+.5,b=(e.bandwidth?function(t){var e=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(e=Math.round(e)),function(n){return+t(n)+e}}:function(t){return function(e){return+t(e)}})(e.copy()),y=f.selection?f.selection():f,_=y.selectAll(".domain").data([null]),x=y.selectAll(".tick").data(h,e).order(),w=x.exit(),k=x.enter().append("g").attr("class","tick"),C=x.select("line"),F=x.select("text");_=_.merge(_.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),x=x.merge(k),C=C.merge(k.append("line").attr("stroke","currentColor").attr(c+"2",l*o)),F=F.merge(k.append("text").attr("fill","currentColor").attr(c,l*p).attr("dy",t===z?"0em":t===L?"0.71em":"0.32em")),f!==y&&(_=_.transition(f),x=x.transition(f),C=C.transition(f),F=F.transition(f),w=w.transition(f).attr("opacity",H).attr("transform",function(t){return isFinite(t=b(t))?u(t):this.getAttribute("transform")}),k.attr("opacity",H).attr("transform",function(t){var e=this.parentNode.__axis;return u(e&&isFinite(e=e(t))?e:b(t))})),w.remove(),_.attr("d",t===j||t==O?a?"M"+l*a+","+m+"H0.5V"+v+"H"+l*a:"M0.5,"+m+"V"+v:a?"M"+m+","+l*a+"V0.5H"+v+"V"+l*a:"M"+m+",0.5H"+v),x.attr("opacity",1).attr("transform",function(t){return u(b(t))}),C.attr(c+"2",l*o),F.attr(c,l*p).text(d),y.filter(q).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===O?"start":t===j?"end":"middle"),y.each(function(){this.__axis=b})}return f.scale=function(t){return arguments.length?(e=t,f):e},f.ticks=function(){return n=R.call(arguments),f},f.tickArguments=function(t){return arguments.length?(n=null==t?[]:R.call(t),f):n.slice()},f.tickValues=function(t){return arguments.length?(i=null==t?null:R.call(t),f):i&&i.slice()},f.tickFormat=function(t){return arguments.length?(r=t,f):r},f.tickSize=function(t){return arguments.length?(o=a=+t,f):o},f.tickSizeInner=function(t){return arguments.length?(o=+t,f):o},f.tickSizeOuter=function(t){return arguments.length?(a=+t,f):a},f.tickPadding=function(t){return arguments.length?(s=+t,f):s},f}var $={value:function(){}};function V(){for(var t,e=0,n=arguments.length,i={};e<n;++e){if(!(t=arguments[e]+"")||t in i)throw new Error("illegal type: "+t);i[t]=[]}return new G(i)}function G(t){this._=t}function Y(t,e){for(var n,i=0,r=t.length;i<r;++i)if((n=t[i]).name===e)return n.value}function X(t,e,n){for(var i=0,r=t.length;i<r;++i)if(t[i].name===e){t[i]=$,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=n&&t.push({name:e,value:n}),t}G.prototype=V.prototype={constructor:G,on:function(t,e){var n,i,r=this._,o=(i=r,(t+"").trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");if(n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!i.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})),a=-1,s=o.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++a<s;)if(n=(t=o[a]).type)r[n]=X(r[n],t.name,e);else if(null==e)for(n in r)r[n]=X(r[n],t.name,null);return this}for(;++a<s;)if((n=(t=o[a]).type)&&(n=Y(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new G(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,i,r=new Array(n),o=0;o<n;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(i=this._[t]).length;o<n;++o)i[o].value.apply(e,r)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,o=i.length;r<o;++r)i[r].value.apply(e,n)}};var K="http://www.w3.org/1999/xhtml",Q={svg:"http://www.w3.org/2000/svg",xhtml:K,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Z(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Q.hasOwnProperty(e)?{space:Q[e],local:t}:t}function J(t){var e=Z(t);return(e.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===K&&e.documentElement.namespaceURI===K?e.createElement(t):e.createElementNS(n,t)}})(e)}function tt(){}function et(t){return null==t?tt:function(){return this.querySelector(t)}}function nt(){return[]}function it(t){return null==t?nt:function(){return this.querySelectorAll(t)}}function rt(t){return function(){return this.matches(t)}}function ot(t){return new Array(t.length)}function at(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}at.prototype={constructor:at,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var st="$";function lt(t,e,n,i,r,o){for(var a,s=0,l=e.length,c=o.length;s<c;++s)(a=e[s])?(a.__data__=o[s],i[s]=a):n[s]=new at(t,o[s]);for(;s<l;++s)(a=e[s])&&(r[s]=a)}function ct(t,e,n,i,r,o,a){var s,l,c,u={},f=e.length,h=o.length,d=new Array(f);for(s=0;s<f;++s)(l=e[s])&&(d[s]=c=st+a.call(l,l.__data__,s,e),c in u?r[s]=l:u[c]=l);for(s=0;s<h;++s)(l=u[c=st+a.call(t,o[s],s,o)])?(i[s]=l,l.__data__=o[s],u[c]=null):n[s]=new at(t,o[s]);for(s=0;s<f;++s)(l=e[s])&&u[d[s]]===l&&(r[s]=l)}function ut(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function ft(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function ht(t,e){return t.style.getPropertyValue(e)||ft(t).getComputedStyle(t,null).getPropertyValue(e)}function dt(t){return t.trim().split(/^|\s+/)}function pt(t){return t.classList||new gt(t)}function gt(t){this._node=t,this._names=dt(t.getAttribute("class")||"")}function mt(t,e){for(var n=pt(t),i=-1,r=e.length;++i<r;)n.add(e[i])}function vt(t,e){for(var n=pt(t),i=-1,r=e.length;++i<r;)n.remove(e[i])}function bt(){this.textContent=""}function yt(){this.innerHTML=""}function _t(){this.nextSibling&&this.parentNode.appendChild(this)}function xt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function wt(){return null}function kt(){var t=this.parentNode;t&&t.removeChild(this)}function Ct(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function Ft(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}gt.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var At={};(r.event=null,"undefined"!=typeof document)&&("onmouseenter"in document.documentElement||(At={mouseenter:"mouseover",mouseleave:"mouseout"}));function St(t,e,n){return t=Dt(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function Dt(t,e,n){return function(i){var o=r.event;r.event=i;try{t.call(this,this.__data__,e,n)}finally{r.event=o}}}function Mt(t){return function(){var e=this.__on;if(e){for(var n,i=0,r=-1,o=e.length;i<o;++i)n=e[i],t.type&&n.type!==t.type||n.name!==t.name?e[++r]=n:this.removeEventListener(n.type,n.listener,n.capture);++r?e.length=r:delete this.__on}}}function Tt(t,e,n){var i=At.hasOwnProperty(t.type)?St:Dt;return function(r,o,a){var s,l=this.__on,c=i(e,o,a);if(l)for(var u=0,f=l.length;u<f;++u)if((s=l[u]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=c,s.capture=n),void(s.value=e);this.addEventListener(t.type,c,n),s={type:t.type,name:t.name,value:e,listener:c,capture:n},l?l.push(s):this.__on=[s]}}function Et(t,e,n,i){var o=r.event;t.sourceEvent=r.event,r.event=t;try{return e.apply(n,i)}finally{r.event=o}}function Pt(t,e,n){var i=ft(t),r=i.CustomEvent;"function"==typeof r?r=new r(e,n):(r=i.document.createEvent("Event"),n?(r.initEvent(e,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}var It=[null];function Rt(t,e){this._groups=t,this._parents=e}function Nt(){return new Rt([[document.documentElement]],It)}function zt(t){return"string"==typeof t?new Rt([[document.querySelector(t)]],[document.documentElement]):new Rt([[t]],It)}Rt.prototype=Nt.prototype={constructor:Rt,select:function(t){"function"!=typeof t&&(t=et(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,a,s=e[r],l=s.length,c=i[r]=new Array(l),u=0;u<l;++u)(o=s[u])&&(a=t.call(o,o.__data__,u,s))&&("__data__"in o&&(a.__data__=o.__data__),c[u]=a);return new Rt(i,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=it(t));for(var e=this._groups,n=e.length,i=[],r=[],o=0;o<n;++o)for(var a,s=e[o],l=s.length,c=0;c<l;++c)(a=s[c])&&(i.push(t.call(a,a.__data__,c,s)),r.push(a));return new Rt(i,r)},filter:function(t){"function"!=typeof t&&(t=rt(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,a=e[r],s=a.length,l=i[r]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&l.push(o);return new Rt(i,this._parents)},data:function(t,e){if(!t)return p=new Array(this.size()),u=-1,this.each(function(t){p[++u]=t}),p;var n,i=e?ct:lt,r=this._parents,o=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var a=o.length,s=new Array(a),l=new Array(a),c=new Array(a),u=0;u<a;++u){var f=r[u],h=o[u],d=h.length,p=t.call(f,f&&f.__data__,u,r),g=p.length,m=l[u]=new Array(g),v=s[u]=new Array(g);i(f,h,m,v,c[u]=new Array(d),p,e);for(var b,y,_=0,x=0;_<g;++_)if(b=m[_]){for(_>=x&&(x=_+1);!(y=v[x])&&++x<g;);b._next=y||null}}return(s=new Rt(s,r))._enter=l,s._exit=c,s},enter:function(){return new Rt(this._enter||this._groups.map(ot),this._parents)},exit:function(){return new Rt(this._exit||this._groups.map(ot),this._parents)},join:function(t,e,n){var i=this.enter(),r=this,o=this.exit();return i="function"==typeof t?t(i):i.append(t+""),null!=e&&(r=e(r)),null==n?o.remove():n(o),i&&r?i.merge(r).order():r},merge:function(t){for(var e=this._groups,n=t._groups,i=e.length,r=n.length,o=Math.min(i,r),a=new Array(i),s=0;s<o;++s)for(var l,c=e[s],u=n[s],f=c.length,h=a[s]=new Array(f),d=0;d<f;++d)(l=c[d]||u[d])&&(h[d]=l);for(;s<i;++s)a[s]=e[s];return new Rt(a,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i,r=t[e],o=r.length-1,a=r[o];--o>=0;)(i=r[o])&&(a&&4^i.compareDocumentPosition(a)&&a.parentNode.insertBefore(i,a),a=i);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=ut);for(var n=this._groups,i=n.length,r=new Array(i),o=0;o<i;++o){for(var a,s=n[o],l=s.length,c=r[o]=new Array(l),u=0;u<l;++u)(a=s[u])&&(c[u]=a);c.sort(e)}return new Rt(r,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,o=i.length;r<o;++r){var a=i[r];if(a)return a}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var r,o=e[n],a=0,s=o.length;a<s;++a)(r=o[a])&&t.call(r,r.__data__,a,o);return this},attr:function(t,e){var n=Z(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==e?n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof e?n.local?function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}:function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}:n.local?function(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}:function(t,e){return function(){this.setAttribute(t,e)}})(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof e?function(t,e,n){return function(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}:function(t,e,n){return function(){this.style.setProperty(t,e,n)}})(t,e,null==n?"":n)):ht(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?function(t){return function(){delete this[t]}}:"function"==typeof e?function(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}:function(t,e){return function(){this[t]=e}})(t,e)):this.node()[t]},classed:function(t,e){var n=dt(t+"");if(arguments.length<2){for(var i=pt(this.node()),r=-1,o=n.length;++r<o;)if(!i.contains(n[r]))return!1;return!0}return this.each(("function"==typeof e?function(t,e){return function(){(e.apply(this,arguments)?mt:vt)(this,t)}}:e?function(t){return function(){mt(this,t)}}:function(t){return function(){vt(this,t)}})(n,e))},text:function(t){return arguments.length?this.each(null==t?bt:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?yt:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(_t)},lower:function(){return this.each(xt)},append:function(t){var e="function"==typeof t?t:J(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,e){var n="function"==typeof t?t:J(t),i=null==e?wt:"function"==typeof e?e:et(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})},remove:function(){return this.each(kt)},clone:function(t){return this.select(t?Ft:Ct)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var i,r,o=function(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}(t+""),a=o.length;if(!(arguments.length<2)){for(s=e?Tt:Mt,null==n&&(n=!1),i=0;i<a;++i)this.each(s(o[i],e,n));return this}var s=this.node().__on;if(s)for(var l,c=0,u=s.length;c<u;++c)for(i=0,l=s[c];i<a;++i)if((r=o[i]).type===l.type&&r.name===l.name)return l.value},dispatch:function(t,e){return this.each(("function"==typeof e?function(t,e){return function(){return Pt(this,t,e.apply(this,arguments))}}:function(t,e){return function(){return Pt(this,t,e)}})(t,e))}};var Ot=0;function Lt(){return new jt}function jt(){this._="@"+(++Ot).toString(36)}function Ht(){for(var t,e=r.event;t=e.sourceEvent;)e=t;return e}function Bt(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,[(i=i.matrixTransform(t.getScreenCTM().inverse())).x,i.y]}var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]}function Wt(t){var e=Ht();return e.changedTouches&&(e=e.changedTouches[0]),Bt(t,e)}function qt(t,e,n){arguments.length<3&&(n=e,e=Ht().changedTouches);for(var i,r=0,o=e?e.length:0;r<o;++r)if((i=e[r]).identifier===n)return Bt(t,i);return null}function Ut(){r.event.stopImmediatePropagation()}function $t(){r.event.preventDefault(),r.event.stopImmediatePropagation()}function Vt(t){var e=t.document.documentElement,n=zt(t).on("dragstart.drag",$t,!0);"onselectstart"in e?n.on("selectstart.drag",$t,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Gt(t,e){var n=t.document.documentElement,i=zt(t).on("dragstart.drag",null);e&&(i.on("click.drag",$t,!0),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Yt(t){return function(){return t}}function Xt(t,e,n,i,r,o,a,s,l,c){this.target=t,this.type=e,this.subject=n,this.identifier=i,this.active=r,this.x=o,this.y=a,this.dx=s,this.dy=l,this._=c}function Kt(){return!r.event.ctrlKey&&!r.event.button}function Qt(){return this.parentNode}function Zt(t){return null==t?{x:r.event.x,y:r.event.y}:t}function Jt(){return navigator.maxTouchPoints||"ontouchstart"in this}function te(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function ee(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function ne(){}jt.prototype=Lt.prototype={constructor:jt,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}},Xt.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var ie="\\s*([+-]?\\d+)\\s*",re="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",oe="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ae=/^#([0-9a-f]{3})$/,se=/^#([0-9a-f]{6})$/,le=new RegExp("^rgb\\("+[ie,ie,ie]+"\\)$"),ce=new RegExp("^rgb\\("+[oe,oe,oe]+"\\)$"),ue=new RegExp("^rgba\\("+[ie,ie,ie,re]+"\\)$"),fe=new RegExp("^rgba\\("+[oe,oe,oe,re]+"\\)$"),he=new RegExp("^hsl\\("+[re,oe,oe]+"\\)$"),de=new RegExp("^hsla\\("+[re,oe,oe,re]+"\\)$"),pe={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function ge(){return this.rgb().formatHex()}function me(){return this.rgb().formatRgb()}function ve(t){var e;return t=(t+"").trim().toLowerCase(),(e=ae.exec(t))?new we((e=parseInt(e[1],16))>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):(e=se.exec(t))?be(parseInt(e[1],16)):(e=le.exec(t))?new we(e[1],e[2],e[3],1):(e=ce.exec(t))?new we(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=ue.exec(t))?ye(e[1],e[2],e[3],e[4]):(e=fe.exec(t))?ye(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=he.exec(t))?Ae(e[1],e[2]/100,e[3]/100,1):(e=de.exec(t))?Ae(e[1],e[2]/100,e[3]/100,e[4]):pe.hasOwnProperty(t)?be(pe[t]):"transparent"===t?new we(NaN,NaN,NaN,0):null}function be(t){return new we(t>>16&255,t>>8&255,255&t,1)}function ye(t,e,n,i){return i<=0&&(t=e=n=NaN),new we(t,e,n,i)}function _e(t){return t instanceof ne||(t=ve(t)),t?new we((t=t.rgb()).r,t.g,t.b,t.opacity):new we}function xe(t,e,n,i){return 1===arguments.length?_e(t):new we(t,e,n,null==i?1:i)}function we(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function ke(){return"#"+Fe(this.r)+Fe(this.g)+Fe(this.b)}function Ce(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Fe(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Ae(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Me(t,e,n,i)}function Se(t){if(t instanceof Me)return new Me(t.h,t.s,t.l,t.opacity);if(t instanceof ne||(t=ve(t)),!t)return new Me;if(t instanceof Me)return t;var e=(t=t.rgb()).r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),o=Math.max(e,n,i),a=NaN,s=o-r,l=(o+r)/2;return s?(a=e===o?(n-i)/s+6*(n<i):n===o?(i-e)/s+2:(e-n)/s+4,s/=l<.5?o+r:2-o-r,a*=60):s=l>0&&l<1?0:a,new Me(a,s,l,t.opacity)}function De(t,e,n,i){return 1===arguments.length?Se(t):new Me(t,e,n,null==i?1:i)}function Me(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function Te(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}te(ne,ve,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:ge,formatHex:ge,formatHsl:function(){return Se(this).formatHsl()},formatRgb:me,toString:me}),te(we,xe,ee(ne,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new we(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new we(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ke,formatHex:ke,formatRgb:Ce,toString:Ce})),te(Me,De,ee(ne,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Me(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Me(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new we(Te(t>=240?t-240:t+120,r,i),Te(t,r,i),Te(t<120?t+240:t-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var Ee=Math.PI/180,Pe=180/Math.PI,Ie=.96422,Re=1,Ne=.82521,ze=4/29,Oe=6/29,Le=3*Oe*Oe,je=Oe*Oe*Oe;function He(t){if(t instanceof We)return new We(t.l,t.a,t.b,t.opacity);if(t instanceof Xe)return Ke(t);t instanceof we||(t=_e(t));var e,n,i=Ve(t.r),r=Ve(t.g),o=Ve(t.b),a=qe((.2225045*i+.7168786*r+.0606169*o)/Re);return i===r&&r===o?e=n=a:(e=qe((.4360747*i+.3850649*r+.1430804*o)/Ie),n=qe((.0139322*i+.0971045*r+.7141733*o)/Ne)),new We(116*a-16,500*(e-a),200*(a-n),t.opacity)}function Be(t,e,n,i){return 1===arguments.length?He(t):new We(t,e,n,null==i?1:i)}function We(t,e,n,i){this.l=+t,this.a=+e,this.b=+n,this.opacity=+i}function qe(t){return t>je?Math.pow(t,1/3):t/Le+ze}function Ue(t){return t>Oe?t*t*t:Le*(t-ze)}function $e(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Ve(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Ge(t){if(t instanceof Xe)return new Xe(t.h,t.c,t.l,t.opacity);if(t instanceof We||(t=He(t)),0===t.a&&0===t.b)return new Xe(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*Pe;return new Xe(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Ye(t,e,n,i){return 1===arguments.length?Ge(t):new Xe(t,e,n,null==i?1:i)}function Xe(t,e,n,i){this.h=+t,this.c=+e,this.l=+n,this.opacity=+i}function Ke(t){if(isNaN(t.h))return new We(t.l,0,0,t.opacity);var e=t.h*Ee;return new We(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}te(We,Be,ee(ne,{brighter:function(t){return new We(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new We(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new we($e(3.1338561*(e=Ie*Ue(e))-1.6168667*(t=Re*Ue(t))-.4906146*(n=Ne*Ue(n))),$e(-.9787684*e+1.9161415*t+.033454*n),$e(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),te(Xe,Ye,ee(ne,{brighter:function(t){return new Xe(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new Xe(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return Ke(this).rgb()}}));var Qe=-.14861,Ze=1.78277,Je=-.29227,tn=-.90649,en=1.97294,nn=en*tn,rn=en*Ze,on=Ze*Je-tn*Qe;function an(t,e,n,i){return 1===arguments.length?function(t){if(t instanceof sn)return new sn(t.h,t.s,t.l,t.opacity);t instanceof we||(t=_e(t));var e=t.r/255,n=t.g/255,i=t.b/255,r=(on*i+nn*e-rn*n)/(on+nn-rn),o=i-r,a=(en*(n-r)-Je*o)/tn,s=Math.sqrt(a*a+o*o)/(en*r*(1-r)),l=s?Math.atan2(a,o)*Pe-120:NaN;return new sn(l<0?l+360:l,s,r,t.opacity)}(t):new sn(t,e,n,null==i?1:i)}function sn(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function ln(t,e,n,i,r){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*i+a*r)/6}function cn(t){var e=t.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),r=t[i],o=t[i+1],a=i>0?t[i-1]:2*r-o,s=i<e-1?t[i+2]:2*o-r;return ln((n-i/e)*e,a,r,o,s)}}function un(t){var e=t.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*e),r=t[(i+e-1)%e],o=t[i%e],a=t[(i+1)%e],s=t[(i+2)%e];return ln((n-i/e)*e,r,o,a,s)}}function fn(t){return function(){return t}}function hn(t,e){return function(n){return t+n*e}}function dn(t,e){var n=e-t;return n?hn(t,n>180||n<-180?n-360*Math.round(n/360):n):fn(isNaN(t)?e:t)}function pn(t){return 1==(t=+t)?gn:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}(e,n,t):fn(isNaN(e)?n:e)}}function gn(t,e){var n=e-t;return n?hn(t,n):fn(isNaN(t)?e:t)}te(sn,an,ee(ne,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new sn(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new sn(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*Ee,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),i=Math.cos(t),r=Math.sin(t);return new we(255*(e+n*(Qe*i+Ze*r)),255*(e+n*(Je*i+tn*r)),255*(e+n*(en*i)),this.opacity)}}));var mn=function t(e){var n=pn(e);function i(t,e){var i=n((t=xe(t)).r,(e=xe(e)).r),r=n(t.g,e.g),o=n(t.b,e.b),a=gn(t.opacity,e.opacity);return function(e){return t.r=i(e),t.g=r(e),t.b=o(e),t.opacity=a(e),t+""}}return i.gamma=t,i}(1);function vn(t){return function(e){var n,i,r=e.length,o=new Array(r),a=new Array(r),s=new Array(r);for(n=0;n<r;++n)i=xe(e[n]),o[n]=i.r||0,a[n]=i.g||0,s[n]=i.b||0;return o=t(o),a=t(a),s=t(s),i.opacity=1,function(t){return i.r=o(t),i.g=a(t),i.b=s(t),i+""}}}var bn=vn(cn),yn=vn(un);function _n(t,e){var n,i=e?e.length:0,r=t?Math.min(i,t.length):0,o=new Array(r),a=new Array(i);for(n=0;n<r;++n)o[n]=Sn(t[n],e[n]);for(;n<i;++n)a[n]=e[n];return function(t){for(n=0;n<r;++n)a[n]=o[n](t);return a}}function xn(t,e){var n=new Date;return e-=t=+t,function(i){return n.setTime(t+e*i),n}}function wn(t,e){return e-=t=+t,function(n){return t+e*n}}function kn(t,e){var n,r={},o={};for(n in null!==t&&"object"===(void 0===t?"undefined":i(t))||(t={}),null!==e&&"object"===(void 0===e?"undefined":i(e))||(e={}),e)n in t?r[n]=Sn(t[n],e[n]):o[n]=e[n];return function(t){for(n in r)o[n]=r[n](t);return o}}var Cn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Fn=new RegExp(Cn.source,"g");function An(t,e){var n,i,r,o=Cn.lastIndex=Fn.lastIndex=0,a=-1,s=[],l=[];for(t+="",e+="";(n=Cn.exec(t))&&(i=Fn.exec(e));)(r=i.index)>o&&(r=e.slice(o,r),s[a]?s[a]+=r:s[++a]=r),(n=n[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:wn(n,i)})),o=Fn.lastIndex;return o<e.length&&(r=e.slice(o),s[a]?s[a]+=r:s[++a]=r),s.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,i=0;i<e;++i)s[(n=l[i]).i]=n.x(t);return s.join("")})}function Sn(t,e){var n,r=void 0===e?"undefined":i(e);return null==e||"boolean"===r?fn(e):("number"===r?wn:"string"===r?(n=ve(e))?(e=n,mn):An:e instanceof ve?mn:e instanceof Date?xn:Array.isArray(e)?_n:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?kn:wn)(t,e)}function Dn(t,e){return e-=t=+t,function(n){return Math.round(t+e*n)}}var Mn,Tn,En,Pn,In=180/Math.PI,Rn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Nn(t,e,n,i,r,o){var a,s,l;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(l=t*n+e*i)&&(n-=t*l,i-=e*l),(s=Math.sqrt(n*n+i*i))&&(n/=s,i/=s,l/=s),t*i<e*n&&(t=-t,e=-e,l=-l,a=-a),{translateX:r,translateY:o,rotate:Math.atan2(e,t)*In,skewX:Math.atan(l)*In,scaleX:a,scaleY:s}}function zn(t,e,n,i){function r(t){return t.length?t.pop()+" ":""}return function(o,a){var s=[],l=[];return o=t(o),a=t(a),function(t,i,r,o,a,s){if(t!==r||i!==o){var l=a.push("translate(",null,e,null,n);s.push({i:l-4,x:wn(t,r)},{i:l-2,x:wn(i,o)})}else(r||o)&&a.push("translate("+r+e+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,s,l),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(r(n)+"rotate(",null,i)-2,x:wn(t,e)})):e&&n.push(r(n)+"rotate("+e+i)}(o.rotate,a.rotate,s,l),function(t,e,n,o){t!==e?o.push({i:n.push(r(n)+"skewX(",null,i)-2,x:wn(t,e)}):e&&n.push(r(n)+"skewX("+e+i)}(o.skewX,a.skewX,s,l),function(t,e,n,i,o,a){if(t!==n||e!==i){var s=o.push(r(o)+"scale(",null,",",null,")");a.push({i:s-4,x:wn(t,n)},{i:s-2,x:wn(e,i)})}else 1===n&&1===i||o.push(r(o)+"scale("+n+","+i+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,l),o=a=null,function(t){for(var e,n=-1,i=l.length;++n<i;)s[(e=l[n]).i]=e.x(t);return s.join("")}}}var On=zn(function(t){return"none"===t?Rn:(Mn||(Mn=document.createElement("DIV"),Tn=document.documentElement,En=document.defaultView),Mn.style.transform=t,t=En.getComputedStyle(Tn.appendChild(Mn),null).getPropertyValue("transform"),Tn.removeChild(Mn),Nn(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),Ln=zn(function(t){return null==t?Rn:(Pn||(Pn=document.createElementNS("http://www.w3.org/2000/svg","g")),Pn.setAttribute("transform",t),(t=Pn.transform.baseVal.consolidate())?Nn((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Rn)},", ",")",")"),jn=Math.SQRT2,Hn=2,Bn=4,Wn=1e-12;function qn(t){return((t=Math.exp(t))+1/t)/2}function Un(t,e){var n,i,r=t[0],o=t[1],a=t[2],s=e[0],l=e[1],c=e[2],u=s-r,f=l-o,h=u*u+f*f;if(h<Wn)i=Math.log(c/a)/jn,n=function(t){return[r+t*u,o+t*f,a*Math.exp(jn*t*i)]};else{var d=Math.sqrt(h),p=(c*c-a*a+Bn*h)/(2*a*Hn*d),g=(c*c-a*a-Bn*h)/(2*c*Hn*d),m=Math.log(Math.sqrt(p*p+1)-p),v=Math.log(Math.sqrt(g*g+1)-g);i=(v-m)/jn,n=function(t){var e,n=t*i,s=qn(m),l=a/(Hn*d)*(s*(e=jn*n+m,((e=Math.exp(2*e))-1)/(e+1))-function(t){return((t=Math.exp(t))-1/t)/2}(m));return[r+l*u,o+l*f,a*s/qn(jn*n+m)]}}return n.duration=1e3*i,n}function $n(t){return function(e,n){var i=t((e=De(e)).h,(n=De(n)).h),r=gn(e.s,n.s),o=gn(e.l,n.l),a=gn(e.opacity,n.opacity);return function(t){return e.h=i(t),e.s=r(t),e.l=o(t),e.opacity=a(t),e+""}}}var Vn=$n(dn),Gn=$n(gn);function Yn(t){return function(e,n){var i=t((e=Ye(e)).h,(n=Ye(n)).h),r=gn(e.c,n.c),o=gn(e.l,n.l),a=gn(e.opacity,n.opacity);return function(t){return e.h=i(t),e.c=r(t),e.l=o(t),e.opacity=a(t),e+""}}}var Xn=Yn(dn),Kn=Yn(gn);function Qn(t){return function e(n){function i(e,i){var r=t((e=an(e)).h,(i=an(i)).h),o=gn(e.s,i.s),a=gn(e.l,i.l),s=gn(e.opacity,i.opacity);return function(t){return e.h=r(t),e.s=o(t),e.l=a(Math.pow(t,n)),e.opacity=s(t),e+""}}return n=+n,i.gamma=e,i}(1)}var Zn=Qn(dn),Jn=Qn(gn);var ti,ei,ni=0,ii=0,ri=0,oi=1e3,ai=0,si=0,li=0,ci="object"===("undefined"==typeof performance?"undefined":i(performance))&&performance.now?performance:Date,ui="object"===("undefined"==typeof window?"undefined":i(window))&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function fi(){return si||(ui(hi),si=ci.now()+li)}function hi(){si=0}function di(){this._call=this._time=this._next=null}function pi(t,e,n){var i=new di;return i.restart(t,e,n),i}function gi(){fi(),++ni;for(var t,e=ti;e;)(t=si-e._time)>=0&&e._call.call(null,t),e=e._next;--ni}function mi(){si=(ai=ci.now())+li,ni=ii=0;try{gi()}finally{ni=0,function(){var t,e,n=ti,i=1/0;for(;n;)n._call?(i>n._time&&(i=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:ti=e);ei=t,bi(i)}(),si=0}}function vi(){var t=ci.now(),e=t-ai;e>oi&&(li-=e,ai=t)}function bi(t){ni||(ii&&(ii=clearTimeout(ii)),t-si>24?(t<1/0&&(ii=setTimeout(mi,t-ci.now()-li)),ri&&(ri=clearInterval(ri))):(ri||(ai=ci.now(),ri=setInterval(vi,oi)),ni=1,ui(mi)))}function yi(t,e,n){var i=new di;return e=null==e?0:+e,i.restart(function(n){i.stop(),t(n+e)},e,n),i}di.prototype=pi.prototype={constructor:di,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?fi():+n)+(null==e?0:+e),this._next||ei===this||(ei?ei._next=this:ti=this,ei=this),this._call=t,this._time=n,bi()},stop:function(){this._call&&(this._call=null,this._time=1/0,bi())}};var _i=V("start","end","cancel","interrupt"),xi=[],wi=0,ki=1,Ci=2,Fi=3,Ai=4,Si=5,Di=6;function Mi(t,e,n,i,r,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(t,e,n){var i,r=t.__transition;function o(l){var c,u,f,h;if(n.state!==ki)return s();for(c in r)if((h=r[c]).name===n.name){if(h.state===Fi)return yi(o);h.state===Ai?(h.state=Di,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete r[c]):+c<e&&(h.state=Di,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete r[c])}if(yi(function(){n.state===Fi&&(n.state=Ai,n.timer.restart(a,n.delay,n.time),a(l))}),n.state=Ci,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Ci){for(n.state=Fi,i=new Array(f=n.tween.length),c=0,u=-1;c<f;++c)(h=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++u]=h);i.length=u+1}}function a(e){for(var r=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(s),n.state=Si,1),o=-1,a=i.length;++o<a;)i[o].call(t,r);n.state===Si&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){for(var i in n.state=Di,n.timer.stop(),delete r[e],r)return;delete t.__transition}r[e]=n,n.timer=pi(function(t){n.state=ki,n.timer.restart(o,n.delay,n.time),n.delay<=t&&o(t-n.delay)},0,n.time)}(t,n,{name:e,index:i,group:r,on:_i,tween:xi,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:wi})}function Ti(t,e){var n=Pi(t,e);if(n.state>wi)throw new Error("too late; already scheduled");return n}function Ei(t,e){var n=Pi(t,e);if(n.state>Fi)throw new Error("too late; already running");return n}function Pi(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Ii(t,e){var n,i,r,o=t.__transition,a=!0;if(o){for(r in e=null==e?null:e+"",o)(n=o[r]).name===e?(i=n.state>Ci&&n.state<Si,n.state=Di,n.timer.stop(),n.on.call(i?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[r]):a=!1;a&&delete t.__transition}}function Ri(t,e,n){var i=t._id;return t.each(function(){var t=Ei(this,i);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return Pi(t,i).value[e]}}function Ni(t,e){var n;return("number"==typeof e?wn:e instanceof ve?mn:(n=ve(e))?(e=n,mn):An)(t,e)}var zi=Nt.prototype.constructor;function Oi(t){return function(){this.style.removeProperty(t)}}var Li=0;function ji(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function Hi(t){return Nt().transition(t)}function Bi(){return++Li}var Wi=Nt.prototype;function qi(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function Ui(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}ji.prototype=Hi.prototype={constructor:ji,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=et(t));for(var i=this._groups,r=i.length,o=new Array(r),a=0;a<r;++a)for(var s,l,c=i[a],u=c.length,f=o[a]=new Array(u),h=0;h<u;++h)(s=c[h])&&(l=t.call(s,s.__data__,h,c))&&("__data__"in s&&(l.__data__=s.__data__),f[h]=l,Mi(f[h],e,n,h,f,Pi(s,n)));return new ji(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=it(t));for(var i=this._groups,r=i.length,o=[],a=[],s=0;s<r;++s)for(var l,c=i[s],u=c.length,f=0;f<u;++f)if(l=c[f]){for(var h,d=t.call(l,l.__data__,f,c),p=Pi(l,n),g=0,m=d.length;g<m;++g)(h=d[g])&&Mi(h,e,n,g,d,p);o.push(d),a.push(l)}return new ji(o,a,e,n)},filter:function(t){"function"!=typeof t&&(t=rt(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,a=e[r],s=a.length,l=i[r]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&l.push(o);return new ji(i,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,r=n.length,o=Math.min(i,r),a=new Array(i),s=0;s<o;++s)for(var l,c=e[s],u=n[s],f=c.length,h=a[s]=new Array(f),d=0;d<f;++d)(l=c[d]||u[d])&&(h[d]=l);for(;s<i;++s)a[s]=e[s];return new ji(a,this._parents,this._name,this._id)},selection:function(){return new zi(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=Bi(),i=this._groups,r=i.length,o=0;o<r;++o)for(var a,s=i[o],l=s.length,c=0;c<l;++c)if(a=s[c]){var u=Pi(a,e);Mi(a,t,n,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new ji(i,this._parents,t,n)},call:Wi.call,nodes:Wi.nodes,node:Wi.node,size:Wi.size,empty:Wi.empty,each:Wi.each,on:function(t,e){var n=this._id;return arguments.length<2?Pi(this.node(),n).on.on(t):this.each(function(t,e,n){var i,r,o=function(t){return(t+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})}(e)?Ti:Ei;return function(){var a=o(this,t),s=a.on;s!==i&&(r=(i=s).copy()).on(e,n),a.on=r}}(n,t,e))},attr:function(t,e){var n=Z(t),i="transform"===n?Ln:Ni;return this.attrTween(t,"function"==typeof e?(n.local?function(t,e,n){var i,r,o;return function(){var a,s,l=n(this);if(null!=l)return(a=this.getAttributeNS(t.space,t.local))===(s=l+"")?null:a===i&&s===r?o:(r=s,o=e(i=a,l));this.removeAttributeNS(t.space,t.local)}}:function(t,e,n){var i,r,o;return function(){var a,s,l=n(this);if(null!=l)return(a=this.getAttribute(t))===(s=l+"")?null:a===i&&s===r?o:(r=s,o=e(i=a,l));this.removeAttribute(t)}})(n,i,Ri(this,"attr."+t,e)):null==e?(n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(n):(n.local?function(t,e,n){var i,r,o=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===i?r:r=e(i=a,n)}}:function(t,e,n){var i,r,o=n+"";return function(){var a=this.getAttribute(t);return a===o?null:a===i?r:r=e(i=a,n)}})(n,i,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var i=Z(t);return this.tween(n,(i.local?function(t,e){var n,i;function r(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&function(t,e){return function(n){this.setAttributeNS(t.space,t.local,e(n))}}(t,r)),n}return r._value=e,r}:function(t,e){var n,i;function r(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&function(t,e){return function(n){this.setAttribute(t,e(n))}}(t,r)),n}return r._value=e,r})(i,e))},style:function(t,e,n){var i="transform"==(t+="")?On:Ni;return null==e?this.styleTween(t,function(t,e){var n,i,r;return function(){var o=ht(this,t),a=(this.style.removeProperty(t),ht(this,t));return o===a?null:o===n&&a===i?r:r=e(n=o,i=a)}}(t,i)).on("end.style."+t,Oi(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var i,r,o;return function(){var a=ht(this,t),s=n(this),l=s+"";return null==s&&(this.style.removeProperty(t),l=s=ht(this,t)),a===l?null:a===i&&l===r?o:(r=l,o=e(i=a,s))}}(t,i,Ri(this,"style."+t,e))).each(function(t,e){var n,i,r,o,a="style."+e,s="end."+a;return function(){var l=Ei(this,t),c=l.on,u=null==l.value[a]?o||(o=Oi(e)):void 0;c===n&&r===u||(i=(n=c).copy()).on(s,r=u),l.on=i}}(this._id,t)):this.styleTween(t,function(t,e,n){var i,r,o=n+"";return function(){var a=ht(this,t);return a===o?null:a===i?r:r=e(i=a,n)}}(t,i,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==e)return this.tween(i,null);if("function"!=typeof e)throw new Error;return this.tween(i,function(t,e,n){var i,r;function o(){var o=e.apply(this,arguments);return o!==r&&(i=(r=o)&&function(t,e,n){return function(i){this.style.setProperty(t,e(i),n)}}(t,o,n)),i}return o._value=e,o}(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(Ri(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},remove:function(){return this.on("end.remove",(t=this._id,function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}));var t},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i,r=Pi(this.node(),n).tween,o=0,a=r.length;o<a;++o)if((i=r[o]).name===t)return i.value;return null}return this.each((null==e?function(t,e){var n,i;return function(){var r=Ei(this,t),o=r.tween;if(o!==n)for(var a=0,s=(i=n=o).length;a<s;++a)if(i[a].name===e){(i=i.slice()).splice(a,1);break}r.tween=i}}:function(t,e,n){var i,r;if("function"!=typeof n)throw new Error;return function(){var o=Ei(this,t),a=o.tween;if(a!==i){r=(i=a).slice();for(var s={name:e,value:n},l=0,c=r.length;l<c;++l)if(r[l].name===e){r[l]=s;break}l===c&&r.push(s)}o.tween=r}})(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){Ti(this,t).delay=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){Ti(this,t).delay=e}})(e,t)):Pi(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){Ei(this,t).duration=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){Ei(this,t).duration=e}})(e,t)):Pi(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){Ei(this,t).ease=e}}(e,t)):Pi(this.node(),e).ease},end:function(){var t,e,n=this,i=n._id,r=n.size();return new Promise(function(o,a){var s={value:a},l={value:function(){0==--r&&o()}};n.each(function(){var n=Ei(this,i),r=n.on;r!==t&&((e=(t=r).copy())._.cancel.push(s),e._.interrupt.push(s),e._.end.push(l)),n.on=e})})}};var $i=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),Vi=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),Gi=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),Yi=Math.PI,Xi=Yi/2;function Ki(t){return(1-Math.cos(Yi*t))/2}function Qi(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function Zi(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var Ji=4/11,tr=6/11,er=8/11,nr=.75,ir=9/11,rr=10/11,or=.9375,ar=21/22,sr=63/64,lr=1/Ji/Ji;function cr(t){return(t=+t)<Ji?lr*t*t:t<er?lr*(t-=tr)*t+nr:t<rr?lr*(t-=ir)*t+or:lr*(t-=ar)*t+sr}var ur=function t(e){function n(t){return t*t*((e+1)*t-e)}return e=+e,n.overshoot=t,n}(1.70158),fr=function t(e){function n(t){return--t*t*((e+1)*t+e)+1}return e=+e,n.overshoot=t,n}(1.70158),hr=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(1.70158),dr=2*Math.PI,pr=function t(e,n){var i=Math.asin(1/(e=Math.max(1,e)))*(n/=dr);function r(t){return e*Math.pow(2,10*--t)*Math.sin((i-t)/n)}return r.amplitude=function(e){return t(e,n*dr)},r.period=function(n){return t(e,n)},r}(1,.3),gr=function t(e,n){var i=Math.asin(1/(e=Math.max(1,e)))*(n/=dr);function r(t){return 1-e*Math.pow(2,-10*(t=+t))*Math.sin((t+i)/n)}return r.amplitude=function(e){return t(e,n*dr)},r.period=function(n){return t(e,n)},r}(1,.3),mr=function t(e,n){var i=Math.asin(1/(e=Math.max(1,e)))*(n/=dr);function r(t){return((t=2*t-1)<0?e*Math.pow(2,10*t)*Math.sin((i-t)/n):2-e*Math.pow(2,-10*t)*Math.sin((i+t)/n))/2}return r.amplitude=function(e){return t(e,n*dr)},r.period=function(n){return t(e,n)},r}(1,.3),vr={time:null,delay:0,duration:250,ease:Ui};function br(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return vr.time=fi(),vr;return n}Nt.prototype.interrupt=function(t){return this.each(function(){Ii(this,t)})},Nt.prototype.transition=function(t){var e,n;t instanceof ji?(e=t._id,t=t._name):(e=Bi(),(n=vr).time=fi(),t=null==t?null:t+"");for(var i=this._groups,r=i.length,o=0;o<r;++o)for(var a,s=i[o],l=s.length,c=0;c<l;++c)(a=s[c])&&Mi(a,t,e,c,s,n||br(a,e));return new ji(i,this._parents,t,e)};var yr=[null];function _r(t){return function(){return t}}function xr(){r.event.stopImmediatePropagation()}function wr(){r.event.preventDefault(),r.event.stopImmediatePropagation()}var kr={name:"drag"},Cr={name:"space"},Fr={name:"handle"},Ar={name:"center"};function Sr(t){return[+t[0],+t[1]]}function Dr(t){return[Sr(t[0]),Sr(t[1])]}var Mr={name:"x",handles:["w","e"].map(Or),input:function(t,e){return null==t?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},Tr={name:"y",handles:["n","s"].map(Or),input:function(t,e){return null==t?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},Er={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Or),input:function(t){return null==t?null:Dr(t)},output:function(t){return t}},Pr={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Ir={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Rr={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Nr={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},zr={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Or(t){return{type:t}}function Lr(){return!r.event.ctrlKey&&!r.event.button}function jr(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function Hr(){return navigator.maxTouchPoints||"ontouchstart"in this}function Br(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function Wr(t){var e,n=jr,i=Lr,o=Hr,a=!0,s=V(c,"start","brush","end"),l=6;function c(e){var n=e.property("__brush",m).selectAll(".overlay").data([Or("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Pr.overlay).merge(n).each(function(){var t=Br(this).extent;zt(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])}),e.selectAll(".selection").data([Or("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Pr.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var i=e.selectAll(".handle").data(t.handles,function(t){return t.type});i.exit().remove(),i.enter().append("rect").attr("class",function(t){return"handle handle--"+t.type}).attr("cursor",function(t){return Pr[t.type]}),e.each(u).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",d).filter(o).on("touchstart.brush",d).on("touchmove.brush",p).on("touchend.brush touchcancel.brush",g).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function u(){var t=zt(this),e=Br(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",function(t){return"e"===t.type[t.type.length-1]?e[1][0]-l/2:e[0][0]-l/2}).attr("y",function(t){return"s"===t.type[0]?e[1][1]-l/2:e[0][1]-l/2}).attr("width",function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+l:l}).attr("height",function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+l:l})):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function f(t,e,n){return!n&&t.__brush.emitter||new h(t,e)}function h(t,e){this.that=t,this.args=e,this.state=t.__brush,this.active=0}function d(){if((!e||r.event.touches)&&i.apply(this,arguments)){var n,o,s,l,c,h,d,p,g,m,v,b,y=this,_=r.event.target.__data__.type,x="selection"===(a&&r.event.metaKey?_="overlay":_)?kr:a&&r.event.altKey?Ar:Fr,w=t===Tr?null:Nr[_],k=t===Mr?null:zr[_],C=Br(y),F=C.extent,A=C.selection,S=F[0][0],D=F[0][1],M=F[1][0],T=F[1][1],E=0,P=0,I=w&&k&&a&&r.event.shiftKey,R=r.event.touches?(b=r.event.changedTouches[0].identifier,function(t){return qt(t,r.event.touches,b)}):Wt,N=R(y),z=N,O=f(y,arguments,!0).beforestart();"overlay"===_?(A&&(g=!0),C.selection=A=[[n=t===Tr?S:N[0],s=t===Mr?D:N[1]],[c=t===Tr?M:n,d=t===Mr?T:s]]):(n=A[0][0],s=A[0][1],c=A[1][0],d=A[1][1]),o=n,l=s,h=c,p=d;var L=zt(y).attr("pointer-events","none"),j=L.selectAll(".overlay").attr("cursor",Pr[_]);if(r.event.touches)O.moved=B,O.ended=q;else{var H=zt(r.event.view).on("mousemove.brush",B,!0).on("mouseup.brush",q,!0);a&&H.on("keydown.brush",function(){switch(r.event.keyCode){case 16:I=w&&k;break;case 18:x===Fr&&(w&&(c=h-E*w,n=o+E*w),k&&(d=p-P*k,s=l+P*k),x=Ar,W());break;case 32:x!==Fr&&x!==Ar||(w<0?c=h-E:w>0&&(n=o-E),k<0?d=p-P:k>0&&(s=l-P),x=Cr,j.attr("cursor",Pr.selection),W());break;default:return}wr()},!0).on("keyup.brush",function(){switch(r.event.keyCode){case 16:I&&(m=v=I=!1,W());break;case 18:x===Ar&&(w<0?c=h:w>0&&(n=o),k<0?d=p:k>0&&(s=l),x=Fr,W());break;case 32:x===Cr&&(r.event.altKey?(w&&(c=h-E*w,n=o+E*w),k&&(d=p-P*k,s=l+P*k),x=Ar):(w<0?c=h:w>0&&(n=o),k<0?d=p:k>0&&(s=l),x=Fr),j.attr("cursor",Pr[_]),W());break;default:return}wr()},!0),Vt(r.event.view)}xr(),Ii(y),u.call(y),O.start()}function B(){var t=R(y);!I||m||v||(Math.abs(t[0]-z[0])>Math.abs(t[1]-z[1])?v=!0:m=!0),z=t,g=!0,wr(),W()}function W(){var t;switch(E=z[0]-N[0],P=z[1]-N[1],x){case Cr:case kr:w&&(E=Math.max(S-n,Math.min(M-c,E)),o=n+E,h=c+E),k&&(P=Math.max(D-s,Math.min(T-d,P)),l=s+P,p=d+P);break;case Fr:w<0?(E=Math.max(S-n,Math.min(M-n,E)),o=n+E,h=c):w>0&&(E=Math.max(S-c,Math.min(M-c,E)),o=n,h=c+E),k<0?(P=Math.max(D-s,Math.min(T-s,P)),l=s+P,p=d):k>0&&(P=Math.max(D-d,Math.min(T-d,P)),l=s,p=d+P);break;case Ar:w&&(o=Math.max(S,Math.min(M,n-E*w)),h=Math.max(S,Math.min(M,c+E*w))),k&&(l=Math.max(D,Math.min(T,s-P*k)),p=Math.max(D,Math.min(T,d+P*k)))}h<o&&(w*=-1,t=n,n=c,c=t,t=o,o=h,h=t,_ in Ir&&j.attr("cursor",Pr[_=Ir[_]])),p<l&&(k*=-1,t=s,s=d,d=t,t=l,l=p,p=t,_ in Rr&&j.attr("cursor",Pr[_=Rr[_]])),C.selection&&(A=C.selection),m&&(o=A[0][0],h=A[1][0]),v&&(l=A[0][1],p=A[1][1]),A[0][0]===o&&A[0][1]===l&&A[1][0]===h&&A[1][1]===p||(C.selection=[[o,l],[h,p]],u.call(y),O.brush())}function q(){if(xr(),r.event.touches){if(r.event.touches.length)return;e&&clearTimeout(e),e=setTimeout(function(){e=null},500)}else Gt(r.event.view,g),H.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);var t;L.attr("pointer-events","all"),j.attr("cursor",Pr.overlay),C.selection&&(A=C.selection),((t=A)[0][0]===t[1][0]||t[0][1]===t[1][1])&&(C.selection=null,u.call(y)),O.end()}}function p(){f(this,arguments).moved()}function g(){f(this,arguments).ended()}function m(){var e=this.__brush||{selection:null};return e.extent=Dr(n.apply(this,arguments)),e.dim=t,e}return c.move=function(e,n){e.selection?e.on("start.brush",function(){f(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){f(this,arguments).end()}).tween("brush",function(){var e=this,i=e.__brush,r=f(e,arguments),o=i.selection,a=t.input("function"==typeof n?n.apply(this,arguments):n,i.extent),s=Sn(o,a);function l(t){i.selection=1===t&&null===a?null:s(t),u.call(e),r.brush()}return null!==o&&null!==a?l:l(1)}):e.each(function(){var e=arguments,i=this.__brush,r=t.input("function"==typeof n?n.apply(this,e):n,i.extent),o=f(this,e).beforestart();Ii(this),i.selection=null===r?null:r,u.call(this),o.start().brush().end()})},c.clear=function(t){c.move(t,null)},h.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting?(this.starting=!1,this.emit("start")):this.emit("brush"),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(e){Et(new function(t,e,n){this.target=t,this.type=e,this.selection=n}(c,e,t.output(this.state.selection)),s.apply,s,[e,this.that,this.args])}},c.extent=function(t){return arguments.length?(n="function"==typeof t?t:_r(Dr(t)),c):n},c.filter=function(t){return arguments.length?(i="function"==typeof t?t:_r(!!t),c):i},c.handleSize=function(t){return arguments.length?(l=+t,c):l},c.keyModifiers=function(t){return arguments.length?(a=!!t,c):a},c.on=function(){var t=s.on.apply(s,arguments);return t===s?c:t},c}var qr=Math.cos,Ur=Math.sin,$r=Math.PI,Vr=$r/2,Gr=2*$r,Yr=Math.max;var Xr=Array.prototype.slice;function Kr(t){return function(){return t}}var Qr=Math.PI,Zr=2*Qr,Jr=Zr-1e-6;function to(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function eo(){return new to}function no(t){return t.source}function io(t){return t.target}function ro(t){return t.radius}function oo(t){return t.startAngle}function ao(t){return t.endAngle}to.prototype=eo.prototype={constructor:to,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,i){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+i)},bezierCurveTo:function(t,e,n,i,r,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +i+","+(this._x1=+r)+","+(this._y1=+o)},arcTo:function(t,e,n,i,r){t=+t,e=+e,n=+n,i=+i,r=+r;var o=this._x1,a=this._y1,s=n-t,l=i-e,c=o-t,u=a-e,f=c*c+u*u;if(r<0)throw new Error("negative radius: "+r);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(f>1e-6)if(Math.abs(u*s-l*c)>1e-6&&r){var h=n-o,d=i-a,p=s*s+l*l,g=h*h+d*d,m=Math.sqrt(p),v=Math.sqrt(f),b=r*Math.tan((Qr-Math.acos((p+f-g)/(2*m*v)))/2),y=b/v,_=b/m;Math.abs(y-1)>1e-6&&(this._+="L"+(t+y*c)+","+(e+y*u)),this._+="A"+r+","+r+",0,0,"+ +(u*h>c*d)+","+(this._x1=t+_*s)+","+(this._y1=e+_*l)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,i,r,o){t=+t,e=+e,o=!!o;var a=(n=+n)*Math.cos(i),s=n*Math.sin(i),l=t+a,c=e+s,u=1^o,f=o?i-r:r-i;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+l+","+c:(Math.abs(this._x1-l)>1e-6||Math.abs(this._y1-c)>1e-6)&&(this._+="L"+l+","+c),n&&(f<0&&(f=f%Zr+Zr),f>Jr?this._+="A"+n+","+n+",0,1,"+u+","+(t-a)+","+(e-s)+"A"+n+","+n+",0,1,"+u+","+(this._x1=l)+","+(this._y1=c):f>1e-6&&(this._+="A"+n+","+n+",0,"+ +(f>=Qr)+","+u+","+(this._x1=t+n*Math.cos(r))+","+(this._y1=e+n*Math.sin(r))))},rect:function(t,e,n,i){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +i+"h"+-n+"Z"},toString:function(){return this._}};function so(){}function lo(t,e){var n=new so;if(t instanceof so)t.each(function(t,e){n.set(e,t)});else if(Array.isArray(t)){var i,r=-1,o=t.length;if(null==e)for(;++r<o;)n.set(r,t[r]);else for(;++r<o;)n.set(e(i=t[r],r,t),i)}else if(t)for(var a in t)n.set(a,t[a]);return n}function co(){return{}}function uo(t,e,n){t[e]=n}function fo(){return lo()}function ho(t,e,n){t.set(e,n)}function po(){}so.prototype=lo.prototype={constructor:so,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){var e="$"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)"$"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)"$"===e[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};var go=lo.prototype;function mo(t,e){var n=new po;if(t instanceof po)t.each(function(t){n.add(t)});else if(t){var i=-1,r=t.length;if(null==e)for(;++i<r;)n.add(t[i]);else for(;++i<r;)n.add(e(t[i],i,t))}return n}po.prototype=mo.prototype={constructor:po,has:go.has,add:function(t){return this["$"+(t+="")]=t,this},remove:go.remove,clear:go.clear,values:go.keys,size:go.size,empty:go.empty,each:go.each};var vo=Array.prototype.slice;function bo(t,e){return t-e}function yo(t){return function(){return t}}function _o(t,e){for(var n,i=-1,r=e.length;++i<r;)if(n=xo(t,e[i]))return n;return 0}function xo(t,e){for(var n=e[0],i=e[1],r=-1,o=0,a=t.length,s=a-1;o<a;s=o++){var l=t[o],c=l[0],u=l[1],f=t[s],h=f[0],d=f[1];if(wo(l,f,e))return 0;u>i!=d>i&&n<(h-c)*(i-u)/(d-u)+c&&(r=-r)}return r}function wo(t,e,n){var i,r,o,a;return function(t,e,n){return(e[0]-t[0])*(n[1]-t[1])==(n[0]-t[0])*(e[1]-t[1])}(t,e,n)&&(r=t[i=+(t[0]===e[0])],o=n[i],a=e[i],r<=o&&o<=a||a<=o&&o<=r)}function ko(){}var Co=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function Fo(){var t=1,e=1,n=S,i=s;function r(t){var e=n(t);if(Array.isArray(e))e=e.slice().sort(bo);else{var i=p(t),r=i[0],a=i[1];e=A(r,a,e),e=_(Math.floor(r/e)*e,Math.floor(a/e)*e,e)}return e.map(function(e){return o(t,e)})}function o(n,r){var o=[],s=[];return function(n,i,r){var o,s,l,c,u,f,h=new Array,d=new Array;o=s=-1,c=n[0]>=i,Co[c<<1].forEach(p);for(;++o<t-1;)l=c,c=n[o+1]>=i,Co[l|c<<1].forEach(p);Co[c<<0].forEach(p);for(;++s<e-1;){for(o=-1,c=n[s*t+t]>=i,u=n[s*t]>=i,Co[c<<1|u<<2].forEach(p);++o<t-1;)l=c,c=n[s*t+t+o+1]>=i,f=u,u=n[s*t+o+1]>=i,Co[l|c<<1|u<<2|f<<3].forEach(p);Co[c|u<<3].forEach(p)}o=-1,u=n[s*t]>=i,Co[u<<2].forEach(p);for(;++o<t-1;)f=u,u=n[s*t+o+1]>=i,Co[u<<2|f<<3].forEach(p);function p(t){var e,n,i=[t[0][0]+o,t[0][1]+s],l=[t[1][0]+o,t[1][1]+s],c=a(i),u=a(l);(e=d[c])?(n=h[u])?(delete d[e.end],delete h[n.start],e===n?(e.ring.push(l),r(e.ring)):h[e.start]=d[n.end]={start:e.start,end:n.end,ring:e.ring.concat(n.ring)}):(delete d[e.end],e.ring.push(l),d[e.end=u]=e):(e=h[u])?(n=d[c])?(delete h[e.start],delete d[n.end],e===n?(e.ring.push(l),r(e.ring)):h[n.start]=d[e.end]={start:n.start,end:e.end,ring:n.ring.concat(e.ring)}):(delete h[e.start],e.ring.unshift(i),h[e.start=c]=e):h[c]=d[u]={start:c,end:u,ring:[i,l]}}Co[u<<3].forEach(p)}(n,r,function(t){i(t,n,r),function(t){for(var e=0,n=t.length,i=t[n-1][1]*t[0][0]-t[n-1][0]*t[0][1];++e<n;)i+=t[e-1][1]*t[e][0]-t[e-1][0]*t[e][1];return i}(t)>0?o.push([t]):s.push(t)}),s.forEach(function(t){for(var e,n=0,i=o.length;n<i;++n)if(-1!==_o((e=o[n])[0],t))return void e.push(t)}),{type:"MultiPolygon",value:r,coordinates:o}}function a(e){return 2*e[0]+e[1]*(t+1)*4}function s(n,i,r){n.forEach(function(n){var o,a=n[0],s=n[1],l=0|a,c=0|s,u=i[c*t+l];a>0&&a<t&&l===a&&(o=i[c*t+l-1],n[0]=a+(r-o)/(u-o)-.5),s>0&&s<e&&c===s&&(o=i[(c-1)*t+l],n[1]=s+(r-o)/(u-o)-.5)})}return r.contour=o,r.size=function(n){if(!arguments.length)return[t,e];var i=Math.ceil(n[0]),o=Math.ceil(n[1]);if(!(i>0&&o>0))throw new Error("invalid size");return t=i,e=o,r},r.thresholds=function(t){return arguments.length?(n="function"==typeof t?t:Array.isArray(t)?yo(vo.call(t)):yo(t),r):n},r.smooth=function(t){return arguments.length?(i=t?s:ko,r):i===s},r}function Ao(t,e,n){for(var i=t.width,r=t.height,o=1+(n<<1),a=0;a<r;++a)for(var s=0,l=0;s<i+n;++s)s<i&&(l+=t.data[s+a*i]),s>=n&&(s>=o&&(l-=t.data[s-o+a*i]),e.data[s-n+a*i]=l/Math.min(s+1,i-1+o-s,o))}function So(t,e,n){for(var i=t.width,r=t.height,o=1+(n<<1),a=0;a<i;++a)for(var s=0,l=0;s<r+n;++s)s<r&&(l+=t.data[a+s*i]),s>=n&&(s>=o&&(l-=t.data[a+(s-o)*i]),e.data[a+(s-n)*i]=l/Math.min(s+1,r-1+o-s,o))}function Do(t){return t[0]}function Mo(t){return t[1]}function To(){return 1}var Eo={},Po={},Io=34,Ro=10,No=13;function zo(t){return new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}")}function Oo(t){var e=Object.create(null),n=[];return t.forEach(function(t){for(var i in t)i in e||n.push(e[i]=i)}),n}function Lo(t,e){var n=t+"",i=n.length;return i<e?new Array(e-i+1).join(0)+n:n}function jo(t){var e,n=t.getUTCHours(),i=t.getUTCMinutes(),r=t.getUTCSeconds(),o=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":((e=t.getUTCFullYear())<0?"-"+Lo(-e,6):e>9999?"+"+Lo(e,6):Lo(e,4))+"-"+Lo(t.getUTCMonth()+1,2)+"-"+Lo(t.getUTCDate(),2)+(o?"T"+Lo(n,2)+":"+Lo(i,2)+":"+Lo(r,2)+"."+Lo(o,3)+"Z":r?"T"+Lo(n,2)+":"+Lo(i,2)+":"+Lo(r,2)+"Z":i||n?"T"+Lo(n,2)+":"+Lo(i,2)+"Z":"")}function Ho(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function i(t,e){var i,r=[],o=t.length,a=0,s=0,l=o<=0,c=!1;function u(){if(l)return Po;if(c)return c=!1,Eo;var e,i,r=a;if(t.charCodeAt(r)===Io){for(;a++<o&&t.charCodeAt(a)!==Io||t.charCodeAt(++a)===Io;);return(e=a)>=o?l=!0:(i=t.charCodeAt(a++))===Ro?c=!0:i===No&&(c=!0,t.charCodeAt(a)===Ro&&++a),t.slice(r+1,e-1).replace(/""/g,'"')}for(;a<o;){if((i=t.charCodeAt(e=a++))===Ro)c=!0;else if(i===No)c=!0,t.charCodeAt(a)===Ro&&++a;else if(i!==n)continue;return t.slice(r,e)}return l=!0,t.slice(r,o)}for(t.charCodeAt(o-1)===Ro&&--o,t.charCodeAt(o-1)===No&&--o;(i=u())!==Po;){for(var f=[];i!==Eo&&i!==Po;)f.push(i),i=u();e&&null==(f=e(f,s++))||r.push(f)}return r}function r(e,n){return e.map(function(e){return n.map(function(t){return a(e[t])}).join(t)})}function o(e){return e.map(a).join(t)}function a(t){return null==t?"":t instanceof Date?jo(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,r,o=i(t,function(t,i){if(n)return n(t,i-1);r=t,n=e?function(t,e){var n=zo(t);return function(i,r){return e(n(i),r,t)}}(t,e):zo(t)});return o.columns=r||[],o},parseRows:i,format:function(e,n){return null==n&&(n=Oo(e)),[n.map(a).join(t)].concat(r(e,n)).join("\n")},formatBody:function(t,e){return null==e&&(e=Oo(t)),r(t,e).join("\n")},formatRows:function(t){return t.map(o).join("\n")}}}var Bo=Ho(","),Wo=Bo.parse,qo=Bo.parseRows,Uo=Bo.format,$o=Bo.formatBody,Vo=Bo.formatRows,Go=Ho("\t"),Yo=Go.parse,Xo=Go.parseRows,Ko=Go.format,Qo=Go.formatBody,Zo=Go.formatRows;function Jo(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}function ta(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}function ea(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function na(t,e){return fetch(t,e).then(ea)}function ia(t){return function(e,n,i){return 2===arguments.length&&"function"==typeof n&&(i=n,n=void 0),na(e,n).then(function(e){return t(e,i)})}}var ra=ia(Wo),oa=ia(Yo);function aa(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.json()}function sa(t){return function(e,n){return na(e,n).then(function(e){return(new DOMParser).parseFromString(e,t)})}}var la=sa("application/xml"),ca=sa("text/html"),ua=sa("image/svg+xml");function fa(t){return function(){return t}}function ha(){return 1e-6*(Math.random()-.5)}function da(t,e,n,i){if(isNaN(e)||isNaN(n))return t;var r,o,a,s,l,c,u,f,h,d=t._root,p={data:i},g=t._x0,m=t._y0,v=t._x1,b=t._y1;if(!d)return t._root=p,t;for(;d.length;)if((c=e>=(o=(g+v)/2))?g=o:v=o,(u=n>=(a=(m+b)/2))?m=a:b=a,r=d,!(d=d[f=u<<1|c]))return r[f]=p,t;if(s=+t._x.call(null,d.data),l=+t._y.call(null,d.data),e===s&&n===l)return p.next=d,r?r[f]=p:t._root=p,t;do{r=r?r[f]=new Array(4):t._root=new Array(4),(c=e>=(o=(g+v)/2))?g=o:v=o,(u=n>=(a=(m+b)/2))?m=a:b=a}while((f=u<<1|c)==(h=(l>=a)<<1|s>=o));return r[h]=d,r[f]=p,t}function pa(t,e,n,i,r){this.node=t,this.x0=e,this.y0=n,this.x1=i,this.y1=r}function ga(t){return t[0]}function ma(t){return t[1]}function va(t,e,n){var i=new ba(null==e?ga:e,null==n?ma:n,NaN,NaN,NaN,NaN);return null==t?i:i.addAll(t)}function ba(t,e,n,i,r,o){this._x=t,this._y=e,this._x0=n,this._y0=i,this._x1=r,this._y1=o,this._root=void 0}function ya(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var _a=va.prototype=ba.prototype;function xa(t){return t.x+t.vx}function wa(t){return t.y+t.vy}function ka(t){return t.index}function Ca(t,e){var n=t.get(e);if(!n)throw new Error("missing: "+e);return n}function Fa(t){return t.x}function Aa(t){return t.y}_a.copy=function(){var t,e,n=new ba(this._x,this._y,this._x0,this._y0,this._x1,this._y1),i=this._root;if(!i)return n;if(!i.length)return n._root=ya(i),n;for(t=[{source:i,target:n._root=new Array(4)}];i=t.pop();)for(var r=0;r<4;++r)(e=i.source[r])&&(e.length?t.push({source:e,target:i.target[r]=new Array(4)}):i.target[r]=ya(e));return n},_a.add=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return da(this.cover(e,n),e,n,t)},_a.addAll=function(t){var e,n,i,r,o=t.length,a=new Array(o),s=new Array(o),l=1/0,c=1/0,u=-1/0,f=-1/0;for(n=0;n<o;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(r=+this._y.call(null,e))||(a[n]=i,s[n]=r,i<l&&(l=i),i>u&&(u=i),r<c&&(c=r),r>f&&(f=r));if(l>u||c>f)return this;for(this.cover(l,c).cover(u,f),n=0;n<o;++n)da(this,a[n],s[n],t[n]);return this},_a.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,i=this._y0,r=this._x1,o=this._y1;if(isNaN(n))r=(n=Math.floor(t))+1,o=(i=Math.floor(e))+1;else{for(var a,s,l=r-n,c=this._root;n>t||t>=r||i>e||e>=o;)switch(s=(e<i)<<1|t<n,(a=new Array(4))[s]=c,c=a,l*=2,s){case 0:r=n+l,o=i+l;break;case 1:n=r-l,o=i+l;break;case 2:r=n+l,i=o-l;break;case 3:n=r-l,i=o-l}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=i,this._x1=r,this._y1=o,this},_a.data=function(){var t=[];return this.visit(function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)}),t},_a.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},_a.find=function(t,e,n){var i,r,o,a,s,l,c,u=this._x0,f=this._y0,h=this._x1,d=this._y1,p=[],g=this._root;for(g&&p.push(new pa(g,u,f,h,d)),null==n?n=1/0:(u=t-n,f=e-n,h=t+n,d=e+n,n*=n);l=p.pop();)if(!(!(g=l.node)||(r=l.x0)>h||(o=l.y0)>d||(a=l.x1)<u||(s=l.y1)<f))if(g.length){var m=(r+a)/2,v=(o+s)/2;p.push(new pa(g[3],m,v,a,s),new pa(g[2],r,v,m,s),new pa(g[1],m,o,a,v),new pa(g[0],r,o,m,v)),(c=(e>=v)<<1|t>=m)&&(l=p[p.length-1],p[p.length-1]=p[p.length-1-c],p[p.length-1-c]=l)}else{var b=t-+this._x.call(null,g.data),y=e-+this._y.call(null,g.data),_=b*b+y*y;if(_<n){var x=Math.sqrt(n=_);u=t-x,f=e-x,h=t+x,d=e+x,i=g.data}}return i},_a.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,i,r,o,a,s,l,c,u,f,h,d=this._root,p=this._x0,g=this._y0,m=this._x1,v=this._y1;if(!d)return this;if(d.length)for(;;){if((c=o>=(s=(p+m)/2))?p=s:m=s,(u=a>=(l=(g+v)/2))?g=l:v=l,e=d,!(d=d[f=u<<1|c]))return this;if(!d.length)break;(e[f+1&3]||e[f+2&3]||e[f+3&3])&&(n=e,h=f)}for(;d.data!==t;)if(i=d,!(d=d.next))return this;return(r=d.next)&&delete d.next,i?(r?i.next=r:delete i.next,this):e?(r?e[f]=r:delete e[f],(d=e[0]||e[1]||e[2]||e[3])&&d===(e[3]||e[2]||e[1]||e[0])&&!d.length&&(n?n[h]=d:this._root=d),this):(this._root=r,this)},_a.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},_a.root=function(){return this._root},_a.size=function(){var t=0;return this.visit(function(e){if(!e.length)do{++t}while(e=e.next)}),t},_a.visit=function(t){var e,n,i,r,o,a,s=[],l=this._root;for(l&&s.push(new pa(l,this._x0,this._y0,this._x1,this._y1));e=s.pop();)if(!t(l=e.node,i=e.x0,r=e.y0,o=e.x1,a=e.y1)&&l.length){var c=(i+o)/2,u=(r+a)/2;(n=l[3])&&s.push(new pa(n,c,u,o,a)),(n=l[2])&&s.push(new pa(n,i,u,c,a)),(n=l[1])&&s.push(new pa(n,c,r,o,u)),(n=l[0])&&s.push(new pa(n,i,r,c,u))}return this},_a.visitAfter=function(t){var e,n=[],i=[];for(this._root&&n.push(new pa(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var r=e.node;if(r.length){var o,a=e.x0,s=e.y0,l=e.x1,c=e.y1,u=(a+l)/2,f=(s+c)/2;(o=r[0])&&n.push(new pa(o,a,s,u,f)),(o=r[1])&&n.push(new pa(o,u,s,l,f)),(o=r[2])&&n.push(new pa(o,a,f,u,c)),(o=r[3])&&n.push(new pa(o,u,f,l,c))}i.push(e)}for(;e=i.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},_a.x=function(t){return arguments.length?(this._x=t,this):this._x},_a.y=function(t){return arguments.length?(this._y=t,this):this._y};var Sa=10,Da=Math.PI*(3-Math.sqrt(5));function Ma(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]}function Ta(t){return(t=Ma(Math.abs(t)))?t[1]:NaN}var Ea,Pa=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ia(t){if(!(e=Pa.exec(t)))throw new Error("invalid format: "+t);var e;return new Ra({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function Ra(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Na(t,e){var n=Ma(t,e);if(!n)return t+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}Ia.prototype=Ra.prototype,Ra.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var za={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return Na(100*t,e)},r:Na,s:function(t,e){var n=Ma(t,e);if(!n)return t+"";var i=n[0],r=n[1],o=r-(Ea=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,a=i.length;return o===a?i:o>a?i+new Array(o-a+1).join("0"):o>0?i.slice(0,o)+"."+i.slice(o):"0."+new Array(1-o).join("0")+Ma(t,Math.max(0,e+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function Oa(t){return t}var La,ja=Array.prototype.map,Ha=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function Ba(t){var e,n,i=void 0===t.grouping||void 0===t.thousands?Oa:(e=ja.call(t.grouping,Number),n=t.thousands+"",function(t,i){for(var r=t.length,o=[],a=0,s=e[0],l=0;r>0&&s>0&&(l+s+1>i&&(s=Math.max(1,i-l)),o.push(t.substring(r-=s,r+s)),!((l+=s+1)>i));)s=e[a=(a+1)%e.length];return o.reverse().join(n)}),r=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?Oa:function(t){return function(e){return e.replace(/[0-9]/g,function(e){return t[+e]})}}(ja.call(t.numerals,String)),l=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"-":t.minus+"",u=void 0===t.nan?"NaN":t.nan+"";function f(t){var e=(t=Ia(t)).fill,n=t.align,f=t.sign,h=t.symbol,d=t.zero,p=t.width,g=t.comma,m=t.precision,v=t.trim,b=t.type;"n"===b?(g=!0,b="g"):za[b]||(void 0===m&&(m=12),v=!0,b="g"),(d||"0"===e&&"="===n)&&(d=!0,e="0",n="=");var y="$"===h?r:"#"===h&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",_="$"===h?o:/[%p]/.test(b)?l:"",x=za[b],w=/[defgprs%]/.test(b);function k(t){var r,o,l,h=y,k=_;if("c"===b)k=x(t)+k,t="";else{var C=(t=+t)<0;if(t=isNaN(t)?u:x(Math.abs(t),m),v&&(t=function(t){t:for(var e,n=t.length,i=1,r=-1;i<n;++i)switch(t[i]){case".":r=e=i;break;case"0":0===r&&(r=i),e=i;break;default:if(r>0){if(!+t[i])break t;r=0}}return r>0?t.slice(0,r)+t.slice(e+1):t}(t)),C&&0==+t&&(C=!1),h=(C?"("===f?f:c:"-"===f||"("===f?"":f)+h,k=("s"===b?Ha[8+Ea/3]:"")+k+(C&&"("===f?")":""),w)for(r=-1,o=t.length;++r<o;)if(48>(l=t.charCodeAt(r))||l>57){k=(46===l?a+t.slice(r+1):t.slice(r))+k,t=t.slice(0,r);break}}g&&!d&&(t=i(t,1/0));var F=h.length+t.length+k.length,A=F<p?new Array(p-F+1).join(e):"";switch(g&&d&&(t=i(A+t,A.length?p-k.length:1/0),A=""),n){case"<":t=h+t+k+A;break;case"=":t=h+A+t+k;break;case"^":t=A.slice(0,F=A.length>>1)+h+t+k+A.slice(F);break;default:t=A+h+t+k}return s(t)}return m=void 0===m?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),k.toString=function(){return t+""},k}return{format:f,formatPrefix:function(t,e){var n=f(((t=Ia(t)).type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(Ta(e)/3))),r=Math.pow(10,-i),o=Ha[8+i/3];return function(t){return n(r*t)+o}}}}function Wa(t){return La=Ba(t),r.format=La.format,r.formatPrefix=La.formatPrefix,La}function qa(t){return Math.max(0,-Ta(Math.abs(t)))}function Ua(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Ta(e)/3)))-Ta(Math.abs(t)))}function $a(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ta(e)-Ta(t))+1}function Va(){return new Ga}function Ga(){this.reset()}Wa({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),Ga.prototype={constructor:Ga,reset:function(){this.s=this.t=0},add:function(t){Xa(Ya,t,this.t),Xa(this,Ya.s,this.s),this.s?this.t+=Ya.t:this.s=Ya.t},valueOf:function(){return this.s}};var Ya=new Ga;function Xa(t,e,n){var i=t.s=e+n,r=i-e,o=i-r;t.t=e-o+(n-r)}var Ka=1e-6,Qa=1e-12,Za=Math.PI,Ja=Za/2,ts=Za/4,es=2*Za,ns=180/Za,is=Za/180,rs=Math.abs,os=Math.atan,as=Math.atan2,ss=Math.cos,ls=Math.ceil,cs=Math.exp,us=Math.log,fs=Math.pow,hs=Math.sin,ds=Math.sign||function(t){return t>0?1:t<0?-1:0},ps=Math.sqrt,gs=Math.tan;function ms(t){return t>1?0:t<-1?Za:Math.acos(t)}function vs(t){return t>1?Ja:t<-1?-Ja:Math.asin(t)}function bs(t){return(t=hs(t/2))*t}function ys(){}function _s(t,e){t&&ws.hasOwnProperty(t.type)&&ws[t.type](t,e)}var xs={Feature:function(t,e){_s(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)_s(n[i].geometry,e)}},ws={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){ks(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)ks(n[i],e,0)},Polygon:function(t,e){Cs(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)Cs(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)_s(n[i],e)}};function ks(t,e,n){var i,r=-1,o=t.length-n;for(e.lineStart();++r<o;)i=t[r],e.point(i[0],i[1],i[2]);e.lineEnd()}function Cs(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)ks(t[n],e,1);e.polygonEnd()}function Fs(t,e){t&&xs.hasOwnProperty(t.type)?xs[t.type](t,e):_s(t,e)}var As,Ss,Ds,Ms,Ts,Es=Va(),Ps=Va(),Is={point:ys,lineStart:ys,lineEnd:ys,polygonStart:function(){Es.reset(),Is.lineStart=Rs,Is.lineEnd=Ns},polygonEnd:function(){var t=+Es;Ps.add(t<0?es+t:t),this.lineStart=this.lineEnd=this.point=ys},sphere:function(){Ps.add(es)}};function Rs(){Is.point=zs}function Ns(){Os(As,Ss)}function zs(t,e){Is.point=Os,As=t,Ss=e,Ds=t*=is,Ms=ss(e=(e*=is)/2+ts),Ts=hs(e)}function Os(t,e){e=(e*=is)/2+ts;var n=(t*=is)-Ds,i=n>=0?1:-1,r=i*n,o=ss(e),a=hs(e),s=Ts*a,l=Ms*o+s*ss(r),c=s*i*hs(r);Es.add(as(c,l)),Ds=t,Ms=o,Ts=a}function Ls(t){return[as(t[1],t[0]),vs(t[2])]}function js(t){var e=t[0],n=t[1],i=ss(n);return[i*ss(e),i*hs(e),hs(n)]}function Hs(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Bs(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Ws(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function qs(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Us(t){var e=ps(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var $s,Vs,Gs,Ys,Xs,Ks,Qs,Zs,Js,tl,el,nl,il,rl,ol,al,sl,ll,cl,ul,fl,hl,dl,pl,gl,ml,vl=Va(),bl={point:yl,lineStart:xl,lineEnd:wl,polygonStart:function(){bl.point=kl,bl.lineStart=Cl,bl.lineEnd=Fl,vl.reset(),Is.polygonStart()},polygonEnd:function(){Is.polygonEnd(),bl.point=yl,bl.lineStart=xl,bl.lineEnd=wl,Es<0?($s=-(Gs=180),Vs=-(Ys=90)):vl>Ka?Ys=90:vl<-Ka&&(Vs=-90),tl[0]=$s,tl[1]=Gs},sphere:function(){$s=-(Gs=180),Vs=-(Ys=90)}};function yl(t,e){Js.push(tl=[$s=t,Gs=t]),e<Vs&&(Vs=e),e>Ys&&(Ys=e)}function _l(t,e){var n=js([t*is,e*is]);if(Zs){var i=Bs(Zs,n),r=Bs([i[1],-i[0],0],i);Us(r),r=Ls(r);var o,a=t-Xs,s=a>0?1:-1,l=r[0]*ns*s,c=rs(a)>180;c^(s*Xs<l&&l<s*t)?(o=r[1]*ns)>Ys&&(Ys=o):c^(s*Xs<(l=(l+360)%360-180)&&l<s*t)?(o=-r[1]*ns)<Vs&&(Vs=o):(e<Vs&&(Vs=e),e>Ys&&(Ys=e)),c?t<Xs?Al($s,t)>Al($s,Gs)&&(Gs=t):Al(t,Gs)>Al($s,Gs)&&($s=t):Gs>=$s?(t<$s&&($s=t),t>Gs&&(Gs=t)):t>Xs?Al($s,t)>Al($s,Gs)&&(Gs=t):Al(t,Gs)>Al($s,Gs)&&($s=t)}else Js.push(tl=[$s=t,Gs=t]);e<Vs&&(Vs=e),e>Ys&&(Ys=e),Zs=n,Xs=t}function xl(){bl.point=_l}function wl(){tl[0]=$s,tl[1]=Gs,bl.point=yl,Zs=null}function kl(t,e){if(Zs){var n=t-Xs;vl.add(rs(n)>180?n+(n>0?360:-360):n)}else Ks=t,Qs=e;Is.point(t,e),_l(t,e)}function Cl(){Is.lineStart()}function Fl(){kl(Ks,Qs),Is.lineEnd(),rs(vl)>Ka&&($s=-(Gs=180)),tl[0]=$s,tl[1]=Gs,Zs=null}function Al(t,e){return(e-=t)<0?e+360:e}function Sl(t,e){return t[0]-e[0]}function Dl(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var Ml={sphere:ys,point:Tl,lineStart:Pl,lineEnd:Nl,polygonStart:function(){Ml.lineStart=zl,Ml.lineEnd=Ol},polygonEnd:function(){Ml.lineStart=Pl,Ml.lineEnd=Nl}};function Tl(t,e){t*=is;var n=ss(e*=is);El(n*ss(t),n*hs(t),hs(e))}function El(t,e,n){il+=(t-il)/++el,rl+=(e-rl)/el,ol+=(n-ol)/el}function Pl(){Ml.point=Il}function Il(t,e){t*=is;var n=ss(e*=is);pl=n*ss(t),gl=n*hs(t),ml=hs(e),Ml.point=Rl,El(pl,gl,ml)}function Rl(t,e){t*=is;var n=ss(e*=is),i=n*ss(t),r=n*hs(t),o=hs(e),a=as(ps((a=gl*o-ml*r)*a+(a=ml*i-pl*o)*a+(a=pl*r-gl*i)*a),pl*i+gl*r+ml*o);nl+=a,al+=a*(pl+(pl=i)),sl+=a*(gl+(gl=r)),ll+=a*(ml+(ml=o)),El(pl,gl,ml)}function Nl(){Ml.point=Tl}function zl(){Ml.point=Ll}function Ol(){jl(hl,dl),Ml.point=Tl}function Ll(t,e){hl=t,dl=e,t*=is,e*=is,Ml.point=jl;var n=ss(e);pl=n*ss(t),gl=n*hs(t),ml=hs(e),El(pl,gl,ml)}function jl(t,e){t*=is;var n=ss(e*=is),i=n*ss(t),r=n*hs(t),o=hs(e),a=gl*o-ml*r,s=ml*i-pl*o,l=pl*r-gl*i,c=ps(a*a+s*s+l*l),u=vs(c),f=c&&-u/c;cl+=f*a,ul+=f*s,fl+=f*l,nl+=u,al+=u*(pl+(pl=i)),sl+=u*(gl+(gl=r)),ll+=u*(ml+(ml=o)),El(pl,gl,ml)}function Hl(t){return function(){return t}}function Bl(t,e){function n(n,i){return n=t(n,i),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,i){return(n=e.invert(n,i))&&t.invert(n[0],n[1])}),n}function Wl(t,e){return[rs(t)>Za?t+Math.round(-t/es)*es:t,e]}function ql(t,e,n){return(t%=es)?e||n?Bl($l(t),Vl(e,n)):$l(t):e||n?Vl(e,n):Wl}function Ul(t){return function(e,n){return[(e+=t)>Za?e-es:e<-Za?e+es:e,n]}}function $l(t){var e=Ul(t);return e.invert=Ul(-t),e}function Vl(t,e){var n=ss(t),i=hs(t),r=ss(e),o=hs(e);function a(t,e){var a=ss(e),s=ss(t)*a,l=hs(t)*a,c=hs(e),u=c*n+s*i;return[as(l*r-u*o,s*n-c*i),vs(u*r+l*o)]}return a.invert=function(t,e){var a=ss(e),s=ss(t)*a,l=hs(t)*a,c=hs(e),u=c*r-l*o;return[as(l*r+c*o,s*n+u*i),vs(u*n-s*i)]},a}function Gl(t){function e(e){return(e=t(e[0]*is,e[1]*is))[0]*=ns,e[1]*=ns,e}return t=ql(t[0]*is,t[1]*is,t.length>2?t[2]*is:0),e.invert=function(e){return(e=t.invert(e[0]*is,e[1]*is))[0]*=ns,e[1]*=ns,e},e}function Yl(t,e,n,i,r,o){if(n){var a=ss(e),s=hs(e),l=i*n;null==r?(r=e+i*es,o=e-l/2):(r=Xl(a,r),o=Xl(a,o),(i>0?r<o:r>o)&&(r+=i*es));for(var c,u=r;i>0?u>o:u<o;u-=l)c=Ls([a,-s*ss(u),-s*hs(u)]),t.point(c[0],c[1])}}function Xl(t,e){(e=js(e))[0]-=t,Us(e);var n=ms(-e[1]);return((-e[2]<0?-n:n)+es-Ka)%es}function Kl(){var t,e=[];return{point:function(e,n){t.push([e,n])},lineStart:function(){e.push(t=[])},lineEnd:ys,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function Ql(t,e){return rs(t[0]-e[0])<Ka&&rs(t[1]-e[1])<Ka}function Zl(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function Jl(t,e,n,i,r){var o,a,s=[],l=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n,i=t[0],a=t[e];if(Ql(i,a)){for(r.lineStart(),o=0;o<e;++o)r.point((i=t[o])[0],i[1]);r.lineEnd()}else s.push(n=new Zl(i,t,null,!0)),l.push(n.o=new Zl(i,null,n,!1)),s.push(n=new Zl(a,t,null,!1)),l.push(n.o=new Zl(a,null,n,!0))}}),s.length){for(l.sort(e),tc(s),tc(l),o=0,a=l.length;o<a;++o)l[o].e=n=!n;for(var c,u,f=s[0];;){for(var h=f,d=!0;h.v;)if((h=h.n)===f)return;c=h.z,r.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(o=0,a=c.length;o<a;++o)r.point((u=c[o])[0],u[1]);else i(h.x,h.n.x,1,r);h=h.n}else{if(d)for(c=h.p.z,o=c.length-1;o>=0;--o)r.point((u=c[o])[0],u[1]);else i(h.x,h.p.x,-1,r);h=h.p}c=(h=h.o).z,d=!d}while(!h.v);r.lineEnd()}}}function tc(t){if(e=t.length){for(var e,n,i=0,r=t[0];++i<e;)r.n=n=t[i],n.p=r,r=n;r.n=n=t[0],n.p=r}}Wl.invert=Wl;var ec=Va();function nc(t){return rs(t[0])<=Za?t[0]:ds(t[0])*((rs(t[0])+Za)%es-Za)}function ic(t,e){var n=nc(e),i=e[1],r=hs(i),o=[hs(n),-ss(n),0],a=0,s=0;ec.reset(),1===r?i=Ja+Ka:-1===r&&(i=-Ja-Ka);for(var l=0,c=t.length;l<c;++l)if(f=(u=t[l]).length)for(var u,f,h=u[f-1],d=nc(h),p=h[1]/2+ts,g=hs(p),m=ss(p),v=0;v<f;++v,d=y,g=x,m=w,h=b){var b=u[v],y=nc(b),_=b[1]/2+ts,x=hs(_),w=ss(_),k=y-d,C=k>=0?1:-1,F=C*k,A=F>Za,S=g*x;if(ec.add(as(S*C*hs(F),m*w+S*ss(F))),a+=A?k+C*es:k,A^d>=n^y>=n){var D=Bs(js(h),js(b));Us(D);var M=Bs(o,D);Us(M);var T=(A^k>=0?-1:1)*vs(M[2]);(i>T||i===T&&(D[0]||D[1]))&&(s+=A^k>=0?1:-1)}}return(a<-Ka||a<Ka&&ec<-Ka)^1&s}function rc(t,e,n,i){return function(r){var o,a,s,l=e(r),c=Kl(),u=e(c),f=!1,h={point:d,lineStart:g,lineEnd:m,polygonStart:function(){h.point=v,h.lineStart=b,h.lineEnd=y,a=[],o=[]},polygonEnd:function(){h.point=d,h.lineStart=g,h.lineEnd=m,a=T(a);var t=ic(o,i);a.length?(f||(r.polygonStart(),f=!0),Jl(a,ac,t,n,r)):t&&(f||(r.polygonStart(),f=!0),r.lineStart(),n(null,null,1,r),r.lineEnd()),f&&(r.polygonEnd(),f=!1),a=o=null},sphere:function(){r.polygonStart(),r.lineStart(),n(null,null,1,r),r.lineEnd(),r.polygonEnd()}};function d(e,n){t(e,n)&&r.point(e,n)}function p(t,e){l.point(t,e)}function g(){h.point=p,l.lineStart()}function m(){h.point=d,l.lineEnd()}function v(t,e){s.push([t,e]),u.point(t,e)}function b(){u.lineStart(),s=[]}function y(){v(s[0][0],s[0][1]),u.lineEnd();var t,e,n,i,l=u.clean(),h=c.result(),d=h.length;if(s.pop(),o.push(s),s=null,d)if(1&l){if((e=(n=h[0]).length-1)>0){for(f||(r.polygonStart(),f=!0),r.lineStart(),t=0;t<e;++t)r.point((i=n[t])[0],i[1]);r.lineEnd()}}else d>1&&2&l&&h.push(h.pop().concat(h.shift())),a.push(h.filter(oc))}return h}}function oc(t){return t.length>1}function ac(t,e){return((t=t.x)[0]<0?t[1]-Ja-Ka:Ja-t[1])-((e=e.x)[0]<0?e[1]-Ja-Ka:Ja-e[1])}var sc=rc(function(){return!0},function(t){var e,n=NaN,i=NaN,r=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var s=o>0?Za:-Za,l=rs(o-n);rs(l-Za)<Ka?(t.point(n,i=(i+a)/2>0?Ja:-Ja),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(s,i),t.point(o,i),e=0):r!==s&&l>=Za&&(rs(n-r)<Ka&&(n-=r*Ka),rs(o-s)<Ka&&(o-=s*Ka),i=function(t,e,n,i){var r,o,a=hs(t-n);return rs(a)>Ka?os((hs(e)*(o=ss(i))*hs(n)-hs(i)*(r=ss(e))*hs(t))/(r*o*a)):(e+i)/2}(n,i,o,a),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(s,i),e=0),t.point(n=o,i=a),r=s},lineEnd:function(){t.lineEnd(),n=i=NaN},clean:function(){return 2-e}}},function(t,e,n,i){var r;if(null==t)r=n*Ja,i.point(-Za,r),i.point(0,r),i.point(Za,r),i.point(Za,0),i.point(Za,-r),i.point(0,-r),i.point(-Za,-r),i.point(-Za,0),i.point(-Za,r);else if(rs(t[0]-e[0])>Ka){var o=t[0]<e[0]?Za:-Za;r=n*o/2,i.point(-o,r),i.point(0,r),i.point(o,r)}else i.point(e[0],e[1])},[-Za,-Ja]);function lc(t){var e=ss(t),n=6*is,i=e>0,r=rs(e)>Ka;function o(t,n){return ss(t)*ss(n)>e}function a(t,n,i){var r=[1,0,0],o=Bs(js(t),js(n)),a=Hs(o,o),s=o[0],l=a-s*s;if(!l)return!i&&t;var c=e*a/l,u=-e*s/l,f=Bs(r,o),h=qs(r,c);Ws(h,qs(o,u));var d=f,p=Hs(h,d),g=Hs(d,d),m=p*p-g*(Hs(h,h)-1);if(!(m<0)){var v=ps(m),b=qs(d,(-p-v)/g);if(Ws(b,h),b=Ls(b),!i)return b;var y,_=t[0],x=n[0],w=t[1],k=n[1];x<_&&(y=_,_=x,x=y);var C=x-_,F=rs(C-Za)<Ka;if(!F&&k<w&&(y=w,w=k,k=y),F||C<Ka?F?w+k>0^b[1]<(rs(b[0]-_)<Ka?w:k):w<=b[1]&&b[1]<=k:C>Za^(_<=b[0]&&b[0]<=x)){var A=qs(d,(-p+v)/g);return Ws(A,h),[b,Ls(A)]}}}function s(e,n){var r=i?t:Za-t,o=0;return e<-r?o|=1:e>r&&(o|=2),n<-r?o|=4:n>r&&(o|=8),o}return rc(o,function(t){var e,n,l,c,u;return{lineStart:function(){c=l=!1,u=1},point:function(f,h){var d,p=[f,h],g=o(f,h),m=i?g?0:s(f,h):g?s(f+(f<0?Za:-Za),h):0;if(!e&&(c=l=g)&&t.lineStart(),g!==l&&(!(d=a(e,p))||Ql(e,d)||Ql(p,d))&&(p[0]+=Ka,p[1]+=Ka,g=o(p[0],p[1])),g!==l)u=0,g?(t.lineStart(),d=a(p,e),t.point(d[0],d[1])):(d=a(e,p),t.point(d[0],d[1]),t.lineEnd()),e=d;else if(r&&e&&i^g){var v;m&n||!(v=a(p,e,!0))||(u=0,i?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1])))}!g||e&&Ql(e,p)||t.point(p[0],p[1]),e=p,l=g,n=m},lineEnd:function(){l&&t.lineEnd(),e=null},clean:function(){return u|(c&&l)<<1}}},function(e,i,r,o){Yl(o,t,n,r,e,i)},i?[0,-t]:[-Za,t-Za])}var cc=1e9,uc=-cc;function fc(t,e,n,i){function r(r,o){return t<=r&&r<=n&&e<=o&&o<=i}function o(r,o,s,c){var u=0,f=0;if(null==r||(u=a(r,s))!==(f=a(o,s))||l(r,o)<0^s>0)do{c.point(0===u||3===u?t:n,u>1?i:e)}while((u=(u+s+4)%4)!==f);else c.point(o[0],o[1])}function a(i,r){return rs(i[0]-t)<Ka?r>0?0:3:rs(i[0]-n)<Ka?r>0?2:1:rs(i[1]-e)<Ka?r>0?1:0:r>0?3:2}function s(t,e){return l(t.x,e.x)}function l(t,e){var n=a(t,1),i=a(e,1);return n!==i?n-i:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(a){var l,c,u,f,h,d,p,g,m,v,b,y=a,_=Kl(),x={point:w,lineStart:function(){x.point=k,c&&c.push(u=[]);v=!0,m=!1,p=g=NaN},lineEnd:function(){l&&(k(f,h),d&&m&&_.rejoin(),l.push(_.result()));x.point=w,m&&y.lineEnd()},polygonStart:function(){y=_,l=[],c=[],b=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,r=c.length;n<r;++n)for(var o,a,s=c[n],l=1,u=s.length,f=s[0],h=f[0],d=f[1];l<u;++l)o=h,a=d,f=s[l],h=f[0],d=f[1],a<=i?d>i&&(h-o)*(i-a)>(d-a)*(t-o)&&++e:d<=i&&(h-o)*(i-a)<(d-a)*(t-o)&&--e;return e}(),n=b&&e,r=(l=T(l)).length;(n||r)&&(a.polygonStart(),n&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),r&&Jl(l,s,e,o,a),a.polygonEnd());y=a,l=c=u=null}};function w(t,e){r(t,e)&&y.point(t,e)}function k(o,a){var s=r(o,a);if(c&&u.push([o,a]),v)f=o,h=a,d=s,v=!1,s&&(y.lineStart(),y.point(o,a));else if(s&&m)y.point(o,a);else{var l=[p=Math.max(uc,Math.min(cc,p)),g=Math.max(uc,Math.min(cc,g))],_=[o=Math.max(uc,Math.min(cc,o)),a=Math.max(uc,Math.min(cc,a))];!function(t,e,n,i,r,o){var a,s=t[0],l=t[1],c=0,u=1,f=e[0]-s,h=e[1]-l;if(a=n-s,f||!(a>0)){if(a/=f,f<0){if(a<c)return;a<u&&(u=a)}else if(f>0){if(a>u)return;a>c&&(c=a)}if(a=r-s,f||!(a<0)){if(a/=f,f<0){if(a>u)return;a>c&&(c=a)}else if(f>0){if(a<c)return;a<u&&(u=a)}if(a=i-l,h||!(a>0)){if(a/=h,h<0){if(a<c)return;a<u&&(u=a)}else if(h>0){if(a>u)return;a>c&&(c=a)}if(a=o-l,h||!(a<0)){if(a/=h,h<0){if(a>u)return;a>c&&(c=a)}else if(h>0){if(a<c)return;a<u&&(u=a)}return c>0&&(t[0]=s+c*f,t[1]=l+c*h),u<1&&(e[0]=s+u*f,e[1]=l+u*h),!0}}}}}(l,_,t,e,n,i)?s&&(y.lineStart(),y.point(o,a),b=!1):(m||(y.lineStart(),y.point(l[0],l[1])),y.point(_[0],_[1]),s||y.lineEnd(),b=!1)}p=o,g=a,m=s}return x}}var hc,dc,pc,gc=Va(),mc={sphere:ys,point:ys,lineStart:function(){mc.point=bc,mc.lineEnd=vc},lineEnd:ys,polygonStart:ys,polygonEnd:ys};function vc(){mc.point=mc.lineEnd=ys}function bc(t,e){hc=t*=is,dc=hs(e*=is),pc=ss(e),mc.point=yc}function yc(t,e){t*=is;var n=hs(e*=is),i=ss(e),r=rs(t-hc),o=ss(r),a=i*hs(r),s=pc*n-dc*i*o,l=dc*n+pc*i*o;gc.add(as(ps(a*a+s*s),l)),hc=t,dc=n,pc=i}function _c(t){return gc.reset(),Fs(t,mc),+gc}var xc=[null,null],wc={type:"LineString",coordinates:xc};function kc(t,e){return xc[0]=t,xc[1]=e,_c(wc)}var Cc={Feature:function(t,e){return Ac(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)if(Ac(n[i].geometry,e))return!0;return!1}},Fc={Sphere:function(){return!0},Point:function(t,e){return Sc(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)if(Sc(n[i],e))return!0;return!1},LineString:function(t,e){return Dc(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)if(Dc(n[i],e))return!0;return!1},Polygon:function(t,e){return Mc(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)if(Mc(n[i],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)if(Ac(n[i],e))return!0;return!1}};function Ac(t,e){return!(!t||!Fc.hasOwnProperty(t.type))&&Fc[t.type](t,e)}function Sc(t,e){return 0===kc(t,e)}function Dc(t,e){for(var n,i,r,o=0,a=t.length;o<a;o++){if(0===(i=kc(t[o],e)))return!0;if(o>0&&(r=kc(t[o],t[o-1]))>0&&n<=r&&i<=r&&(n+i-r)*(1-Math.pow((n-i)/r,2))<Qa*r)return!0;n=i}return!1}function Mc(t,e){return!!ic(t.map(Tc),Ec(e))}function Tc(t){return(t=t.map(Ec)).pop(),t}function Ec(t){return[t[0]*is,t[1]*is]}function Pc(t,e,n){var i=_(t,e-Ka,n).concat(e);return function(t){return i.map(function(e){return[t,e]})}}function Ic(t,e,n){var i=_(t,e-Ka,n).concat(e);return function(t){return i.map(function(e){return[e,t]})}}function Rc(){var t,e,n,i,r,o,a,s,l,c,u,f,h=10,d=h,p=90,g=360,m=2.5;function v(){return{type:"MultiLineString",coordinates:b()}}function b(){return _(ls(i/p)*p,n,p).map(u).concat(_(ls(s/g)*g,a,g).map(f)).concat(_(ls(e/h)*h,t,h).filter(function(t){return rs(t%p)>Ka}).map(l)).concat(_(ls(o/d)*d,r,d).filter(function(t){return rs(t%g)>Ka}).map(c))}return v.lines=function(){return b().map(function(t){return{type:"LineString",coordinates:t}})},v.outline=function(){return{type:"Polygon",coordinates:[u(i).concat(f(a).slice(1),u(n).reverse().slice(1),f(s).reverse().slice(1))]}},v.extent=function(t){return arguments.length?v.extentMajor(t).extentMinor(t):v.extentMinor()},v.extentMajor=function(t){return arguments.length?(i=+t[0][0],n=+t[1][0],s=+t[0][1],a=+t[1][1],i>n&&(t=i,i=n,n=t),s>a&&(t=s,s=a,a=t),v.precision(m)):[[i,s],[n,a]]},v.extentMinor=function(n){return arguments.length?(e=+n[0][0],t=+n[1][0],o=+n[0][1],r=+n[1][1],e>t&&(n=e,e=t,t=n),o>r&&(n=o,o=r,r=n),v.precision(m)):[[e,o],[t,r]]},v.step=function(t){return arguments.length?v.stepMajor(t).stepMinor(t):v.stepMinor()},v.stepMajor=function(t){return arguments.length?(p=+t[0],g=+t[1],v):[p,g]},v.stepMinor=function(t){return arguments.length?(h=+t[0],d=+t[1],v):[h,d]},v.precision=function(h){return arguments.length?(m=+h,l=Pc(o,r,90),c=Ic(e,t,m),u=Pc(s,a,90),f=Ic(i,n,m),v):m},v.extentMajor([[-180,-90+Ka],[180,90-Ka]]).extentMinor([[-180,-80-Ka],[180,80+Ka]])}function Nc(t){return t}var zc,Oc,Lc,jc,Hc=Va(),Bc=Va(),Wc={point:ys,lineStart:ys,lineEnd:ys,polygonStart:function(){Wc.lineStart=qc,Wc.lineEnd=Vc},polygonEnd:function(){Wc.lineStart=Wc.lineEnd=Wc.point=ys,Hc.add(rs(Bc)),Bc.reset()},result:function(){var t=Hc/2;return Hc.reset(),t}};function qc(){Wc.point=Uc}function Uc(t,e){Wc.point=$c,zc=Lc=t,Oc=jc=e}function $c(t,e){Bc.add(jc*t-Lc*e),Lc=t,jc=e}function Vc(){$c(zc,Oc)}var Gc=1/0,Yc=Gc,Xc=-Gc,Kc=Xc,Qc={point:function(t,e){t<Gc&&(Gc=t);t>Xc&&(Xc=t);e<Yc&&(Yc=e);e>Kc&&(Kc=e)},lineStart:ys,lineEnd:ys,polygonStart:ys,polygonEnd:ys,result:function(){var t=[[Gc,Yc],[Xc,Kc]];return Xc=Kc=-(Yc=Gc=1/0),t}};var Zc,Jc,tu,eu,nu=0,iu=0,ru=0,ou=0,au=0,su=0,lu=0,cu=0,uu=0,fu={point:hu,lineStart:du,lineEnd:mu,polygonStart:function(){fu.lineStart=vu,fu.lineEnd=bu},polygonEnd:function(){fu.point=hu,fu.lineStart=du,fu.lineEnd=mu},result:function(){var t=uu?[lu/uu,cu/uu]:su?[ou/su,au/su]:ru?[nu/ru,iu/ru]:[NaN,NaN];return nu=iu=ru=ou=au=su=lu=cu=uu=0,t}};function hu(t,e){nu+=t,iu+=e,++ru}function du(){fu.point=pu}function pu(t,e){fu.point=gu,hu(tu=t,eu=e)}function gu(t,e){var n=t-tu,i=e-eu,r=ps(n*n+i*i);ou+=r*(tu+t)/2,au+=r*(eu+e)/2,su+=r,hu(tu=t,eu=e)}function mu(){fu.point=hu}function vu(){fu.point=yu}function bu(){_u(Zc,Jc)}function yu(t,e){fu.point=_u,hu(Zc=tu=t,Jc=eu=e)}function _u(t,e){var n=t-tu,i=e-eu,r=ps(n*n+i*i);ou+=r*(tu+t)/2,au+=r*(eu+e)/2,su+=r,lu+=(r=eu*t-tu*e)*(tu+t),cu+=r*(eu+e),uu+=3*r,hu(tu=t,eu=e)}function xu(t){this._context=t}xu.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,es)}},result:ys};var wu,ku,Cu,Fu,Au,Su=Va(),Du={point:ys,lineStart:function(){Du.point=Mu},lineEnd:function(){wu&&Tu(ku,Cu),Du.point=ys},polygonStart:function(){wu=!0},polygonEnd:function(){wu=null},result:function(){var t=+Su;return Su.reset(),t}};function Mu(t,e){Du.point=Tu,ku=Fu=t,Cu=Au=e}function Tu(t,e){Fu-=t,Au-=e,Su.add(ps(Fu*Fu+Au*Au)),Fu=t,Au=e}function Eu(){this._string=[]}function Pu(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Iu(t){return function(e){var n=new Ru;for(var i in t)n[i]=t[i];return n.stream=e,n}}function Ru(){}function Nu(t,e,n){var i=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=i&&t.clipExtent(null),Fs(n,t.stream(Qc)),e(Qc.result()),null!=i&&t.clipExtent(i),t}function zu(t,e,n){return Nu(t,function(n){var i=e[1][0]-e[0][0],r=e[1][1]-e[0][1],o=Math.min(i/(n[1][0]-n[0][0]),r/(n[1][1]-n[0][1])),a=+e[0][0]+(i-o*(n[1][0]+n[0][0]))/2,s=+e[0][1]+(r-o*(n[1][1]+n[0][1]))/2;t.scale(150*o).translate([a,s])},n)}function Ou(t,e,n){return zu(t,[[0,0],e],n)}function Lu(t,e,n){return Nu(t,function(n){var i=+e,r=i/(n[1][0]-n[0][0]),o=(i-r*(n[1][0]+n[0][0]))/2,a=-r*n[0][1];t.scale(150*r).translate([o,a])},n)}function ju(t,e,n){return Nu(t,function(n){var i=+e,r=i/(n[1][1]-n[0][1]),o=-r*n[0][0],a=(i-r*(n[1][1]+n[0][1]))/2;t.scale(150*r).translate([o,a])},n)}Eu.prototype={_radius:4.5,_circle:Pu(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=Pu(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}},Ru.prototype={constructor:Ru,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Hu=16,Bu=ss(30*is);function Wu(t,e){return+e?function(t,e){function n(i,r,o,a,s,l,c,u,f,h,d,p,g,m){var v=c-i,b=u-r,y=v*v+b*b;if(y>4*e&&g--){var _=a+h,x=s+d,w=l+p,k=ps(_*_+x*x+w*w),C=vs(w/=k),F=rs(rs(w)-1)<Ka||rs(o-f)<Ka?(o+f)/2:as(x,_),A=t(F,C),S=A[0],D=A[1],M=S-i,T=D-r,E=b*M-v*T;(E*E/y>e||rs((v*M+b*T)/y-.5)>.3||a*h+s*d+l*p<Bu)&&(n(i,r,o,a,s,l,S,D,F,_/=k,x/=k,w,g,m),m.point(S,D),n(S,D,F,_,x,w,c,u,f,h,d,p,g,m))}}return function(e){var i,r,o,a,s,l,c,u,f,h,d,p,g={point:m,lineStart:v,lineEnd:y,polygonStart:function(){e.polygonStart(),g.lineStart=_},polygonEnd:function(){e.polygonEnd(),g.lineStart=v}};function m(n,i){n=t(n,i),e.point(n[0],n[1])}function v(){u=NaN,g.point=b,e.lineStart()}function b(i,r){var o=js([i,r]),a=t(i,r);n(u,f,c,h,d,p,u=a[0],f=a[1],c=i,h=o[0],d=o[1],p=o[2],Hu,e),e.point(u,f)}function y(){g.point=m,e.lineEnd()}function _(){v(),g.point=x,g.lineEnd=w}function x(t,e){b(i=t,e),r=u,o=f,a=h,s=d,l=p,g.point=b}function w(){n(u,f,c,h,d,p,r,o,i,a,s,l,Hu,e),g.lineEnd=y,y()}return g}}(t,e):function(t){return Iu({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)}var qu=Iu({point:function(t,e){this.stream.point(t*is,e*is)}});function Uu(t,e,n,i){var r=ss(i),o=hs(i),a=r*t,s=o*t,l=r/t,c=o/t,u=(o*n-r*e)/t,f=(o*e+r*n)/t;function h(t,i){return[a*t-s*i+e,n-s*t-a*i]}return h.invert=function(t,e){return[l*t-c*e+u,f-c*t-l*e]},h}function $u(t){return Vu(function(){return t})()}function Vu(t){var e,n,i,r,o,a,s,l,c,u,f=150,h=480,d=250,p=0,g=0,m=0,v=0,b=0,y=0,_=null,x=sc,w=null,k=Nc,C=.5;function F(t){return l(t[0]*is,t[1]*is)}function A(t){return(t=l.invert(t[0],t[1]))&&[t[0]*ns,t[1]*ns]}function S(){var t=Uu(f,0,0,y).apply(null,e(p,g)),i=(y?Uu:function(t,e,n){function i(i,r){return[e+t*i,n-t*r]}return i.invert=function(i,r){return[(i-e)/t,(n-r)/t]},i})(f,h-t[0],d-t[1],y);return n=ql(m,v,b),s=Bl(e,i),l=Bl(n,s),a=Wu(s,C),D()}function D(){return c=u=null,F}return F.stream=function(t){return c&&u===t?c:c=qu(function(t){return Iu({point:function(e,n){var i=t(e,n);return this.stream.point(i[0],i[1])}})}(n)(x(a(k(u=t)))))},F.preclip=function(t){return arguments.length?(x=t,_=void 0,D()):x},F.postclip=function(t){return arguments.length?(k=t,w=i=r=o=null,D()):k},F.clipAngle=function(t){return arguments.length?(x=+t?lc(_=t*is):(_=null,sc),D()):_*ns},F.clipExtent=function(t){return arguments.length?(k=null==t?(w=i=r=o=null,Nc):fc(w=+t[0][0],i=+t[0][1],r=+t[1][0],o=+t[1][1]),D()):null==w?null:[[w,i],[r,o]]},F.scale=function(t){return arguments.length?(f=+t,S()):f},F.translate=function(t){return arguments.length?(h=+t[0],d=+t[1],S()):[h,d]},F.center=function(t){return arguments.length?(p=t[0]%360*is,g=t[1]%360*is,S()):[p*ns,g*ns]},F.rotate=function(t){return arguments.length?(m=t[0]%360*is,v=t[1]%360*is,b=t.length>2?t[2]%360*is:0,S()):[m*ns,v*ns,b*ns]},F.angle=function(t){return arguments.length?(y=t%360*is,S()):y*ns},F.precision=function(t){return arguments.length?(a=Wu(s,C=t*t),D()):ps(C)},F.fitExtent=function(t,e){return zu(F,t,e)},F.fitSize=function(t,e){return Ou(F,t,e)},F.fitWidth=function(t,e){return Lu(F,t,e)},F.fitHeight=function(t,e){return ju(F,t,e)},function(){return e=t.apply(this,arguments),F.invert=e.invert&&A,S()}}function Gu(t){var e=0,n=Za/3,i=Vu(t),r=i(e,n);return r.parallels=function(t){return arguments.length?i(e=t[0]*is,n=t[1]*is):[e*ns,n*ns]},r}function Yu(t,e){var n=hs(t),i=(n+hs(e))/2;if(rs(i)<Ka)return function(t){var e=ss(t);function n(t,n){return[t*e,hs(n)/e]}return n.invert=function(t,n){return[t/e,vs(n*e)]},n}(t);var r=1+n*(2*i-n),o=ps(r)/i;function a(t,e){var n=ps(r-2*i*hs(e))/i;return[n*hs(t*=i),o-n*ss(t)]}return a.invert=function(t,e){var n=o-e;return[as(t,rs(n))/i*ds(n),vs((r-(t*t+n*n)*i*i)/(2*i))]},a}function Xu(){return Gu(Yu).scale(155.424).center([0,33.6442])}function Ku(){return Xu().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Qu(t){return function(e,n){var i=ss(e),r=ss(n),o=t(i*r);return[o*r*hs(e),o*hs(n)]}}function Zu(t){return function(e,n){var i=ps(e*e+n*n),r=t(i),o=hs(r),a=ss(r);return[as(e*o,i*a),vs(i&&n*o/i)]}}var Ju=Qu(function(t){return ps(2/(1+t))});Ju.invert=Zu(function(t){return 2*vs(t/2)});var tf=Qu(function(t){return(t=ms(t))&&t/hs(t)});function ef(t,e){return[t,us(gs((Ja+e)/2))]}function nf(t){var e,n,i,r=$u(t),o=r.center,a=r.scale,s=r.translate,l=r.clipExtent,c=null;function u(){var o=Za*a(),s=r(Gl(r.rotate()).invert([0,0]));return l(null==c?[[s[0]-o,s[1]-o],[s[0]+o,s[1]+o]]:t===ef?[[Math.max(s[0]-o,c),e],[Math.min(s[0]+o,n),i]]:[[c,Math.max(s[1]-o,e)],[n,Math.min(s[1]+o,i)]])}return r.scale=function(t){return arguments.length?(a(t),u()):a()},r.translate=function(t){return arguments.length?(s(t),u()):s()},r.center=function(t){return arguments.length?(o(t),u()):o()},r.clipExtent=function(t){return arguments.length?(null==t?c=e=n=i=null:(c=+t[0][0],e=+t[0][1],n=+t[1][0],i=+t[1][1]),u()):null==c?null:[[c,e],[n,i]]},u()}function rf(t){return gs((Ja+t)/2)}function of(t,e){var n=ss(t),i=t===e?hs(t):us(n/ss(e))/us(rf(e)/rf(t)),r=n*fs(rf(t),i)/i;if(!i)return ef;function o(t,e){r>0?e<-Ja+Ka&&(e=-Ja+Ka):e>Ja-Ka&&(e=Ja-Ka);var n=r/fs(rf(e),i);return[n*hs(i*t),r-n*ss(i*t)]}return o.invert=function(t,e){var n=r-e,o=ds(i)*ps(t*t+n*n);return[as(t,rs(n))/i*ds(n),2*os(fs(r/o,1/i))-Ja]},o}function af(t,e){return[t,e]}function sf(t,e){var n=ss(t),i=t===e?hs(t):(n-ss(e))/(e-t),r=n/i+t;if(rs(i)<Ka)return af;function o(t,e){var n=r-e,o=i*t;return[n*hs(o),r-n*ss(o)]}return o.invert=function(t,e){var n=r-e;return[as(t,rs(n))/i*ds(n),r-ds(i)*ps(t*t+n*n)]},o}tf.invert=Zu(function(t){return t}),ef.invert=function(t,e){return[t,2*os(cs(e))-Ja]},af.invert=af;var lf=1.340264,cf=-.081106,uf=893e-6,ff=.003796,hf=ps(3)/2;function df(t,e){var n=vs(hf*hs(e)),i=n*n,r=i*i*i;return[t*ss(n)/(hf*(lf+3*cf*i+r*(7*uf+9*ff*i))),n*(lf+cf*i+r*(uf+ff*i))]}function pf(t,e){var n=ss(e),i=ss(t)*n;return[n*hs(t)/i,hs(e)/i]}function gf(t,e,n,i){return 1===t&&1===e&&0===n&&0===i?Nc:Iu({point:function(r,o){this.stream.point(r*t+n,o*e+i)}})}function mf(t,e){var n=e*e,i=n*n;return[t*(.8707-.131979*n+i*(i*(.003971*n-.001529*i)-.013791)),e*(1.007226+n*(.015085+i*(.028874*n-.044475-.005916*i)))]}function vf(t,e){return[ss(e)*hs(t),hs(e)]}function bf(t,e){var n=ss(e),i=1+ss(t)*n;return[n*hs(t)/i,hs(e)/i]}function yf(t,e){return[us(gs((Ja+e)/2)),-t]}function _f(t,e){return t.parent===e.parent?1:2}function xf(t,e){return t+e.x}function wf(t,e){return Math.max(t,e.y)}function kf(t){var e=0,n=t.children,i=n&&n.length;if(i)for(;--i>=0;)e+=n[i].value;else e=1;t.value=e}function Cf(t,e){var n,i,r,o,a,s=new Df(t),l=+t.value&&(s.value=t.value),c=[s];for(null==e&&(e=Ff);n=c.pop();)if(l&&(n.value=+n.data.value),(r=e(n.data))&&(a=r.length))for(n.children=new Array(a),o=a-1;o>=0;--o)c.push(i=n.children[o]=new Df(r[o])),i.parent=n,i.depth=n.depth+1;return s.eachBefore(Sf)}function Ff(t){return t.children}function Af(t){t.data=t.data.data}function Sf(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function Df(t){this.data=t,this.depth=this.height=0,this.parent=null}df.invert=function(t,e){for(var n,i=e,r=i*i,o=r*r*r,a=0;a<12&&(o=(r=(i-=n=(i*(lf+cf*r+o*(uf+ff*r))-e)/(lf+3*cf*r+o*(7*uf+9*ff*r)))*i)*r*r,!(rs(n)<Qa));++a);return[hf*t*(lf+3*cf*r+o*(7*uf+9*ff*r))/ss(i),vs(hs(i)/hf)]},pf.invert=Zu(os),mf.invert=function(t,e){var n,i=e,r=25;do{var o=i*i,a=o*o;i-=n=(i*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-e)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while(rs(n)>Ka&&--r>0);return[t/(.8707+(o=i*i)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),i]},vf.invert=Zu(vs),bf.invert=Zu(function(t){return 2*os(t)}),yf.invert=function(t,e){return[-e,2*os(cs(t))-Ja]},Df.prototype=Cf.prototype={constructor:Df,count:function(){return this.eachAfter(kf)},each:function(t){var e,n,i,r,o=this,a=[o];do{for(e=a.reverse(),a=[];o=e.pop();)if(t(o),n=o.children)for(i=0,r=n.length;i<r;++i)a.push(n[i])}while(a.length);return this},eachAfter:function(t){for(var e,n,i,r=this,o=[r],a=[];r=o.pop();)if(a.push(r),e=r.children)for(n=0,i=e.length;n<i;++n)o.push(e[n]);for(;r=a.pop();)t(r);return this},eachBefore:function(t){for(var e,n,i=this,r=[i];i=r.pop();)if(t(i),e=i.children)for(n=e.length-1;n>=0;--n)r.push(e[n]);return this},sum:function(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,i=e.children,r=i&&i.length;--r>=0;)n+=i[r].value;e.value=n})},sort:function(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),i=e.ancestors(),r=null;for(t=n.pop(),e=i.pop();t===e;)r=t,t=n.pop(),e=i.pop();return r}(e,t),i=[e];e!==n;)e=e.parent,i.push(e);for(var r=i.length;t!==n;)i.splice(r,0,t),t=t.parent;return i},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){var t=[];return this.each(function(e){t.push(e)}),t},leaves:function(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t},links:function(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e},copy:function(){return Cf(this).eachBefore(Af)}};var Mf=Array.prototype.slice;function Tf(t){for(var e,n,i=0,r=(t=function(t){for(var e,n,i=t.length;i;)n=Math.random()*i--|0,e=t[i],t[i]=t[n],t[n]=e;return t}(Mf.call(t))).length,o=[];i<r;)e=t[i],n&&If(n,e)?++i:(n=Nf(o=Ef(o,e)),i=0);return n}function Ef(t,e){var n,i;if(Rf(e,t))return[e];for(n=0;n<t.length;++n)if(Pf(e,t[n])&&Rf(zf(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(i=n+1;i<t.length;++i)if(Pf(zf(t[n],t[i]),e)&&Pf(zf(t[n],e),t[i])&&Pf(zf(t[i],e),t[n])&&Rf(Of(t[n],t[i],e),t))return[t[n],t[i],e];throw new Error}function Pf(t,e){var n=t.r-e.r,i=e.x-t.x,r=e.y-t.y;return n<0||n*n<i*i+r*r}function If(t,e){var n=t.r-e.r+1e-6,i=e.x-t.x,r=e.y-t.y;return n>0&&n*n>i*i+r*r}function Rf(t,e){for(var n=0;n<e.length;++n)if(!If(t,e[n]))return!1;return!0}function Nf(t){switch(t.length){case 1:return{x:(e=t[0]).x,y:e.y,r:e.r};case 2:return zf(t[0],t[1]);case 3:return Of(t[0],t[1],t[2])}var e}function zf(t,e){var n=t.x,i=t.y,r=t.r,o=e.x,a=e.y,s=e.r,l=o-n,c=a-i,u=s-r,f=Math.sqrt(l*l+c*c);return{x:(n+o+l/f*u)/2,y:(i+a+c/f*u)/2,r:(f+r+s)/2}}function Of(t,e,n){var i=t.x,r=t.y,o=t.r,a=e.x,s=e.y,l=e.r,c=n.x,u=n.y,f=n.r,h=i-a,d=i-c,p=r-s,g=r-u,m=l-o,v=f-o,b=i*i+r*r-o*o,y=b-a*a-s*s+l*l,_=b-c*c-u*u+f*f,x=d*p-h*g,w=(p*_-g*y)/(2*x)-i,k=(g*m-p*v)/x,C=(d*y-h*_)/(2*x)-r,F=(h*v-d*m)/x,A=k*k+F*F-1,S=2*(o+w*k+C*F),D=w*w+C*C-o*o,M=-(A?(S+Math.sqrt(S*S-4*A*D))/(2*A):D/S);return{x:i+w+k*M,y:r+C+F*M,r:M}}function Lf(t,e,n){var i,r,o,a,s=t.x-e.x,l=t.y-e.y,c=s*s+l*l;c?(r=e.r+n.r,r*=r,a=t.r+n.r,r>(a*=a)?(i=(c+a-r)/(2*c),o=Math.sqrt(Math.max(0,a/c-i*i)),n.x=t.x-i*s-o*l,n.y=t.y-i*l+o*s):(i=(c+r-a)/(2*c),o=Math.sqrt(Math.max(0,r/c-i*i)),n.x=e.x+i*s-o*l,n.y=e.y+i*l+o*s)):(n.x=e.x+n.r,n.y=e.y)}function jf(t,e){var n=t.r+e.r-1e-6,i=e.x-t.x,r=e.y-t.y;return n>0&&n*n>i*i+r*r}function Hf(t){var e=t._,n=t.next._,i=e.r+n.r,r=(e.x*n.r+n.x*e.r)/i,o=(e.y*n.r+n.y*e.r)/i;return r*r+o*o}function Bf(t){this._=t,this.next=null,this.previous=null}function Wf(t){if(!(r=t.length))return 0;var e,n,i,r,o,a,s,l,c,u,f;if((e=t[0]).x=0,e.y=0,!(r>1))return e.r;if(n=t[1],e.x=-n.r,n.x=e.r,n.y=0,!(r>2))return e.r+n.r;Lf(n,e,i=t[2]),e=new Bf(e),n=new Bf(n),i=new Bf(i),e.next=i.previous=n,n.next=e.previous=i,i.next=n.previous=e;t:for(s=3;s<r;++s){Lf(e._,n._,i=t[s]),i=new Bf(i),l=n.next,c=e.previous,u=n._.r,f=e._.r;do{if(u<=f){if(jf(l._,i._)){n=l,e.next=n,n.previous=e,--s;continue t}u+=l._.r,l=l.next}else{if(jf(c._,i._)){(e=c).next=n,n.previous=e,--s;continue t}f+=c._.r,c=c.previous}}while(l!==c.next);for(i.previous=e,i.next=n,e.next=n.previous=n=i,o=Hf(e);(i=i.next)!==n;)(a=Hf(i))<o&&(e=i,o=a);n=e.next}for(e=[n._],i=n;(i=i.next)!==n;)e.push(i._);for(i=Tf(e),s=0;s<r;++s)(e=t[s]).x-=i.x,e.y-=i.y;return i.r}function qf(t){if("function"!=typeof t)throw new Error;return t}function Uf(){return 0}function $f(t){return function(){return t}}function Vf(t){return Math.sqrt(t.value)}function Gf(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function Yf(t,e){return function(n){if(i=n.children){var i,r,o,a=i.length,s=t(n)*e||0;if(s)for(r=0;r<a;++r)i[r].r+=s;if(o=Wf(i),s)for(r=0;r<a;++r)i[r].r-=s;n.r=o+s}}}function Xf(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}function Kf(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function Qf(t,e,n,i,r){for(var o,a=t.children,s=-1,l=a.length,c=t.value&&(i-e)/t.value;++s<l;)(o=a[s]).y0=n,o.y1=r,o.x0=e,o.x1=e+=o.value*c}var Zf="$",Jf={depth:-1},th={};function eh(t){return t.id}function nh(t){return t.parentId}function ih(t,e){return t.parent===e.parent?1:2}function rh(t){var e=t.children;return e?e[0]:t.t}function oh(t){var e=t.children;return e?e[e.length-1]:t.t}function ah(t,e,n){var i=n/(e.i-t.i);e.c-=i,e.s+=n,t.c+=i,e.z+=n,e.m+=n}function sh(t,e,n){return t.a.parent===e.parent?t.a:n}function lh(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function ch(t,e,n,i,r){for(var o,a=t.children,s=-1,l=a.length,c=t.value&&(r-n)/t.value;++s<l;)(o=a[s]).x0=e,o.x1=i,o.y0=n,o.y1=n+=o.value*c}lh.prototype=Object.create(Df.prototype);var uh=(1+Math.sqrt(5))/2;function fh(t,e,n,i,r,o){for(var a,s,l,c,u,f,h,d,p,g,m,v=[],b=e.children,y=0,_=0,x=b.length,w=e.value;y<x;){l=r-n,c=o-i;do{u=b[_++].value}while(!u&&_<x);for(f=h=u,m=u*u*(g=Math.max(c/l,l/c)/(w*t)),p=Math.max(h/m,m/f);_<x;++_){if(u+=s=b[_].value,s<f&&(f=s),s>h&&(h=s),m=u*u*g,(d=Math.max(h/m,m/f))>p){u-=s;break}p=d}v.push(a={value:u,dice:l<c,children:b.slice(y,_)}),a.dice?Qf(a,n,i,r,w?i+=c*u/w:o):ch(a,n,i,w?n+=l*u/w:r,o),w-=u,y=_}return v}var hh=function t(e){function n(t,n,i,r,o){fh(e,t,n,i,r,o)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(uh);var dh=function t(e){function n(t,n,i,r,o){if((a=t._squarify)&&a.ratio===e)for(var a,s,l,c,u,f=-1,h=a.length,d=t.value;++f<h;){for(l=(s=a[f]).children,c=s.value=0,u=l.length;c<u;++c)s.value+=l[c].value;s.dice?Qf(s,n,i,r,i+=(o-i)*s.value/d):ch(s,n,i,n+=(r-n)*s.value/d,o),d-=s.value}else t._squarify=a=fh(e,t,n,i,r,o),a.ratio=e}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(uh);function ph(t,e){return t[0]-e[0]||t[1]-e[1]}function gh(t){for(var e,n,i,r=t.length,o=[0,1],a=2,s=2;s<r;++s){for(;a>1&&(e=t[o[a-2]],n=t[o[a-1]],i=t[s],(n[0]-e[0])*(i[1]-e[1])-(n[1]-e[1])*(i[0]-e[0])<=0);)--a;o[a++]=s}return o.slice(0,a)}function mh(){return Math.random()}var vh=function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,1===arguments.length?(n=t,t=0):n-=t,function(){return e()*n+t}}return n.source=t,n}(mh),bh=function t(e){function n(t,n){var i,r;return t=null==t?0:+t,n=null==n?1:+n,function(){var o;if(null!=i)o=i,i=null;else do{i=2*e()-1,o=2*e()-1,r=i*i+o*o}while(!r||r>1);return t+n*o*Math.sqrt(-2*Math.log(r)/r)}}return n.source=t,n}(mh),yh=function t(e){function n(){var t=bh.source(e).apply(this,arguments);return function(){return Math.exp(t())}}return n.source=t,n}(mh),_h=function t(e){function n(t){return function(){for(var n=0,i=0;i<t;++i)n+=e();return n}}return n.source=t,n}(mh),xh=function t(e){function n(t){var n=_h.source(e)(t);return function(){return n()/t}}return n.source=t,n}(mh),wh=function t(e){function n(t){return function(){return-Math.log(1-e())/t}}return n.source=t,n}(mh);function kh(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function Ch(t,e){switch(arguments.length){case 0:break;case 1:this.interpolator(t);break;default:this.interpolator(e).domain(t)}return this}var Fh=Array.prototype,Ah=Fh.map,Sh=Fh.slice,Dh={name:"implicit"};function Mh(){var t=lo(),e=[],n=[],i=Dh;function r(r){var o=r+"",a=t.get(o);if(!a){if(i!==Dh)return i;t.set(o,a=e.push(r))}return n[(a-1)%n.length]}return r.domain=function(n){if(!arguments.length)return e.slice();e=[],t=lo();for(var i,o,a=-1,s=n.length;++a<s;)t.has(o=(i=n[a])+"")||t.set(o,e.push(i));return r},r.range=function(t){return arguments.length?(n=Sh.call(t),r):n.slice()},r.unknown=function(t){return arguments.length?(i=t,r):i},r.copy=function(){return Mh(e,n).unknown(i)},kh.apply(r,arguments),r}function Th(){var t,e,n=Mh().unknown(void 0),i=n.domain,r=n.range,o=[0,1],a=!1,s=0,l=0,c=.5;function u(){var n=i().length,u=o[1]<o[0],f=o[u-0],h=o[1-u];t=(h-f)/Math.max(1,n-s+2*l),a&&(t=Math.floor(t)),f+=(h-f-t*(n-s))*c,e=t*(1-s),a&&(f=Math.round(f),e=Math.round(e));var d=_(n).map(function(e){return f+t*e});return r(u?d.reverse():d)}return delete n.unknown,n.domain=function(t){return arguments.length?(i(t),u()):i()},n.range=function(t){return arguments.length?(o=[+t[0],+t[1]],u()):o.slice()},n.rangeRound=function(t){return o=[+t[0],+t[1]],a=!0,u()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(a=!!t,u()):a},n.padding=function(t){return arguments.length?(s=Math.min(1,l=+t),u()):s},n.paddingInner=function(t){return arguments.length?(s=Math.min(1,t),u()):s},n.paddingOuter=function(t){return arguments.length?(l=+t,u()):l},n.align=function(t){return arguments.length?(c=Math.max(0,Math.min(1,t)),u()):c},n.copy=function(){return Th(i(),o).round(a).paddingInner(s).paddingOuter(l).align(c)},kh.apply(u(),arguments)}function Eh(t){return+t}var Ph=[0,1];function Ih(t){return t}function Rh(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n}function Nh(t){var e,n=t[0],i=t[t.length-1];return n>i&&(e=n,n=i,i=e),function(t){return Math.max(n,Math.min(i,t))}}function zh(t,e,n){var i=t[0],r=t[1],o=e[0],a=e[1];return r<i?(i=Rh(r,i),o=n(a,o)):(i=Rh(i,r),o=n(o,a)),function(t){return o(i(t))}}function Oh(t,e,n){var i=Math.min(t.length,e.length)-1,r=new Array(i),o=new Array(i),a=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<i;)r[a]=Rh(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(e){var n=l(t,e,1,i)-1;return o[n](r[n](e))}}function Lh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function jh(){var t,e,n,i,r,o,a=Ph,s=Ph,l=Sn,c=Ih;function u(){return i=Math.min(a.length,s.length)>2?Oh:zh,r=o=null,f}function f(e){return isNaN(e=+e)?n:(r||(r=i(a.map(t),s,l)))(t(c(e)))}return f.invert=function(n){return c(e((o||(o=i(s,a.map(t),wn)))(n)))},f.domain=function(t){return arguments.length?(a=Ah.call(t,Eh),c===Ih||(c=Nh(a)),u()):a.slice()},f.range=function(t){return arguments.length?(s=Sh.call(t),u()):s.slice()},f.rangeRound=function(t){return s=Sh.call(t),l=Dn,u()},f.clamp=function(t){return arguments.length?(c=t?Nh(a):Ih,f):c!==Ih},f.interpolate=function(t){return arguments.length?(l=t,u()):l},f.unknown=function(t){return arguments.length?(n=t,f):n},function(n,i){return t=n,e=i,u()}}function Hh(t,e){return jh()(t,e)}function Bh(t,e,n,i){var o,a=A(t,e,n);switch((i=Ia(null==i?",f":i)).type){case"s":var s=Math.max(Math.abs(t),Math.abs(e));return null!=i.precision||isNaN(o=Ua(a,s))||(i.precision=o),r.formatPrefix(i,s);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(o=$a(a,Math.max(Math.abs(t),Math.abs(e))))||(i.precision=o-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(o=qa(a))||(i.precision=o-2*("%"===i.type))}return r.format(i)}function Wh(t){var e=t.domain;return t.ticks=function(t){var n=e();return C(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var i=e();return Bh(i[0],i[i.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var i,r=e(),o=0,a=r.length-1,s=r[o],l=r[a];return l<s&&(i=s,s=l,l=i,i=o,o=a,a=i),(i=F(s,l,n))>0?i=F(s=Math.floor(s/i)*i,l=Math.ceil(l/i)*i,n):i<0&&(i=F(s=Math.ceil(s*i)/i,l=Math.floor(l*i)/i,n)),i>0?(r[o]=Math.floor(s/i)*i,r[a]=Math.ceil(l/i)*i,e(r)):i<0&&(r[o]=Math.ceil(s*i)/i,r[a]=Math.floor(l*i)/i,e(r)),t},t}function qh(t,e){var n,i=0,r=(t=t.slice()).length-1,o=t[i],a=t[r];return a<o&&(n=i,i=r,r=n,n=o,o=a,a=n),t[i]=e.floor(o),t[r]=e.ceil(a),t}function Uh(t){return Math.log(t)}function $h(t){return Math.exp(t)}function Vh(t){return-Math.log(-t)}function Gh(t){return-Math.exp(-t)}function Yh(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Xh(t){return function(e){return-t(-e)}}function Kh(t){var e,n,i=t(Uh,$h),o=i.domain,a=10;function s(){return e=function(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}(a),n=function(t){return 10===t?Yh:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}(a),o()[0]<0?(e=Xh(e),n=Xh(n),t(Vh,Gh)):t(Uh,$h),i}return i.base=function(t){return arguments.length?(a=+t,s()):a},i.domain=function(t){return arguments.length?(o(t),s()):o()},i.ticks=function(t){var i,r=o(),s=r[0],l=r[r.length-1];(i=l<s)&&(h=s,s=l,l=h);var c,u,f,h=e(s),d=e(l),p=null==t?10:+t,g=[];if(!(a%1)&&d-h<p){if(h=Math.round(h)-1,d=Math.round(d)+1,s>0){for(;h<d;++h)for(u=1,c=n(h);u<a;++u)if(!((f=c*u)<s)){if(f>l)break;g.push(f)}}else for(;h<d;++h)for(u=a-1,c=n(h);u>=1;--u)if(!((f=c*u)<s)){if(f>l)break;g.push(f)}}else g=C(h,d,Math.min(d-h,p)).map(n);return i?g.reverse():g},i.tickFormat=function(t,o){if(null==o&&(o=10===a?".0e":","),"function"!=typeof o&&(o=r.format(o)),t===1/0)return o;null==t&&(t=10);var s=Math.max(1,a*t/i.ticks().length);return function(t){var i=t/n(Math.round(e(t)));return i*a<a-.5&&(i*=a),i<=s?o(t):""}},i.nice=function(){return o(qh(o(),{floor:function(t){return n(Math.floor(e(t)))},ceil:function(t){return n(Math.ceil(e(t)))}}))},i}function Qh(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Zh(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Jh(t){var e=1,n=t(Qh(e),Zh(e));return n.constant=function(n){return arguments.length?t(Qh(e=+n),Zh(e)):e},Wh(n)}function td(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function ed(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function nd(t){return t<0?-t*t:t*t}function id(t){var e=t(Ih,Ih),n=1;return e.exponent=function(e){return arguments.length?1===(n=+e)?t(Ih,Ih):.5===n?t(ed,nd):t(td(n),td(1/n)):n},Wh(e)}function rd(){var t=id(jh());return t.copy=function(){return Lh(t,rd()).exponent(t.exponent())},kh.apply(t,arguments),t}var od=new Date,ad=new Date;function sd(t,e,n,i){function r(e){return t(e=new Date(+e)),e}return r.floor=r,r.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},r.round=function(t){var e=r(t),n=r.ceil(t);return t-e<n-t?e:n},r.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},r.range=function(n,i,o){var a,s=[];if(n=r.ceil(n),o=null==o?1:Math.floor(o),!(n<i&&o>0))return s;do{s.push(a=new Date(+n)),e(n,o),t(n)}while(a<n&&n<i);return s},r.filter=function(n){return sd(function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)},function(t,i){if(t>=t)if(i<0)for(;++i<=0;)for(;e(t,-1),!n(t););else for(;--i>=0;)for(;e(t,1),!n(t););})},n&&(r.count=function(e,i){return od.setTime(+e),ad.setTime(+i),t(od),t(ad),Math.floor(n(od,ad))},r.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?r.filter(i?function(e){return i(e)%t==0}:function(e){return r.count(0,e)%t==0}):r:null}),r}var ld=sd(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});ld.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?sd(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):ld:null};var cd=ld.range,ud=6e4,fd=6048e5,hd=sd(function(t){t.setTime(t-t.getMilliseconds())},function(t,e){t.setTime(+t+1e3*e)},function(t,e){return(e-t)/1e3},function(t){return t.getUTCSeconds()}),dd=hd.range,pd=sd(function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())},function(t,e){t.setTime(+t+e*ud)},function(t,e){return(e-t)/ud},function(t){return t.getMinutes()}),gd=pd.range,md=sd(function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-t.getMinutes()*ud)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getHours()}),vd=md.range,bd=sd(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ud)/864e5},function(t){return t.getDate()-1}),yd=bd.range;function _d(t){return sd(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ud)/fd})}var xd=_d(0),wd=_d(1),kd=_d(2),Cd=_d(3),Fd=_d(4),Ad=_d(5),Sd=_d(6),Dd=xd.range,Md=wd.range,Td=kd.range,Ed=Cd.range,Pd=Fd.range,Id=Ad.range,Rd=Sd.range,Nd=sd(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),zd=Nd.range,Od=sd(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});Od.every=function(t){return isFinite(t=Math.floor(t))&&t>0?sd(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)}):null};var Ld=Od.range,jd=sd(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*ud)},function(t,e){return(e-t)/ud},function(t){return t.getUTCMinutes()}),Hd=jd.range,Bd=sd(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getUTCHours()}),Wd=Bd.range,qd=sd(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/864e5},function(t){return t.getUTCDate()-1}),Ud=qd.range;function $d(t){return sd(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/fd})}var Vd=$d(0),Gd=$d(1),Yd=$d(2),Xd=$d(3),Kd=$d(4),Qd=$d(5),Zd=$d(6),Jd=Vd.range,tp=Gd.range,ep=Yd.range,np=Xd.range,ip=Kd.range,rp=Qd.range,op=Zd.range,ap=sd(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),sp=ap.range,lp=sd(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});lp.every=function(t){return isFinite(t=Math.floor(t))&&t>0?sd(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)}):null};var cp=lp.range;function up(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function fp(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function hp(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function dp(t){var e=t.dateTime,n=t.date,i=t.time,r=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,c=xp(r),u=wp(r),f=xp(o),h=wp(o),d=xp(a),p=wp(a),g=xp(s),m=wp(s),v=xp(l),b=wp(l),y={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:Wp,e:Wp,f:Gp,H:qp,I:Up,j:$p,L:Vp,m:Yp,M:Xp,p:function(t){return r[+(t.getHours()>=12)]},Q:kg,s:Cg,S:Kp,u:Qp,U:Zp,V:Jp,w:tg,W:eg,x:null,X:null,y:ng,Y:ig,Z:rg,"%":wg},_={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return l[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:og,e:og,f:ug,H:ag,I:sg,j:lg,L:cg,m:fg,M:hg,p:function(t){return r[+(t.getUTCHours()>=12)]},Q:kg,s:Cg,S:dg,u:pg,U:gg,V:mg,w:vg,W:bg,x:null,X:null,y:yg,Y:_g,Z:xg,"%":wg},x={a:function(t,e,n){var i=d.exec(e.slice(n));return i?(t.w=p[i[0].toLowerCase()],n+i[0].length):-1},A:function(t,e,n){var i=f.exec(e.slice(n));return i?(t.w=h[i[0].toLowerCase()],n+i[0].length):-1},b:function(t,e,n){var i=v.exec(e.slice(n));return i?(t.m=b[i[0].toLowerCase()],n+i[0].length):-1},B:function(t,e,n){var i=g.exec(e.slice(n));return i?(t.m=m[i[0].toLowerCase()],n+i[0].length):-1},c:function(t,n,i){return C(t,e,n,i)},d:Pp,e:Pp,f:Lp,H:Rp,I:Rp,j:Ip,L:Op,m:Ep,M:Np,p:function(t,e,n){var i=c.exec(e.slice(n));return i?(t.p=u[i[0].toLowerCase()],n+i[0].length):-1},Q:Hp,s:Bp,S:zp,u:Cp,U:Fp,V:Ap,w:kp,W:Sp,x:function(t,e,i){return C(t,n,e,i)},X:function(t,e,n){return C(t,i,e,n)},y:Mp,Y:Dp,Z:Tp,"%":jp};function w(t,e){return function(n){var i,r,o,a=[],s=-1,l=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===t.charCodeAt(s)&&(a.push(t.slice(l,s)),null!=(r=gp[i=t.charAt(++s)])?i=t.charAt(++s):r="e"===i?" ":"0",(o=e[i])&&(i=o(n,r)),a.push(i),l=s+1);return a.push(t.slice(l,s)),a.join("")}}function k(t,e){return function(n){var i,r,o=hp(1900);if(C(o,t,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("p"in o&&(o.H=o.H%12+12*o.p),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=(i=fp(hp(o.y))).getUTCDay())>4||0===r?Gd.ceil(i):Gd(i),i=qd.offset(i,7*(o.V-1)),o.y=i.getUTCFullYear(),o.m=i.getUTCMonth(),o.d=i.getUTCDate()+(o.w+6)%7):(i=(r=(i=e(hp(o.y))).getDay())>4||0===r?wd.ceil(i):wd(i),i=bd.offset(i,7*(o.V-1)),o.y=i.getFullYear(),o.m=i.getMonth(),o.d=i.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),r="Z"in o?fp(hp(o.y)).getUTCDay():e(hp(o.y)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(r+5)%7:o.w+7*o.U-(r+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,fp(o)):e(o)}}function C(t,e,n,i){for(var r,o,a=0,s=e.length,l=n.length;a<s;){if(i>=l)return-1;if(37===(r=e.charCodeAt(a++))){if(r=e.charAt(a++),!(o=x[r in gp?e.charAt(a++):r])||(i=o(t,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}return y.x=w(n,y),y.X=w(i,y),y.c=w(e,y),_.x=w(n,_),_.X=w(i,_),_.c=w(e,_),{format:function(t){var e=w(t+="",y);return e.toString=function(){return t},e},parse:function(t){var e=k(t+="",up);return e.toString=function(){return t},e},utcFormat:function(t){var e=w(t+="",_);return e.toString=function(){return t},e},utcParse:function(t){var e=k(t,fp);return e.toString=function(){return t},e}}}var pp,gp={"-":"",_:" ",0:"0"},mp=/^\s*\d+/,vp=/^%/,bp=/[\\^$*+?|[\]().{}]/g;function yp(t,e,n){var i=t<0?"-":"",r=(i?-t:t)+"",o=r.length;return i+(o<n?new Array(n-o+1).join(e)+r:r)}function _p(t){return t.replace(bp,"\\$&")}function xp(t){return new RegExp("^(?:"+t.map(_p).join("|")+")","i")}function wp(t){for(var e={},n=-1,i=t.length;++n<i;)e[t[n].toLowerCase()]=n;return e}function kp(t,e,n){var i=mp.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function Cp(t,e,n){var i=mp.exec(e.slice(n,n+1));return i?(t.u=+i[0],n+i[0].length):-1}function Fp(t,e,n){var i=mp.exec(e.slice(n,n+2));return i?(t.U=+i[0],n+i[0].length):-1}function Ap(t,e,n){var i=mp.exec(e.slice(n,n+2));return i?(t.V=+i[0],n+i[0].length):-1}function Sp(t,e,n){var i=mp.exec(e.slice(n,n+2));return i?(t.W=+i[0],n+i[0].length):-1}function Dp(t,e,n){var i=mp.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function Mp(t,e,n){var i=mp.exec(e.slice(n,n+2));return i?(t.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function Tp(t,e,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function Ep(t,e,n){var i=mp.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function Pp(t,e,n){var i=mp.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function Ip(t,e,n){var i=mp.exec(e.slice(n,n+3));return i?(t.m=0,t.d=+i[0],n+i[0].length):-1}function Rp(t,e,n){var i=mp.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function Np(t,e,n){var i=mp.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function zp(t,e,n){var i=mp.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function Op(t,e,n){var i=mp.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function Lp(t,e,n){var i=mp.exec(e.slice(n,n+6));return i?(t.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function jp(t,e,n){var i=vp.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function Hp(t,e,n){var i=mp.exec(e.slice(n));return i?(t.Q=+i[0],n+i[0].length):-1}function Bp(t,e,n){var i=mp.exec(e.slice(n));return i?(t.Q=1e3*+i[0],n+i[0].length):-1}function Wp(t,e){return yp(t.getDate(),e,2)}function qp(t,e){return yp(t.getHours(),e,2)}function Up(t,e){return yp(t.getHours()%12||12,e,2)}function $p(t,e){return yp(1+bd.count(Od(t),t),e,3)}function Vp(t,e){return yp(t.getMilliseconds(),e,3)}function Gp(t,e){return Vp(t,e)+"000"}function Yp(t,e){return yp(t.getMonth()+1,e,2)}function Xp(t,e){return yp(t.getMinutes(),e,2)}function Kp(t,e){return yp(t.getSeconds(),e,2)}function Qp(t){var e=t.getDay();return 0===e?7:e}function Zp(t,e){return yp(xd.count(Od(t),t),e,2)}function Jp(t,e){var n=t.getDay();return t=n>=4||0===n?Fd(t):Fd.ceil(t),yp(Fd.count(Od(t),t)+(4===Od(t).getDay()),e,2)}function tg(t){return t.getDay()}function eg(t,e){return yp(wd.count(Od(t),t),e,2)}function ng(t,e){return yp(t.getFullYear()%100,e,2)}function ig(t,e){return yp(t.getFullYear()%1e4,e,4)}function rg(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+yp(e/60|0,"0",2)+yp(e%60,"0",2)}function og(t,e){return yp(t.getUTCDate(),e,2)}function ag(t,e){return yp(t.getUTCHours(),e,2)}function sg(t,e){return yp(t.getUTCHours()%12||12,e,2)}function lg(t,e){return yp(1+qd.count(lp(t),t),e,3)}function cg(t,e){return yp(t.getUTCMilliseconds(),e,3)}function ug(t,e){return cg(t,e)+"000"}function fg(t,e){return yp(t.getUTCMonth()+1,e,2)}function hg(t,e){return yp(t.getUTCMinutes(),e,2)}function dg(t,e){return yp(t.getUTCSeconds(),e,2)}function pg(t){var e=t.getUTCDay();return 0===e?7:e}function gg(t,e){return yp(Vd.count(lp(t),t),e,2)}function mg(t,e){var n=t.getUTCDay();return t=n>=4||0===n?Kd(t):Kd.ceil(t),yp(Kd.count(lp(t),t)+(4===lp(t).getUTCDay()),e,2)}function vg(t){return t.getUTCDay()}function bg(t,e){return yp(Gd.count(lp(t),t),e,2)}function yg(t,e){return yp(t.getUTCFullYear()%100,e,2)}function _g(t,e){return yp(t.getUTCFullYear()%1e4,e,4)}function xg(){return"+0000"}function wg(){return"%"}function kg(t){return+t}function Cg(t){return Math.floor(+t/1e3)}function Fg(t){return pp=dp(t),r.timeFormat=pp.format,r.timeParse=pp.parse,r.utcFormat=pp.utcFormat,r.utcParse=pp.utcParse,pp}Fg({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Ag=Date.prototype.toISOString?function(t){return t.toISOString()}:r.utcFormat("%Y-%m-%dT%H:%M:%S.%LZ");var Sg=+new Date("2000-01-01T00:00:00.000Z")?function(t){var e=new Date(t);return isNaN(e)?null:e}:r.utcParse("%Y-%m-%dT%H:%M:%S.%LZ"),Dg=1e3,Mg=60*Dg,Tg=60*Mg,Eg=24*Tg,Pg=7*Eg,Ig=30*Eg,Rg=365*Eg;function Ng(t){return new Date(t)}function zg(t){return t instanceof Date?+t:+new Date(+t)}function Og(t,e,n,i,r,o,s,l,c){var u=Hh(Ih,Ih),f=u.invert,h=u.domain,d=c(".%L"),p=c(":%S"),g=c("%I:%M"),m=c("%I %p"),v=c("%a %d"),b=c("%b %d"),y=c("%B"),_=c("%Y"),x=[[s,1,Dg],[s,5,5*Dg],[s,15,15*Dg],[s,30,30*Dg],[o,1,Mg],[o,5,5*Mg],[o,15,15*Mg],[o,30,30*Mg],[r,1,Tg],[r,3,3*Tg],[r,6,6*Tg],[r,12,12*Tg],[i,1,Eg],[i,2,2*Eg],[n,1,Pg],[e,1,Ig],[e,3,3*Ig],[t,1,Rg]];function w(a){return(s(a)<a?d:o(a)<a?p:r(a)<a?g:i(a)<a?m:e(a)<a?n(a)<a?v:b:t(a)<a?y:_)(a)}function k(e,n,i,r){if(null==e&&(e=10),"number"==typeof e){var o=Math.abs(i-n)/e,s=a(function(t){return t[2]}).right(x,o);s===x.length?(r=A(n/Rg,i/Rg,e),e=t):s?(r=(s=x[o/x[s-1][2]<x[s][2]/o?s-1:s])[1],e=s[0]):(r=Math.max(A(n,i,e),1),e=l)}return null==r?e:e.every(r)}return u.invert=function(t){return new Date(f(t))},u.domain=function(t){return arguments.length?h(Ah.call(t,zg)):h().map(Ng)},u.ticks=function(t,e){var n,i=h(),r=i[0],o=i[i.length-1],a=o<r;return a&&(n=r,r=o,o=n),n=(n=k(t,r,o,e))?n.range(r,o+1):[],a?n.reverse():n},u.tickFormat=function(t,e){return null==e?w:c(e)},u.nice=function(t,e){var n=h();return(t=k(t,n[0],n[n.length-1],e))?h(qh(n,t)):u},u.copy=function(){return Lh(u,Og(t,e,n,i,r,o,s,l,c))},u}function Lg(){var t,e,n,i,r,o=0,a=1,s=Ih,l=!1;function c(e){return isNaN(e=+e)?r:s(0===n?.5:(e=(i(e)-t)*n,l?Math.max(0,Math.min(1,e)):e))}return c.domain=function(r){return arguments.length?(t=i(o=+r[0]),e=i(a=+r[1]),n=t===e?0:1/(e-t),c):[o,a]},c.clamp=function(t){return arguments.length?(l=!!t,c):l},c.interpolator=function(t){return arguments.length?(s=t,c):s},c.unknown=function(t){return arguments.length?(r=t,c):r},function(r){return i=r,t=r(o),e=r(a),n=t===e?0:1/(e-t),c}}function jg(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Hg(){var t=id(Lg());return t.copy=function(){return jg(t,Hg()).exponent(t.exponent())},Ch.apply(t,arguments)}function Bg(){var t,e,n,i,r,o,a,s=0,l=.5,c=1,u=Ih,f=!1;function h(t){return isNaN(t=+t)?a:(t=.5+((t=+o(t))-e)*(t<e?i:r),u(f?Math.max(0,Math.min(1,t)):t))}return h.domain=function(a){return arguments.length?(t=o(s=+a[0]),e=o(l=+a[1]),n=o(c=+a[2]),i=t===e?0:.5/(e-t),r=e===n?0:.5/(n-e),h):[s,l,c]},h.clamp=function(t){return arguments.length?(f=!!t,h):f},h.interpolator=function(t){return arguments.length?(u=t,h):u},h.unknown=function(t){return arguments.length?(a=t,h):a},function(a){return o=a,t=a(s),e=a(l),n=a(c),i=t===e?0:.5/(e-t),r=e===n?0:.5/(n-e),h}}function Wg(){var t=id(Bg());return t.copy=function(){return jg(t,Wg()).exponent(t.exponent())},Ch.apply(t,arguments)}function qg(t){for(var e=t.length/6|0,n=new Array(e),i=0;i<e;)n[i]="#"+t.slice(6*i,6*++i);return n}var Ug=qg("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),$g=qg("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),Vg=qg("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),Gg=qg("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),Yg=qg("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),Xg=qg("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),Kg=qg("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),Qg=qg("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),Zg=qg("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),Jg=qg("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function tm(t){return bn(t[t.length-1])}var em=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(qg),nm=tm(em),im=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(qg),rm=tm(im),om=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(qg),am=tm(om),sm=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(qg),lm=tm(sm),cm=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(qg),um=tm(cm),fm=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(qg),hm=tm(fm),dm=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(qg),pm=tm(dm),gm=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(qg),mm=tm(gm),vm=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(qg),bm=tm(vm),ym=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(qg),_m=tm(ym),xm=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(qg),wm=tm(xm),km=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(qg),Cm=tm(km),Fm=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(qg),Am=tm(Fm),Sm=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(qg),Dm=tm(Sm),Mm=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(qg),Tm=tm(Mm),Em=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(qg),Pm=tm(Em),Im=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(qg),Rm=tm(Im),Nm=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(qg),zm=tm(Nm),Om=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(qg),Lm=tm(Om),jm=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(qg),Hm=tm(jm),Bm=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(qg),Wm=tm(Bm),qm=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(qg),Um=tm(qm),$m=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(qg),Vm=tm($m),Gm=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(qg),Ym=tm(Gm),Xm=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(qg),Km=tm(Xm),Qm=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(qg),Zm=tm(Qm),Jm=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(qg),tv=tm(Jm);var ev=Jn(an(300,.5,0),an(-240,.5,1)),nv=Jn(an(-100,.75,.35),an(80,1.5,.8)),iv=Jn(an(260,.75,.35),an(80,1.5,.8)),rv=an();var ov=xe(),av=Math.PI/3,sv=2*Math.PI/3;function lv(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}var cv=lv(qg("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),uv=lv(qg("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),fv=lv(qg("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),hv=lv(qg("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function dv(t){return function(){return t}}var pv=Math.abs,gv=Math.atan2,mv=Math.cos,vv=Math.max,bv=Math.min,yv=Math.sin,_v=Math.sqrt,xv=1e-12,wv=Math.PI,kv=wv/2,Cv=2*wv;function Fv(t){return t>=1?kv:t<=-1?-kv:Math.asin(t)}function Av(t){return t.innerRadius}function Sv(t){return t.outerRadius}function Dv(t){return t.startAngle}function Mv(t){return t.endAngle}function Tv(t){return t&&t.padAngle}function Ev(t,e,n,i,r,o,a){var s=t-n,l=e-i,c=(a?o:-o)/_v(s*s+l*l),u=c*l,f=-c*s,h=t+u,d=e+f,p=n+u,g=i+f,m=(h+p)/2,v=(d+g)/2,b=p-h,y=g-d,_=b*b+y*y,x=r-o,w=h*g-p*d,k=(y<0?-1:1)*_v(vv(0,x*x*_-w*w)),C=(w*y-b*k)/_,F=(-w*b-y*k)/_,A=(w*y+b*k)/_,S=(-w*b+y*k)/_,D=C-m,M=F-v,T=A-m,E=S-v;return D*D+M*M>T*T+E*E&&(C=A,F=S),{cx:C,cy:F,x01:-u,y01:-f,x11:C*(r/x-1),y11:F*(r/x-1)}}function Pv(t){this._context=t}function Iv(t){return new Pv(t)}function Rv(t){return t[0]}function Nv(t){return t[1]}function zv(){var t=Rv,e=Nv,n=dv(!0),i=null,r=Iv,o=null;function a(a){var s,l,c,u=a.length,f=!1;for(null==i&&(o=r(c=eo())),s=0;s<=u;++s)!(s<u&&n(l=a[s],s,a))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+t(l,s,a),+e(l,s,a));if(c)return o=null,c+""||null}return a.x=function(e){return arguments.length?(t="function"==typeof e?e:dv(+e),a):t},a.y=function(t){return arguments.length?(e="function"==typeof t?t:dv(+t),a):e},a.defined=function(t){return arguments.length?(n="function"==typeof t?t:dv(!!t),a):n},a.curve=function(t){return arguments.length?(r=t,null!=i&&(o=r(i)),a):r},a.context=function(t){return arguments.length?(null==t?i=o=null:o=r(i=t),a):i},a}function Ov(){var t=Rv,e=null,n=dv(0),i=Nv,r=dv(!0),o=null,a=Iv,s=null;function l(l){var c,u,f,h,d,p=l.length,g=!1,m=new Array(p),v=new Array(p);for(null==o&&(s=a(d=eo())),c=0;c<=p;++c){if(!(c<p&&r(h=l[c],c,l))===g)if(g=!g)u=c,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),f=c-1;f>=u;--f)s.point(m[f],v[f]);s.lineEnd(),s.areaEnd()}g&&(m[c]=+t(h,c,l),v[c]=+n(h,c,l),s.point(e?+e(h,c,l):m[c],i?+i(h,c,l):v[c]))}if(d)return s=null,d+""||null}function c(){return zv().defined(r).curve(a).context(o)}return l.x=function(n){return arguments.length?(t="function"==typeof n?n:dv(+n),e=null,l):t},l.x0=function(e){return arguments.length?(t="function"==typeof e?e:dv(+e),l):t},l.x1=function(t){return arguments.length?(e=null==t?null:"function"==typeof t?t:dv(+t),l):e},l.y=function(t){return arguments.length?(n="function"==typeof t?t:dv(+t),i=null,l):n},l.y0=function(t){return arguments.length?(n="function"==typeof t?t:dv(+t),l):n},l.y1=function(t){return arguments.length?(i=null==t?null:"function"==typeof t?t:dv(+t),l):i},l.lineX0=l.lineY0=function(){return c().x(t).y(n)},l.lineY1=function(){return c().x(t).y(i)},l.lineX1=function(){return c().x(e).y(n)},l.defined=function(t){return arguments.length?(r="function"==typeof t?t:dv(!!t),l):r},l.curve=function(t){return arguments.length?(a=t,null!=o&&(s=a(o)),l):a},l.context=function(t){return arguments.length?(null==t?o=s=null:s=a(o=t),l):o},l}function Lv(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function jv(t){return t}Pv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var Hv=Wv(Iv);function Bv(t){this._curve=t}function Wv(t){function e(e){return new Bv(t(e))}return e._curve=t,e}function qv(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(Wv(t)):e()._curve},t}function Uv(){return qv(zv().curve(Hv))}function $v(){var t=Ov().curve(Hv),e=t.curve,n=t.lineX0,i=t.lineX1,r=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return qv(n())},delete t.lineX0,t.lineEndAngle=function(){return qv(i())},delete t.lineX1,t.lineInnerRadius=function(){return qv(r())},delete t.lineY0,t.lineOuterRadius=function(){return qv(o())},delete t.lineY1,t.curve=function(t){return arguments.length?e(Wv(t)):e()._curve},t}function Vv(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]}Bv.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};var Gv=Array.prototype.slice;function Yv(t){return t.source}function Xv(t){return t.target}function Kv(t){var e=Yv,n=Xv,i=Rv,r=Nv,o=null;function a(){var a,s=Gv.call(arguments),l=e.apply(this,s),c=n.apply(this,s);if(o||(o=a=eo()),t(o,+i.apply(this,(s[0]=l,s)),+r.apply(this,s),+i.apply(this,(s[0]=c,s)),+r.apply(this,s)),a)return o=null,a+""||null}return a.source=function(t){return arguments.length?(e=t,a):e},a.target=function(t){return arguments.length?(n=t,a):n},a.x=function(t){return arguments.length?(i="function"==typeof t?t:dv(+t),a):i},a.y=function(t){return arguments.length?(r="function"==typeof t?t:dv(+t),a):r},a.context=function(t){return arguments.length?(o=null==t?null:t,a):o},a}function Qv(t,e,n,i,r){t.moveTo(e,n),t.bezierCurveTo(e=(e+i)/2,n,e,r,i,r)}function Zv(t,e,n,i,r){t.moveTo(e,n),t.bezierCurveTo(e,n=(n+r)/2,i,n,i,r)}function Jv(t,e,n,i,r){var o=Vv(e,n),a=Vv(e,n=(n+r)/2),s=Vv(i,n),l=Vv(i,r);t.moveTo(o[0],o[1]),t.bezierCurveTo(a[0],a[1],s[0],s[1],l[0],l[1])}var tb={draw:function(t,e){var n=Math.sqrt(e/wv);t.moveTo(n,0),t.arc(0,0,n,0,Cv)}},eb={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},nb=Math.sqrt(1/3),ib=2*nb,rb={draw:function(t,e){var n=Math.sqrt(e/ib),i=n*nb;t.moveTo(0,-n),t.lineTo(i,0),t.lineTo(0,n),t.lineTo(-i,0),t.closePath()}},ob=Math.sin(wv/10)/Math.sin(7*wv/10),ab=Math.sin(Cv/10)*ob,sb=-Math.cos(Cv/10)*ob,lb={draw:function(t,e){var n=Math.sqrt(.8908130915292852*e),i=ab*n,r=sb*n;t.moveTo(0,-n),t.lineTo(i,r);for(var o=1;o<5;++o){var a=Cv*o/5,s=Math.cos(a),l=Math.sin(a);t.lineTo(l*n,-s*n),t.lineTo(s*i-l*r,l*i+s*r)}t.closePath()}},cb={draw:function(t,e){var n=Math.sqrt(e),i=-n/2;t.rect(i,i,n,n)}},ub=Math.sqrt(3),fb={draw:function(t,e){var n=-Math.sqrt(e/(3*ub));t.moveTo(0,2*n),t.lineTo(-ub*n,-n),t.lineTo(ub*n,-n),t.closePath()}},hb=Math.sqrt(3)/2,db=1/Math.sqrt(12),pb=3*(db/2+1),gb={draw:function(t,e){var n=Math.sqrt(e/pb),i=n/2,r=n*db,o=i,a=n*db+n,s=-o,l=a;t.moveTo(i,r),t.lineTo(o,a),t.lineTo(s,l),t.lineTo(-.5*i-hb*r,hb*i+-.5*r),t.lineTo(-.5*o-hb*a,hb*o+-.5*a),t.lineTo(-.5*s-hb*l,hb*s+-.5*l),t.lineTo(-.5*i+hb*r,-.5*r-hb*i),t.lineTo(-.5*o+hb*a,-.5*a-hb*o),t.lineTo(-.5*s+hb*l,-.5*l-hb*s),t.closePath()}},mb=[tb,eb,rb,cb,lb,fb,gb];function vb(){}function bb(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function yb(t){this._context=t}function _b(t){this._context=t}function xb(t){this._context=t}function wb(t,e){this._basis=new yb(t),this._beta=e}yb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:bb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:bb(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},_b.prototype={areaStart:vb,areaEnd:vb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:bb(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},xb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,i=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:bb(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},wb.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var i,r=t[0],o=e[0],a=t[n]-r,s=e[n]-o,l=-1;++l<=n;)i=l/n,this._basis.point(this._beta*t[l]+(1-this._beta)*(r+i*a),this._beta*e[l]+(1-this._beta)*(o+i*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var kb=function t(e){function n(t){return 1===e?new yb(t):new wb(t,e)}return n.beta=function(e){return t(+e)},n}(.85);function Cb(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function Fb(t,e){this._context=t,this._k=(1-e)/6}Fb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Cb(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Cb(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Ab=function t(e){function n(t){return new Fb(t,e)}return n.tension=function(e){return t(+e)},n}(0);function Sb(t,e){this._context=t,this._k=(1-e)/6}Sb.prototype={areaStart:vb,areaEnd:vb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Cb(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Db=function t(e){function n(t){return new Sb(t,e)}return n.tension=function(e){return t(+e)},n}(0);function Mb(t,e){this._context=t,this._k=(1-e)/6}Mb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Cb(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Tb=function t(e){function n(t){return new Mb(t,e)}return n.tension=function(e){return t(+e)},n}(0);function Eb(t,e,n){var i=t._x1,r=t._y1,o=t._x2,a=t._y2;if(t._l01_a>xv){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,l=3*t._l01_a*(t._l01_a+t._l12_a);i=(i*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/l,r=(r*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/l}if(t._l23_a>xv){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,u=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*c+t._x1*t._l23_2a-e*t._l12_2a)/u,a=(a*c+t._y1*t._l23_2a-n*t._l12_2a)/u}t._context.bezierCurveTo(i,r,o,a,t._x2,t._y2)}function Pb(t,e){this._context=t,this._alpha=e}Pb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:Eb(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Ib=function t(e){function n(t){return e?new Pb(t,e):new Fb(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function Rb(t,e){this._context=t,this._alpha=e}Rb.prototype={areaStart:vb,areaEnd:vb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Eb(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Nb=function t(e){function n(t){return e?new Rb(t,e):new Sb(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function zb(t,e){this._context=t,this._alpha=e}zb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Eb(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Ob=function t(e){function n(t){return e?new zb(t,e):new Mb(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function Lb(t){this._context=t}function jb(t){return t<0?-1:1}function Hb(t,e,n){var i=t._x1-t._x0,r=e-t._x1,o=(t._y1-t._y0)/(i||r<0&&-0),a=(n-t._y1)/(r||i<0&&-0),s=(o*r+a*i)/(i+r);return(jb(o)+jb(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function Bb(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Wb(t,e,n){var i=t._x0,r=t._y0,o=t._x1,a=t._y1,s=(o-i)/3;t._context.bezierCurveTo(i+s,r+s*e,o-s,a-s*n,o,a)}function qb(t){this._context=t}function Ub(t){this._context=new $b(t)}function $b(t){this._context=t}function Vb(t){this._context=t}function Gb(t){var e,n,i=t.length-1,r=new Array(i),o=new Array(i),a=new Array(i);for(r[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<i-1;++e)r[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(r[i-1]=2,o[i-1]=7,a[i-1]=8*t[i-1]+t[i],e=1;e<i;++e)n=r[e]/o[e-1],o[e]-=n,a[e]-=n*a[e-1];for(r[i-1]=a[i-1]/o[i-1],e=i-2;e>=0;--e)r[e]=(a[e]-r[e+1])/o[e];for(o[i-1]=(t[i]+r[i-1])/2,e=0;e<i-1;++e)o[e]=2*t[e+1]-r[e+1];return[r,o]}function Yb(t,e){this._context=t,this._t=e}function Xb(t,e){if((r=t.length)>1)for(var n,i,r,o=1,a=t[e[0]],s=a.length;o<r;++o)for(i=a,a=t[e[o]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Kb(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Qb(t,e){return t[e]}function Zb(t){var e=t.map(Jb);return Kb(t).sort(function(t,n){return e[t]-e[n]})}function Jb(t){for(var e,n=-1,i=0,r=t.length,o=-1/0;++n<r;)(e=+t[n][1])>o&&(o=e,i=n);return i}function ty(t){var e=t.map(ey);return Kb(t).sort(function(t,n){return e[t]-e[n]})}function ey(t){for(var e,n=0,i=-1,r=t.length;++i<r;)(e=+t[i][1])&&(n+=e);return n}function ny(t){return function(){return t}}function iy(t){return t[0]}function ry(t){return t[1]}function oy(){this._=null}function ay(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function sy(t,e){var n=e,i=e.R,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function ly(t,e){var n=e,i=e.L,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function cy(t){for(;t.L;)t=t.L;return t}function uy(t,e,n,i){var r=[null,null],o=Py.push(r)-1;return r.left=t,r.right=e,n&&hy(r,t,e,n),i&&hy(r,e,t,i),Ty[t.index].halfedges.push(o),Ty[e.index].halfedges.push(o),r}function fy(t,e,n){var i=[e,n];return i.left=t,i}function hy(t,e,n,i){t[0]||t[1]?t.left===n?t[1]=i:t[0]=i:(t[0]=i,t.left=e,t.right=n)}function dy(t,e,n,i,r){var o,a=t[0],s=t[1],l=a[0],c=a[1],u=0,f=1,h=s[0]-l,d=s[1]-c;if(o=e-l,h||!(o>0)){if(o/=h,h<0){if(o<u)return;o<f&&(f=o)}else if(h>0){if(o>f)return;o>u&&(u=o)}if(o=i-l,h||!(o<0)){if(o/=h,h<0){if(o>f)return;o>u&&(u=o)}else if(h>0){if(o<u)return;o<f&&(f=o)}if(o=n-c,d||!(o>0)){if(o/=d,d<0){if(o<u)return;o<f&&(f=o)}else if(d>0){if(o>f)return;o>u&&(u=o)}if(o=r-c,d||!(o<0)){if(o/=d,d<0){if(o>f)return;o>u&&(u=o)}else if(d>0){if(o<u)return;o<f&&(f=o)}return!(u>0||f<1)||(u>0&&(t[0]=[l+u*h,c+u*d]),f<1&&(t[1]=[l+f*h,c+f*d]),!0)}}}}}function py(t,e,n,i,r){var o=t[1];if(o)return!0;var a,s,l=t[0],c=t.left,u=t.right,f=c[0],h=c[1],d=u[0],p=u[1],g=(f+d)/2,m=(h+p)/2;if(p===h){if(g<e||g>=i)return;if(f>d){if(l){if(l[1]>=r)return}else l=[g,n];o=[g,r]}else{if(l){if(l[1]<n)return}else l=[g,r];o=[g,n]}}else if(s=m-(a=(f-d)/(p-h))*g,a<-1||a>1)if(f>d){if(l){if(l[1]>=r)return}else l=[(n-s)/a,n];o=[(r-s)/a,r]}else{if(l){if(l[1]<n)return}else l=[(r-s)/a,r];o=[(n-s)/a,n]}else if(h<p){if(l){if(l[0]>=i)return}else l=[e,a*e+s];o=[i,a*i+s]}else{if(l){if(l[0]<e)return}else l=[i,a*i+s];o=[e,a*e+s]}return t[0]=l,t[1]=o,!0}function gy(t,e){var n=t.site,i=e.left,r=e.right;return n===r&&(r=i,i=n),r?Math.atan2(r[1]-i[1],r[0]-i[0]):(n===i?(i=e[1],r=e[0]):(i=e[0],r=e[1]),Math.atan2(i[0]-r[0],r[1]-i[1]))}function my(t,e){return e[+(e.left!==t.site)]}function vy(t,e){return e[+(e.left===t.site)]}Lb.prototype={areaStart:vb,areaEnd:vb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}},qb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Wb(this,this._t0,Bb(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Wb(this,Bb(this,n=Hb(this,t,e)),n);break;default:Wb(this,this._t0,n=Hb(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(Ub.prototype=Object.create(qb.prototype)).point=function(t,e){qb.prototype.point.call(this,e,t)},$b.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,i,r,o){this._context.bezierCurveTo(e,t,i,n,o,r)}},Vb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var i=Gb(t),r=Gb(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(i[0][o],r[0][o],i[1][o],r[1][o],t[a],e[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}},Yb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}},oy.prototype={constructor:oy,insert:function(t,e){var n,i,r;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=cy(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(i=n.U).L?(r=i.R)&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.R&&(sy(this,n),n=(t=n).U),n.C=!1,i.C=!0,ly(this,i)):(r=i.L)&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.L&&(ly(this,n),n=(t=n).U),n.C=!1,i.C=!0,sy(this,i)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,i,r=t.U,o=t.L,a=t.R;if(n=o?a?cy(a):o:a,r?r.L===t?r.L=n:r.R=n:this._=n,o&&a?(i=n.C,n.C=t.C,n.L=o,o.U=n,n!==a?(r=n.U,n.U=t.U,t=n.R,r.L=t,n.R=a,a.U=n):(n.U=r,r=n,t=n.R)):(i=t.C,t=n),t&&(t.U=r),!i)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===r.L){if((e=r.R).C&&(e.C=!1,r.C=!0,sy(this,r),e=r.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,ly(this,e),e=r.R),e.C=r.C,r.C=e.R.C=!1,sy(this,r),t=this._;break}}else if((e=r.L).C&&(e.C=!1,r.C=!0,ly(this,r),e=r.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,sy(this,e),e=r.L),e.C=r.C,r.C=e.L.C=!1,ly(this,r),t=this._;break}e.C=!0,t=r,r=r.U}while(!t.C);t&&(t.C=!1)}}};var by,yy=[];function _y(t){var e=t.P,n=t.N;if(e&&n){var i=e.site,r=t.site,o=n.site;if(i!==o){var a=r[0],s=r[1],l=i[0]-a,c=i[1]-s,u=o[0]-a,f=o[1]-s,h=2*(l*f-c*u);if(!(h>=-Ry)){var d=l*l+c*c,p=u*u+f*f,g=(f*d-c*p)/h,m=(l*p-u*d)/h,v=yy.pop()||new function(){ay(this),this.x=this.y=this.arc=this.site=this.cy=null};v.arc=t,v.site=r,v.x=g+a,v.y=(v.cy=m+s)+Math.sqrt(g*g+m*m),t.circle=v;for(var b=null,y=Ey._;y;)if(v.y<y.y||v.y===y.y&&v.x<=y.x){if(!y.L){b=y.P;break}y=y.L}else{if(!y.R){b=y;break}y=y.R}Ey.insert(b,v),b||(by=v)}}}}function xy(t){var e=t.circle;e&&(e.P||(by=e.N),Ey.remove(e),yy.push(e),ay(e),t.circle=null)}var wy=[];function ky(t){var e=wy.pop()||new function(){ay(this),this.edge=this.site=this.circle=null};return e.site=t,e}function Cy(t){xy(t),My.remove(t),wy.push(t),ay(t)}function Fy(t){var e=t.circle,n=e.x,i=e.cy,r=[n,i],o=t.P,a=t.N,s=[t];Cy(t);for(var l=o;l.circle&&Math.abs(n-l.circle.x)<Iy&&Math.abs(i-l.circle.cy)<Iy;)o=l.P,s.unshift(l),Cy(l),l=o;s.unshift(l),xy(l);for(var c=a;c.circle&&Math.abs(n-c.circle.x)<Iy&&Math.abs(i-c.circle.cy)<Iy;)a=c.N,s.push(c),Cy(c),c=a;s.push(c),xy(c);var u,f=s.length;for(u=1;u<f;++u)c=s[u],l=s[u-1],hy(c.edge,l.site,c.site,r);l=s[0],(c=s[f-1]).edge=uy(l.site,c.site,null,r),_y(l),_y(c)}function Ay(t){for(var e,n,i,r,o=t[0],a=t[1],s=My._;s;)if((i=Sy(s,a)-o)>Iy)s=s.L;else{if(!((r=o-Dy(s,a))>Iy)){i>-Iy?(e=s.P,n=s):r>-Iy?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}!function(t){Ty[t.index]={site:t,halfedges:[]}}(t);var l=ky(t);if(My.insert(e,l),e||n){if(e===n)return xy(e),n=ky(e.site),My.insert(l,n),l.edge=n.edge=uy(e.site,l.site),_y(e),void _y(n);if(n){xy(e),xy(n);var c=e.site,u=c[0],f=c[1],h=t[0]-u,d=t[1]-f,p=n.site,g=p[0]-u,m=p[1]-f,v=2*(h*m-d*g),b=h*h+d*d,y=g*g+m*m,_=[(m*b-d*y)/v+u,(h*y-g*b)/v+f];hy(n.edge,c,p,_),l.edge=uy(c,t,null,_),n.edge=uy(t,p,null,_),_y(e),_y(n)}else l.edge=uy(e.site,l.site)}}function Sy(t,e){var n=t.site,i=n[0],r=n[1],o=r-e;if(!o)return i;var a=t.P;if(!a)return-1/0;var s=(n=a.site)[0],l=n[1],c=l-e;if(!c)return s;var u=s-i,f=1/o-1/c,h=u/c;return f?(-h+Math.sqrt(h*h-2*f*(u*u/(-2*c)-l+c/2+r-o/2)))/f+i:(i+s)/2}function Dy(t,e){var n=t.N;if(n)return Sy(n,e);var i=t.site;return i[1]===e?i[0]:1/0}var My,Ty,Ey,Py,Iy=1e-6,Ry=1e-12;function Ny(t,e){return e[1]-t[1]||e[0]-t[0]}function zy(t,e){var n,i,r,o=t.sort(Ny).pop();for(Py=[],Ty=new Array(t.length),My=new oy,Ey=new oy;;)if(r=by,o&&(!r||o[1]<r.y||o[1]===r.y&&o[0]<r.x))o[0]===n&&o[1]===i||(Ay(o),n=o[0],i=o[1]),o=t.pop();else{if(!r)break;Fy(r.arc)}if(function(){for(var t,e,n,i,r=0,o=Ty.length;r<o;++r)if((t=Ty[r])&&(i=(e=t.halfedges).length)){var a=new Array(i),s=new Array(i);for(n=0;n<i;++n)a[n]=n,s[n]=gy(t,Py[e[n]]);for(a.sort(function(t,e){return s[e]-s[t]}),n=0;n<i;++n)s[n]=e[a[n]];for(n=0;n<i;++n)e[n]=s[n]}}(),e){var a=+e[0][0],s=+e[0][1],l=+e[1][0],c=+e[1][1];!function(t,e,n,i){for(var r,o=Py.length;o--;)py(r=Py[o],t,e,n,i)&&dy(r,t,e,n,i)&&(Math.abs(r[0][0]-r[1][0])>Iy||Math.abs(r[0][1]-r[1][1])>Iy)||delete Py[o]}(a,s,l,c),function(t,e,n,i){var r,o,a,s,l,c,u,f,h,d,p,g,m=Ty.length,v=!0;for(r=0;r<m;++r)if(o=Ty[r]){for(a=o.site,s=(l=o.halfedges).length;s--;)Py[l[s]]||l.splice(s,1);for(s=0,c=l.length;s<c;)p=(d=vy(o,Py[l[s]]))[0],g=d[1],f=(u=my(o,Py[l[++s%c]]))[0],h=u[1],(Math.abs(p-f)>Iy||Math.abs(g-h)>Iy)&&(l.splice(s,0,Py.push(fy(a,d,Math.abs(p-t)<Iy&&i-g>Iy?[t,Math.abs(f-t)<Iy?h:i]:Math.abs(g-i)<Iy&&n-p>Iy?[Math.abs(h-i)<Iy?f:n,i]:Math.abs(p-n)<Iy&&g-e>Iy?[n,Math.abs(f-n)<Iy?h:e]:Math.abs(g-e)<Iy&&p-t>Iy?[Math.abs(h-e)<Iy?f:t,e]:null))-1),++c);c&&(v=!1)}if(v){var b,y,_,x=1/0;for(r=0,v=null;r<m;++r)(o=Ty[r])&&(_=(b=(a=o.site)[0]-t)*b+(y=a[1]-e)*y)<x&&(x=_,v=o);if(v){var w=[t,e],k=[t,i],C=[n,i],F=[n,e];v.halfedges.push(Py.push(fy(a=v.site,w,k))-1,Py.push(fy(a,k,C))-1,Py.push(fy(a,C,F))-1,Py.push(fy(a,F,w))-1)}}for(r=0;r<m;++r)(o=Ty[r])&&(o.halfedges.length||delete Ty[r])}(a,s,l,c)}this.edges=Py,this.cells=Ty,My=Ey=Py=Ty=null}function Oy(t){return function(){return t}}function Ly(t,e,n){this.k=t,this.x=e,this.y=n}zy.prototype={constructor:zy,polygons:function(){var t=this.edges;return this.cells.map(function(e){var n=e.halfedges.map(function(n){return my(e,t[n])});return n.data=e.site.data,n})},triangles:function(){var t=[],e=this.edges;return this.cells.forEach(function(n,i){if(o=(r=n.halfedges).length)for(var r,o,a,s,l,c,u=n.site,f=-1,h=e[r[o-1]],d=h.left===u?h.right:h.left;++f<o;)a=d,d=(h=e[r[f]]).left===u?h.right:h.left,a&&d&&i<a.index&&i<d.index&&(l=a,c=d,((s=u)[0]-c[0])*(l[1]-s[1])-(s[0]-l[0])*(c[1]-s[1])<0)&&t.push([u.data,a.data,d.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,e,n){for(var i,r,o=this,a=o._found||0,s=o.cells.length;!(r=o.cells[a]);)if(++a>=s)return null;var l=t-r.site[0],c=e-r.site[1],u=l*l+c*c;do{r=o.cells[i=a],a=null,r.halfedges.forEach(function(n){var i=o.edges[n],s=i.left;if(s!==r.site&&s||(s=i.right)){var l=t-s[0],c=e-s[1],f=l*l+c*c;f<u&&(u=f,a=s.index)}})}while(null!==a);return o._found=i,null==n||u<=n*n?r.site:null}},Ly.prototype={constructor:Ly,scale:function(t){return 1===t?this:new Ly(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new Ly(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var jy=new Ly(1,0,0);function Hy(t){for(;!t.__zoom;)if(!(t=t.parentNode))return jy;return t.__zoom}function By(){r.event.stopImmediatePropagation()}function Wy(){r.event.preventDefault(),r.event.stopImmediatePropagation()}function qy(){return!r.event.ctrlKey&&!r.event.button}function Uy(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function $y(){return this.__zoom||jy}function Vy(){return-r.event.deltaY*(1===r.event.deltaMode?.05:r.event.deltaMode?1:.002)}function Gy(){return navigator.maxTouchPoints||"ontouchstart"in this}function Yy(t,e,n){var i=t.invertX(e[0][0])-n[0][0],r=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],a=t.invertY(e[1][1])-n[1][1];return t.translate(r>i?(i+r)/2:Math.min(0,i)||Math.max(0,r),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}Hy.prototype=Ly.prototype,r.FormatSpecifier=Ra,r.active=function(t,e){var n,i,r=t.__transition;if(r)for(i in e=null==e?null:e+"",r)if((n=r[i]).state>ki&&n.name===e)return new ji([[t]],yr,e,+i);return null},r.arc=function(){var t=Av,e=Sv,n=dv(0),i=null,r=Dv,o=Mv,a=Tv,s=null;function l(){var l,c,u,f=+t.apply(this,arguments),h=+e.apply(this,arguments),d=r.apply(this,arguments)-kv,p=o.apply(this,arguments)-kv,g=pv(p-d),m=p>d;if(s||(s=l=eo()),h<f&&(c=h,h=f,f=c),h>xv)if(g>Cv-xv)s.moveTo(h*mv(d),h*yv(d)),s.arc(0,0,h,d,p,!m),f>xv&&(s.moveTo(f*mv(p),f*yv(p)),s.arc(0,0,f,p,d,m));else{var v,b,y=d,_=p,x=d,w=p,k=g,C=g,F=a.apply(this,arguments)/2,A=F>xv&&(i?+i.apply(this,arguments):_v(f*f+h*h)),S=bv(pv(h-f)/2,+n.apply(this,arguments)),D=S,M=S;if(A>xv){var T=Fv(A/f*yv(F)),E=Fv(A/h*yv(F));(k-=2*T)>xv?(x+=T*=m?1:-1,w-=T):(k=0,x=w=(d+p)/2),(C-=2*E)>xv?(y+=E*=m?1:-1,_-=E):(C=0,y=_=(d+p)/2)}var P=h*mv(y),I=h*yv(y),R=f*mv(w),N=f*yv(w);if(S>xv){var z,O=h*mv(_),L=h*yv(_),j=f*mv(x),H=f*yv(x);if(g<wv&&(z=function(t,e,n,i,r,o,a,s){var l=n-t,c=i-e,u=a-r,f=s-o,h=f*l-u*c;if(!(h*h<xv))return[t+(h=(u*(e-o)-f*(t-r))/h)*l,e+h*c]}(P,I,j,H,O,L,R,N))){var B=P-z[0],W=I-z[1],q=O-z[0],U=L-z[1],$=1/yv(((u=(B*q+W*U)/(_v(B*B+W*W)*_v(q*q+U*U)))>1?0:u<-1?wv:Math.acos(u))/2),V=_v(z[0]*z[0]+z[1]*z[1]);D=bv(S,(f-V)/($-1)),M=bv(S,(h-V)/($+1))}}C>xv?M>xv?(v=Ev(j,H,P,I,h,M,m),b=Ev(O,L,R,N,h,M,m),s.moveTo(v.cx+v.x01,v.cy+v.y01),M<S?s.arc(v.cx,v.cy,M,gv(v.y01,v.x01),gv(b.y01,b.x01),!m):(s.arc(v.cx,v.cy,M,gv(v.y01,v.x01),gv(v.y11,v.x11),!m),s.arc(0,0,h,gv(v.cy+v.y11,v.cx+v.x11),gv(b.cy+b.y11,b.cx+b.x11),!m),s.arc(b.cx,b.cy,M,gv(b.y11,b.x11),gv(b.y01,b.x01),!m))):(s.moveTo(P,I),s.arc(0,0,h,y,_,!m)):s.moveTo(P,I),f>xv&&k>xv?D>xv?(v=Ev(R,N,O,L,f,-D,m),b=Ev(P,I,j,H,f,-D,m),s.lineTo(v.cx+v.x01,v.cy+v.y01),D<S?s.arc(v.cx,v.cy,D,gv(v.y01,v.x01),gv(b.y01,b.x01),!m):(s.arc(v.cx,v.cy,D,gv(v.y01,v.x01),gv(v.y11,v.x11),!m),s.arc(0,0,f,gv(v.cy+v.y11,v.cx+v.x11),gv(b.cy+b.y11,b.cx+b.x11),m),s.arc(b.cx,b.cy,D,gv(b.y11,b.x11),gv(b.y01,b.x01),!m))):s.arc(0,0,f,w,x,m):s.lineTo(R,N)}else s.moveTo(0,0);if(s.closePath(),l)return s=null,l+""||null}return l.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,i=(+r.apply(this,arguments)+ +o.apply(this,arguments))/2-wv/2;return[mv(i)*n,yv(i)*n]},l.innerRadius=function(e){return arguments.length?(t="function"==typeof e?e:dv(+e),l):t},l.outerRadius=function(t){return arguments.length?(e="function"==typeof t?t:dv(+t),l):e},l.cornerRadius=function(t){return arguments.length?(n="function"==typeof t?t:dv(+t),l):n},l.padRadius=function(t){return arguments.length?(i=null==t?null:"function"==typeof t?t:dv(+t),l):i},l.startAngle=function(t){return arguments.length?(r="function"==typeof t?t:dv(+t),l):r},l.endAngle=function(t){return arguments.length?(o="function"==typeof t?t:dv(+t),l):o},l.padAngle=function(t){return arguments.length?(a="function"==typeof t?t:dv(+t),l):a},l.context=function(t){return arguments.length?(s=null==t?null:t,l):s},l},r.area=Ov,r.areaRadial=$v,r.ascending=o,r.autoType=function(t){for(var e in t){var n,i=t[e].trim();if(i)if("true"===i)i=!0;else if("false"===i)i=!1;else if("NaN"===i)i=NaN;else if(isNaN(n=+i)){if(!/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/.test(i))continue;i=new Date(i)}else i=n;else i=null;t[e]=i}return t},r.axisBottom=function(t){return U(L,t)},r.axisLeft=function(t){return U(j,t)},r.axisRight=function(t){return U(O,t)},r.axisTop=function(t){return U(z,t)},r.bisect=l,r.bisectLeft=c,r.bisectRight=l,r.bisector=a,r.blob=function(t,e){return fetch(t,e).then(Jo)},r.brush=function(){return Wr(Er)},r.brushSelection=function(t){var e=t.__brush;return e?e.dim.output(e.selection):null},r.brushX=function(){return Wr(Mr)},r.brushY=function(){return Wr(Tr)},r.buffer=function(t,e){return fetch(t,e).then(ta)},r.chord=function(){var t=0,e=null,n=null,i=null;function r(r){var o,a,s,l,c,u,f=r.length,h=[],d=_(f),p=[],g=[],m=g.groups=new Array(f),v=new Array(f*f);for(o=0,c=-1;++c<f;){for(a=0,u=-1;++u<f;)a+=r[c][u];h.push(a),p.push(_(f)),o+=a}for(e&&d.sort(function(t,n){return e(h[t],h[n])}),n&&p.forEach(function(t,e){t.sort(function(t,i){return n(r[e][t],r[e][i])})}),l=(o=Yr(0,Gr-t*f)/o)?t:Gr/f,a=0,c=-1;++c<f;){for(s=a,u=-1;++u<f;){var b=d[c],y=p[b][u],x=r[b][y],w=a,k=a+=x*o;v[y*f+b]={index:b,subindex:y,startAngle:w,endAngle:k,value:x}}m[b]={index:b,startAngle:s,endAngle:a,value:h[b]},a+=l}for(c=-1;++c<f;)for(u=c-1;++u<f;){var C=v[u*f+c],F=v[c*f+u];(C.value||F.value)&&g.push(C.value<F.value?{source:F,target:C}:{source:C,target:F})}return i?g.sort(i):g}return r.padAngle=function(e){return arguments.length?(t=Yr(0,e),r):t},r.sortGroups=function(t){return arguments.length?(e=t,r):e},r.sortSubgroups=function(t){return arguments.length?(n=t,r):n},r.sortChords=function(t){return arguments.length?(null==t?i=null:(e=t,i=function(t,n){return e(t.source.value+t.target.value,n.source.value+n.target.value)})._=t,r):i&&i._;var e},r},r.clientPoint=Bt,r.cluster=function(){var t=_f,e=1,n=1,i=!1;function r(r){var o,a=0;r.eachAfter(function(e){var n=e.children;n?(e.x=function(t){return t.reduce(xf,0)/t.length}(n),e.y=function(t){return 1+t.reduce(wf,0)}(n)):(e.x=o?a+=t(e,o):0,e.y=0,o=e)});var s=function(t){for(var e;e=t.children;)t=e[0];return t}(r),l=function(t){for(var e;e=t.children;)t=e[e.length-1];return t}(r),c=s.x-t(s,l)/2,u=l.x+t(l,s)/2;return r.eachAfter(i?function(t){t.x=(t.x-r.x)*e,t.y=(r.y-t.y)*n}:function(t){t.x=(t.x-c)/(u-c)*e,t.y=(1-(r.y?t.y/r.y:1))*n})}return r.separation=function(e){return arguments.length?(t=e,r):t},r.size=function(t){return arguments.length?(i=!1,e=+t[0],n=+t[1],r):i?null:[e,n]},r.nodeSize=function(t){return arguments.length?(i=!0,e=+t[0],n=+t[1],r):i?[e,n]:null},r},r.color=ve,r.contourDensity=function(){var t=Do,e=Mo,n=To,i=960,r=500,o=20,a=2,s=3*o,l=i+2*s>>a,c=r+2*s>>a,u=yo(20);function f(i){var r=new Float32Array(l*c),f=new Float32Array(l*c);i.forEach(function(i,o,u){var f=+t(i,o,u)+s>>a,h=+e(i,o,u)+s>>a,d=+n(i,o,u);f>=0&&f<l&&h>=0&&h<c&&(r[f+h*l]+=d)}),Ao({width:l,height:c,data:r},{width:l,height:c,data:f},o>>a),So({width:l,height:c,data:f},{width:l,height:c,data:r},o>>a),Ao({width:l,height:c,data:r},{width:l,height:c,data:f},o>>a),So({width:l,height:c,data:f},{width:l,height:c,data:r},o>>a),Ao({width:l,height:c,data:r},{width:l,height:c,data:f},o>>a),So({width:l,height:c,data:f},{width:l,height:c,data:r},o>>a);var d=u(r);if(!Array.isArray(d)){var p=M(r);d=A(0,p,d),(d=_(0,Math.floor(p/d)*d,d)).shift()}return Fo().thresholds(d).size([l,c])(r).map(h)}function h(t){return t.value*=Math.pow(2,-2*a),t.coordinates.forEach(d),t}function d(t){t.forEach(p)}function p(t){t.forEach(g)}function g(t){t[0]=t[0]*Math.pow(2,a)-s,t[1]=t[1]*Math.pow(2,a)-s}function m(){return l=i+2*(s=3*o)>>a,c=r+2*s>>a,f}return f.x=function(e){return arguments.length?(t="function"==typeof e?e:yo(+e),f):t},f.y=function(t){return arguments.length?(e="function"==typeof t?t:yo(+t),f):e},f.weight=function(t){return arguments.length?(n="function"==typeof t?t:yo(+t),f):n},f.size=function(t){if(!arguments.length)return[i,r];var e=Math.ceil(t[0]),n=Math.ceil(t[1]);if(!(e>=0||e>=0))throw new Error("invalid size");return i=e,r=n,m()},f.cellSize=function(t){if(!arguments.length)return 1<<a;if(!((t=+t)>=1))throw new Error("invalid cell size");return a=Math.floor(Math.log(t)/Math.LN2),m()},f.thresholds=function(t){return arguments.length?(u="function"==typeof t?t:Array.isArray(t)?yo(vo.call(t)):yo(t),f):u},f.bandwidth=function(t){if(!arguments.length)return Math.sqrt(o*(o+1));if(!((t=+t)>=0))throw new Error("invalid bandwidth");return o=Math.round((Math.sqrt(4*t*t+1)-1)/2),m()},f},r.contours=Fo,r.create=function(t){return zt(J(t).call(document.documentElement))},r.creator=J,r.cross=function(t,e,n){var i,r,o,a,s=t.length,l=e.length,c=new Array(s*l);for(null==n&&(n=u),i=o=0;i<s;++i)for(a=t[i],r=0;r<l;++r,++o)c[o]=n(a,e[r]);return c},r.csv=ra,r.csvFormat=Uo,r.csvFormatBody=$o,r.csvFormatRows=Vo,r.csvParse=Wo,r.csvParseRows=qo,r.cubehelix=an,r.curveBasis=function(t){return new yb(t)},r.curveBasisClosed=function(t){return new _b(t)},r.curveBasisOpen=function(t){return new xb(t)},r.curveBundle=kb,r.curveCardinal=Ab,r.curveCardinalClosed=Db,r.curveCardinalOpen=Tb,r.curveCatmullRom=Ib,r.curveCatmullRomClosed=Nb,r.curveCatmullRomOpen=Ob,r.curveLinear=Iv,r.curveLinearClosed=function(t){return new Lb(t)},r.curveMonotoneX=function(t){return new qb(t)},r.curveMonotoneY=function(t){return new Ub(t)},r.curveNatural=function(t){return new Vb(t)},r.curveStep=function(t){return new Yb(t,.5)},r.curveStepAfter=function(t){return new Yb(t,1)},r.curveStepBefore=function(t){return new Yb(t,0)},r.customEvent=Et,r.descending=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},r.deviation=d,r.dispatch=V,r.drag=function(){var t,e,n,i,o=Kt,a=Qt,s=Zt,l=Jt,c={},u=V("start","drag","end"),f=0,h=0;function d(t){t.on("mousedown.drag",p).filter(l).on("touchstart.drag",v).on("touchmove.drag",b).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(){if(!i&&o.apply(this,arguments)){var s=_("mouse",a.apply(this,arguments),Wt,this,arguments);s&&(zt(r.event.view).on("mousemove.drag",g,!0).on("mouseup.drag",m,!0),Vt(r.event.view),Ut(),n=!1,t=r.event.clientX,e=r.event.clientY,s("start"))}}function g(){if($t(),!n){var i=r.event.clientX-t,o=r.event.clientY-e;n=i*i+o*o>h}c.mouse("drag")}function m(){zt(r.event.view).on("mousemove.drag mouseup.drag",null),Gt(r.event.view,n),$t(),c.mouse("end")}function v(){if(o.apply(this,arguments)){var t,e,n=r.event.changedTouches,i=a.apply(this,arguments),s=n.length;for(t=0;t<s;++t)(e=_(n[t].identifier,i,qt,this,arguments))&&(Ut(),e("start"))}}function b(){var t,e,n=r.event.changedTouches,i=n.length;for(t=0;t<i;++t)(e=c[n[t].identifier])&&($t(),e("drag"))}function y(){var t,e,n=r.event.changedTouches,o=n.length;for(i&&clearTimeout(i),i=setTimeout(function(){i=null},500),t=0;t<o;++t)(e=c[n[t].identifier])&&(Ut(),e("end"))}function _(t,e,n,i,o){var a,l,h,p=n(e,t),g=u.copy();if(Et(new Xt(d,"beforestart",a,t,f,p[0],p[1],0,0,g),function(){return null!=(r.event.subject=a=s.apply(i,o))&&(l=a.x-p[0]||0,h=a.y-p[1]||0,!0)}))return function r(s){var u,m=p;switch(s){case"start":c[t]=r,u=f++;break;case"end":delete c[t],--f;case"drag":p=n(e,t),u=f}Et(new Xt(d,s,a,t,u,p[0]+l,p[1]+h,p[0]-m[0],p[1]-m[1],g),g.apply,g,[s,i,o])}}return d.filter=function(t){return arguments.length?(o="function"==typeof t?t:Yt(!!t),d):o},d.container=function(t){return arguments.length?(a="function"==typeof t?t:Yt(t),d):a},d.subject=function(t){return arguments.length?(s="function"==typeof t?t:Yt(t),d):s},d.touchable=function(t){return arguments.length?(l="function"==typeof t?t:Yt(!!t),d):l},d.on=function(){var t=u.on.apply(u,arguments);return t===u?d:t},d.clickDistance=function(t){return arguments.length?(h=(t=+t)*t,d):Math.sqrt(h)},d},r.dragDisable=Vt,r.dragEnable=Gt,r.dsv=function(t,e,n,i){3===arguments.length&&"function"==typeof n&&(i=n,n=void 0);var r=Ho(t);return na(e,n).then(function(t){return r.parse(t,i)})},r.dsvFormat=Ho,r.easeBack=hr,r.easeBackIn=ur,r.easeBackInOut=hr,r.easeBackOut=fr,r.easeBounce=cr,r.easeBounceIn=function(t){return 1-cr(1-t)},r.easeBounceInOut=function(t){return((t*=2)<=1?1-cr(1-t):cr(t-1)+1)/2},r.easeBounceOut=cr,r.easeCircle=Zi,r.easeCircleIn=function(t){return 1-Math.sqrt(1-t*t)},r.easeCircleInOut=Zi,r.easeCircleOut=function(t){return Math.sqrt(1- --t*t)},r.easeCubic=Ui,r.easeCubicIn=function(t){return t*t*t},r.easeCubicInOut=Ui,r.easeCubicOut=function(t){return--t*t*t+1},r.easeElastic=gr,r.easeElasticIn=pr,r.easeElasticInOut=mr,r.easeElasticOut=gr,r.easeExp=Qi,r.easeExpIn=function(t){return Math.pow(2,10*t-10)},r.easeExpInOut=Qi,r.easeExpOut=function(t){return 1-Math.pow(2,-10*t)},r.easeLinear=function(t){return+t},r.easePoly=Gi,r.easePolyIn=$i,r.easePolyInOut=Gi,r.easePolyOut=Vi,r.easeQuad=qi,r.easeQuadIn=function(t){return t*t},r.easeQuadInOut=qi,r.easeQuadOut=function(t){return t*(2-t)},r.easeSin=Ki,r.easeSinIn=function(t){return 1-Math.cos(t*Xi)},r.easeSinInOut=Ki,r.easeSinOut=function(t){return Math.sin(t*Xi)},r.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},r.extent=p,r.forceCenter=function(t,e){var n;function i(){var i,r,o=n.length,a=0,s=0;for(i=0;i<o;++i)a+=(r=n[i]).x,s+=r.y;for(a=a/o-t,s=s/o-e,i=0;i<o;++i)(r=n[i]).x-=a,r.y-=s}return null==t&&(t=0),null==e&&(e=0),i.initialize=function(t){n=t},i.x=function(e){return arguments.length?(t=+e,i):t},i.y=function(t){return arguments.length?(e=+t,i):e},i},r.forceCollide=function(t){var e,n,i=1,r=1;function o(){for(var t,o,s,l,c,u,f,h=e.length,d=0;d<r;++d)for(o=va(e,xa,wa).visitAfter(a),t=0;t<h;++t)s=e[t],u=n[s.index],f=u*u,l=s.x+s.vx,c=s.y+s.vy,o.visit(p);function p(t,e,n,r,o){var a=t.data,h=t.r,d=u+h;if(!a)return e>l+d||r<l-d||n>c+d||o<c-d;if(a.index>s.index){var p=l-a.x-a.vx,g=c-a.y-a.vy,m=p*p+g*g;m<d*d&&(0===p&&(m+=(p=ha())*p),0===g&&(m+=(g=ha())*g),m=(d-(m=Math.sqrt(m)))/m*i,s.vx+=(p*=m)*(d=(h*=h)/(f+h)),s.vy+=(g*=m)*d,a.vx-=p*(d=1-d),a.vy-=g*d)}}}function a(t){if(t.data)return t.r=n[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function s(){if(e){var i,r,o=e.length;for(n=new Array(o),i=0;i<o;++i)r=e[i],n[r.index]=+t(r,i,e)}}return"function"!=typeof t&&(t=fa(null==t?1:+t)),o.initialize=function(t){e=t,s()},o.iterations=function(t){return arguments.length?(r=+t,o):r},o.strength=function(t){return arguments.length?(i=+t,o):i},o.radius=function(e){return arguments.length?(t="function"==typeof e?e:fa(+e),s(),o):t},o},r.forceLink=function(t){var e,n,r,o,a,s=ka,l=function(t){return 1/Math.min(o[t.source.index],o[t.target.index])},c=fa(30),u=1;function f(i){for(var r=0,o=t.length;r<u;++r)for(var s,l,c,f,h,d,p,g=0;g<o;++g)l=(s=t[g]).source,f=(c=s.target).x+c.vx-l.x-l.vx||ha(),h=c.y+c.vy-l.y-l.vy||ha(),f*=d=((d=Math.sqrt(f*f+h*h))-n[g])/d*i*e[g],h*=d,c.vx-=f*(p=a[g]),c.vy-=h*p,l.vx+=f*(p=1-p),l.vy+=h*p}function h(){if(r){var l,c,u=r.length,f=t.length,h=lo(r,s);for(l=0,o=new Array(u);l<f;++l)(c=t[l]).index=l,"object"!==i(c.source)&&(c.source=Ca(h,c.source)),"object"!==i(c.target)&&(c.target=Ca(h,c.target)),o[c.source.index]=(o[c.source.index]||0)+1,o[c.target.index]=(o[c.target.index]||0)+1;for(l=0,a=new Array(f);l<f;++l)c=t[l],a[l]=o[c.source.index]/(o[c.source.index]+o[c.target.index]);e=new Array(f),d(),n=new Array(f),p()}}function d(){if(r)for(var n=0,i=t.length;n<i;++n)e[n]=+l(t[n],n,t)}function p(){if(r)for(var e=0,i=t.length;e<i;++e)n[e]=+c(t[e],e,t)}return null==t&&(t=[]),f.initialize=function(t){r=t,h()},f.links=function(e){return arguments.length?(t=e,h(),f):t},f.id=function(t){return arguments.length?(s=t,f):s},f.iterations=function(t){return arguments.length?(u=+t,f):u},f.strength=function(t){return arguments.length?(l="function"==typeof t?t:fa(+t),d(),f):l},f.distance=function(t){return arguments.length?(c="function"==typeof t?t:fa(+t),p(),f):c},f},r.forceManyBody=function(){var t,e,n,i,r=fa(-30),o=1,a=1/0,s=.81;function l(i){var r,o=t.length,a=va(t,Fa,Aa).visitAfter(u);for(n=i,r=0;r<o;++r)e=t[r],a.visit(f)}function c(){if(t){var e,n,o=t.length;for(i=new Array(o),e=0;e<o;++e)n=t[e],i[n.index]=+r(n,e,t)}}function u(t){var e,n,r,o,a,s=0,l=0;if(t.length){for(r=o=a=0;a<4;++a)(e=t[a])&&(n=Math.abs(e.value))&&(s+=e.value,l+=n,r+=n*e.x,o+=n*e.y);t.x=r/l,t.y=o/l}else{(e=t).x=e.data.x,e.y=e.data.y;do{s+=i[e.data.index]}while(e=e.next)}t.value=s}function f(t,r,l,c){if(!t.value)return!0;var u=t.x-e.x,f=t.y-e.y,h=c-r,d=u*u+f*f;if(h*h/s<d)return d<a&&(0===u&&(d+=(u=ha())*u),0===f&&(d+=(f=ha())*f),d<o&&(d=Math.sqrt(o*d)),e.vx+=u*t.value*n/d,e.vy+=f*t.value*n/d),!0;if(!(t.length||d>=a)){(t.data!==e||t.next)&&(0===u&&(d+=(u=ha())*u),0===f&&(d+=(f=ha())*f),d<o&&(d=Math.sqrt(o*d)));do{t.data!==e&&(h=i[t.data.index]*n/d,e.vx+=u*h,e.vy+=f*h)}while(t=t.next)}}return l.initialize=function(e){t=e,c()},l.strength=function(t){return arguments.length?(r="function"==typeof t?t:fa(+t),c(),l):r},l.distanceMin=function(t){return arguments.length?(o=t*t,l):Math.sqrt(o)},l.distanceMax=function(t){return arguments.length?(a=t*t,l):Math.sqrt(a)},l.theta=function(t){return arguments.length?(s=t*t,l):Math.sqrt(s)},l},r.forceRadial=function(t,e,n){var i,r,o,a=fa(.1);function s(t){for(var a=0,s=i.length;a<s;++a){var l=i[a],c=l.x-e||1e-6,u=l.y-n||1e-6,f=Math.sqrt(c*c+u*u),h=(o[a]-f)*r[a]*t/f;l.vx+=c*h,l.vy+=u*h}}function l(){if(i){var e,n=i.length;for(r=new Array(n),o=new Array(n),e=0;e<n;++e)o[e]=+t(i[e],e,i),r[e]=isNaN(o[e])?0:+a(i[e],e,i)}}return"function"!=typeof t&&(t=fa(+t)),null==e&&(e=0),null==n&&(n=0),s.initialize=function(t){i=t,l()},s.strength=function(t){return arguments.length?(a="function"==typeof t?t:fa(+t),l(),s):a},s.radius=function(e){return arguments.length?(t="function"==typeof e?e:fa(+e),l(),s):t},s.x=function(t){return arguments.length?(e=+t,s):e},s.y=function(t){return arguments.length?(n=+t,s):n},s},r.forceSimulation=function(t){var e,n=1,i=.001,r=1-Math.pow(i,1/300),o=0,a=.6,s=lo(),l=pi(u),c=V("tick","end");function u(){f(),c.call("tick",e),n<i&&(l.stop(),c.call("end",e))}function f(i){var l,c,u=t.length;void 0===i&&(i=1);for(var f=0;f<i;++f)for(n+=(o-n)*r,s.each(function(t){t(n)}),l=0;l<u;++l)null==(c=t[l]).fx?c.x+=c.vx*=a:(c.x=c.fx,c.vx=0),null==c.fy?c.y+=c.vy*=a:(c.y=c.fy,c.vy=0);return e}function h(){for(var e,n=0,i=t.length;n<i;++n){if((e=t[n]).index=n,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var r=Sa*Math.sqrt(n),o=n*Da;e.x=r*Math.cos(o),e.y=r*Math.sin(o)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function d(e){return e.initialize&&e.initialize(t),e}return null==t&&(t=[]),h(),e={tick:f,restart:function(){return l.restart(u),e},stop:function(){return l.stop(),e},nodes:function(n){return arguments.length?(t=n,h(),s.each(d),e):t},alpha:function(t){return arguments.length?(n=+t,e):n},alphaMin:function(t){return arguments.length?(i=+t,e):i},alphaDecay:function(t){return arguments.length?(r=+t,e):+r},alphaTarget:function(t){return arguments.length?(o=+t,e):o},velocityDecay:function(t){return arguments.length?(a=1-t,e):1-a},force:function(t,n){return arguments.length>1?(null==n?s.remove(t):s.set(t,d(n)),e):s.get(t)},find:function(e,n,i){var r,o,a,s,l,c=0,u=t.length;for(null==i?i=1/0:i*=i,c=0;c<u;++c)(a=(r=e-(s=t[c]).x)*r+(o=n-s.y)*o)<i&&(l=s,i=a);return l},on:function(t,n){return arguments.length>1?(c.on(t,n),e):c.on(t)}}},r.forceX=function(t){var e,n,i,r=fa(.1);function o(t){for(var r,o=0,a=e.length;o<a;++o)(r=e[o]).vx+=(i[o]-r.x)*n[o]*t}function a(){if(e){var o,a=e.length;for(n=new Array(a),i=new Array(a),o=0;o<a;++o)n[o]=isNaN(i[o]=+t(e[o],o,e))?0:+r(e[o],o,e)}}return"function"!=typeof t&&(t=fa(null==t?0:+t)),o.initialize=function(t){e=t,a()},o.strength=function(t){return arguments.length?(r="function"==typeof t?t:fa(+t),a(),o):r},o.x=function(e){return arguments.length?(t="function"==typeof e?e:fa(+e),a(),o):t},o},r.forceY=function(t){var e,n,i,r=fa(.1);function o(t){for(var r,o=0,a=e.length;o<a;++o)(r=e[o]).vy+=(i[o]-r.y)*n[o]*t}function a(){if(e){var o,a=e.length;for(n=new Array(a),i=new Array(a),o=0;o<a;++o)n[o]=isNaN(i[o]=+t(e[o],o,e))?0:+r(e[o],o,e)}}return"function"!=typeof t&&(t=fa(null==t?0:+t)),o.initialize=function(t){e=t,a()},o.strength=function(t){return arguments.length?(r="function"==typeof t?t:fa(+t),a(),o):r},o.y=function(e){return arguments.length?(t="function"==typeof e?e:fa(+e),a(),o):t},o},r.formatDefaultLocale=Wa,r.formatLocale=Ba,r.formatSpecifier=Ia,r.geoAlbers=Ku,r.geoAlbersUsa=function(){var t,e,n,i,r,o,a=Ku(),s=Xu().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=Xu().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(t,e){o=[t,e]}};function u(t){var e=t[0],a=t[1];return o=null,n.point(e,a),o||(i.point(e,a),o)||(r.point(e,a),o)}function f(){return t=e=null,u}return u.invert=function(t){var e=a.scale(),n=a.translate(),i=(t[0]-n[0])/e,r=(t[1]-n[1])/e;return(r>=.12&&r<.234&&i>=-.425&&i<-.214?s:r>=.166&&r<.234&&i>=-.214&&i<-.115?l:a).invert(t)},u.stream=function(n){return t&&e===n?t:(i=[a.stream(e=n),s.stream(n),l.stream(n)],r=i.length,t={point:function(t,e){for(var n=-1;++n<r;)i[n].point(t,e)},sphere:function(){for(var t=-1;++t<r;)i[t].sphere()},lineStart:function(){for(var t=-1;++t<r;)i[t].lineStart()},lineEnd:function(){for(var t=-1;++t<r;)i[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<r;)i[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<r;)i[t].polygonEnd()}});var i,r},u.precision=function(t){return arguments.length?(a.precision(t),s.precision(t),l.precision(t),f()):a.precision()},u.scale=function(t){return arguments.length?(a.scale(t),s.scale(.35*t),l.scale(t),u.translate(a.translate())):a.scale()},u.translate=function(t){if(!arguments.length)return a.translate();var e=a.scale(),o=+t[0],u=+t[1];return n=a.translate(t).clipExtent([[o-.455*e,u-.238*e],[o+.455*e,u+.238*e]]).stream(c),i=s.translate([o-.307*e,u+.201*e]).clipExtent([[o-.425*e+Ka,u+.12*e+Ka],[o-.214*e-Ka,u+.234*e-Ka]]).stream(c),r=l.translate([o-.205*e,u+.212*e]).clipExtent([[o-.214*e+Ka,u+.166*e+Ka],[o-.115*e-Ka,u+.234*e-Ka]]).stream(c),f()},u.fitExtent=function(t,e){return zu(u,t,e)},u.fitSize=function(t,e){return Ou(u,t,e)},u.fitWidth=function(t,e){return Lu(u,t,e)},u.fitHeight=function(t,e){return ju(u,t,e)},u.scale(1070)},r.geoArea=function(t){return Ps.reset(),Fs(t,Is),2*Ps},r.geoAzimuthalEqualArea=function(){return $u(Ju).scale(124.75).clipAngle(179.999)},r.geoAzimuthalEqualAreaRaw=Ju,r.geoAzimuthalEquidistant=function(){return $u(tf).scale(79.4188).clipAngle(179.999)},r.geoAzimuthalEquidistantRaw=tf,r.geoBounds=function(t){var e,n,i,r,o,a,s;if(Ys=Gs=-($s=Vs=1/0),Js=[],Fs(t,bl),n=Js.length){for(Js.sort(Sl),e=1,o=[i=Js[0]];e<n;++e)Dl(i,(r=Js[e])[0])||Dl(i,r[1])?(Al(i[0],r[1])>Al(i[0],i[1])&&(i[1]=r[1]),Al(r[0],i[1])>Al(i[0],i[1])&&(i[0]=r[0])):o.push(i=r);for(a=-1/0,e=0,i=o[n=o.length-1];e<=n;i=r,++e)r=o[e],(s=Al(i[1],r[0]))>a&&(a=s,$s=r[0],Gs=i[1])}return Js=tl=null,$s===1/0||Vs===1/0?[[NaN,NaN],[NaN,NaN]]:[[$s,Vs],[Gs,Ys]]},r.geoCentroid=function(t){el=nl=il=rl=ol=al=sl=ll=cl=ul=fl=0,Fs(t,Ml);var e=cl,n=ul,i=fl,r=e*e+n*n+i*i;return r<Qa&&(e=al,n=sl,i=ll,nl<Ka&&(e=il,n=rl,i=ol),(r=e*e+n*n+i*i)<Qa)?[NaN,NaN]:[as(n,e)*ns,vs(i/ps(r))*ns]},r.geoCircle=function(){var t,e,n=Hl([0,0]),i=Hl(90),r=Hl(6),o={point:function(n,i){t.push(n=e(n,i)),n[0]*=ns,n[1]*=ns}};function a(){var a=n.apply(this,arguments),s=i.apply(this,arguments)*is,l=r.apply(this,arguments)*is;return t=[],e=ql(-a[0]*is,-a[1]*is,0).invert,Yl(o,s,l,1),a={type:"Polygon",coordinates:[t]},t=e=null,a}return a.center=function(t){return arguments.length?(n="function"==typeof t?t:Hl([+t[0],+t[1]]),a):n},a.radius=function(t){return arguments.length?(i="function"==typeof t?t:Hl(+t),a):i},a.precision=function(t){return arguments.length?(r="function"==typeof t?t:Hl(+t),a):r},a},r.geoClipAntimeridian=sc,r.geoClipCircle=lc,r.geoClipExtent=function(){var t,e,n,i=0,r=0,o=960,a=500;return n={stream:function(n){return t&&e===n?t:t=fc(i,r,o,a)(e=n)},extent:function(s){return arguments.length?(i=+s[0][0],r=+s[0][1],o=+s[1][0],a=+s[1][1],t=e=null,n):[[i,r],[o,a]]}}},r.geoClipRectangle=fc,r.geoConicConformal=function(){return Gu(of).scale(109.5).parallels([30,30])},r.geoConicConformalRaw=of,r.geoConicEqualArea=Xu,r.geoConicEqualAreaRaw=Yu,r.geoConicEquidistant=function(){return Gu(sf).scale(131.154).center([0,13.9389])},r.geoConicEquidistantRaw=sf,r.geoContains=function(t,e){return(t&&Cc.hasOwnProperty(t.type)?Cc[t.type]:Ac)(t,e)},r.geoDistance=kc,r.geoEqualEarth=function(){return $u(df).scale(177.158)},r.geoEqualEarthRaw=df,r.geoEquirectangular=function(){return $u(af).scale(152.63)},r.geoEquirectangularRaw=af,r.geoGnomonic=function(){return $u(pf).scale(144.049).clipAngle(60)},r.geoGnomonicRaw=pf,r.geoGraticule=Rc,r.geoGraticule10=function(){return Rc()()},r.geoIdentity=function(){var t,e,n,i,r,o,a=1,s=0,l=0,c=1,u=1,f=Nc,h=null,d=Nc;function p(){return i=r=null,o}return o={stream:function(t){return i&&r===t?i:i=f(d(r=t))},postclip:function(i){return arguments.length?(d=i,h=t=e=n=null,p()):d},clipExtent:function(i){return arguments.length?(d=null==i?(h=t=e=n=null,Nc):fc(h=+i[0][0],t=+i[0][1],e=+i[1][0],n=+i[1][1]),p()):null==h?null:[[h,t],[e,n]]},scale:function(t){return arguments.length?(f=gf((a=+t)*c,a*u,s,l),p()):a},translate:function(t){return arguments.length?(f=gf(a*c,a*u,s=+t[0],l=+t[1]),p()):[s,l]},reflectX:function(t){return arguments.length?(f=gf(a*(c=t?-1:1),a*u,s,l),p()):c<0},reflectY:function(t){return arguments.length?(f=gf(a*c,a*(u=t?-1:1),s,l),p()):u<0},fitExtent:function(t,e){return zu(o,t,e)},fitSize:function(t,e){return Ou(o,t,e)},fitWidth:function(t,e){return Lu(o,t,e)},fitHeight:function(t,e){return ju(o,t,e)}}},r.geoInterpolate=function(t,e){var n=t[0]*is,i=t[1]*is,r=e[0]*is,o=e[1]*is,a=ss(i),s=hs(i),l=ss(o),c=hs(o),u=a*ss(n),f=a*hs(n),h=l*ss(r),d=l*hs(r),p=2*vs(ps(bs(o-i)+a*l*bs(r-n))),g=hs(p),m=p?function(t){var e=hs(t*=p)/g,n=hs(p-t)/g,i=n*u+e*h,r=n*f+e*d,o=n*s+e*c;return[as(r,i)*ns,as(o,ps(i*i+r*r))*ns]}:function(){return[n*ns,i*ns]};return m.distance=p,m},r.geoLength=_c,r.geoMercator=function(){return nf(ef).scale(961/es)},r.geoMercatorRaw=ef,r.geoNaturalEarth1=function(){return $u(mf).scale(175.295)},r.geoNaturalEarth1Raw=mf,r.geoOrthographic=function(){return $u(vf).scale(249.5).clipAngle(90+Ka)},r.geoOrthographicRaw=vf,r.geoPath=function(t,e){var n,i,r=4.5;function o(t){return t&&("function"==typeof r&&i.pointRadius(+r.apply(this,arguments)),Fs(t,n(i))),i.result()}return o.area=function(t){return Fs(t,n(Wc)),Wc.result()},o.measure=function(t){return Fs(t,n(Du)),Du.result()},o.bounds=function(t){return Fs(t,n(Qc)),Qc.result()},o.centroid=function(t){return Fs(t,n(fu)),fu.result()},o.projection=function(e){return arguments.length?(n=null==e?(t=null,Nc):(t=e).stream,o):t},o.context=function(t){return arguments.length?(i=null==t?(e=null,new Eu):new xu(e=t),"function"!=typeof r&&i.pointRadius(r),o):e},o.pointRadius=function(t){return arguments.length?(r="function"==typeof t?t:(i.pointRadius(+t),+t),o):r},o.projection(t).context(e)},r.geoProjection=$u,r.geoProjectionMutator=Vu,r.geoRotation=Gl,r.geoStereographic=function(){return $u(bf).scale(250).clipAngle(142)},r.geoStereographicRaw=bf,r.geoStream=Fs,r.geoTransform=function(t){return{stream:Iu(t)}},r.geoTransverseMercator=function(){var t=nf(yf),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90]).scale(159.155)},r.geoTransverseMercatorRaw=yf,r.gray=function(t,e){return new We(t,0,0,null==e?1:e)},r.hcl=Ye,r.hierarchy=Cf,r.histogram=function(){var t=y,e=p,n=S;function i(i){var r,o,a=i.length,s=new Array(a);for(r=0;r<a;++r)s[r]=t(i[r],r,i);var c=e(s),u=c[0],f=c[1],h=n(s,u,f);Array.isArray(h)||(h=A(u,f,h),h=_(Math.ceil(u/h)*h,f,h));for(var d=h.length;h[0]<=u;)h.shift(),--d;for(;h[d-1]>f;)h.pop(),--d;var p,g=new Array(d+1);for(r=0;r<=d;++r)(p=g[r]=[]).x0=r>0?h[r-1]:u,p.x1=r<d?h[r]:f;for(r=0;r<a;++r)u<=(o=s[r])&&o<=f&&g[l(h,o,0,d)].push(i[r]);return g}return i.value=function(e){return arguments.length?(t="function"==typeof e?e:b(e),i):t},i.domain=function(t){return arguments.length?(e="function"==typeof t?t:b([t[0],t[1]]),i):e},i.thresholds=function(t){return arguments.length?(n="function"==typeof t?t:Array.isArray(t)?b(m.call(t)):b(t),i):n},i},r.hsl=De,r.html=ca,r.image=function(t,e){return new Promise(function(n,i){var r=new Image;for(var o in e)r[o]=e[o];r.onerror=i,r.onload=function(){n(r)},r.src=t})},r.interpolate=Sn,r.interpolateArray=_n,r.interpolateBasis=cn,r.interpolateBasisClosed=un,r.interpolateBlues=Um,r.interpolateBrBG=nm,r.interpolateBuGn=_m,r.interpolateBuPu=wm,r.interpolateCividis=function(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-2710.57*t)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-67.37*t)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-2475.67*t)))))))+")"},r.interpolateCool=iv,r.interpolateCubehelix=Zn,r.interpolateCubehelixDefault=ev,r.interpolateCubehelixLong=Jn,r.interpolateDate=xn,r.interpolateDiscrete=function(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}},r.interpolateGnBu=Cm,r.interpolateGreens=Vm,r.interpolateGreys=Ym,r.interpolateHcl=Xn,r.interpolateHclLong=Kn,r.interpolateHsl=Vn,r.interpolateHslLong=Gn,r.interpolateHue=function(t,e){var n=dn(+t,+e);return function(t){var e=n(t);return e-360*Math.floor(e/360)}},r.interpolateInferno=fv,r.interpolateLab=function(t,e){var n=gn((t=Be(t)).l,(e=Be(e)).l),i=gn(t.a,e.a),r=gn(t.b,e.b),o=gn(t.opacity,e.opacity);return function(e){return t.l=n(e),t.a=i(e),t.b=r(e),t.opacity=o(e),t+""}},r.interpolateMagma=uv,r.interpolateNumber=wn,r.interpolateObject=kn,r.interpolateOrRd=Am,r.interpolateOranges=tv,r.interpolatePRGn=rm,r.interpolatePiYG=am,r.interpolatePlasma=hv,r.interpolatePuBu=Tm,r.interpolatePuBuGn=Dm,r.interpolatePuOr=lm,r.interpolatePuRd=Pm,r.interpolatePurples=Km,r.interpolateRainbow=function(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return rv.h=360*t-100,rv.s=1.5-1.5*e,rv.l=.8-.9*e,rv+""},r.interpolateRdBu=um,r.interpolateRdGy=hm,r.interpolateRdPu=Rm,r.interpolateRdYlBu=pm,r.interpolateRdYlGn=mm,r.interpolateReds=Zm,r.interpolateRgb=mn,r.interpolateRgbBasis=bn,r.interpolateRgbBasisClosed=yn,r.interpolateRound=Dn,r.interpolateSinebow=function(t){var e;return t=(.5-t)*Math.PI,ov.r=255*(e=Math.sin(t))*e,ov.g=255*(e=Math.sin(t+av))*e,ov.b=255*(e=Math.sin(t+sv))*e,ov+""},r.interpolateSpectral=bm,r.interpolateString=An,r.interpolateTransformCss=On,r.interpolateTransformSvg=Ln,r.interpolateTurbo=function(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-14825.05*t)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+707.56*t)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-6838.66*t)))))))+")"},r.interpolateViridis=cv,r.interpolateWarm=nv,r.interpolateYlGn=Lm,r.interpolateYlGnBu=zm,r.interpolateYlOrBr=Hm,r.interpolateYlOrRd=Wm,r.interpolateZoom=Un,r.interrupt=Ii,r.interval=function(t,e,n){var i=new di,r=e;return null==e?(i.restart(t,e,n),i):(e=+e,n=null==n?fi():+n,i.restart(function o(a){a+=r,i.restart(o,r+=e,n),t(a)},e,n),i)},r.isoFormat=Ag,r.isoParse=Sg,r.json=function(t,e){return fetch(t,e).then(aa)},r.keys=function(t){var e=[];for(var n in t)e.push(n);return e},r.lab=Be,r.lch=function(t,e,n,i){return 1===arguments.length?Ge(t):new Xe(n,e,t,null==i?1:i)},r.line=zv,r.lineRadial=Uv,r.linkHorizontal=function(){return Kv(Qv)},r.linkRadial=function(){var t=Kv(Jv);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t},r.linkVertical=function(){return Kv(Zv)},r.local=Lt,r.map=lo,r.matcher=rt,r.max=M,r.mean=function(t,e){var n,i=t.length,r=i,o=-1,a=0;if(null==e)for(;++o<i;)isNaN(n=f(t[o]))?--r:a+=n;else for(;++o<i;)isNaN(n=f(e(t[o],o,t)))?--r:a+=n;if(r)return a/r},r.median=function(t,e){var n,i=t.length,r=-1,a=[];if(null==e)for(;++r<i;)isNaN(n=f(t[r]))||a.push(n);else for(;++r<i;)isNaN(n=f(e(t[r],r,t)))||a.push(n);return D(a.sort(o),.5)},r.merge=T,r.min=E,r.mouse=Wt,r.namespace=Z,r.namespaces=Q,r.nest=function(){var t,e,n,i=[],r=[];function o(n,r,a,s){if(r>=i.length)return null!=t&&n.sort(t),null!=e?e(n):n;for(var l,c,u,f=-1,h=n.length,d=i[r++],p=lo(),g=a();++f<h;)(u=p.get(l=d(c=n[f])+""))?u.push(c):p.set(l,[c]);return p.each(function(t,e){s(g,e,o(t,r,a,s))}),g}return n={object:function(t){return o(t,0,co,uo)},map:function(t){return o(t,0,fo,ho)},entries:function(t){return function t(n,o){if(++o>i.length)return n;var a,s=r[o-1];return null!=e&&o>=i.length?a=n.entries():(a=[],n.each(function(e,n){a.push({key:n,values:t(e,o)})})),null!=s?a.sort(function(t,e){return s(t.key,e.key)}):a}(o(t,0,fo,ho),0)},key:function(t){return i.push(t),n},sortKeys:function(t){return r[i.length-1]=t,n},sortValues:function(e){return t=e,n},rollup:function(t){return e=t,n}}},r.now=fi,r.pack=function(){var t=null,e=1,n=1,i=Uf;function r(r){return r.x=e/2,r.y=n/2,t?r.eachBefore(Gf(t)).eachAfter(Yf(i,.5)).eachBefore(Xf(1)):r.eachBefore(Gf(Vf)).eachAfter(Yf(Uf,1)).eachAfter(Yf(i,r.r/Math.min(e,n))).eachBefore(Xf(Math.min(e,n)/(2*r.r))),r}return r.radius=function(e){return arguments.length?(t=null==(n=e)?null:qf(n),r):t;var n},r.size=function(t){return arguments.length?(e=+t[0],n=+t[1],r):[e,n]},r.padding=function(t){return arguments.length?(i="function"==typeof t?t:$f(+t),r):i},r},r.packEnclose=Tf,r.packSiblings=function(t){return Wf(t),t},r.pairs=function(t,e){null==e&&(e=u);for(var n=0,i=t.length-1,r=t[0],o=new Array(i<0?0:i);n<i;)o[n]=e(r,r=t[++n]);return o},r.partition=function(){var t=1,e=1,n=0,i=!1;function r(r){var o=r.height+1;return r.x0=r.y0=n,r.x1=t,r.y1=e/o,r.eachBefore(function(t,e){return function(i){i.children&&Qf(i,i.x0,t*(i.depth+1)/e,i.x1,t*(i.depth+2)/e);var r=i.x0,o=i.y0,a=i.x1-n,s=i.y1-n;a<r&&(r=a=(r+a)/2),s<o&&(o=s=(o+s)/2),i.x0=r,i.y0=o,i.x1=a,i.y1=s}}(e,o)),i&&r.eachBefore(Kf),r}return r.round=function(t){return arguments.length?(i=!!t,r):i},r.size=function(n){return arguments.length?(t=+n[0],e=+n[1],r):[t,e]},r.padding=function(t){return arguments.length?(n=+t,r):n},r},r.path=eo,r.permute=function(t,e){for(var n=e.length,i=new Array(n);n--;)i[n]=t[e[n]];return i},r.pie=function(){var t=jv,e=Lv,n=null,i=dv(0),r=dv(Cv),o=dv(0);function a(a){var s,l,c,u,f,h=a.length,d=0,p=new Array(h),g=new Array(h),m=+i.apply(this,arguments),v=Math.min(Cv,Math.max(-Cv,r.apply(this,arguments)-m)),b=Math.min(Math.abs(v)/h,o.apply(this,arguments)),y=b*(v<0?-1:1);for(s=0;s<h;++s)(f=g[p[s]=s]=+t(a[s],s,a))>0&&(d+=f);for(null!=e?p.sort(function(t,n){return e(g[t],g[n])}):null!=n&&p.sort(function(t,e){return n(a[t],a[e])}),s=0,c=d?(v-h*y)/d:0;s<h;++s,m=u)l=p[s],u=m+((f=g[l])>0?f*c:0)+y,g[l]={data:a[l],index:s,value:f,startAngle:m,endAngle:u,padAngle:b};return g}return a.value=function(e){return arguments.length?(t="function"==typeof e?e:dv(+e),a):t},a.sortValues=function(t){return arguments.length?(e=t,n=null,a):e},a.sort=function(t){return arguments.length?(n=t,e=null,a):n},a.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:dv(+t),a):i},a.endAngle=function(t){return arguments.length?(r="function"==typeof t?t:dv(+t),a):r},a.padAngle=function(t){return arguments.length?(o="function"==typeof t?t:dv(+t),a):o},a},r.piecewise=function(t,e){for(var n=0,i=e.length-1,r=e[0],o=new Array(i<0?0:i);n<i;)o[n]=t(r,r=e[++n]);return function(t){var e=Math.max(0,Math.min(i-1,Math.floor(t*=i)));return o[e](t-e)}},r.pointRadial=Vv,r.polygonArea=function(t){for(var e,n=-1,i=t.length,r=t[i-1],o=0;++n<i;)e=r,r=t[n],o+=e[1]*r[0]-e[0]*r[1];return o/2},r.polygonCentroid=function(t){for(var e,n,i=-1,r=t.length,o=0,a=0,s=t[r-1],l=0;++i<r;)e=s,s=t[i],l+=n=e[0]*s[1]-s[0]*e[1],o+=(e[0]+s[0])*n,a+=(e[1]+s[1])*n;return[o/(l*=3),a/l]},r.polygonContains=function(t,e){for(var n,i,r=t.length,o=t[r-1],a=e[0],s=e[1],l=o[0],c=o[1],u=!1,f=0;f<r;++f)n=(o=t[f])[0],(i=o[1])>s!=c>s&&a<(l-n)*(s-i)/(c-i)+n&&(u=!u),l=n,c=i;return u},r.polygonHull=function(t){if((n=t.length)<3)return null;var e,n,i=new Array(n),r=new Array(n);for(e=0;e<n;++e)i[e]=[+t[e][0],+t[e][1],e];for(i.sort(ph),e=0;e<n;++e)r[e]=[i[e][0],-i[e][1]];var o=gh(i),a=gh(r),s=a[0]===o[0],l=a[a.length-1]===o[o.length-1],c=[];for(e=o.length-1;e>=0;--e)c.push(t[i[o[e]][2]]);for(e=+s;e<a.length-l;++e)c.push(t[i[a[e]][2]]);return c},r.polygonLength=function(t){for(var e,n,i=-1,r=t.length,o=t[r-1],a=o[0],s=o[1],l=0;++i<r;)e=a,n=s,e-=a=(o=t[i])[0],n-=s=o[1],l+=Math.sqrt(e*e+n*n);return l},r.precisionFixed=qa,r.precisionPrefix=Ua,r.precisionRound=$a,r.quadtree=va,r.quantile=D,r.quantize=function(t,e){for(var n=new Array(e),i=0;i<e;++i)n[i]=t(i/(e-1));return n},r.radialArea=$v,r.radialLine=Uv,r.randomBates=xh,r.randomExponential=wh,r.randomIrwinHall=_h,r.randomLogNormal=yh,r.randomNormal=bh,r.randomUniform=vh,r.range=_,r.rgb=xe,r.ribbon=function(){var t=no,e=io,n=ro,i=oo,r=ao,o=null;function a(){var a,s=Xr.call(arguments),l=t.apply(this,s),c=e.apply(this,s),u=+n.apply(this,(s[0]=l,s)),f=i.apply(this,s)-Vr,h=r.apply(this,s)-Vr,d=u*qr(f),p=u*Ur(f),g=+n.apply(this,(s[0]=c,s)),m=i.apply(this,s)-Vr,v=r.apply(this,s)-Vr;if(o||(o=a=eo()),o.moveTo(d,p),o.arc(0,0,u,f,h),f===m&&h===v||(o.quadraticCurveTo(0,0,g*qr(m),g*Ur(m)),o.arc(0,0,g,m,v)),o.quadraticCurveTo(0,0,d,p),o.closePath(),a)return o=null,a+""||null}return a.radius=function(t){return arguments.length?(n="function"==typeof t?t:Kr(+t),a):n},a.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:Kr(+t),a):i},a.endAngle=function(t){return arguments.length?(r="function"==typeof t?t:Kr(+t),a):r},a.source=function(e){return arguments.length?(t=e,a):t},a.target=function(t){return arguments.length?(e=t,a):e},a.context=function(t){return arguments.length?(o=null==t?null:t,a):o},a},r.scaleBand=Th,r.scaleDiverging=function t(){var e=Wh(Bg()(Ih));return e.copy=function(){return jg(e,t())},Ch.apply(e,arguments)},r.scaleDivergingLog=function t(){var e=Kh(Bg()).domain([.1,1,10]);return e.copy=function(){return jg(e,t()).base(e.base())},Ch.apply(e,arguments)},r.scaleDivergingPow=Wg,r.scaleDivergingSqrt=function(){return Wg.apply(null,arguments).exponent(.5)},r.scaleDivergingSymlog=function t(){var e=Jh(Bg());return e.copy=function(){return jg(e,t()).constant(e.constant())},Ch.apply(e,arguments)},r.scaleIdentity=function t(e){var n;function i(t){return isNaN(t=+t)?n:t}return i.invert=i,i.domain=i.range=function(t){return arguments.length?(e=Ah.call(t,Eh),i):e.slice()},i.unknown=function(t){return arguments.length?(n=t,i):n},i.copy=function(){return t(e).unknown(n)},e=arguments.length?Ah.call(e,Eh):[0,1],Wh(i)},r.scaleImplicit=Dh,r.scaleLinear=function t(){var e=Hh(Ih,Ih);return e.copy=function(){return Lh(e,t())},kh.apply(e,arguments),Wh(e)},r.scaleLog=function t(){var e=Kh(jh()).domain([1,10]);return e.copy=function(){return Lh(e,t()).base(e.base())},kh.apply(e,arguments),e},r.scaleOrdinal=Mh,r.scalePoint=function(){return function t(e){var n=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return t(n())},e}(Th.apply(null,arguments).paddingInner(1))},r.scalePow=rd,r.scaleQuantile=function t(){var e,n=[],i=[],r=[];function a(){var t=0,e=Math.max(1,i.length);for(r=new Array(e-1);++t<e;)r[t-1]=D(n,t/e);return s}function s(t){return isNaN(t=+t)?e:i[l(r,t)]}return s.invertExtent=function(t){var e=i.indexOf(t);return e<0?[NaN,NaN]:[e>0?r[e-1]:n[0],e<r.length?r[e]:n[n.length-1]]},s.domain=function(t){if(!arguments.length)return n.slice();n=[];for(var e,i=0,r=t.length;i<r;++i)null==(e=t[i])||isNaN(e=+e)||n.push(e);return n.sort(o),a()},s.range=function(t){return arguments.length?(i=Sh.call(t),a()):i.slice()},s.unknown=function(t){return arguments.length?(e=t,s):e},s.quantiles=function(){return r.slice()},s.copy=function(){return t().domain(n).range(i).unknown(e)},kh.apply(s,arguments)},r.scaleQuantize=function t(){var e,n=0,i=1,r=1,o=[.5],a=[0,1];function s(t){return t<=t?a[l(o,t,0,r)]:e}function c(){var t=-1;for(o=new Array(r);++t<r;)o[t]=((t+1)*i-(t-r)*n)/(r+1);return s}return s.domain=function(t){return arguments.length?(n=+t[0],i=+t[1],c()):[n,i]},s.range=function(t){return arguments.length?(r=(a=Sh.call(t)).length-1,c()):a.slice()},s.invertExtent=function(t){var e=a.indexOf(t);return e<0?[NaN,NaN]:e<1?[n,o[0]]:e>=r?[o[r-1],i]:[o[e-1],o[e]]},s.unknown=function(t){return arguments.length?(e=t,s):s},s.thresholds=function(){return o.slice()},s.copy=function(){return t().domain([n,i]).range(a).unknown(e)},kh.apply(Wh(s),arguments)},r.scaleSequential=function t(){var e=Wh(Lg()(Ih));return e.copy=function(){return jg(e,t())},Ch.apply(e,arguments)},r.scaleSequentialLog=function t(){var e=Kh(Lg()).domain([1,10]);return e.copy=function(){return jg(e,t()).base(e.base())},Ch.apply(e,arguments)},r.scaleSequentialPow=Hg,r.scaleSequentialQuantile=function t(){var e=[],n=Ih;function i(t){if(!isNaN(t=+t))return n((l(e,t)-1)/(e.length-1))}return i.domain=function(t){if(!arguments.length)return e.slice();e=[];for(var n,r=0,a=t.length;r<a;++r)null==(n=t[r])||isNaN(n=+n)||e.push(n);return e.sort(o),i},i.interpolator=function(t){return arguments.length?(n=t,i):n},i.copy=function(){return t(n).domain(e)},Ch.apply(i,arguments)},r.scaleSequentialSqrt=function(){return Hg.apply(null,arguments).exponent(.5)},r.scaleSequentialSymlog=function t(){var e=Jh(Lg());return e.copy=function(){return jg(e,t()).constant(e.constant())},Ch.apply(e,arguments)},r.scaleSqrt=function(){return rd.apply(null,arguments).exponent(.5)},r.scaleSymlog=function t(){var e=Jh(jh());return e.copy=function(){return Lh(e,t()).constant(e.constant())},kh.apply(e,arguments)},r.scaleThreshold=function t(){var e,n=[.5],i=[0,1],r=1;function o(t){return t<=t?i[l(n,t,0,r)]:e}return o.domain=function(t){return arguments.length?(n=Sh.call(t),r=Math.min(n.length,i.length-1),o):n.slice()},o.range=function(t){return arguments.length?(i=Sh.call(t),r=Math.min(n.length,i.length-1),o):i.slice()},o.invertExtent=function(t){var e=i.indexOf(t);return[n[e-1],n[e]]},o.unknown=function(t){return arguments.length?(e=t,o):e},o.copy=function(){return t().domain(n).range(i).unknown(e)},kh.apply(o,arguments)},r.scaleTime=function(){return kh.apply(Og(Od,Nd,xd,bd,md,pd,hd,ld,r.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},r.scaleUtc=function(){return kh.apply(Og(lp,ap,Vd,qd,Bd,jd,hd,ld,r.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)},r.scan=function(t,e){if(n=t.length){var n,i,r=0,a=0,s=t[a];for(null==e&&(e=o);++r<n;)(e(i=t[r],s)<0||0!==e(s,s))&&(s=i,a=r);return 0===e(s,s)?a:void 0}},r.schemeAccent=$g,r.schemeBlues=qm,r.schemeBrBG=em,r.schemeBuGn=ym,r.schemeBuPu=xm,r.schemeCategory10=Ug,r.schemeDark2=Vg,r.schemeGnBu=km,r.schemeGreens=$m,r.schemeGreys=Gm,r.schemeOrRd=Fm,r.schemeOranges=Jm,r.schemePRGn=im,r.schemePaired=Gg,r.schemePastel1=Yg,r.schemePastel2=Xg,r.schemePiYG=om,r.schemePuBu=Mm,r.schemePuBuGn=Sm,r.schemePuOr=sm,r.schemePuRd=Em,r.schemePurples=Xm,r.schemeRdBu=cm,r.schemeRdGy=fm,r.schemeRdPu=Im,r.schemeRdYlBu=dm,r.schemeRdYlGn=gm,r.schemeReds=Qm,r.schemeSet1=Kg,r.schemeSet2=Qg,r.schemeSet3=Zg,r.schemeSpectral=vm,r.schemeTableau10=Jg,r.schemeYlGn=Om,r.schemeYlGnBu=Nm,r.schemeYlOrBr=jm,r.schemeYlOrRd=Bm,r.select=zt,r.selectAll=function(t){return"string"==typeof t?new Rt([document.querySelectorAll(t)],[document.documentElement]):new Rt([null==t?[]:t],It)},r.selection=Nt,r.selector=et,r.selectorAll=it,r.set=mo,r.shuffle=function(t,e,n){for(var i,r,o=(null==n?t.length:n)-(e=null==e?0:+e);o;)r=Math.random()*o--|0,i=t[o+e],t[o+e]=t[r+e],t[r+e]=i;return t},r.stack=function(){var t=dv([]),e=Kb,n=Xb,i=Qb;function r(r){var o,a,s=t.apply(this,arguments),l=r.length,c=s.length,u=new Array(c);for(o=0;o<c;++o){for(var f,h=s[o],d=u[o]=new Array(l),p=0;p<l;++p)d[p]=f=[0,+i(r[p],h,p,r)],f.data=r[p];d.key=h}for(o=0,a=e(u);o<c;++o)u[a[o]].index=o;return n(u,a),u}return r.keys=function(e){return arguments.length?(t="function"==typeof e?e:dv(Gv.call(e)),r):t},r.value=function(t){return arguments.length?(i="function"==typeof t?t:dv(+t),r):i},r.order=function(t){return arguments.length?(e=null==t?Kb:"function"==typeof t?t:dv(Gv.call(t)),r):e},r.offset=function(t){return arguments.length?(n=null==t?Xb:t,r):n},r},r.stackOffsetDiverging=function(t,e){if((s=t.length)>0)for(var n,i,r,o,a,s,l=0,c=t[e[0]].length;l<c;++l)for(o=a=0,n=0;n<s;++n)(r=(i=t[e[n]][l])[1]-i[0])>=0?(i[0]=o,i[1]=o+=r):r<0?(i[1]=a,i[0]=a+=r):i[0]=o},r.stackOffsetExpand=function(t,e){if((i=t.length)>0){for(var n,i,r,o=0,a=t[0].length;o<a;++o){for(r=n=0;n<i;++n)r+=t[n][o][1]||0;if(r)for(n=0;n<i;++n)t[n][o][1]/=r}Xb(t,e)}},r.stackOffsetNone=Xb,r.stackOffsetSilhouette=function(t,e){if((n=t.length)>0){for(var n,i=0,r=t[e[0]],o=r.length;i<o;++i){for(var a=0,s=0;a<n;++a)s+=t[a][i][1]||0;r[i][1]+=r[i][0]=-s/2}Xb(t,e)}},r.stackOffsetWiggle=function(t,e){if((r=t.length)>0&&(i=(n=t[e[0]]).length)>0){for(var n,i,r,o=0,a=1;a<i;++a){for(var s=0,l=0,c=0;s<r;++s){for(var u=t[e[s]],f=u[a][1]||0,h=(f-(u[a-1][1]||0))/2,d=0;d<s;++d){var p=t[e[d]];h+=(p[a][1]||0)-(p[a-1][1]||0)}l+=f,c+=h*f}n[a-1][1]+=n[a-1][0]=o,l&&(o-=c/l)}n[a-1][1]+=n[a-1][0]=o,Xb(t,e)}},r.stackOrderAppearance=Zb,r.stackOrderAscending=ty,r.stackOrderDescending=function(t){return ty(t).reverse()},r.stackOrderInsideOut=function(t){var e,n,i=t.length,r=t.map(ey),o=Zb(t),a=0,s=0,l=[],c=[];for(e=0;e<i;++e)n=o[e],a<s?(a+=r[n],l.push(n)):(s+=r[n],c.push(n));return c.reverse().concat(l)},r.stackOrderNone=Kb,r.stackOrderReverse=function(t){return Kb(t).reverse()},r.stratify=function(){var t=eh,e=nh;function n(n){var i,r,o,a,s,l,c,u=n.length,f=new Array(u),h={};for(r=0;r<u;++r)i=n[r],s=f[r]=new Df(i),null!=(l=t(i,r,n))&&(l+="")&&(h[c=Zf+(s.id=l)]=c in h?th:s);for(r=0;r<u;++r)if(s=f[r],null!=(l=e(n[r],r,n))&&(l+="")){if(!(a=h[Zf+l]))throw new Error("missing: "+l);if(a===th)throw new Error("ambiguous: "+l);a.children?a.children.push(s):a.children=[s],s.parent=a}else{if(o)throw new Error("multiple roots");o=s}if(!o)throw new Error("no root");if(o.parent=Jf,o.eachBefore(function(t){t.depth=t.parent.depth+1,--u}).eachBefore(Sf),o.parent=null,u>0)throw new Error("cycle");return o}return n.id=function(e){return arguments.length?(t=qf(e),n):t},n.parentId=function(t){return arguments.length?(e=qf(t),n):e},n},r.style=ht,r.sum=function(t,e){var n,i=t.length,r=-1,o=0;if(null==e)for(;++r<i;)(n=+t[r])&&(o+=n);else for(;++r<i;)(n=+e(t[r],r,t))&&(o+=n);return o},r.svg=ua,r.symbol=function(){var t=dv(tb),e=dv(64),n=null;function i(){var i;if(n||(n=i=eo()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),i)return n=null,i+""||null}return i.type=function(e){return arguments.length?(t="function"==typeof e?e:dv(e),i):t},i.size=function(t){return arguments.length?(e="function"==typeof t?t:dv(+t),i):e},i.context=function(t){return arguments.length?(n=null==t?null:t,i):n},i},r.symbolCircle=tb,r.symbolCross=eb,r.symbolDiamond=rb,r.symbolSquare=cb,r.symbolStar=lb,r.symbolTriangle=fb,r.symbolWye=gb,r.symbols=mb,r.text=na,r.thresholdFreedmanDiaconis=function(t,e,n){return t=v.call(t,f).sort(o),Math.ceil((n-e)/(2*(D(t,.75)-D(t,.25))*Math.pow(t.length,-1/3)))},r.thresholdScott=function(t,e,n){return Math.ceil((n-e)/(3.5*d(t)*Math.pow(t.length,-1/3)))},r.thresholdSturges=S,r.tickFormat=Bh,r.tickIncrement=F,r.tickStep=A,r.ticks=C,r.timeDay=bd,r.timeDays=yd,r.timeFormatDefaultLocale=Fg,r.timeFormatLocale=dp,r.timeFriday=Ad,r.timeFridays=Id,r.timeHour=md,r.timeHours=vd,r.timeInterval=sd,r.timeMillisecond=ld,r.timeMilliseconds=cd,r.timeMinute=pd,r.timeMinutes=gd,r.timeMonday=wd,r.timeMondays=Md,r.timeMonth=Nd,r.timeMonths=zd,r.timeSaturday=Sd,r.timeSaturdays=Rd,r.timeSecond=hd,r.timeSeconds=dd,r.timeSunday=xd,r.timeSundays=Dd,r.timeThursday=Fd,r.timeThursdays=Pd,r.timeTuesday=kd,r.timeTuesdays=Td,r.timeWednesday=Cd,r.timeWednesdays=Ed,r.timeWeek=xd,r.timeWeeks=Dd,r.timeYear=Od,r.timeYears=Ld,r.timeout=yi,r.timer=pi,r.timerFlush=gi,r.touch=qt,r.touches=function(t,e){null==e&&(e=Ht().touches);for(var n=0,i=e?e.length:0,r=new Array(i);n<i;++n)r[n]=Bt(t,e[n]);return r},r.transition=Hi,r.transpose=P,r.tree=function(){var t=ih,e=1,n=1,i=null;function r(r){var l=function(t){for(var e,n,i,r,o,a=new lh(t,0),s=[a];e=s.pop();)if(i=e._.children)for(e.children=new Array(o=i.length),r=o-1;r>=0;--r)s.push(n=e.children[r]=new lh(i[r],r)),n.parent=e;return(a.parent=new lh(null,0)).children=[a],a}(r);if(l.eachAfter(o),l.parent.m=-l.z,l.eachBefore(a),i)r.eachBefore(s);else{var c=r,u=r,f=r;r.eachBefore(function(t){t.x<c.x&&(c=t),t.x>u.x&&(u=t),t.depth>f.depth&&(f=t)});var h=c===u?1:t(c,u)/2,d=h-c.x,p=e/(u.x+h+d),g=n/(f.depth||1);r.eachBefore(function(t){t.x=(t.x+d)*p,t.y=t.depth*g})}return r}function o(e){var n=e.children,i=e.parent.children,r=e.i?i[e.i-1]:null;if(n){!function(t){for(var e,n=0,i=0,r=t.children,o=r.length;--o>=0;)(e=r[o]).z+=n,e.m+=n,n+=e.s+(i+=e.c)}(e);var o=(n[0].z+n[n.length-1].z)/2;r?(e.z=r.z+t(e._,r._),e.m=e.z-o):e.z=o}else r&&(e.z=r.z+t(e._,r._));e.parent.A=function(e,n,i){if(n){for(var r,o=e,a=e,s=n,l=o.parent.children[0],c=o.m,u=a.m,f=s.m,h=l.m;s=oh(s),o=rh(o),s&&o;)l=rh(l),(a=oh(a)).a=e,(r=s.z+f-o.z-c+t(s._,o._))>0&&(ah(sh(s,e,i),e,r),c+=r,u+=r),f+=s.m,c+=o.m,h+=l.m,u+=a.m;s&&!oh(a)&&(a.t=s,a.m+=f-u),o&&!rh(l)&&(l.t=o,l.m+=c-h,i=e)}return i}(e,r,e.parent.A||i[0])}function a(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function s(t){t.x*=e,t.y=t.depth*n}return r.separation=function(e){return arguments.length?(t=e,r):t},r.size=function(t){return arguments.length?(i=!1,e=+t[0],n=+t[1],r):i?null:[e,n]},r.nodeSize=function(t){return arguments.length?(i=!0,e=+t[0],n=+t[1],r):i?[e,n]:null},r},r.treemap=function(){var t=hh,e=!1,n=1,i=1,r=[0],o=Uf,a=Uf,s=Uf,l=Uf,c=Uf;function u(t){return t.x0=t.y0=0,t.x1=n,t.y1=i,t.eachBefore(f),r=[0],e&&t.eachBefore(Kf),t}function f(e){var n=r[e.depth],i=e.x0+n,u=e.y0+n,f=e.x1-n,h=e.y1-n;f<i&&(i=f=(i+f)/2),h<u&&(u=h=(u+h)/2),e.x0=i,e.y0=u,e.x1=f,e.y1=h,e.children&&(n=r[e.depth+1]=o(e)/2,i+=c(e)-n,u+=a(e)-n,f-=s(e)-n,h-=l(e)-n,f<i&&(i=f=(i+f)/2),h<u&&(u=h=(u+h)/2),t(e,i,u,f,h))}return u.round=function(t){return arguments.length?(e=!!t,u):e},u.size=function(t){return arguments.length?(n=+t[0],i=+t[1],u):[n,i]},u.tile=function(e){return arguments.length?(t=qf(e),u):t},u.padding=function(t){return arguments.length?u.paddingInner(t).paddingOuter(t):u.paddingInner()},u.paddingInner=function(t){return arguments.length?(o="function"==typeof t?t:$f(+t),u):o},u.paddingOuter=function(t){return arguments.length?u.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):u.paddingTop()},u.paddingTop=function(t){return arguments.length?(a="function"==typeof t?t:$f(+t),u):a},u.paddingRight=function(t){return arguments.length?(s="function"==typeof t?t:$f(+t),u):s},u.paddingBottom=function(t){return arguments.length?(l="function"==typeof t?t:$f(+t),u):l},u.paddingLeft=function(t){return arguments.length?(c="function"==typeof t?t:$f(+t),u):c},u},r.treemapBinary=function(t,e,n,i,r){var o,a,s=t.children,l=s.length,c=new Array(l+1);for(c[0]=a=o=0;o<l;++o)c[o+1]=a+=s[o].value;!function t(e,n,i,r,o,a,l){if(e>=n-1){var u=s[e];return u.x0=r,u.y0=o,u.x1=a,void(u.y1=l)}for(var f=c[e],h=i/2+f,d=e+1,p=n-1;d<p;){var g=d+p>>>1;c[g]<h?d=g+1:p=g}h-c[d-1]<c[d]-h&&e+1<d&&--d;var m=c[d]-f,v=i-m;if(a-r>l-o){var b=(r*v+a*m)/i;t(e,d,m,r,o,b,l),t(d,n,v,b,o,a,l)}else{var y=(o*v+l*m)/i;t(e,d,m,r,o,a,y),t(d,n,v,r,y,a,l)}}(0,l,t.value,e,n,i,r)},r.treemapDice=Qf,r.treemapResquarify=dh,r.treemapSlice=ch,r.treemapSliceDice=function(t,e,n,i,r){(1&t.depth?ch:Qf)(t,e,n,i,r)},r.treemapSquarify=hh,r.tsv=oa,r.tsvFormat=Ko,r.tsvFormatBody=Qo,r.tsvFormatRows=Zo,r.tsvParse=Yo,r.tsvParseRows=Xo,r.utcDay=qd,r.utcDays=Ud,r.utcFriday=Qd,r.utcFridays=rp,r.utcHour=Bd,r.utcHours=Wd,r.utcMillisecond=ld,r.utcMilliseconds=cd,r.utcMinute=jd,r.utcMinutes=Hd,r.utcMonday=Gd,r.utcMondays=tp,r.utcMonth=ap,r.utcMonths=sp,r.utcSaturday=Zd,r.utcSaturdays=op,r.utcSecond=hd,r.utcSeconds=dd,r.utcSunday=Vd,r.utcSundays=Jd,r.utcThursday=Kd,r.utcThursdays=ip,r.utcTuesday=Yd,r.utcTuesdays=ep,r.utcWednesday=Xd,r.utcWednesdays=np,r.utcWeek=Vd,r.utcWeeks=Jd,r.utcYear=lp,r.utcYears=cp,r.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},r.variance=h,r.version="5.12.0",r.voronoi=function(){var t=iy,e=ry,n=null;function i(i){return new zy(i.map(function(n,r){var o=[Math.round(t(n,r,i)/Iy)*Iy,Math.round(e(n,r,i)/Iy)*Iy];return o.index=r,o.data=n,o}),n)}return i.polygons=function(t){return i(t).polygons()},i.links=function(t){return i(t).links()},i.triangles=function(t){return i(t).triangles()},i.x=function(e){return arguments.length?(t="function"==typeof e?e:ny(+e),i):t},i.y=function(t){return arguments.length?(e="function"==typeof t?t:ny(+t),i):e},i.extent=function(t){return arguments.length?(n=null==t?null:[[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]],i):n&&[[n[0][0],n[0][1]],[n[1][0],n[1][1]]]},i.size=function(t){return arguments.length?(n=null==t?null:[[0,0],[+t[0],+t[1]]],i):n&&[n[1][0]-n[0][0],n[1][1]-n[0][1]]},i},r.window=ft,r.xml=la,r.zip=function(){return P(arguments)},r.zoom=function(){var t,e,n=qy,i=Uy,o=Yy,a=Vy,s=Gy,l=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],u=250,f=Un,h=V("start","zoom","end"),d=500,p=150,g=0;function m(t){t.property("__zoom",$y).on("wheel.zoom",k).on("mousedown.zoom",C).on("dblclick.zoom",F).filter(s).on("touchstart.zoom",A).on("touchmove.zoom",S).on("touchend.zoom touchcancel.zoom",D).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function v(t,e){return(e=Math.max(l[0],Math.min(l[1],e)))===t.k?t:new Ly(e,t.x,t.y)}function b(t,e,n){var i=e[0]-n[0]*t.k,r=e[1]-n[1]*t.k;return i===t.x&&r===t.y?t:new Ly(t.k,i,r)}function y(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function _(t,e,n){t.on("start.zoom",function(){x(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){x(this,arguments).end()}).tween("zoom",function(){var t=arguments,r=x(this,t),o=i.apply(this,t),a=null==n?y(o):"function"==typeof n?n.apply(this,t):n,s=Math.max(o[1][0]-o[0][0],o[1][1]-o[0][1]),l=this.__zoom,c="function"==typeof e?e.apply(this,t):e,u=f(l.invert(a).concat(s/l.k),c.invert(a).concat(s/c.k));return function(t){if(1===t)t=c;else{var e=u(t),n=s/e[2];t=new Ly(n,a[0]-e[0]*n,a[1]-e[1]*n)}r.zoom(null,t)}})}function x(t,e,n){return!n&&t.__zooming||new w(t,e)}function w(t,e){this.that=t,this.args=e,this.active=0,this.extent=i.apply(t,e),this.taps=0}function k(){if(n.apply(this,arguments)){var t=x(this,arguments),e=this.__zoom,i=Math.max(l[0],Math.min(l[1],e.k*Math.pow(2,a.apply(this,arguments)))),r=Wt(this);if(t.wheel)t.mouse[0][0]===r[0]&&t.mouse[0][1]===r[1]||(t.mouse[1]=e.invert(t.mouse[0]=r)),clearTimeout(t.wheel);else{if(e.k===i)return;t.mouse=[r,e.invert(r)],Ii(this),t.start()}Wy(),t.wheel=setTimeout(function(){t.wheel=null,t.end()},p),t.zoom("mouse",o(b(v(e,i),t.mouse[0],t.mouse[1]),t.extent,c))}}function C(){if(!e&&n.apply(this,arguments)){var t=x(this,arguments,!0),i=zt(r.event.view).on("mousemove.zoom",function(){if(Wy(),!t.moved){var e=r.event.clientX-s,n=r.event.clientY-l;t.moved=e*e+n*n>g}t.zoom("mouse",o(b(t.that.__zoom,t.mouse[0]=Wt(t.that),t.mouse[1]),t.extent,c))},!0).on("mouseup.zoom",function(){i.on("mousemove.zoom mouseup.zoom",null),Gt(r.event.view,t.moved),Wy(),t.end()},!0),a=Wt(this),s=r.event.clientX,l=r.event.clientY;Vt(r.event.view),By(),t.mouse=[a,this.__zoom.invert(a)],Ii(this),t.start()}}function F(){if(n.apply(this,arguments)){var t=this.__zoom,e=Wt(this),a=t.invert(e),s=t.k*(r.event.shiftKey?.5:2),l=o(b(v(t,s),e,a),i.apply(this,arguments),c);Wy(),u>0?zt(this).transition().duration(u).call(_,l,e):zt(this).call(m.transform,l)}}function A(){if(n.apply(this,arguments)){var e,i,o,a,s=r.event.touches,l=s.length,c=x(this,arguments,r.event.changedTouches.length===l);for(By(),i=0;i<l;++i)a=[a=qt(this,s,(o=s[i]).identifier),this.__zoom.invert(a),o.identifier],c.touch0?c.touch1||c.touch0[2]===a[2]||(c.touch1=a,c.taps=0):(c.touch0=a,e=!0,c.taps=1+!!t);t&&(t=clearTimeout(t)),e&&(c.taps<2&&(t=setTimeout(function(){t=null},d)),Ii(this),c.start())}}function S(){if(this.__zooming){var e,n,i,a,s=x(this,arguments),l=r.event.changedTouches,u=l.length;for(Wy(),t&&(t=clearTimeout(t)),s.taps=0,e=0;e<u;++e)i=qt(this,l,(n=l[e]).identifier),s.touch0&&s.touch0[2]===n.identifier?s.touch0[0]=i:s.touch1&&s.touch1[2]===n.identifier&&(s.touch1[0]=i);if(n=s.that.__zoom,s.touch1){var f=s.touch0[0],h=s.touch0[1],d=s.touch1[0],p=s.touch1[1],g=(g=d[0]-f[0])*g+(g=d[1]-f[1])*g,m=(m=p[0]-h[0])*m+(m=p[1]-h[1])*m;n=v(n,Math.sqrt(g/m)),i=[(f[0]+d[0])/2,(f[1]+d[1])/2],a=[(h[0]+p[0])/2,(h[1]+p[1])/2]}else{if(!s.touch0)return;i=s.touch0[0],a=s.touch0[1]}s.zoom("touch",o(b(n,i,a),s.extent,c))}}function D(){if(this.__zooming){var t,n,i=x(this,arguments),o=r.event.changedTouches,a=o.length;for(By(),e&&clearTimeout(e),e=setTimeout(function(){e=null},d),t=0;t<a;++t)n=o[t],i.touch0&&i.touch0[2]===n.identifier?delete i.touch0:i.touch1&&i.touch1[2]===n.identifier&&delete i.touch1;if(i.touch1&&!i.touch0&&(i.touch0=i.touch1,delete i.touch1),i.touch0)i.touch0[1]=this.__zoom.invert(i.touch0[0]);else if(i.end(),2===i.taps){var s=zt(this).on("dblclick.zoom");s&&s.apply(this,arguments)}}}return m.transform=function(t,e,n){var i=t.selection?t.selection():t;i.property("__zoom",$y),t!==i?_(t,e,n):i.interrupt().each(function(){x(this,arguments).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()})},m.scaleBy=function(t,e,n){m.scaleTo(t,function(){return this.__zoom.k*("function"==typeof e?e.apply(this,arguments):e)},n)},m.scaleTo=function(t,e,n){m.transform(t,function(){var t=i.apply(this,arguments),r=this.__zoom,a=null==n?y(t):"function"==typeof n?n.apply(this,arguments):n,s=r.invert(a),l="function"==typeof e?e.apply(this,arguments):e;return o(b(v(r,l),a,s),t,c)},n)},m.translateBy=function(t,e,n){m.transform(t,function(){return o(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),i.apply(this,arguments),c)})},m.translateTo=function(t,e,n,r){m.transform(t,function(){var t=i.apply(this,arguments),a=this.__zoom,s=null==r?y(t):"function"==typeof r?r.apply(this,arguments):r;return o(jy.translate(s[0],s[1]).scale(a.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof n?-n.apply(this,arguments):-n),t,c)},r)},w.prototype={start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){Et(new function(t,e,n){this.target=t,this.type=e,this.transform=n}(m,t,this.that.__zoom),h.apply,h,[t,this.that,this.args])}},m.wheelDelta=function(t){return arguments.length?(a="function"==typeof t?t:Oy(+t),m):a},m.filter=function(t){return arguments.length?(n="function"==typeof t?t:Oy(!!t),m):n},m.touchable=function(t){return arguments.length?(s="function"==typeof t?t:Oy(!!t),m):s},m.extent=function(t){return arguments.length?(i="function"==typeof t?t:Oy([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),m):i},m.scaleExtent=function(t){return arguments.length?(l[0]=+t[0],l[1]=+t[1],m):[l[0],l[1]]},m.translateExtent=function(t){return arguments.length?(c[0][0]=+t[0][0],c[1][0]=+t[1][0],c[0][1]=+t[0][1],c[1][1]=+t[1][1],m):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},m.constrain=function(t){return arguments.length?(o=t,m):o},m.duration=function(t){return arguments.length?(u=+t,m):u},m.interpolate=function(t){return arguments.length?(f=t,m):f},m.on=function(){var t=h.on.apply(h,arguments);return t===h?m:t},m.clickDistance=function(t){return arguments.length?(g=(t=+t)*t,m):Math.sqrt(g)},m},r.zoomIdentity=jy,r.zoomTransform=Hy;r.selection.prototype.attrs=function(t){return("function"==typeof t?function(t,e){return t.each(function(){var t=e.apply(this,arguments),n=d3Selection.select(this);for(var i in t)n.attr(i,t[i])})}:function(t,e){for(var n in e)t.attr(n,e[n]);return t})(this,t)},r.selection.prototype.styles=function(t,e){return("function"==typeof t?function(t,e,n){return t.each(function(){var t=e.apply(this,arguments),i=d3Selection.select(this);for(var r in t)i.style(r,t[r],n)})}:function(t,e,n){for(var i in e)t.style(i,e[i],n);return t})(this,t,null==e?"":e)},r.selection.prototype.properties=function(t){return("function"==typeof t?function(t,e){return t.each(function(){var t=e.apply(this,arguments),n=d3Selection.select(this);for(var i in t)n.property(i,t[i])})}:function(t,e){for(var n in e)t.property(n,e[n]);return t})(this,t)},r.transition.prototype.attrs=function(t){return("function"==typeof t?function(t,e){return t.each(function(){var n=e.apply(this,arguments),i=d3Selection.select(this).transition(t);for(var r in n)i.attr(r,n[r])})}:function(t,e){for(var n in e)t.attr(n,e[n]);return t})(this,t)},r.transition.prototype.styles=function(t,e){return("function"==typeof t?function(t,e,n){return t.each(function(){var i=e.apply(this,arguments),r=d3Selection.select(this).transition(t);for(var o in i)r.style(o,i[o],n)})}:function(t,e,n){for(var i in e)t.style(i,e[i],n);return t})(this,t,null==e?"":e)},e.d3=r},function(t,e){t.exports="images/ui-icons_222222_256x240.png"},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.MLVFilterDialog=e.MLVDownloadDialog=e.MLVSortDialog=e.ContextMenu=e.FilterPanelDataView=e.MLVDataView=e.MLVTable=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(4),o=n(21),a=n(20),s=n(19);function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}t.fn.extend({dialogFix:function(){function e(t){var e=t.css("height");return e?parseInt(e.replace("px","")):0}return this.each(function(){t(this).parent().find(".ui-dialog-titlebar-close").css("font-size","0px"),t(this).on("dialogresize dialogresizestop",function(n,i){var r=t(this),o=r.parent(),a=e(o.find(".ui-dialog-titlebar")),s=e(o.find(".ui-dialog-buttonpane")),l=e(o)-a-s-10+"px";r.css({width:"auto",height:l})})})}});var f=function(){function e(n){u(this,e);var i=this;this.set_item_function=n,t("body").on("click.contextmenuhide",function(t){i._removeMenu()})}return i(e,[{key:"setItemFunction",value:function(t){this.set_item_function=t}},{key:"_removeMenu",value:function(){this.menu&&this.menu.remove&&this.menu.remove()}},{key:"_addItem",value:function(e,n,i){var r=this,o=t("<div>");e.ghosted&&o.css({color:"lightgray"}),o.data("func",e.func).text(e.text).click(function(n){e.ghosted||(t(this).data("func")(i),r._removeMenu())}).appendTo(n),e.icon&&o.append(t("<i>").attr("class",e.icon+" mlv-cm-icon"))}},{key:"show",value:function(e,n){this._removeMenu();this.menu=t("<ul>").css({position:"absolute",display:"none","z-index":1e3}).appendTo(t("body")),this.items=this.set_item_function(e);var i=!0,r=!1,o=void 0;try{for(var a,s=this.items[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value,c=t("<li>").appendTo(this.menu);if(l.subitems){c.appendTo(this.menu),t("<div>").text(l.text).appendTo(c);var u=t("<ul>").appendTo(c),f=!0,h=!1,d=void 0;try{for(var p,g=l.subitems[Symbol.iterator]();!(f=(p=g.next()).done);f=!0){var m=p.value,v=t("<li>").appendTo(u);this._addItem(m,v)}}catch(t){h=!0,d=t}finally{try{!f&&g.return&&g.return()}finally{if(h)throw d}}}else this._addItem(l,c,e)}}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}this.menu.css({top:n.clientY+"px",left:n.clientX+"px"}).menu().show(),t(".ui-menu-item-wrapper").find("span").attr("class","fa fa-caret-right").css("float","right"),n.stopImmediatePropagation()}}]),e}(),h=function(){function e(t,n,i,o){u(this,e),this._name="mlvtable_"+e.count,e.count++,this.element_id=t,this.filters=[],this.tag_color_palletes={};var s={enableCellNavigation:!0,enableColumnReorder:!0,jQueryUiStyles:!1,multiColumnSort:!0,enableAsyncPostRender:!0,enableAsyncPostRenderCleanup:!0};for(var l in o)s[l]=o[l];this.data_view=i||new d,this.parseColumns(n,s),this.grid=new r.SlickGrid("#"+t,this.data_view,n,s),this.buildColumnOrder();var c=this;this.listeners={scroll_listener:new Map,sort_listener:new Map,row_clicked_listener:new Map},this.scroll_timeout=null,this.scroll_timeout_length=200,this.data_view.onRowCountChanged.subscribe(function(t,e){c.grid.updateRowCount(),c.grid.render()}),this.data_view.onRowsChanged.subscribe(function(t,e){c.grid.invalidateRows(e.rows),c.grid.render()}),this.grid.setSelectionModel(new a.RowSelectionModel),this._setupListeners(),this.grid.setColumns(this.grid.getColumns()),this.has_column_groups&&(this.grid.init(),this.setUpGroupPanel(),this.updateGroupPanel(),this.grid.onColumnsResized.subscribe(function(t,e){c.updateGroupPanel()}),this.grid.onColumnsReordered.subscribe(function(t,e,n){c.buildColumnOrder()}),this.grid.onColumnsResized.subscribe(function(t,e){var n=this.getColumns(),i=!0,r=!1,o=void 0;try{for(var a,s=n[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;c.column_index[l.field].width=l.width}}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}}))}return i(e,[{key:"destroy",value:function(){t(window).off("resize."+this._name)}},{key:"sortTable",value:function(t){this.data_view.sortData(t);var e=[],n=!0,i=!1,r=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;e.push({sortAsc:s.sortAsc,columnId:s.sortCol.id})}}catch(t){i=!0,r=t}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}this.grid.setSortColumns(e),this.grid.invalidate(),this.grid.render();var l=this.grid.getViewport();this.listeners.sort_listener.forEach(function(t){t(l.top,l.bottom)})}},{key:"getColumnLayout",value:function(){var t=this.grid.getColumns(),e=this.column_groups,n={};for(var i in this.column_index)n[i]=this.column_index[i].width;var r=[],o=!0,a=!1,s=void 0;try{for(var l,c=t[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var u=l.value;r.push(u.field)}}catch(t){a=!0,s=t}finally{try{!o&&c.return&&c.return()}finally{if(a)throw s}}return{groups:e,order:r,widths:n}}},{key:"setColumnLayout",value:function(t){}},{key:"getSortColumns",value:function(){var t=this.grid.getSortColumns(),e=this.grid.getColumns(),n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value,c=e[this.grid.getColumnIndex(l.columnId)];c&&n.push({sortCol:{datatype:c.datatype,name:c.name,field:c.field,id:c.id},sortAsc:l.sortAsc})}}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}},{key:"loadData",value:function(e){var n=this;return new Promise(function(i,r){t.ajax({url:e,dataType:"json"}).done(function(t){n.data_view.setItems(t),n.resize(),i(t)})})}},{key:"taggingStarted",value:function(t){this.tagger=t;var e=this.grid.getColumns(),n=!0,i=!1,r=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if(s.field===t.field){s.formatter=function(e,n,i){var r=t.options[i];return r?"<div style='width:100%;background-color:"+r+"'>"+i+"</div>":i};break}}}catch(t){i=!0,r=t}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}this.grid.setColumns(e)}},{key:"tagAll",value:function(){var t=this.data_view.getFilteredItems(),e=this.tagger.selected_option;if(e){var n=this.tagger.field;"None"===e&&(e=null);var i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;e?l[n]=e:delete l[n]}}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}this.data_view.listeners.data_changed.forEach(function(t){t(n)}),this.grid.invalidate(),this.grid.render()}}},{key:"deleteTag",value:function(t){var e=this.data_view.getItems(),n=this.tagger.field,i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;l[n]===t&&delete l[n]}}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}this.grid.invalidate(),this.grid.render()}},{key:"updateTags",value:function(){this.grid.invalidate(),this.grid.render()}},{key:"taggingStopped",value:function(){var t=this.grid.getColumns(),e=!0,n=!1,i=void 0;try{for(var r,o=t[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var a=r.value;if(a.field===this.tagger.field){delete a.formatter;break}}}catch(t){n=!0,i=t}finally{try{!e&&o.return&&o.return()}finally{if(n)throw i}}this.grid.setColumns(t),this.tagger=null,delete this.last_tagged}},{key:"tagSelected",value:function(){this.setTags(this.grid.getSelectedRows())}},{key:"setTags",value:function(t){var e=this.tagger.field,n=!0,i=!1,r=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value,l=this.grid.getDataItem(s);"None"===this.tagger.selected_option?delete l[e]:l[e]=this.tagger.selected_option}}catch(t){i=!0,r=t}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}this.grid.invalidateRows(t),this.grid.render(),this.data_view.listeners.data_changed.forEach(function(t){t(e)})}},{key:"addListener",value:function(t,e,n){var i=this.listeners[t];return i?(n||(n=Math.round(1e5*Math.random())+""),i.set(n,e),n):null}},{key:"removeListener",value:function(t,e){var n=this.listeners[t];return!!n&&n.delete(e)}},{key:"parseColumns",value:function(t,e){var n=this;this.column_index={},this.column_groups={};var i=!0,r=!1,o=void 0;try{for(var a,l=t[Symbol.iterator]();!(i=(a=l.next()).done);i=!0){var c=a.value;if(this.column_index[c.field]=c,c.columnGroup){var u=this.column_groups[c.columnGroup];u||(u={columns:[]},this.column_groups[c.columnGroup]=u),this.has_column_groups=!0,c.master_group_column?(u.master_column=c.field,u.expanded=!1):u.columns.push(c.field)}c.filterable&&(this.data_view.addFilter(c),e.no_hide_filter&&(c.formatter=function(t,e,i,r,o){var a={text:i,removeClasses:"slick-grid-danger slick-grid-success"};return n.data_view.isFilterActive(r.field)?(o._filters[r.field]?a.addClasses="slick-grid-danger":a.addClasses="slick-grid-success",a):a})),c.editable&&(e.editable=!0,"integer"===c.datatype?c.editor=s.Editors.Integer:"double"===c.datatype?c.editor=s.Editors.Float:"date"===c.datatype?c.editor=s.Editors.Date:"boolean"===c.dataype?c.editor=s.Editors.CheckBox:c.editor=s.Editors.Text)}}catch(t){r=!0,o=t}finally{try{!i&&l.return&&l.return()}finally{if(r)throw o}}if(e.no_hide_filter){var f={id:"_is_filtered",name:"Selected",field:"_is_filtered",datatype:"boolean",sortable:!0,editor:s.Editors.InverseCheckbox,formatter:function(t,e,n,i,r){return n?"<i style ='color:red' class='fas fa-times'></i>":"<i  style ='color:green' class='fas fa-check'></i>"},write_formatter:function(t){return!t}};t.unshift(f),e.editable=!0}e.has_column_groups&&(this.has_column_groups=!0,delete e.has_column_groups),this.has_column_groups&&(e.createPreHeaderPanel=!0,e.showPreHeaderPanel=!0,e.preHeaderPanelHeight=23)}},{key:"setColumnLayout",value:function(t){for(var e in t.widths)this.column_index[e]&&(this.column_index[e].width=t.widths[e]);this.column_groups=t.groups;this.grid.getColumns();var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t.order[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;n.push(this.column_index[l])}}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}this.grid.setColumns(n),this.buildColumnOrder()}},{key:"buildColumnOrder",value:function(t,e){if(this.has_column_groups){var n=this.grid.getColumns();if(!t&&!e){var i=[];for(var r in this.column_groups)i[r]=[];var o=!0,a=!1,s=void 0;try{for(var l,c=n[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var u=l.value;u.columnGroup&&!u.master_group_column&&i[u.columnGroup].push(u.field)}}catch(t){a=!0,s=t}finally{try{!o&&c.return&&c.return()}finally{if(a)throw s}}for(var f in i)i[f].length>0&&(this.column_groups[f].columns=i[f])}var h={},d=[],p=!0,g=!1,m=void 0;try{for(var v,b=n[Symbol.iterator]();!(p=(v=b.next()).done);p=!0){var y=v.value,_=y.columnGroup;if(_){if(h[_])continue;var x=this.column_groups[_];if(!x)continue;if(x.master_column&&d.push(this.column_index[x.master_column]),x.expanded||!x.master_column){var w=!0,k=!1,C=void 0;try{for(var F,A=x.columns[Symbol.iterator]();!(w=(F=A.next()).done);w=!0){var S=F.value;d.push(this.column_index[S])}}catch(t){k=!0,C=t}finally{try{!w&&A.return&&A.return()}finally{if(k)throw C}}}h[_]=!0}else{if(e&&-1!==e.indexOf(y.field))continue;d.push(y)}}}catch(t){g=!0,m=t}finally{try{!p&&b.return&&b.return()}finally{if(g)throw m}}for(var D in this.column_groups)if(!h[D]){var M=this.column_groups[D];if(M.master_column&&d.push(this.column_index[M.master_column]),M.expanded||!M.master_column){var T=!0,E=!1,P=void 0;try{for(var I,R=M.columns[Symbol.iterator]();!(T=(I=R.next()).done);T=!0){var N=I.value;d.push(this.column_index[N])}}catch(t){E=!0,P=t}finally{try{!T&&R.return&&R.return()}finally{if(E)throw P}}}}if(t){var z=!0,O=!1,L=void 0;try{for(var j,H=t[Symbol.iterator]();!(z=(j=H.next()).done);z=!0){var B=j.value;d.push(B)}}catch(t){O=!0,L=t}finally{try{!z&&H.return&&H.return()}finally{if(O)throw L}}}this.grid.setColumns(d),this.updateGroupPanel(),this._updateFilterIcons()}}},{key:"expandCollapseGroup",value:function(t){var e=this.column_groups[t];e.expanded=!e.expanded,this.buildColumnOrder()}},{key:"removeColumns",value:function(t){var e=[],n=!0,i=!1,r=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value,l=this.column_index[s];if(l)if(l.columnGroup){var c=this.column_groups[l.columnGroup];l.master_group_column?c.master_column="__replace":c.columns.splice(c.columns.indexOf(s),1)}else e.append(s)}}catch(t){i=!0,r=t}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}var u=[];for(var f in this.column_groups){var h=this.column_groups[f];"__replace"===h.master_column?0===h.columns.length?u.push(f):(h.master_column=h.columns[0],this.column_index[h.columns[0]].master_group_column=!0,h.columns.splice(0,1)):0!==h.columns.length||h.master_column||u.push(f)}var d=!0,p=!1,g=void 0;try{for(var m,v=u[Symbol.iterator]();!(d=(m=v.next()).done);d=!0){var b=m.value;delete this.column_groups[b]}}catch(t){p=!0,g=t}finally{try{!d&&v.return&&v.return()}finally{if(p)throw g}}var y=!1,_=[],x=!0,w=!1,k=void 0;try{for(var C,F=this.data_view.filters[Symbol.iterator]();!(x=(C=F.next()).done);x=!0){var A=C.value;t.indexOf(A.field)?A.active&&(y=!0):_.push(A)}}catch(t){w=!0,k=t}finally{try{!x&&F.return&&F.return()}finally{if(w)throw k}}this.data_view.filters=_;var S=!0,D=!1,M=void 0;try{for(var T,E=t[Symbol.iterator]();!(S=(T=E.next()).done);S=!0){var P=T.value;delete this.column_index[P]}}catch(t){D=!0,M=t}finally{try{!S&&E.return&&E.return()}finally{if(D)throw M}}this.buildColumnOrder(null,e),y&&(this.data_view.filterData(),this.grid.invalidate())}},{key:"addColumns",value:function(t,e){var n={},i=[],r=!0,o=!1,a=void 0;try{for(var s,l=t[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var c=s.value;if(!this.column_index[c.field]){if(c.id||(c.id=c.field),c.filterable&&this.data_view.addFilter(c),c.columnGroup){var u=this.column_groups[c.columnGroup];n[c.columnGroup]=!0,u||(u={columns:[],expanded:!e},this.column_groups[c.columnGroup]=u),c.master_group_column?u.master_column=c.field:u.columns.push(c.field)}else i.push(c);this.column_index[c.field]=c}}}catch(t){o=!0,a=t}finally{try{!r&&l.return&&l.return()}finally{if(o)throw a}}this.buildColumnOrder(i)}},{key:"updateGroupPanel",value:function(){for(var e=t(this.grid.getPreHeaderPanel()).width(this.grid.getHeadersWidth()).empty(),n=this,i=this.grid.getHeaderColumnWidthDiff(),r=void 0,o=void 0,a="",s=0,l=this.grid.getColumns(),c=0,u=0;u<l.length;u++){if(c++,a===(r=l[u]).columnGroup&&u>0)s+=r.width,o.width(s-i);else{a&&1!==c&&c<=this.column_groups[a].columns.length&&console.log("column in wrong place"),s=r.width,o=t("<div class='ui-state-default slick-header-column' />").html("<span class='slick-column-name'>"+(r.columnGroup||"")+"</span>").width(r.width-i).appendTo(e);var f=this.column_groups[r.columnGroup];if(f&&f.master_column){var h="<i class='fas fa-plus-circle'></i>";f.expanded&&(h="<i class='fas fa-minus-circle'></i>");var d=t(h).data("group",r.columnGroup).click(function(e){n.expandCollapseGroup(t(this).data("group"))});o.prepend(d),c=0}}a=r.columnGroup}}},{key:"setUpGroupPanel",value:function(e){t(this.grid.getPreHeaderPanel()).addClass("slick-header-columns").css({left:"-1000px"}).parent().addClass("slick-header-columns")}},{key:"setValue",value:function(t,e,n){var i=this.data_view.getItemById(t);i[e]=n,this.data_view.updateItem(t,i)}},{key:"addColumn",value:function(t,e){var n=this.grid.getColumns(),i={id:"column"+(n.length+1),name:e,field:t,sortable:!0};n.push(i),this.grid.setColumns(n)}},{key:"getDataItem",value:function(t){return this.grid.getDataItem(t)}},{key:"goToRow",value:function(t){this.grid.scrollRowIntoView(t)}},{key:"getAllColumnFields",value:function(){var t=[],e=!0,n=!1,i=void 0;try{for(var r,o=this.grid.getColumns()[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var a=r.value;t.push(a.field)}}catch(t){n=!0,i=t}finally{try{!e&&o.return&&o.return()}finally{if(n)throw i}}return t}},{key:"getRowById",value:function(t){return this.grid.data_view.getRowById(t)}},{key:"setDataItem",value:function(t,e,n){var i=this.grid.getDataItem(t);i[e]=n,this.data_view.updateItem(i.id,i)}},{key:"getTopVisibleRow",value:function(){return this.grid.getViewport().top}},{key:"getTopVisibleItem",value:function(){return this.grid.getDataItem(this.getTopVisibleRow())}},{key:"getColumnDictionary",value:function(){var t={},e=!0,n=!1,i=void 0;try{for(var r,o=this.grid.getColumns()[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var a=r.value;t[a.field]=a.name}}catch(t){n=!0,i=t}finally{try{!e&&o.return&&o.return()}finally{if(n)throw i}}return t}},{key:"getRowNumber",value:function(){return this.grid.getDataLength()}},{key:"getSelectedRows",value:function(){return this.grid.getSelectedRows()}},{key:"getSelectedItems",value:function(){var t=this.grid.getSelectedRows(),e=[],n=!0,i=!1,r=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;e.push(this.data_view.getItem(s))}}catch(t){i=!0,r=t}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}return e}},{key:"setSelectedRows",value:function(t){return this.grid.setSelectedRows(t)}},{key:"scrollRowIntoView",value:function(t){this.grid.scrollRowIntoView(t)}},{key:"showFilterDialog",value:function(t){var e=this;new v(this.data_view,t,function(){e.grid.getOptions().no_hide_filter&&e.grid.invalidate(),e._updateFilterIcons()},this.grid.getOptions().no_hide_filter)}},{key:"showDownloadDialog",value:function(t){new g(this.data_view,t)}},{key:"showSortDialog",value:function(){var t=[],e=this,n=!0,i=!1,r=void 0;try{for(var o,a=this.grid.getColumns()[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;s.sortable&&t.push(s)}}catch(t){i=!0,r=t}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}new m(t,this.getSortColumns(),function(t){e.sortTable(t)})}},{key:"searchForValue",value:function(t){var e=this.data_view.searchData(t,this.getAllColumnFields());return-1!==e&&(this.grid.scrollRowIntoView(e),this.grid.setSelectedRows([e])),e}},{key:"resetAllFilters",value:function(){this.data_view.resetAllFilters(),this._updateFilterIcons(),t(".mlv-filter-dialog").dialog("close")}},{key:"_updateFilterIcons",value:function(){var e=!0,n=!1,i=void 0;try{for(var r,o=this.data_view.filters[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var a=r.value,s=t("#grid-filter-icon-"+a.field);a.active?(s.addClass("grid-filter-icon-on"),s.removeClass("grid-filter-icon-off")):(s.addClass("grid-filter-icon-off"),s.removeClass("grid-filter-icon-on"))}}catch(t){n=!0,i=t}finally{try{!e&&o.return&&o.return()}finally{if(n)throw i}}}},{key:"_setupListeners",value:function(){var e=this;this.grid.onSort.subscribe(function(t,n){var i=n.sortCols;e.sortTable(i)}),this.grid.onScroll.subscribe(function(t,n){clearTimeout(e.scroll_timeout),e.scroll_timeout=setTimeout(function(){var t=e.grid.getViewport();e.listeners.scroll_listener.forEach(function(e){e(t.top,t.bottom)})},e.scroll_timeout_length)}),this.grid.onClick.subscribe(function(t,n){e.grid.tagging_field_clicked=e.tagger&&e.grid.getColumns()[n.cell].field==e.tagger.field;var i=n.grid.getDataItem(n.row),r=n.grid.getColumns()[n.cell];e.listeners.row_clicked_listener.forEach(function(e){e(i,r,t)})}),this.grid.onSelectedRowsChanged.subscribe(function(t,n){e.tagger&&e.tagger.selected_option&&e.grid.tagging_field_clicked&&e.setTags(n.rows)}),this.grid.onHeaderCellRendered.subscribe(function(n,i){var r=i.column;if(r.filterable){var o=t("<i>").attr({id:"grid-filter-icon-"+r.field,class:"fa fa-filter grid-filter-icon grid-filter-icon-off"}).on("click",function(n){n.stopPropagation();var i=t(this).attr("id").split("-")[3];e.showFilterDialog(i)});t(i.node).prepend(o)}}),t(window).on("resize."+this._name,function(){setTimeout(function(){e.grid.resizeCanvas()},500)})}},{key:"resize",value:function(){this.grid.resizeCanvas()}},{key:"_refreshFilterIcons",value:function(){t(".grid-filter-icon").off().on}}]),e}();h.count=0;var d=function(e){function n(t){u(this,n);var e=l(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return e.search_position=0,e._setupSorting(),e.listeners={data_filtered:new Map,data_changed:new Map},e.custom_filters={},e.filtered_ids={},t&&e.setItems(t),e}return c(n,o.DataView),i(n,[{key:"addListener",value:function(t,e,n){var i=this.listeners[t];return i?(n||(n=t+"_"+i.size),i.set(n,e),n):null}},{key:"removeListener",value:function(t,e){var n=this.listeners[t];return!!n&&n.delete(e)}},{key:"searchData",value:function(t,e){var n=this.search_position;t=t.toUpperCase();var i=this.getLength(),r=-1;do{var o=this.getItem(n),a=!0,s=!1,l=void 0;try{for(var c,u=e[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var f=o[c.value]+"";if(f&&f.toUpperCase().includes(t)){!0,r=n,this.search_position=n+1;break}}}catch(t){s=!0,l=t}finally{try{!a&&u.return&&u.return()}finally{if(s)throw l}}++n===i&&(n=0)}while(n!==this.search_position);return r}},{key:"addCustomFilter",value:function(t,e){this.custom_filters[t]=e}},{key:"removeCustomFilter",value:function(t){delete this.custom_filters[t]}},{key:"filterDataNoHide",value:function(){var t=this.getItems(),e=0,n=!0,i=!1,r=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;s._filters={},s._is_filtered=!1;var l=!0,c=!1,u=void 0;try{for(var f,h=this.filters[Symbol.iterator]();!(l=(f=h.next()).done);l=!0){var d=f.value;if(d.active){var p=d.operand;"text"==d.datatype?"="==p?s[d.field].toUpperCase()!==d.value.toUpperCase()&&(s._filters[d.field]=!0,s._is_filtered=!0):"!="==p?s[d.field].toUpperCase()===d.value.toUpperCase()&&(s._filters[d.field]=!0,s._is_filtered=!0):"contains"===p?s[d.field].toUpperCase().includes(d.value.toUpperCase())||(s._filters[d.field]=!0,s._is_filtered=!0):"not_contains"===p&&s[d.field].toUpperCase().includes(d.value.toUpperCase())&&(s._filters[d.field]=!0,s._is_filtered=!0):"="==p?s[d.field]!==d.value&&(s._filters[d.field]=!0,s._is_filtered=!0):"!="==p?s[d.field]===d.value&&(s._filters[d.field]=!0,s._is_filtered=!0):">"==p?s[d.field]<d.value&&(s._filters[d.field]=!0,s._is_filtered=!0):"<"==p?s[d.field]>d.value&&(s._filters[d.field]=!0,s._is_filtered=!0):"between"==p&&(s[d.field]>=d.value[0]&&s[d.field]<=d.value[1]||(s._filters[d.field]=!0,s._is_filtered=!0))}}}catch(t){c=!0,u=t}finally{try{!l&&h.return&&h.return()}finally{if(c)throw u}}s._is_filtered&&e++}}catch(t){i=!0,r=t}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}this.listeners.data_filtered.forEach(function(t){t(e)})}},{key:"clearAllFilters",value:function(){var t=!0,e=!1,n=void 0;try{for(var i,r=this.filters[Symbol.iterator]();!(t=(i=r.next()).done);t=!0){i.value.active=!1}}catch(t){e=!0,n=t}finally{try{!t&&r.return&&r.return()}finally{if(e)throw n}}this.custom_filters={}}},{key:"resetAllFilters",value:function(){var t=!0,e=!1,n=void 0;try{for(var i,r=this.filters[Symbol.iterator]();!(t=(i=r.next()).done);t=!0){var o=i.value;o.active=!1,"text"!==o.datatype?o.info={max:Number.MIN_SAFE_INTEGER,min:Number.MAX_SAFE_INTEGER}:o.datatype={values:{}}}}catch(t){e=!0,n=t}finally{try{!t&&r.return&&r.return()}finally{if(e)throw n}}this.custom_filters={}}},{key:"getFilters",value:function(){var t=[],e=!0,n=!1,i=void 0;try{for(var r,o=this.filters[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var a=r.value;a.active||contine,t.push({field:a.field,operand:a.operand,value:a.value})}}catch(t){n=!0,i=t}finally{try{!e&&o.return&&o.return()}finally{if(n)throw i}}return t}},{key:"_isItemFiltered",value:function(t){var e=!0,n=!1,i=void 0;try{for(var r,o=this.filters[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var a=r.value;if(a.active){var s=a.operand;if("text"==a.datatype){if("="==s){if(t[a.field].toUpperCase()!==a.value.toUpperCase())return!1}else if("!="==s){if(t[a.field].toUpperCase()===a.value.toUpperCase())return!1}else if("contains"===s){if(!t[a.field].toUpperCase().includes(a.value.toUpperCase()))return!1}else if("not_contains"===s&&t[a.field].toUpperCase().includes(a.value.toUpperCase()))return!1}else if("="==s){if(t[a.field]!==a.value)return!1}else if("!="==s){if(t[a.field]===a.value)return!1}else if(">"==s){if(t[a.field]<a.value)return!1}else if("<"==s){if(t[a.field]>a.value)return!1}else if("between"==s&&!(t[a.field]>=a.value[0]&&t[a.field]<=a.value[1]))return!1}}}catch(t){n=!0,i=t}finally{try{!e&&o.return&&o.return()}finally{if(n)throw i}}return!0}},{key:"filterData",value:function(){var t=this;this.search_position=0;var e=this;this.setFilter(function(e){for(var n in t.custom_filters)if(!t.custom_filters[n](e))return!1;return t._isItemFiltered(e)}),this.listeners.data_filtered.forEach(function(t){t(e.getFilteredItems().length)})}},{key:"_setupSorting",value:function(){this.sort_functions={text:function(t,e){return t=t||"",e=e||"",(t=t.toUpperCase())===(e=e.toUpperCase())?0:t>e?1:-1},integer:function(t,e){return t=parseFloat(t),e=parseFloat(e),isNaN(t)&&(t=Number.MIN_SAFE_INTEGER),isNaN(e)&&(e=Number.MIN_SAFE_INTEGER),t===e?0:t>e?1:-1},date:function(t,e){var n=new Date(t),i=new Date(e);return 0===n.getTime()-i.getTime()?0:n>i?1:-1},boolean:function(t,e){return t?e?0:1:e?-1:0}},this.sort_functions.double=this.sort_functions.integer}},{key:"downloadData",value:function(e,n){n||(n={});var i=n.name?n.name:"data.tsv",r=n.delimiter?n.delimiter:"\t",o=[],a=[],s=!0,l=!1,c=void 0;try{for(var u,f=e[Symbol.iterator]();!(s=(u=f.next()).done);s=!0){var h=u.value;a.push(h.name)}}catch(t){l=!0,c=t}finally{try{!s&&f.return&&f.return()}finally{if(l)throw c}}o.push(a.join(r));for(var d=0;d<this.getLength();d++){var p=this.getItem(d);a=[];var g=!0,m=!1,v=void 0;try{for(var b,y=e[Symbol.iterator]();!(g=(b=y.next()).done);g=!0){var _=b.value,x=p[_.field];void 0===x&&(x=""),_.write_formatter&&(x=_.write_formatter(x)),a.push(x)}}catch(t){m=!0,v=t}finally{try{!g&&y.return&&y.return()}finally{if(m)throw v}}o.push(a.join(r))}var w=new Blob([o.join("\n")],{type:"text/plain"}),k=t("<a download></a>").appendTo("body"),C=window.URL.createObjectURL(w);k.attr("download",i),k.attr("target","_blank"),k.attr("href",C),k[0].click(),k.remove()}},{key:"sortData",value:function(t){var e=this;this.sort(function(n,i){for(var r=0,o=t.length;r<o;r++){var a=t[r].sortCol.field,s=t[r].sortAsc?1:-1,l=e.sort_functions[t[r].sortCol.datatype];l||(l=e.sort_functions.text);var c=l(n[a],i[a])*s;if(0!==c)return c}return 0})}},{key:"getMinMax",value:function(t){var e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER,i=!0,r=!1,o=void 0;try{for(var a,s=this.getItems()[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;isNaN(l[t])||(l[t]>e&&(e=l[t]),l[t]<n&&(n=l[t]))}}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return[n,e]}},{key:"groupAndOrder",value:function(t,e){var n={},i=!0,r=!1,o=void 0;try{for(var a,s=this.getItems()[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;n[l[t]]?n[l[t]]++:n[l[t]]=1}}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}var c=[];for(var u in n)c.push({value:u,count:n[u]});c.sort(function(t,e){return e.count-t.count});var f=[],h=c.length;e&&e<c.length&&(h=e);for(var d=0;d<h;d++)f.push(c[d].value);return f}}]),n}(),p=function(t){function e(t){u(this,e);var n=l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this)),i=t.ndx.getOriginalData(),r=[],o=!0,a=!1,s=void 0;try{for(var c,f=i[Symbol.iterator]();!(o=(c=f.next()).done);o=!0){var h=c.value;r.push(h)}}catch(t){a=!0,s=t}finally{try{!o&&f.return&&f.return()}finally{if(a)throw s}}n.setItems(r),n.filter_panel=t;var d=n;return n.filter_dimensions={},n.filter_listener=n.filter_panel.addListener(function(t){d._filterByID(t)}),n.data_listener=n.addListener("data_changed",function(t){d.filter_panel.dataChanged(t)}),n}return c(e,d),i(e,[{key:"_filterByID",value:function(t){var e=this;this.setFilter(function(e){return!!t[e.id]}),this.listeners.data_filtered.forEach(function(t){t(e.getFilteredItems().length)})}},{key:"filterData",value:function(){this.dim||(this.dim=this.filter_panel.ndx.dimension(function(t){return t.id}));var t={},e=this.getItems(),n=!0,i=!1,r=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;this._isItemFiltered(s)&&(t[s.id]=!0)}}catch(t){i=!0,r=t}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}this.dim.filter(function(e){return t[e]}),this.filter_panel.updateDCCharts(),this.filter_panel._chartFiltered(this.dim.getIds())}},{key:"dataChanged",value:function(t){}},{key:"getDataUnfilter",value:function(t){var e=this.getItems(),n=null,i=!0,r=!1,o=void 0;try{for(var a,s=this.filters[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;if(t==t){n=l;break}}}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}if(!n||!n.active)return e;n.active=!1;var c=[],u=!0,f=!1,h=void 0;try{for(var d,p=e[Symbol.iterator]();!(u=(d=p.next()).done);u=!0){var g=d.value;this._isItemFiltered(g)&&c.push(g)}}catch(t){f=!0,h=t}finally{try{!u&&p.return&&p.return()}finally{if(f)throw h}}return n.active=!0,c}},{key:"_getFilterFunction",value:function(t){return"text"===t.datatype?this._getTextFilterFunction(t.operand,t.value):"boolean"===t.datatype?this._getBooleanFilterFunction(t.operand,t.value):this._getNumberFilterFunction(t.operand,t.value)}},{key:"_getDimension",value:function(t){return this.filter_panel.ndx.dimension(function(e){return e[t]})}},{key:"_getTextFilterFunction",value:function(t,e){return function(n){if(null===n)return!1;if("="==t){if(n.toUpperCase()!==e.toUpperCase())return!1}else if("!="==t){if(n.toUpperCase()!==e.toUpperCase())return!1}else if("contains"===t){if(!n.toUpperCase().includes(e.toUpperCase()))return!1}else if("not_contains"===t&&n.toUpperCase().includes(e.toUpperCase()))return!1;return!0}}},{key:"_getBooleanFilterFunction",value:function(t,e){return function(t){return t===e}}},{key:"_getNumberFilterFunction",value:function(t,e){return function(n){if("between"==t){if(!(n>=e[0]&&n<=e[1]))return!1}else if("="==t){if(n!==e)return!1}else if("!="==t){if(n===e)return!1}else if(">"==t){if(n<e)return!1}else if("<"==t&&n>e)return!1;return!0}}}]),e}(),g=function(){function e(n,i){var r=this;u(this,e);var o=this;this.div=t("<div>").attr("class","mlv-save-dialog"),this.data_view=n,this.headers=i,this.div.append(t("<label>").text("Name:")),this.name=t("<input>").val("data.tsv").appendTo(this.div),this.div.append(name),this.div.append(t("<label>").text("Format:"));var a=t("<div>");a.append(t("<input>").attr({type:"radio",value:"tsv",checked:!0,name:"mlv-file-type"})),a.append("<span>tsv</span>"),a.append(t("<input>").attr({type:"radio",value:"csv",name:"mlv-file-type"})),a.append("<span>csv</span>"),this.div.append(a);var s=[{text:"Download",click:function(){o.download()}},{text:"Cancel",click:function(){r.div.dialog("close")}}];this.div.dialog({autoOpen:!0,buttons:s,title:"Download Data",width:250,close:function(){r.div.dialog("destroy").remove()}}).dialogFix(),t("input[name='mlv-file-type']").click(function(e){var n=o.name.val(),i=n.lastIndexOf("."),r=n.substring(0,i)+"."+t(this).val();o.name.val(r)})}return i(e,[{key:"download",value:function(){var e={delimiter:{tsv:"\t",csv:","}[t("input[name='mlv-file-type']").val()],name:this.name.val()};this.data_view.downloadData(this.headers,e)}}]),e}(),m=function(){function e(n,i,r){var o=this;u(this,e),this.div=t("<div>").attr("class","mlv-sort-dialog"),this.all_columns=n,this.sort_columns=i,this.field_to_col={};var a=!0,s=!1,l=void 0;try{for(var c,f=this.all_columns[Symbol.iterator]();!(a=(c=f.next()).done);a=!0){var h=c.value;this.field_to_col[h.field]=h}}catch(t){s=!0,l=t}finally{try{!a&&f.return&&f.return()}finally{if(s)throw l}}this.callback=r;var d=[{text:"Sort",click:function(){var t=o._sort();o.callback&&o.callback(t)}},{text:"Close",click:function(){o.div.dialog("close")}}];this.div.dialog({autoOpen:!0,buttons:d,title:"Sort",width:300,close:function(){o.div.dialog("destroy").remove()}}).dialogFix(),this._init()}return i(e,[{key:"_init",value:function(){var e=this;this.div.append(t("<label>").text("Columns:")),this.list=t("<div>").css({padding:"4px",margin:"4px"}).appendTo(this.div),this.list.sortable(),this.column_select=t("<select>").appendTo(this.div);var n=!0,i=!1,r=void 0;try{for(var o,a=this.all_columns[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;this.column_select.append(t("<option>",{value:s.field,text:s.name}))}}catch(t){i=!0,r=t}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}var l=!0,c=!1,u=void 0;try{for(var f,h=this.sort_columns[Symbol.iterator]();!(l=(f=h.next()).done);l=!0){var d=f.value;this._addSortRecord(d)}}catch(t){c=!0,u=t}finally{try{!l&&h.return&&h.return()}finally{if(c)throw u}}t("<i>").attr("class","fas fa-plus").click(function(t){var n=e.column_select.val(),i=e.field_to_col[n];e._addSortRecord({sortCol:i,sortAsc:!0}),e.div.css("height","100%")}).appendTo(this.div)}},{key:"_sort",value:function(){var e=[],n=this;return this.list.children().each(function(i){var r=t(this).data("field"),o=n.field_to_col[r],a=t(this).data("order");e.push({sortAsc:"ASC"===a,sortCol:o})}),e}},{key:"_addSortRecord",value:function(e){var n=e.sortCol,i=t("<div>").css({"margin-top":"6px","margin-bottom":"6spx"}).data("field",n.field),r=t("<span>").text(n.name),o=t("<i class='fas fa-arrows-alt-v'></i>"),a=this,s=t("<select>").append("<option>DESC</option><option>ASC</option>").css({float:"right"}).on("change",function(e){t(this).parent().data("order",t(this).val())});e.sortAsc?(s.val("ASC"),i.data("order","ASC")):i.data("order","DESC");t("<i class='fas fa-trash-alt'></i>").click(function(e){var n=t(this).parent(),i=n.data("field"),r=a.field_to_col[i];a.column_select.append(t("<option>",{value:i,text:r.name})),n.remove(),a.div.css("height","100%")}).css({float:"right"}).appendTo(i);i.append(o).append(r).append(s).appendTo(this.list),this.column_select.children().each(function(){var n=t(this);n.val()===e.sortCol.field&&n.remove()})}}]),e}(),v=function(){function e(n,i,r,o){var a=this;u(this,e),this.data_view=n,this.only_field=i,this.callback=r,this.no_hide=o;var s={">":"greater than","<":"less than","=":"equals","!=":"not equal","<>":"between"};this.operand_dict={double:s,integer:s,"double precision":s,text:{"=":"equals",contains:"contains","!=":"does not equal",not_contains:"not contains"}};var l=i?120:500;this.div=t("<div>").attr("class","mlv-filter-dialog");var c=[{text:i?"Clear":"Clear All",click:function(){a.only_field?(a.list1.find("li").data("filter").off=!0,a._filter(),a.div.dialog("close")):(a.div.find("input[type=checkbox]").prop("checked",!1),a._filter())}},{text:"OK",click:function(){a.div.dialog("close")}}],f=i?300:550;this.div.dialog({autoOpen:!0,buttons:c,title:"Filter",width:f,height:l,position:{my:"center",at:"top"},close:function(){a.div.dialog("destroy").remove()}}).dialogFix(),this._addFilters(this.data_view.filters);var h=80*Math.max(this.list1.children().length,this.list2.children().length);h=h>500?500:h,this.div.height(h),this.div.resizeDialog(),i&&(this.div.find("label")[0].style.setProperty("margin-left","0px","important"),this.div.find("select").css({float:"none","margin-left":"5px"}))}return i(e,[{key:"_addFilters",value:function(e){var n=this;this.only_field?this.list1=this.list2=t("<ul>").css({width:"100%"}).appendTo(this.div):(this.list1=t("<ul>").css({float:"left",width:"45%"}).appendTo(this.div),this.list2=t("<ul>").css({float:"right",width:"55%"}).appendTo(this.div));var i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;if(!this.only_field||l.field==this.only_field){var c=t("<li>").data({filter:l}).css({margin:"10px 0px",position:"relative"});if("text"!==l.datatype)c.appendTo(this.list2),this._addNumberFilter(c,l);else{c.appendTo(this.list1);var u=t("<label>").text(l.label),f=t("<select>"),h=this.operand_dict[l.datatype];for(var d in h)f.append(t("<option>",{value:d,text:h[d]}));f.val(l.operand);var p=t("<input type='text'>").val(l.value),g=t("<div>");this.only_field||t("<input type='checkbox'>").prop("checked",l.active).appendTo(g).click(function(t){n._filter()}),g.append(u).append(f).appendTo(c),g=t("<div>").append(p).appendTo(c);var m=this.data_view.groupAndOrder(l.field);p.autocomplete({source:m,minLength:3,select:function(e,i){t(this).parent().find("input[type=checkbox]").prop("checked",!0),t(this).val(i.item.value),n._filter()}}),p.on("blur keypress",function(e){"keypress"===e.type&&13!==e.which||(t(this).parent().find("input[type=checkbox]").prop("checked",!0),n._filter())})}}}}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}this.only_field||(this.list1.sortable(),this.list2.sortable())}},{key:"_addNumberFilter",value:function(e,n){var i=this.data_view.getMinMax(n.field),r=i[0],o=i[1],a=o-r,s=this,l=a<5?o:Math.ceil(o),c=a<5?r:Math.floor(r),u=n.value;u?">"===n.operand?u=[n.value,o]:"<"===n.operand?u=[r,n,value]:"="===n.operand&&(u=[n.value,n.value]):u=[r,o];var f=t("<div>").attr("class","mlv-filter-slider").slider({range:!0,min:c,max:l,values:[u[0],u[1]],slide:function(e,n){var i=t(this).data("min");i<r&&(i=r),i.val(n.values[0]);var a=t(this).data("max");a<o&&(a=o),a.val(n.values[1])},stop:function(e,n){t(this).parent().find("input[type=checkbox]").prop("checked",!0),s._filter()}});a<5&&f.slider("option","step",(o-r)/50);var h=t("<input>").attr("type","text").on("blur keypress",function(e){var n=t(this);if("keypress"!==e.type||13===e.which){var i=n.val();(i=parseFloat(i))<r&&(i=r,n.val(i));var o=f.slider("option","values");f.slider("option","values",[i,o[1]]),s._filter()}}).width(60).val(u[0]),d=t("<input type='text'>").on("blur keypress",function(e){var n=t(this);if("keypress"!==e.type||13===e.which){var i=n.val();(i=parseFloat(i))>o&&(i=o,n.val(i));var r=f.slider("option","values");f.slider("option","values",[r[0],i]),s._filter()}}).width(60).val(u[1]),p=t("<label>").text(n.label),g=t("<div>").css("position","relative").append(p);if(t("<span>").append(h).append("<span style='font-weight:bold'>=&gt;&lt;=</span>").append(d).appendTo(g),e.append(g),!this.only_field){var m=t("<input type='checkbox'>").prop("checked",n.active).click(function(t){s._filter()});g.prepend(m)}e.append(f),f.data({min:h,max:d})}},{key:"_filter",value:function(){var e=this,n=[this.list1,this.list2];this.only_field&&(n=[this.list1]);var i=!0,r=!1,o=void 0;try{for(var a,s=n[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){a.value.children().each(function(n){var i=t(this),r=i.data("filter");if("text"==r.datatype){var o=i.find("input[type=text]").val();r.value=o;var a=i.find("select").val();r.operand=a}else{var s=i.find(".mlv-filter-slider").slider("option","values");r.value=[s[0],s[1]],r.operand="between",r.active=!0}e.only_field?r.off?(r.active=!1,delete r.off):r.active=!0:r.active=i.find("input[type=checkbox]").prop("checked")})}}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}this.no_hide?this.data_view.filterDataNoHide():this.data_view.filterData(),this.callback&&this.callback()}}]),e}();e.MLVTable=h,e.MLVDataView=d,e.FilterPanelDataView=p,e.ContextMenu=f,e.MLVSortDialog=m,e.MLVDownloadDialog=g,e.MLVFilterDialog=v}).call(this,n(0))},function(t,e,n){"use strict";var i,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(t){"object"===("undefined"==typeof window?"undefined":r(window))&&(i=window)}t.exports=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.crossfilter=void 0;var i=n(28),r=n(27),o=-1;function a(){var t,e={add:g,remove:function(e){for(var i=s(a,a),r=[],l="function"==typeof e,c=function(i){return l?e(n[i],i):t.zero(i)},f=0,d=0;f<a;++f)c(f)?(r.push(f),i[f]=o):i[f]=d++;u.forEach(function(t){t(-1,-1,[],r,!0)}),h.forEach(function(t){t(i)});for(var p=0,g=0;p<a;++p)i[p]!==o&&(p!==g&&(t.copy(g,p),n[g]=n[p]),++g);n.length=a=g,t.truncate(g),v("dataRemoved")},dimension:function(e,d){if("string"==typeof e){var p=e;e=function(t){return(0,r.result)(t,p)}}var g,m,b,y,_,x,w,k,C,F,A,S,D,M,T,E,P={filter:function(t){return null==t?Y():Array.isArray(t)?G(t):"function"==typeof t?X(t):V(t)},filterExact:V,filterRange:G,filterFunction:X,filterAll:Y,currentFilter:function(){return M},hasCurrentFilter:function(){return T},top:function(e,i){var r,o=[],a=j,s=0;i&&i>0&&(s=i);for(;--a>=L&&e>0;)t.zero(r=x[a])&&(s>0?--s:(o.push(n[r]),--e));if(d)for(a=0;a<I.length&&e>0;a++)t.zero(r=I[a])&&(s>0?--s:(o.push(n[r]),--e));return o},getIds:function(){var e,i={},r=j,o=0;for(;--r>=L;)t.zero(e=x[r])&&(i[n[e].id]=n[e],o++);if(d){for(r=0;r<I.length;r++)t.zero(e=I[r])&&(i[n[e].id]=n[e],o++);o=Object.keys(i).length}return{items:i,count:o}},bottom:function(e,i){var r,o,a=[],s=0;i&&i>0&&(s=i);if(d)for(r=0;r<I.length&&e>0;r++)t.zero(o=I[r])&&(s>0?--s:(a.push(n[o]),--e));r=L;for(;r<j&&e>0;)t.zero(o=x[r])&&(s>0?--s:(a.push(n[o]),--e)),r++;return a},group:Q,groupAll:function(){var t=Q(i.crossfilter_null),e=t.all;return delete t.all,delete t.top,delete t.order,delete t.orderNatural,delete t.size,t.value=function(){return e()[0].value},t},dispose:Z,remove:Z,accessor:e,id:function(){return y}},I=[],R=i.quicksort.by(function(t){return w[t]}),N=i.xfilterFilter.filterAll,z=[],O=[],L=0,j=0,H=0;f.unshift(W),f.push(q),h.push(U);var B=t.add();function W(n,r,o){if(d){H=0,$=0,E=[];for(var c=0;c<n.length;c++)for($=0,E=e(n[c]);$<E.length;$++)H++;w=[],F=l(n.length),S=s(H,1);for(var u=l(H),f=0,h=0;h<n.length;h++)if((E=e(n[h])).length)for(F[h]=E.length,$=0;$<E.length;$++)w.push(E[$]),u[f]=h,f++;else F[h]=0,I.push(h+r);var p=R(l(H),0,H);w=(0,i.permute)(w,p),k=(0,i.permute)(u,p)}else w=n.map(e),k=R(l(o),0,o),w=(0,i.permute)(w,k);d&&(o=H);var m=N(w),v=m[0],y=m[1];if(D)for(var M=0;M<o;++M)D(w[M],M)||(t[b][k[M]+r]|=g,d&&(S[M]=1));else{for(var T=0;T<v;++T)t[b][k[T]+r]|=g,d&&(S[T]=1);for(var P=y;P<o;++P)t[b][k[P]+r]|=g,d&&(S[P]=1)}if(!r)return _=w,x=k,C=F,A=S,L=v,void(j=y);var z,O=_,B=x,W=A,q=0;if(c=0,d&&(z=r,r=O.length,o=H),_=d?new Array(r+o):new Array(a),x=d?new Array(r+o):s(a,a),d&&(A=s(r+o,1)),d){var U=C.length;C=i.xfilterArray.arrayLengthen(C,a);for(var $=0;$+U<a;$++)C[$+U]=F[$]}for(var V=0;c<r&&q<o;++V)O[c]<w[q]?(_[V]=O[c],d&&(A[V]=W[c]),x[V]=B[c++]):(_[V]=w[q],d&&(A[V]=S[q]),x[V]=k[q++]+(d?z:r));for(;c<r;++c,++V)_[V]=O[c],d&&(A[V]=W[c]),x[V]=B[c];for(;q<o;++q,++V)_[V]=w[q],d&&(A[V]=S[q]),x[V]=k[q]+(d?z:r);m=N(_),L=m[0],j=m[1]}function q(t,e,n){z.forEach(function(t){t(w,k,e,n)}),w=k=null}function U(t){if(d){for(var e=0,n=0;e<I.length;e++)t[I[e]]!==o&&(I[n]=t[I[e]],n++);for(I.length=n,e=0,n=0;e<a;e++)t[e]!==o&&(n!==e&&(C[n]=C[e]),n++);C.length=n}for(var i,r=_.length,s=0,l=0;s<r;++s)i=x[s],t[i]!==o&&(s!==l&&(_[l]=_[s]),x[l]=t[i],d&&(A[l]=A[s]),++l);for(_.length=l,d&&(A.length=l);l<r;)x[l++]=0;var c=N(_);L=c[0],j=c[1]}function $(e){var n=e[0],i=e[1];if(D)return D=null,K(function(t,e){return n<=e&&e<i},0===e[0]&&e[1]===_.length),L=n,j=i,P;var r,o,a,s=[],l=[],c=[],f=[];if(n<L)for(r=n,o=Math.min(L,i);r<o;++r)s.push(x[r]),c.push(r);else if(n>L)for(r=L,o=Math.min(n,j);r<o;++r)l.push(x[r]),f.push(r);if(i>j)for(r=Math.max(n,j),o=i;r<o;++r)s.push(x[r]),c.push(r);else if(i<j)for(r=Math.max(L,i),o=j;r<o;++r)l.push(x[r]),f.push(r);if(d){var h=[],p=[];for(r=0;r<s.length;r++)C[s[r]]++,A[c[r]]=0,1===C[s[r]]&&(t[b][s[r]]^=g,h.push(s[r]));for(r=0;r<l.length;r++)C[l[r]]--,A[f[r]]=1,0===C[l[r]]&&(t[b][l[r]]^=g,p.push(l[r]));if(s=h,l=p,0===e[0]&&e[1]===_.length)for(r=0;r<I.length;r++)t[b][a=I[r]]&g&&(t[b][a]^=g,s.push(a));else for(r=0;r<I.length;r++)t[b][a=I[r]]&g||(t[b][a]^=g,l.push(a))}else{for(r=0;r<s.length;r++)t[b][s[r]]^=g;for(r=0;r<l.length;r++)t[b][l[r]]^=g}return L=n,j=i,u.forEach(function(t){t(g,b,s,l)}),v("filtered"),P}function V(t){return M=t,T=!0,$((N=i.xfilterFilter.filterExact(i.bisect,t))(_))}function G(t){return M=t,T=!0,$((N=i.xfilterFilter.filterRange(i.bisect,t))(_))}function Y(){return M=void 0,T=!1,$((N=i.xfilterFilter.filterAll)(_))}function X(t){M=t,T=!0,D=t,N=i.xfilterFilter.filterAll,K(t,!1);var e=N(_);return L=e[0],j=e[1],P}function K(e,n){var i,r,o,a=[],s=[],l=[],c=[],f=_.length;if(!d)for(i=0;i<f;++i)!(t[b][r=x[i]]&g)^!!(o=e(_[i],i))&&(o?a.push(r):s.push(r));if(d)for(i=0;i<f;++i)e(_[i],i)?(a.push(x[i]),l.push(i)):(s.push(x[i]),c.push(i));if(d){var h=[],p=[];for(i=0;i<a.length;i++)1===A[l[i]]&&(C[a[i]]++,A[l[i]]=0,1===C[a[i]]&&(t[b][a[i]]^=g,h.push(a[i])));for(i=0;i<s.length;i++)0===A[c[i]]&&(C[s[i]]--,A[c[i]]=1,0===C[s[i]]&&(t[b][s[i]]^=g,p.push(s[i])));if(a=h,s=p,n)for(i=0;i<I.length;i++)t[b][r=I[i]]&g&&(t[b][r]^=g,a.push(r));else for(i=0;i<I.length;i++)t[b][r=I[i]]&g||(t[b][r]^=g,s.push(r))}else{for(i=0;i<a.length;i++)t[b][a[i]]&g&&(t[b][a[i]]&=m);for(i=0;i<s.length;i++)t[b][s[i]]&g||(t[b][s[i]]|=g)}u.forEach(function(t){t(g,b,a,s)}),v("filtered")}function Q(e){var r={top:function(t){var e=p(H(),0,l.length,t);return v.sort(e,0,e.length)},all:H,reduce:B,reduceCount:W,reduceSum:function(t){return B(i.xfilterReduce.reduceAdd(t),i.xfilterReduce.reduceSubtract(t),i.crossfilter_zero)},order:q,orderNatural:function(){return q(i.crossfilter_identity)},size:function(){return S},dispose:U,remove:U};O.push(r);var l,f,p,v,y,w,k,C,F=8,A=c(F),S=0,D=i.crossfilter_null,M=i.crossfilter_null,T=!0,E=e===i.crossfilter_null;function P(r,o,h,p){d&&(C=h,h=_.length-r.length,p=r.length);var g,v,x,P,I,z,O=l,H=d?[]:s(S,A),B=y,W=w,q=k,U=S,$=0,V=0;for(T&&(B=q=i.crossfilter_null),T&&(W=q=i.crossfilter_null),l=new Array(S),S=0,f=d?U?f:[]:U>1?i.xfilterArray.arrayLengthen(f,a):s(a,A),U&&(x=(v=O[0]).key);V<p&&!((P=e(r[V]))>=P);)++V;for(;V<p;){for(v&&x<=P?(I=v,z=x,H[$]=S,(v=O[++$])&&(x=v.key)):(I={key:P,value:q()},z=P),l[S]=I;P<=z&&(g=o[V]+(d?C:h),d?f[g]?f[g].push(S):f[g]=[S]:f[g]=S,I.value=B(I.value,n[g],!0),t.zeroExcept(g,b,m)||(I.value=W(I.value,n[g],!1)),!(++V>=p));)P=e(r[V]);Y()}for(;$<U;)l[H[$]=S]=O[$++],Y();if(d)for(var G=0;G<a;G++)f[G]||(f[G]=[]);if(S>$)if(d)for($=0;$<C;++$)for(G=0;G<f[$].length;G++)f[$][G]=H[f[$][G]];else for($=0;$<h;++$)f[$]=H[f[$]];function Y(){d?S++:++S===A&&(H=i.xfilterArray.arrayWiden(H,F<<=1),f=i.xfilterArray.arrayWiden(f,F),A=c(F))}g=u.indexOf(D),S>1||d?(D=R,M=L):(!S&&E&&(S=1,l=[{key:null,value:q()}]),1===S?(D=N,M=j):(D=i.crossfilter_null,M=i.crossfilter_null),f=null),u[g]=D}function I(t){if(S>1||d){var e,n,r,c=S,h=l,p=s(c,c);if(d){for(e=0,r=0;e<a;++e)if(t[e]!==o){for(f[r]=f[e],n=0;n<f[r].length;n++)p[f[r][n]]=1;++r}}else for(e=0,r=0;e<a;++e)t[e]!==o&&(p[f[r]=f[e]]=1,++r);for(l=[],S=0,e=0;e<c;++e)p[e]&&(p[e]=S++,l.push(h[e]));if(S>1||d)if(d)for(e=0;e<r;++e)for(n=0;n<f[e].length;++n)f[e][n]=p[f[e][n]];else for(e=0;e<r;++e)f[e]=p[f[e]];else f=null;u[u.indexOf(D)]=S>1||d?(M=L,D=R):1===S?(M=j,D=N):M=D=i.crossfilter_null}else if(1===S){if(E)return;for(var g=0;g<a;++g)if(t[g]!==o)return;l=[],S=0,u[u.indexOf(D)]=D=M=i.crossfilter_null}}function R(e,i,r,o,a){var s,c,u,h,p;if(!(e===g&&i===b||T))if(d){for(s=0,h=r.length;s<h;++s)if(t.zeroExcept(u=r[s],b,m))for(c=0;c<f[u].length;c++)(p=l[f[u][c]]).value=y(p.value,n[u],!1,c);for(s=0,h=o.length;s<h;++s)if(t.onlyExcept(u=o[s],b,m,i,e))for(c=0;c<f[u].length;c++)(p=l[f[u][c]]).value=w(p.value,n[u],a,c)}else{for(s=0,h=r.length;s<h;++s)t.zeroExcept(u=r[s],b,m)&&((p=l[f[u]]).value=y(p.value,n[u],!1));for(s=0,h=o.length;s<h;++s)t.onlyExcept(u=o[s],b,m,i,e)&&((p=l[f[u]]).value=w(p.value,n[u],a))}}function N(e,i,r,o,a){if(!(e===g&&i===b||T)){var s,c,u,f=l[0];for(s=0,u=r.length;s<u;++s)t.zeroExcept(c=r[s],b,m)&&(f.value=y(f.value,n[c],!1));for(s=0,u=o.length;s<u;++s)t.onlyExcept(c=o[s],b,m,i,e)&&(f.value=w(f.value,n[c],a))}}function L(){var e,i,r;for(e=0;e<S;++e)l[e].value=k();if(d){for(e=0;e<a;++e)for(i=0;i<f[e].length;i++)(r=l[f[e][i]]).value=y(r.value,n[e],!0,i);for(e=0;e<a;++e)if(!t.zeroExcept(e,b,m))for(i=0;i<f[e].length;i++)(r=l[f[e][i]]).value=w(r.value,n[e],!1,i)}else{for(e=0;e<a;++e)(r=l[f[e]]).value=y(r.value,n[e],!0);for(e=0;e<a;++e)t.zeroExcept(e,b,m)||((r=l[f[e]]).value=w(r.value,n[e],!1))}}function j(){var e,i=l[0];for(i.value=k(),e=0;e<a;++e)i.value=y(i.value,n[e],!0);for(e=0;e<a;++e)t.zeroExcept(e,b,m)||(i.value=w(i.value,n[e],!1))}function H(){return T&&(M(),T=!1),l}function B(t,e,n){return y=t,w=e,k=n,T=!0,r}function W(){return B(i.xfilterReduce.reduceIncrement,i.xfilterReduce.reduceDecrement,i.crossfilter_zero)}function q(t){function e(e){return t(e.value)}return p=i.xfilterHeapselect.by(e),v=i.xfilterHeap.by(e),r}function U(){var t=u.indexOf(D);return t>=0&&u.splice(t,1),(t=z.indexOf(P))>=0&&z.splice(t,1),(t=h.indexOf(I))>=0&&h.splice(t,1),(t=O.indexOf(r))>=0&&O.splice(t,1),r}return arguments.length<1&&(e=i.crossfilter_identity),u.push(D),z.push(P),h.push(I),P(_,x,0,a),W().orderNatural()}function Z(){O.forEach(function(t){t.dispose()});var e=f.indexOf(W);return e>=0&&f.splice(e,1),(e=f.indexOf(q))>=0&&f.splice(e,1),(e=h.indexOf(U))>=0&&h.splice(e,1),t.masks[b]&=m,Y()}return b=B.offset,g=B.one,m=~g,y=b<<7|Math.log(g)/Math.log(2),W(n,0,a),q(n,0,a),P},groupAll:function(){var e,r,o,s,l={reduce:p,reduceCount:g,reduceSum:function(t){return p(i.xfilterReduce.reduceAdd(t),i.xfilterReduce.reduceSubtract(t),i.crossfilter_zero)},value:function(){c&&(function(){var i;for(e=s(),i=0;i<a;++i)e=r(e,n[i],!0),t.zero(i)||(e=o(e,n[i],!1))}(),c=!1);return e},dispose:m,remove:m},c=!0;function h(i,s){var l;if(!c)for(l=s;l<a;++l)e=r(e,n[l],!0),t.zero(l)||(e=o(e,n[l],!1))}function d(i,a,s,l,u){var f,h,d;if(!c){for(f=0,d=s.length;f<d;++f)t.zero(h=s[f])&&(e=r(e,n[h],u));for(f=0,d=l.length;f<d;++f)t.only(h=l[f],a,i)&&(e=o(e,n[h],u))}}function p(t,e,n){return r=t,o=e,s=n,c=!0,l}function g(){return p(i.xfilterReduce.reduceIncrement,i.xfilterReduce.reduceDecrement,i.crossfilter_zero)}function m(){var t=u.indexOf(d);return t>=0&&u.splice(t,1),(t=f.indexOf(h))>=0&&f.splice(t,1),l}return u.push(d),f.push(h),h(n,0),g()},size:function(){return a},all:function(){return n},allFiltered:function(e){var i=[],r=0,o=m(e||[]);for(r=0;r<a;r++)t.zeroExceptMask(r,o)&&i.push(n[r]);return i},onChange:function(t){if("function"!=typeof t)return void console.warn("onChange callback parameter must be a function!");return p.push(t),function(){p.splice(p.indexOf(t),1)}},isElementFiltered:function(e,n){var i=m(n||[]);return t.zeroExceptMask(e,i)},getOriginalData:function(){return n},getItemById:function(t){return d[t]}},n=[],a=0,u=[],f=[],h=[],d={},p=[];function g(i){var r=a,o=i.length,s=!0,l=!1,c=void 0;try{for(var u,h=i[Symbol.iterator]();!(s=(u=h.next()).done);s=!0){var p=u.value;d[p.id]=p}}catch(t){l=!0,c=t}finally{try{!s&&h.return&&h.return()}finally{if(l)throw c}}return o&&(n=n.concat(i),t.lengthen(a+=o),f.forEach(function(t){t(i,r,o)}),v("dataAdded")),e}function m(e){var n,i,r,o,a=Array(t.subarrays);for(n=0;n<t.subarrays;n++)a[n]=-1;for(i=0,r=e.length;i<r;i++)a[(o=e[i].id())>>7]&=~(1<<(63&o));return a}function v(t){for(var e=0;e<p.length;e++)p[e](t)}return t=new i.xfilterArray.bitarray(0),arguments.length?g(arguments[0]):e}function s(t,e){return(e<257?i.xfilterArray.array8:e<65537?i.xfilterArray.array16:i.xfilterArray.array32)(t)}function l(t){for(var e=s(t,t),n=-1;++n<t;)e[n]=n;return e}function c(t){return 8===t?256:16===t?65536:4294967296}a.heap=i.xfilterHeap,a.heapselect=i.xfilterHeapselect,a.bisect=i.bisect,a.insertionsort=i.insertionsort,a.permute=i.permute,a.quicksort=i.quicksort,a.version="2.1",e.crossfilter=a},function(t,e,n){"use strict";
/*!
 *  dc 3.0.6
 *  http://dc-js.github.io/dc.js/
 *  Copyright 2012-2016 Nick Zhu & the dc.js Developers
 *  https://github.com/dc-js/dc.js/blob/master/AUTHORS
 *
 *  Licensed under the Apache License, Version 2.0 (the "License");
 *  you may not use this file except in compliance with the License.
 *  You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *  Unless required by applicable law or agreed to in writing, software
 *  distributed under the License is distributed on an "AS IS" BASIS,
 *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *  See the License for the specific language governing permissions and
 *  limitations under the License.
 */Object.defineProperty(e,"__esModule",{value:!0}),e.dc=void 0;var i=n(9),r=n(5),o={version:"3.0.6",constants:{CHART_CLASS:"dc-chart",DEBUG_GROUP_CLASS:"debug",STACK_CLASS:"stack",DESELECTED_CLASS:"deselected",SELECTED_CLASS:"selected",NODE_INDEX_NAME:"__index__",GROUP_INDEX_NAME:"__group_index__",DEFAULT_CHART_GROUP:"__default_chart_group__",EVENT_DELAY:40,NEGLIGIBLE_NUMBER:1e-10},_renderlet:null};o.chartRegistry=function(){var t={};function e(e){return e||(e=o.constants.DEFAULT_CHART_GROUP),t[e]||(t[e]=[]),e}return{has:function(e){for(var n in t)if(t[n].indexOf(e)>=0)return!0;return!1},register:function(n,i){i=e(i),t[i].push(n)},deregister:function(n,i){i=e(i);for(var r=0;r<t[i].length;r++)if(t[i][r].anchorName()===n.anchorName()){t[i].splice(r,1);break}},clear:function(e){e?delete t[e]:t={}},list:function(n){return n=e(n),t[n]}}}(),o.registerChart=function(t,e){o.chartRegistry.register(t,e)},o.deregisterChart=function(t,e){o.chartRegistry.deregister(t,e)},o.hasChart=function(t){return o.chartRegistry.has(t)},o.deregisterAllCharts=function(t){o.chartRegistry.clear(t)},o.filterAll=function(t){for(var e=o.chartRegistry.list(t),n=0;n<e.length;++n)e[n].filterAll()},o.refocusAll=function(t){for(var e=o.chartRegistry.list(t),n=0;n<e.length;++n)e[n].focus&&e[n].focus()},o.renderAll=function(t){for(var e=o.chartRegistry.list(t),n=0;n<e.length;++n)e[n].render();null!==o._renderlet&&o._renderlet(t)},o.redrawAll=function(t){for(var e=o.chartRegistry.list(t),n=0;n<e.length;++n)e[n].redraw();null!==o._renderlet&&o._renderlet(t)},o.disableTransitions=!1,o.transition=function(t,e,n,i){if(o.disableTransitions||e<=0)return t;var r=t.transition(i);return(e>=0||void 0!==e)&&(r=r.duration(e)),(n>=0||void 0!==n)&&(r=r.delay(n)),r},o.optionalTransition=function(t,e,n,i){return t?function(t){return o.transition(t,e,n,i)}:function(t){return t}},o.afterTransition=function(t,e){if(t.empty()||!t.duration)e.call(t);else{var n=0;t.each(function(){++n}).on("end",function(){--n||e.call(t)})}},o.units={},o.units.integers=function(t,e){return Math.abs(e-t)},o.units.ordinal=function(){throw new Error("dc.units.ordinal should not be called - it is a placeholder")},o.units.fp={},o.units.fp.precision=function(t){var e=function t(e,n){var i=Math.abs((n-e)/t.resolution);return o.utils.isNegligible(i-Math.floor(i))?Math.floor(i):Math.ceil(i)};return e.resolution=t,e},o.round={},o.round.floor=function(t){return Math.floor(t)},o.round.ceil=function(t){return Math.ceil(t)},o.round.round=function(t){return Math.round(t)},o.override=function(t,e,n){var i=t[e];t["_"+e]=i,t[e]=n},o.renderlet=function(t){return arguments.length?(o._renderlet=t,o):o._renderlet},o.instanceOfChart=function(t){return t instanceof Object&&t.__dcFlag__&&!0},o.errors={},o.errors.Exception=function(t){var e=t||"Unexpected internal error";this.message=e,this.toString=function(){return e},this.stack=(new Error).stack},o.errors.Exception.prototype=Object.create(Error.prototype),o.errors.Exception.prototype.constructor=o.errors.Exception,o.errors.InvalidStateException=function(){o.errors.Exception.apply(this,arguments)},o.errors.InvalidStateException.prototype=Object.create(o.errors.Exception.prototype),o.errors.InvalidStateException.prototype.constructor=o.errors.InvalidStateException,o.errors.BadArgumentException=function(){o.errors.Exception.apply(this,arguments)},o.errors.BadArgumentException.prototype=Object.create(o.errors.Exception.prototype),o.errors.BadArgumentException.prototype.constructor=o.errors.BadArgumentException,o.dateFormat=r.d3.timeFormat("%m/%d/%Y"),o.printers={},o.printers.filters=function(t){for(var e="",n=0;n<t.length;++n)n>0&&(e+=", "),e+=o.printers.filter(t[n]);return e},o.printers.filter=function(t){var e="";return void 0!==t&&null!==t&&(t instanceof Array?t.length>=2?e="["+o.utils.printSingleValue(t[0])+" -> "+o.utils.printSingleValue(t[1])+"]":t.length>=1&&(e=o.utils.printSingleValue(t[0])):e=o.utils.printSingleValue(t)),e},o.pluck=function(t,e){return e?function(n,i){return e.call(n,n[t],i)}:function(e){return e[t]}},o.utils={},o.utils.printSingleValue=function(t){var e=""+t;return t instanceof Date?e=o.dateFormat(t):"string"==typeof t?e=t:o.utils.isFloat(t)?e=o.utils.printSingleValue.fformat(t):o.utils.isInteger(t)&&(e=Math.round(t)),e},o.utils.printSingleValue.fformat=r.d3.format(".2f"),o.utils.toTimeFunc=function(t){return"time"+t.charAt(0).toUpperCase()+t.slice(1)},o.utils.add=function(t,e,n){if("string"==typeof e&&(e=e.replace("%","")),t instanceof Date)return"string"==typeof e&&(e=+e),"millis"===n?new Date(t.getTime()+e):("function"!=typeof(n=n||r.d3.timeDay)&&(n=r.d3[o.utils.toTimeFunc(n)]),n.offset(t,e));if("string"==typeof e){var i=+e/100;return t>0?t*(1+i):t*(1-i)}return t+e},o.utils.subtract=function(t,e,n){if("string"==typeof e&&(e=e.replace("%","")),t instanceof Date)return"string"==typeof e&&(e=+e),"millis"===n?new Date(t.getTime()-e):("function"!=typeof(n=n||r.d3.timeDay)&&(n=r.d3[o.utils.toTimeFunc(n)]),n.offset(t,-e));if("string"==typeof e){var i=+e/100;return t<0?t*(1+i):t*(1-i)}return t-e},o.utils.isNumber=function(t){return t===+t},o.utils.isFloat=function(t){return t===+t&&t!==(0|t)},o.utils.isInteger=function(t){return t===+t&&t===(0|t)},o.utils.isNegligible=function(t){return!o.utils.isNumber(t)||t<o.constants.NEGLIGIBLE_NUMBER&&t>-o.constants.NEGLIGIBLE_NUMBER},o.utils.clamp=function(t,e,n){return t<e?e:t>n?n:t},o.utils.constant=function(t){return function(){return t}};var a,s,l,c,u,f=0;function h(t,e){for(var n=0;n<t.length;n++)if(t[n].key===e)return t[n]}o.utils.uniqueId=function(){return++f},o.utils.nameToId=function(t){return t.toLowerCase().replace(/[\s]/g,"_").replace(/[\.']/g,"")},o.utils.appendOrSelect=function(t,e,n){n=n||e;var i=t.select(e);return i.empty()&&(i=t.append(n)),i},o.utils.safeNumber=function(t){return o.utils.isNumber(+t)?+t:0},o.utils.arraysEqual=function(t,e){return!t&&!e||!(!t||!e)&&(t.length===e.length&&t.every(function(t,n){return t.valueOf()===e[n].valueOf()}))},o.utils.allChildren=function(t){var e=[];if(e.push(t.path),console.log("currentNode",t),t.children)for(var n=0;n<t.children.length;n++)e=e.concat(o.utils.allChildren(t.children[n]));return e},o.utils.toHierarchy=function(t,e){for(var n={key:"root",children:[]},i=0;i<t.length;i++)for(var r=t[i],o=r.key,a=e(r),s=n,l=0;l<o.length;l++){var c,u=o.slice(0,l+1),f=s.children,d=o[l];l+1<o.length?(void 0===(c=h(f,d))&&(c={key:d,children:[],path:u},f.push(c)),s=c):(c={key:d,value:a,data:r,path:u},f.push(c))}return n},o.utils.getAncestors=function(t){for(var e=[],n=t;n.parent;)e.unshift(n.name),n=n.parent;return e},o.utils.arraysIdentical=function(t,e){var n=t.length;if(n!==e.length)return!1;for(;n--;)if(t[n]!==e[n])return!1;return!0},o.logger=(s={},(a={enableDebugLog:!1,warn:function(t){return console&&(console.warn?console.warn(t):console.log&&console.log(t)),a}}).warnOnce=function(t){return s[t]||(s[t]=!0,o.logger.warn(t)),a},a.debug=function(t){return a.enableDebugLog&&console&&(console.debug?console.debug(t):console.log&&console.log(t)),a},a.deprecate=function(t,e){var n=!1;return function(){return n||(a.warn(e),n=!0),t.apply(this,arguments)}},a),o.config=(l={},c=["#3182bd","#6baed6","#9ecae1","#c6dbef","#e6550d","#fd8d3c","#fdae6b","#fdd0a2","#31a354","#74c476","#a1d99b","#c7e9c0","#756bb1","#9e9ac8","#bcbddc","#dadaeb","#636363","#969696","#bdbdbd","#d9d9d9"],u=r.d3.schemeSet1.slice(1,9),l.defaultColors=function(t){return arguments.length?(u=t,l):(u===c&&o.logger.warnOnce("You are using d3.schemeCategory20c, which has been removed in D3v5. See the explanation at https://github.com/d3/d3/blob/master/CHANGES.md#changes-in-d3-50. DC is using it for backward compatibility, however it will be changed in DCv3.1. You can change it by calling dc.config.defaultColors(newScheme). See https://github.com/d3/d3-scale-chromatic for some alternatives."),u)},l),o.events={current:null},o.events.trigger=function(t,e){e?(o.events.current=t,setTimeout(function(){t===o.events.current&&t()},e)):t()},o.filters={},o.filters.RangedFilter=function(t,e){var n=new Array(t,e);return n.isFiltered=function(t){return t>=this[0]&&t<this[1]},n.filterType="RangedFilter",n},o.filters.TwoDimensionalFilter=function(t){if(null===t)return null;var e=t;return e.isFiltered=function(t){return t.length&&t.length===e.length&&t[0]===e[0]&&t[1]===e[1]},e.filterType="TwoDimensionalFilter",e},o.filters.RangedTwoDimensionalFilter=function(t){if(null===t)return null;var e,n=t;return e=n[0]instanceof Array?[[Math.min(t[0][0],t[1][0]),Math.min(t[0][1],t[1][1])],[Math.max(t[0][0],t[1][0]),Math.max(t[0][1],t[1][1])]]:[[t[0],-1/0],[t[1],1/0]],n.isFiltered=function(t){var n,i;return t instanceof Array?(n=t[0],i=t[1]):(n=t,i=e[0][1]),n>=e[0][0]&&n<e[1][0]&&i>=e[0][1]&&i<e[1][1]},n.filterType="RangedTwoDimensionalFilter",n},o.filters.HierarchyFilter=function(t){if(null===t)return null;var e=t.slice(0);return e.isFiltered=function(t){if(!(e.length&&t&&t.length&&t.length>=e.length))return!1;for(var n=0;n<e.length;n++)if(t[n]!==e[n])return!1;return!0},e},o.baseMixin=function(t){var e,n,a,s,l,c;t.__dcFlag__=o.utils.uniqueId();var u,f,h,d,p,g=200,m=function(t){var e=t&&t.getBoundingClientRect&&t.getBoundingClientRect().width;return e&&e>g?e:g},v=m,b=200,y=function(t){var e=t&&t.getBoundingClientRect&&t.getBoundingClientRect().height;return e&&e>b?e:b},_=y,x=!1,w=o.pluck("key"),k=o.pluck("value"),C=o.pluck("key"),F=o.pluck("key"),A=!1,S=function(e){return t.keyAccessor()(e)+": "+t.valueAccessor()(e)},D=!0,M=!1,T=750,E=0,P=o.printers.filters,I=["dimension","group"],R=o.constants.DEFAULT_CHART_GROUP,N=r.d3.dispatch("preRender","postRender","preRedraw","postRedraw","filtered","zoomed","renderlet","pretransition"),z=[],O=function(t,e){return 0===e.length?t.filter(null):1!==e.length||e[0].isFiltered?1===e.length&&"RangedFilter"===e[0].filterType?t.filterRange(e[0]):t.filterFunction(function(t){for(var n=0;n<e.length;n++){var i=e[n];if(i.isFiltered&&i.isFiltered(t))return!0;if(i<=t&&i>=t)return!0}return!1}):t.filterExact(e[0]),e},L=function(t){return t.all()};function j(){l&&(x?l.attr("viewBox")||l.attr("viewBox","0 0 "+t.width()+" "+t.height()):l.attr("width",t.width()).attr("height",t.height()))}function H(e){if(!t[e]||!t[e]())throw new o.errors.InvalidStateException("Mandatory attribute chart."+e+" is missing on chart[#"+t.anchorName()+"]")}t.height=function(e){return arguments.length?(_=e?"function"==typeof e?e:o.utils.constant(e):y,f=void 0,t):(o.utils.isNumber(f)||(f=_(s.node())),f)},t.width=function(e){return arguments.length?(v=e?"function"==typeof e?e:o.utils.constant(e):m,u=void 0,t):(o.utils.isNumber(u)||(u=v(s.node())),u)},t.minWidth=function(e){return arguments.length?(g=e,t):g},t.minHeight=function(e){return arguments.length?(b=e,t):b},t.useViewBoxResizing=function(e){return arguments.length?(x=e,t):x},t.dimension=function(n){return arguments.length?(e=n,t.expireCache(),t):e},t.data=function(e){return arguments.length?(L="function"==typeof e?e:o.utils.constant(e),t.expireCache(),t):L.call(t,n)},t.group=function(e,i){return arguments.length?(n=e,t._groupName=i,t.expireCache(),t):n},t.ordering=function(e){return arguments.length?(F=e,h=i.crossfilter.quicksort.by(F),t.expireCache(),t):F},t._computeOrderedGroups=function(t){var e=t.slice(0);return e.length<=1?e:(h||(h=i.crossfilter.quicksort.by(F)),h(e,0,e.length))},t.filterAll=function(){return t.filter(null)},t.select=function(t){return s.select(t)},t.selectAll=function(t){return s?s.selectAll(t):null},t.anchor=function(e,n){if(!arguments.length)return a;if(o.instanceOfChart(e))a=e.anchor(),s=e.root(),c=!0;else{if(!e)throw new o.errors.BadArgumentException("parent must be defined");a=e.select&&e.classed?e.node():e,(s=r.d3.select(a)).classed(o.constants.CHART_CLASS,!0),o.registerChart(t,n),c=!1}return R=n,t},t.anchorName=function(){var e=t.anchor();return e&&e.id?e.id:e&&e.replace?e.replace("#",""):"dc-chart"+t.chartID()},t.root=function(e){return arguments.length?(s=e,t):s},t.svg=function(e){return arguments.length?(l=e,t):l},t.resetSvg=function(){return t.select("svg").remove(),l=t.root().append("svg"),j(),l},t.filterPrinter=function(e){return arguments.length?(P=e,t):P},t.controlsUseVisibility=function(e){return arguments.length?(M=e,t):M},t.turnOnControls=function(){if(s){var e=t.controlsUseVisibility()?"visibility":"display";t.selectAll(".reset").style(e,null),t.selectAll(".filter").text(P(t.filters())).style(e,null)}return t},t.turnOffControls=function(){if(s){var e=t.controlsUseVisibility()?"visibility":"display",n=t.controlsUseVisibility()?"hidden":"none";t.selectAll(".reset").style(e,n),t.selectAll(".filter").style(e,n).text(t.filter())}return t},t.transitionDuration=function(e){return arguments.length?(T=e,t):T},t.transitionDelay=function(e){return arguments.length?(E=e,t):E},t._mandatoryAttributes=function(e){return arguments.length?(I=e,t):I},t.render=function(){f=u=void 0,N.call("preRender",t,t),I&&I.forEach(H);var e=t._doRender();return d&&d.render(),t._activateRenderlets("postRender"),e},t._activateRenderlets=function(e){N.call("pretransition",t,t),t.transitionDuration()>0&&l?l.transition().duration(t.transitionDuration()).delay(t.transitionDelay()).on("end",function(){N.call("renderlet",t,t),e&&N.call(e,t,t)}):(N.call("renderlet",t,t),e&&N.call(e,t,t))},t.redraw=function(){j(),N.call("preRedraw",t,t);var e=t._doRedraw();return d&&d.render(),t._activateRenderlets("postRedraw"),e},t.commitHandler=function(e){return arguments.length?(p=e,t):p},t.redrawGroup=function(){return p?p(!1,function(e,n){e?console.log(e):o.redrawAll(t.chartGroup())}):o.redrawAll(t.chartGroup()),t},t.renderGroup=function(){return p?p(!1,function(e,n){e?console.log(e):o.renderAll(t.chartGroup())}):o.renderAll(t.chartGroup()),t},t._invokeFilteredListener=function(e){void 0!==e&&N.call("filtered",t,t,e)},t._invokeZoomedListener=function(){N.call("zoomed",t,t)};var B=function(t,e){return null===e||void 0===e?t.length>0:t.some(function(t){return e<=t&&e>=t})};t.hasFilterHandler=function(e){return arguments.length?(B=e,t):B},t.hasFilter=function(t){return B(z,t)};var W=function(t,e){for(var n=0;n<t.length;n++)if(t[n]<=e&&t[n]>=e){t.splice(n,1);break}return t};t.removeFilterHandler=function(e){return arguments.length?(W=e,t):W};var q=function(t,e){return t.push(e),t};t.addFilterHandler=function(e){return arguments.length?(q=e,t):q};var U=function(t){return[]};return t.resetFilterHandler=function(e){return arguments.length?(U=e,t):U},t.replaceFilter=function(e){return z=U(z),t.filter(e),t},t.filter=function(e){if(!arguments.length)return z.length>0?z[0]:null;var n=z;return e instanceof Array&&e[0]instanceof Array&&!e.isFiltered?e[0].forEach(function(t){n=B(n,t)?W(n,t):q(n,t)}):n=null===e?U(n):B(n,e)?W(n,e):q(n,e),z=function(e){if(t.dimension()&&t.dimension().filter){var n=O(t.dimension(),e);n&&(e=n)}return e}(n),t._invokeFilteredListener(e),null!==s&&t.hasFilter()?t.turnOnControls():t.turnOffControls(),t},t.filters=function(){return z},t.highlightSelected=function(t){r.d3.select(t).classed(o.constants.SELECTED_CLASS,!0),r.d3.select(t).classed(o.constants.DESELECTED_CLASS,!1)},t.fadeDeselected=function(t){r.d3.select(t).classed(o.constants.SELECTED_CLASS,!1),r.d3.select(t).classed(o.constants.DESELECTED_CLASS,!0)},t.resetHighlight=function(t){r.d3.select(t).classed(o.constants.SELECTED_CLASS,!1),r.d3.select(t).classed(o.constants.DESELECTED_CLASS,!1)},t.onClick=function(e){var n=t.keyAccessor()(e);o.events.trigger(function(){t.filter(n),t.redrawGroup()})},t.filterHandler=function(e){return arguments.length?(O=e,t):O},t._doRender=function(){return t},t._doRedraw=function(){return t},t.legendables=function(){return[]},t.legendHighlight=function(){},t.legendReset=function(){},t.legendToggle=function(){},t.isLegendableHidden=function(){return!1},t.keyAccessor=function(e){return arguments.length?(w=e,t):w},t.valueAccessor=function(e){return arguments.length?(k=e,t):k},t.label=function(e,n){return arguments.length?(C=e,(void 0===n||n)&&(A=!0),t):C},t.renderLabel=function(e){return arguments.length?(A=e,t):A},t.title=function(e){return arguments.length?(S=e,t):S},t.renderTitle=function(e){return arguments.length?(D=e,t):D},t.renderlet=o.logger.deprecate(function(e){return t.on("renderlet."+o.utils.uniqueId(),e),t},'chart.renderlet has been deprecated.  Please use chart.on("renderlet.<renderletKey>", renderletFunction)'),t.chartGroup=function(e){return arguments.length?(c||o.deregisterChart(t,R),R=e,c||o.registerChart(t,R),t):R},t.expireCache=function(){return t},t.legend=function(e){return arguments.length?((d=e).parent(t),t):d},t.chartID=function(){return t.__dcFlag__},t.options=function(e){var n=["anchor","group","xAxisLabel","yAxisLabel","stack","title","point","getColor","overlayGeoJson"];for(var i in e)"function"==typeof t[i]?e[i]instanceof Array&&-1!==n.indexOf(i)?t[i].apply(t,e[i]):t[i].call(t,e[i]):o.logger.debug("Not a valid option setter name: "+i);return t},t.on=function(e,n){return N.on(e,n),t},t},o.marginMixin=function(t){var e={top:10,right:50,bottom:30,left:30};return t.margins=function(n){return arguments.length?(e=n,t):e},t.effectiveWidth=function(){return t.width()-t.margins().left-t.margins().right},t.effectiveHeight=function(){return t.height()-t.margins().top-t.margins().bottom},t},o.colorMixin=function(t){var e=r.d3.scaleOrdinal(o.config.defaultColors()),n=!0,i=function(e){return t.keyAccessor()(e)};return t.colors=function(n){return arguments.length?(e=n instanceof Array?r.d3.scaleQuantize().range(n):"function"==typeof n?n:o.utils.constant(n),t):e},t.ordinalColors=function(e){return t.colors(r.d3.scaleOrdinal().range(e))},t.linearColors=function(e){return t.colors(r.d3.scaleLinear().range(e).interpolate(r.d3.interpolateHcl))},t.colorAccessor=function(e){return arguments.length?(i=e,n=!1,t):i},t.defaultColorAccessor=function(){return n},t.colorDomain=function(n){return arguments.length?(e.domain(n),t):e.domain()},t.calculateColorDomain=function(){var n=[r.d3.min(t.data(),t.colorAccessor()),r.d3.max(t.data(),t.colorAccessor())];return e.domain(n),t},t.getColor=function(t,n){return e(i.call(this,t,n))},t.colorCalculator=o.logger.deprecate(function(e){return arguments.length?(t.getColor=e,t):t.getColor},"colorMixin.colorCalculator has been deprecated. Please colorMixin.colors and colorMixin.colorAccessor instead"),t},o.coordinateGridMixin=function(t){var e,n,i,a,s,l,c="grid-line",u="vertical";(t=o.colorMixin(o.marginMixin(o.baseMixin(t)))).colors(r.d3.scaleOrdinal(r.d3.schemeCategory10)),t._mandatoryAttributes().push("x");var f,h,d,p,g,m,v,b,y,_=r.d3.axisBottom(),x=o.units.integers,w=0,k=r.d3.timeDay,C=!1,F=0,A=null,S=0,D=!1,M=0,T=r.d3.brushX(),E=!0,P=!1,I=!1,R=!1,N=!1,z=[1,1/0],O=!0,L=r.d3.zoom().on("zoom",function(){if(!r.d3.event.sourceEvent)return;if(r.d3.event.sourceEvent.type&&-1!==["start","zoom","end"].indexOf(r.d3.event.sourceEvent.type))return;var e=r.d3.event.transform.rescaleX(s).domain();t.focus(e,!1)}),j=r.d3.zoom().on("zoom",null),H=!1,B=!1,W=0,q=.5,U=0,$=!1;function V(e,n){t.isOrdinal()?(a.bandwidth||(o.logger.warn("For compatibility with d3v4+, dc.js d3.0 ordinal bar/line/bubble charts need d3.scaleBand() for the x scale, instead of d3.scaleOrdinal(). Replacing .x() with a d3.scaleBand with the same domain - make the same change in your code to avoid this warning!"),a=r.d3.scaleBand().domain(a.domain())),(t.elasticX()||0===a.domain().length)&&a.domain(t._ordinalXDomain())):t.elasticX()&&a.domain([t.xAxisMin(),t.xAxisMax()]);var i=a.domain();!n&&o.utils.arraysEqual(h,i)||t.rescale(),h=i,t.isOrdinal()?a.range([0,t.xAxisLength()]).paddingInner(U).paddingOuter(t._useOuterPadding()?q:0):a.range([0,t.xAxisLength()]),_=_.scale(t.x()),function(e){var n=e.select("g."+u);if(R){n.empty()&&(n=e.insert("g",":first-child").attr("class",c+" "+u).attr("transform","translate("+t.margins().left+","+t.margins().top+")"));var i=_.tickValues()?_.tickValues():"function"==typeof a.ticks?a.ticks.apply(a,_.tickArguments()):a.domain(),r=n.selectAll("line").data(i),s=r.enter().append("line").attr("x1",function(t){return a(t)}).attr("y1",t._xAxisY()-t.margins().top).attr("x2",function(t){return a(t)}).attr("y2",0).attr("opacity",0);o.transition(s,t.transitionDuration(),t.transitionDelay()).attr("opacity",1);var l=s.merge(r);o.transition(l,t.transitionDuration(),t.transitionDelay()).attr("x1",function(t){return a(t)}).attr("y1",t._xAxisY()-t.margins().top).attr("x2",function(t){return a(t)}).attr("y2",0),r.exit().remove()}else n.selectAll("line").remove()}(e)}function G(){return $?r.d3.axisRight():r.d3.axisLeft()}function Y(){return t.anchorName().replace(/[ .#=\[\]"]/g,"-")+"-clip"}function X(){var n=o.utils.appendOrSelect(e,"defs"),i=Y(),r=o.utils.appendOrSelect(n,"#"+i,"clipPath").attr("id",i),a=2*W;o.utils.appendOrSelect(r,"rect").attr("width",t.xAxisLength()+a).attr("height",t.yAxisHeight()+a).attr("transform","translate(-"+W+", -"+W+")")}function K(e){t.isOrdinal()&&(E=!1),V(t.g(),e),t._prepareYAxis(t.g()),t.plotData(),(t.elasticX()||N||e)&&t.renderXAxis(t.g()),(t.elasticY()||N||e)&&t.renderYAxis(t.g()),e?t.renderBrush(t.g(),!1):t.redrawBrush(t.filter(),N),t.fadeDeselectedArea(t.filter()),N=!1}function Q(e,n){var i,r;(r=e)instanceof Array&&r.length>1?(t.x().domain(e),i=o.filters.RangedFilter(e[0],e[1])):(t.x().domain(l),i=null),t.replaceFilter(i),t.rescale(),t.redraw(),n||(b&&!o.utils.arraysEqual(t.filter(),b.filter())&&o.events.trigger(function(){b.replaceFilter(i),b.redraw()}),t._invokeZoomedListener(),o.events.trigger(function(){t.redrawGroup()},o.constants.EVENT_DELAY))}function Z(){var e,n,i,o,a;L&&L.transform(t.root(),(e=t.x().domain(),i=s,o=((n=l)[1]-n[0])/(e[1]-e[0]),a=-1*i(e[0]),r.d3.zoomIdentity.scale(o).translate(a,0)))}function J(t,e){return t&&2===t.length&&e&&2===e.length?((t[0]>e[1]||t[1]<e[0])&&console.warn("Could not intersect extents, will reset"),[t[0]>e[0]?t[0]:e[0],t[1]<e[1]?t[1]:e[1]]):t}return t.rescale=function(){return v=void 0,N=!0,t},t.resizing=function(){return N},t.rangeChart=function(e){return arguments.length?((b=e).focusChart(t),t):b},t.zoomScale=function(e){return arguments.length?(z=e,t):z},t.zoomOutRestrict=function(e){return arguments.length?(O=e,t):O},t._generateG=function(r){e=void 0===r?t.svg():r;var o=window.location.href.split("#")[0];return n=e.append("g"),i=n.append("g").attr("class","chart-body").attr("transform","translate("+t.margins().left+", "+t.margins().top+")").attr("clip-path","url("+o+"#"+Y()+")"),n},t.g=function(e){return arguments.length?(n=e,t):n},t.mouseZoomable=function(e){return arguments.length?(B=e,t):B},t.chartBodyG=function(e){return arguments.length?(i=e,t):i},t.x=function(e){return arguments.length?(l=(a=e).domain(),t.rescale(),t):a},t.xOriginalDomain=function(){return l},t.xUnits=function(e){return arguments.length?(x=e,t):x},t.xAxis=function(e){return arguments.length?(_=e,t):_},t.elasticX=function(e){return arguments.length?(C=e,t):C},t.xAxisPadding=function(e){return arguments.length?(w=e,t):w},t.xAxisPaddingUnit=function(e){return arguments.length?(k=e,t):k},t.xUnitCount=function(){return void 0===v&&(t.isOrdinal()?v=t.x().domain().length:(v=t.xUnits()(t.x().domain()[0],t.x().domain()[1]))instanceof Array&&(v=v.length)),v},t.useRightYAxis=function(e){return arguments.length?($!==e&&A&&o.logger.warn("Value of useRightYAxis has been altered, after yAxis was created. You might get unexpected yAxis behavior. Make calls to useRightYAxis sooner in your chart creation process."),$=e,t):$},t.isOrdinal=function(){return t.xUnits()===o.units.ordinal},t._useOuterPadding=function(){return!0},t._ordinalXDomain=function(){return t._computeOrderedGroups(t.data()).map(t.keyAccessor())},t.renderXAxis=function(e){var n=e.select("g.x");n.empty()&&(n=e.append("g").attr("class","axis x").attr("transform","translate("+t.margins().left+","+t._xAxisY()+")"));var i=e.select("text.x-axis-label");i.empty()&&t.xAxisLabel()&&(i=e.append("text").attr("class","x-axis-label").attr("transform","translate("+(t.margins().left+t.xAxisLength()/2)+","+(t.height()-F)+")").attr("text-anchor","middle")),t.xAxisLabel()&&i.text()!==t.xAxisLabel()&&i.text(t.xAxisLabel()),o.transition(n,t.transitionDuration(),t.transitionDelay()).attr("transform","translate("+t.margins().left+","+t._xAxisY()+")").call(_),o.transition(i,t.transitionDuration(),t.transitionDelay()).attr("transform","translate("+(t.margins().left+t.xAxisLength()/2)+","+(t.height()-F)+")")},t._xAxisY=function(){return t.height()-t.margins().bottom},t.xAxisLength=function(){return t.effectiveWidth()},t.xAxisLabel=function(e,n){return arguments.length?(f=e,t.margins().bottom-=F,F=void 0===n?12:n,t.margins().bottom+=F,t):f},t._prepareYAxis=function(e){if(void 0===d||t.elasticY()){void 0===d&&(d=r.d3.scaleLinear());var n=t.yAxisMin()||0,i=t.yAxisMax()||0;d.domain([n,i]).rangeRound([t.yAxisHeight(),0])}d.range([t.yAxisHeight(),0]),A||(A=G()),A.scale(d),t._renderHorizontalGridLinesForAxis(e,d,A)},t.renderYAxisLabel=function(e,n,i,r){r=r||M;var a=t.g().select("text.y-axis-label."+e+"-label"),s=t.margins().top+t.yAxisHeight()/2;a.empty()&&n&&(a=t.g().append("text").attr("transform","translate("+r+","+s+"),rotate("+i+")").attr("class","y-axis-label "+e+"-label").attr("text-anchor","middle").text(n)),n&&a.text()!==n&&a.text(n),o.transition(a,t.transitionDuration(),t.transitionDelay()).attr("transform","translate("+r+","+s+"),rotate("+i+")")},t.renderYAxisAt=function(e,n,i){var r=t.g().select("g."+e);r.empty()&&(r=t.g().append("g").attr("class","axis "+e).attr("transform","translate("+i+","+t.margins().top+")")),o.transition(r,t.transitionDuration(),t.transitionDelay()).attr("transform","translate("+i+","+t.margins().top+")").call(n)},t.renderYAxis=function(){var e=$?t.width()-t.margins().right:t._yAxisX();t.renderYAxisAt("y",A,e);var n=$?t.width()-M:M,i=$?90:-90;t.renderYAxisLabel("y",t.yAxisLabel(),i,n)},t._renderHorizontalGridLinesForAxis=function(e,n,i){var r=e.select("g.horizontal");if(I){var a=i.tickValues()?i.tickValues():n.ticks?n.ticks.apply(n,i.tickArguments()):n.domain();r.empty()&&(r=e.insert("g",":first-child").attr("class",c+" horizontal").attr("transform","translate("+t.margins().left+","+t.margins().top+")"));var s=r.selectAll("line").data(a),l=s.enter().append("line").attr("x1",1).attr("y1",function(t){return n(t)}).attr("x2",t.xAxisLength()).attr("y2",function(t){return n(t)}).attr("opacity",0);o.transition(l,t.transitionDuration(),t.transitionDelay()).attr("opacity",1);var u=l.merge(s);o.transition(u,t.transitionDuration(),t.transitionDelay()).attr("x1",1).attr("y1",function(t){return n(t)}).attr("x2",t.xAxisLength()).attr("y2",function(t){return n(t)}),s.exit().remove()}else r.selectAll("line").remove()},t._yAxisX=function(){return t.useRightYAxis()?t.width()-t.margins().right:t.margins().left},t.yAxisLabel=function(e,n){return arguments.length?(p=e,t.margins().left-=M,M=void 0===n?12:n,t.margins().left+=M,t):p},t.y=function(e){return arguments.length?(d=e,t.rescale(),t):d},t.yAxis=function(e){return arguments.length?(A=e,t):(A||(A=G()),A)},t.elasticY=function(e){return arguments.length?(D=e,t):D},t.renderHorizontalGridLines=function(e){return arguments.length?(I=e,t):I},t.renderVerticalGridLines=function(e){return arguments.length?(R=e,t):R},t.xAxisMin=function(){var e=r.d3.min(t.data(),function(e){return t.keyAccessor()(e)});return o.utils.subtract(e,w,k)},t.xAxisMax=function(){var e=r.d3.max(t.data(),function(e){return t.keyAccessor()(e)});return o.utils.add(e,w,k)},t.yAxisMin=function(){var e=r.d3.min(t.data(),function(e){return t.valueAccessor()(e)});return o.utils.subtract(e,S)},t.yAxisMax=function(){var e=r.d3.max(t.data(),function(e){return t.valueAccessor()(e)});return o.utils.add(e,S)},t.yAxisPadding=function(e){return arguments.length?(S=e,t):S},t.yAxisHeight=function(){return t.effectiveHeight()},t.round=function(e){return arguments.length?(m=e,t):m},t._rangeBandPadding=function(e){return arguments.length?(U=e,t):U},t._outerRangeBandPadding=function(e){return arguments.length?(q=e,t):q},o.override(t,"filter",function(e){return arguments.length?(t._filter(e),t.redrawBrush(e,!1),t):t._filter()}),t.brush=function(e){return arguments.length?(T=e,t):T},t.renderBrush=function(e,n){E&&(T.on("start brush end",t._brushing),g=e.append("g").attr("class","brush").attr("transform","translate("+t.margins().left+","+t.margins().top+")"),t.setBrushExtents(),t.createBrushHandlePaths(g,n),t.redrawBrush(t.filter(),n))},t.createBrushHandlePaths=function(e){var n=e.selectAll("path.custom-brush-handle").data([{type:"w"},{type:"e"}]);(n=n.enter().append("path").attr("class","custom-brush-handle").merge(n)).attr("d",t.resizeHandlePath)},t.extendBrush=function(e){return e&&t.round()&&(e[0]=t.round()(e[0]),e[1]=t.round()(e[1])),e},t.brushIsEmpty=function(t){return!t||t[1]<=t[0]},t._brushing=function(){if(r.d3.event.sourceEvent&&(!r.d3.event.sourceEvent.type||-1===["start","brush","end"].indexOf(r.d3.event.sourceEvent.type))){var e=r.d3.event.selection;e&&(e=e.map(t.x().invert)),e=t.extendBrush(e),t.redrawBrush(e,!1);var n=t.brushIsEmpty(e)?null:o.filters.RangedFilter(e[0],e[1]);o.events.trigger(function(){t.applyBrushSelection(n)},o.constants.EVENT_DELAY)}},t.applyBrushSelection=function(e){t.replaceFilter(e),t.redrawGroup()},t.setBrushExtents=function(e){T.extent([[0,0],[t.effectiveWidth(),t.effectiveHeight()]]),g.call(T)},t.redrawBrush=function(e,n){if(E&&g)if(N&&t.setBrushExtents(n),e){var i=[a(e[0]),a(e[1])],r=o.optionalTransition(n,t.transitionDuration(),t.transitionDelay())(g);r.call(T.move,i),r.selectAll("path.custom-brush-handle").attr("display",null).attr("transform",function(t,n){return"translate("+a(e[n])+", 0)"}).attr("d",t.resizeHandlePath)}else g.call(T.move,null),g.selectAll("path.custom-brush-handle").attr("display","none");t.fadeDeselectedArea(e)},t.fadeDeselectedArea=function(t){},t.resizeHandlePath=function(e){var n=+("e"===(e=e.type)),i=n?1:-1,r=t.effectiveHeight()/3;return"M"+.5*i+","+r+"A6,6 0 0 "+n+" "+6.5*i+","+(r+6)+"V"+(2*r-6)+"A6,6 0 0 "+n+" "+.5*i+","+2*r+"ZM"+2.5*i+","+(r+8)+"V"+(2*r-8)+"M"+4.5*i+","+(r+8)+"V"+(2*r-8)},t.clipPadding=function(e){return arguments.length?(W=e,t):W},t._preprocessData=function(){},t._doRender=function(){return t.resetSvg(),t._preprocessData(),t._generateG(),X(),K(!0),s=a.copy(),B?t._enableMouseZoom():H&&t._disableMouseZoom(),t},t._doRedraw=function(){return t._preprocessData(),K(!1),X(),t},t._enableMouseZoom=function(){H=!0;var e=[[0,0],[t.effectiveWidth(),t.effectiveHeight()]];if(L.scaleExtent(z).extent(e).duration(t.transitionDuration()),O){var n=Math.max(z[0],1);L.translateExtent(e).scaleExtent([n,z[1]])}t.root().call(L),Z()},t._disableMouseZoom=function(){t.root().call(j)},t.focus=function(t,e){O&&(t=J(t,l),b&&(t=J(t,b.x().domain()))),Q(t,e),Z()},t.refocused=function(){return!o.utils.arraysEqual(t.x().domain(),l)},t.focusChart=function(e){return arguments.length?(y=e,t.on("filtered.dcjs-range-chart",function(t){t.filter()?o.utils.arraysEqual(t.filter(),y.filter())||o.events.trigger(function(){y.focus(t.filter(),!0)}):o.events.trigger(function(){y.x().domain(y.xOriginalDomain(),!0)})}),t):y},t.brushOn=function(e){return arguments.length?(E=e,t):E},t.parentBrushOn=function(e){return arguments.length?(P=e,t):P},t.gBrush=function(){return g},t},o.stackMixin=function(t){function e(e,n){var i=e.accessor||t.valueAccessor();e.name=String(e.name||n);var r=e.group.all().map(function(n,r){return{x:t.keyAccessor()(n,r),y:e.hidden?null:i(n,r),data:n,layer:e.name,hidden:e.hidden}});e.domainValues=r.filter(function(){if(!t.x())return o.utils.constant(!0);var e=t.x().domain();if(t.isOrdinal())return function(){return!0};if(t.elasticX())return function(){return!0};return function(t){return t.x>=e[0]&&t.x<=e[e.length-1]}}()),e.values=t.evadeDomainFilter()?r:e.domainValues}var n=r.d3.stack(),i=[],a={},s=!1,l=!1;function c(t){var e=i.map(o.pluck("name")).indexOf(t);return i[e]}function u(){var e=t.data().map(function(t){return t.domainValues});return Array.prototype.concat.apply([],e)}function f(t){return!t.hidden}return t.stack=function(e,n,r){if(!arguments.length)return i;arguments.length<=2&&(r=n);var o={group:e};return"string"==typeof n&&(o.name=n),"function"==typeof r&&(o.accessor=r),i.push(o),t},o.override(t,"group",function(e,n,r){return arguments.length?(i=[],a={},t.stack(e,n),r&&t.valueAccessor(r),t._group(e,n)):t._group()}),t.hidableStacks=function(e){return arguments.length?(s=e,t):s},t.hideStack=function(e){var n=c(e);return n&&(n.hidden=!0),t},t.showStack=function(e){var n=c(e);return n&&(n.hidden=!1),t},t.getValueAccessorByIndex=function(e){return i[e].accessor||t.valueAccessor()},t.yAxisMin=function(){var e=r.d3.min(u(),function(t){return t.y<0?t.y+t.y0:t.y0});return o.utils.subtract(e,t.yAxisPadding())},t.yAxisMax=function(){var e=r.d3.max(u(),function(t){return t.y>0?t.y+t.y0:t.y0});return o.utils.add(e,t.yAxisPadding())},t.xAxisMin=function(){var e=r.d3.min(u(),o.pluck("x"));return o.utils.subtract(e,t.xAxisPadding(),t.xAxisPaddingUnit())},t.xAxisMax=function(){var e=r.d3.max(u(),o.pluck("x"));return o.utils.add(e,t.xAxisPadding(),t.xAxisPaddingUnit())},o.override(t,"title",function(e,n){return e?"function"==typeof e?t._title(e):e===t._groupName&&"function"==typeof n?t._title(n):"function"!=typeof n?a[e]||t._title():(a[e]=n,t):t._title()}),t.stackLayout=function(e){return arguments.length?(n=e,t):n},t.evadeDomainFilter=function(e){return arguments.length?(l=e,t):l},t.data(function(){var n=i.filter(f);if(!n.length)return[];n.forEach(e);var r=n[0].values.map(function(t,e){var i={x:t.x};return n.forEach(function(t){i[t.name]=t.values[e].y}),i}),o=n.map(function(t){return t.name});return t.stackLayout().keys(o)(r).forEach(function(t,e){t.forEach(function(t,i){n[e].values[i].y0=t[0],n[e].values[i].y1=t[1]})}),n}),t._ordinalXDomain=function(){var e=u().map(o.pluck("data"));return t._computeOrderedGroups(e).map(t.keyAccessor())},t.colorAccessor(function(t){return this.layer||this.name||t.name||t.layer}),t.legendables=function(){return i.map(function(e,n){return{chart:t,name:e.name,hidden:e.hidden||!1,color:t.getColor.call(e,e.values,n)}})},t.isLegendableHidden=function(t){var e=c(t.name);return!!e&&e.hidden},t.legendToggle=function(e){s&&(t.isLegendableHidden(e)?t.showStack(e.name):t.hideStack(e.name),t.renderGroup())},t},o.capMixin=function(t){var e=1/0,n=!0,i="Others";t.ordering(function(t){return-t.value});var a=function(e,n){var i=r.d3.sum(n,t.valueAccessor()),o=n.map(t.keyAccessor());return i>0?e.concat([{others:o,key:t.othersLabel(),value:i}]):e};return t.cappedKeyAccessor=function(e,n){return e.others?e.key:t.keyAccessor()(e,n)},t.cappedValueAccessor=function(e,n){return e.others?e.value:t.valueAccessor()(e,n)},t.data(function(i){if(e===1/0)return t._computeOrderedGroups(i.all());var r,o=i.all();if(o=t._computeOrderedGroups(o),e)if(n)r=o.slice(e),o=o.slice(0,e);else{var s=Math.max(0,o.length-e);r=o.slice(0,s),o=o.slice(s)}return a?a(o,r):o}),t.cap=function(n){return arguments.length?(e=n,t):e},t.takeFront=function(e){return arguments.length?(n=e,t):n},t.othersLabel=function(e){return arguments.length?(i=e,t):i},t.othersGrouper=function(e){return arguments.length?(a=e,t):a},o.override(t,"onClick",function(e){e.others&&t.filter([e.others]),t._onClick(e)}),t},o.bubbleMixin=function(t){var e=.3,n=10,i=!1,a=!1;t.BUBBLE_NODE_CLASS="node",t.BUBBLE_CLASS="bubble",t.MIN_RADIUS=10,(t=o.colorMixin(t)).renderLabel(!0),t.data(function(e){var n=e.all();if(i){var o=t.radiusValueAccessor();n.sort(function(t,e){return r.d3.descending(o(t),o(e))})}return n});var s=r.d3.scaleLinear().domain([0,100]),l=function(t){return t.r};t.r=function(e){return arguments.length?(s=e,t):s},t.elasticRadius=function(e){return arguments.length?(a=e,t):a},t.calculateRadiusDomain=function(){a&&t.r().domain([t.rMin(),t.rMax()])},t.radiusValueAccessor=function(e){return arguments.length?(l=e,t):l},t.rMin=function(){return r.d3.min(t.data(),function(e){return t.radiusValueAccessor()(e)})},t.rMax=function(){return r.d3.max(t.data(),function(e){return t.radiusValueAccessor()(e)})},t.bubbleR=function(e){var n=t.radiusValueAccessor()(e),i=t.r()(n);return(isNaN(i)||n<=0)&&(i=0),i};var c=function(e){return t.label()(e)},u=function(e){return t.bubbleR(e)>n},f=function(t){return u(t)?1:0},h=function(t){return u(t)?"all":"none"};t._doRenderLabel=function(e){if(t.renderLabel()){var n=e.select("text");n.empty()&&(n=e.append("text").attr("text-anchor","middle").attr("dy",".3em").on("click",t.onClick)),n.attr("opacity",0).attr("pointer-events",h).text(c),o.transition(n,t.transitionDuration(),t.transitionDelay()).attr("opacity",f)}},t.doUpdateLabels=function(e){if(t.renderLabel()){var n=e.select("text").attr("pointer-events",h).text(c);o.transition(n,t.transitionDuration(),t.transitionDelay()).attr("opacity",f)}};var d=function(e){return t.title()(e)};return t._doRenderTitles=function(e){t.renderTitle()&&(e.select("title").empty()&&e.append("title").text(d))},t.doUpdateTitles=function(e){t.renderTitle()&&e.select("title").text(d)},t.sortBubbleSize=function(e){return arguments.length?(i=e,t):i},t.minRadius=function(e){return arguments.length?(t.MIN_RADIUS=e,t):t.MIN_RADIUS},t.minRadiusWithLabel=function(e){return arguments.length?(n=e,t):n},t.maxBubbleRelativeSize=function(n){return arguments.length?(e=n,t):e},t.fadeDeselectedArea=function(e){t.hasFilter()?t.selectAll("g."+t.BUBBLE_NODE_CLASS).each(function(e){t.isSelectedNode(e)?t.highlightSelected(this):t.fadeDeselected(this)}):t.selectAll("g."+t.BUBBLE_NODE_CLASS).each(function(){t.resetHighlight(this)})},t.isSelectedNode=function(e){return t.hasFilter(e.key)},t.onClick=function(e){var n=e.key;o.events.trigger(function(){t.filter(n),t.redrawGroup()})},t},o.pieChart=function(t,e){var n,i,a,s,l,c,u="pie-slice",f="pie-label",h="pie-slice-group",d="pie-label-group",p="empty-chart",g="empty",m=0,v=0,b=.5,y=!1,_=o.capMixin(o.colorMixin(o.baseMixin({})));function x(){var t=r.d3.min([_.width(),_.height()])/2;n=i&&i<t?i:t;var e,s=F(),l=r.d3.pie().sort(null).value(_.cappedValueAccessor);if(r.d3.sum(_.data(),_.valueAccessor())?(e=l(_.data()),a.classed(p,!1)):(e=l([{key:g,value:1,others:[g]}]),a.classed(p,!0)),a){var m=a.select("g."+h).selectAll("g."+u).data(e),v=a.select("g."+d).selectAll("text."+f).data(e);!function(t,e){t.exit().remove(),e.exit().remove()}(m,v),function(t,e,n,i){var r=function(t){return t.enter().append("g").attr("class",function(t,e){return u+" _"+e})}(t);(function(t,e){var n=t.append("path").attr("fill",D).on("click",M).attr("d",function(t,n){return T(t,n,e)}),i=o.transition(n,_.transitionDuration(),_.transitionDelay());i.attrTween&&i.attrTween("d",S)})(r,n),function(t){_.renderTitle()&&t.append("title").text(function(t){return _.title()(t.data)})}(r),function(t,e,n){if(_.renderLabel()){var i=t.enter().append("text").attr("class",function(t,e){var n=u+" "+f+" _"+e;return c&&(n+=" external"),n}).on("click",M).on("mouseover",function(t,e){k(e,!0)}).on("mouseout",function(t,e){k(e,!1)});w(i,n),c&&y&&C(e,n)}}(e,i,n)}(m,v,s,e),function(t,e){(function(t,e){var n=a.selectAll("g."+u).data(t).select("path").attr("d",function(t,n){return T(t,n,e)}),i=o.transition(n,_.transitionDuration(),_.transitionDelay());i.attrTween&&i.attrTween("d",S);i.attr("fill",D)})(t,e),function(t,e){if(_.renderLabel()){var n=a.selectAll("text."+f).data(t);w(n,e),c&&y&&C(t,e)}}(t,e),function(t){_.renderTitle()&&a.selectAll("g."+u).data(t).select("title").text(function(t){return _.title()(t.data)})}(t)}(e,s),_.hasFilter()?_.selectAll("g."+u).each(function(t){A(t)?_.highlightSelected(this):_.fadeDeselected(this)}):_.selectAll("g."+u).each(function(){_.resetHighlight(this)}),o.transition(a,_.transitionDuration(),_.transitionDelay()).attr("transform","translate("+_.cx()+","+_.cy()+")")}}function w(t,e){_._applyLabelText(t),o.transition(t,_.transitionDuration(),_.transitionDelay()).attr("transform",function(t){return function(t,e){var i;i=c?r.d3.arc().outerRadius(n-v+c).innerRadius(n-v+c).centroid(t):e.centroid(t);return isNaN(i[0])||isNaN(i[1])?"translate(0,0)":"translate("+i+")"}(t,e)}).attr("text-anchor","middle")}function k(t,e){_.select("g.pie-slice._"+t).classed("highlight",e)}function C(t,e){var i=a.selectAll("polyline."+u).data(t);i.exit().remove(),i=i.enter().append("polyline").attr("class",function(t,e){return"pie-path _"+e+" "+u}).on("click",M).on("mouseover",function(t,e){k(e,!0)}).on("mouseout",function(t,e){k(e,!1)}).merge(i);var s=r.d3.arc().outerRadius(n-v+c).innerRadius(n-v),l=o.transition(i,_.transitionDuration(),_.transitionDelay());l.attrTween?l.attrTween("points",function(t){var n=this._current||t;n={startAngle:n.startAngle,endAngle:n.endAngle};var i=r.d3.interpolate(n,t);return this._current=i(0),function(t){var n=i(t);return[e.centroid(n),s.centroid(n)]}}):l.attr("points",function(t){return[e.centroid(t),s.centroid(t)]}),l.style("visibility",function(t){return t.endAngle-t.startAngle<1e-4?"hidden":"visible"})}function F(){return r.d3.arc().outerRadius(n-v).innerRadius(m)}function A(t){return _.hasFilter(_.cappedKeyAccessor(t.data))}function S(t){t.innerRadius=m;var e=this._current;e=function(t){return!t||isNaN(t.startAngle)||isNaN(t.endAngle)}(e)?{startAngle:0,endAngle:0}:{startAngle:e.startAngle,endAngle:e.endAngle};var n=r.d3.interpolate(e,t);return this._current=n(0),function(t){return T(n(t),0,F())}}function D(t,e){return _.getColor(t.data,e)}function M(t,e){a.attr("class")!==p&&_.onClick(t.data,e)}function T(t,e,n){var i=n(t,e);return i.indexOf("NaN")>=0&&(i="M0,0"),i}function E(t,e){_.selectAll("g.pie-slice").each(function(n){t.name===n.data.key&&r.d3.select(this).classed("highlight",e)})}return _.colorAccessor(_.cappedKeyAccessor),_.title(function(t){return _.cappedKeyAccessor(t)+": "+_.cappedValueAccessor(t)}),_.slicesCap=_.cap,_.label(_.cappedKeyAccessor),_.renderLabel(!0),_.transitionDuration(350),_.transitionDelay(0),_._doRender=function(){return _.resetSvg(),(a=_.svg().append("g").attr("transform","translate("+_.cx()+","+_.cy()+")")).append("g").attr("class",h),a.append("g").attr("class",d),x(),_},_._applyLabelText=function(t){t.text(function(t){return!function(t){return 0===_.cappedValueAccessor(t)}(t.data)&&!function(t){var e=t.endAngle-t.startAngle;return isNaN(e)||e<b}(t)||A(t)?_.label()(t.data):""})},_.externalRadiusPadding=function(t){return arguments.length?(v=t,_):v},_.innerRadius=function(t){return arguments.length?(m=t,_):m},_.radius=function(t){return arguments.length?(i=t,_):i},_.cx=function(t){return arguments.length?(s=t,_):s||_.width()/2},_.cy=function(t){return arguments.length?(l=t,_):l||_.height()/2},_._doRedraw=function(){return x(),_},_.minAngleForLabel=function(t){return arguments.length?(b=t,_):b},_.emptyTitle=function(t){return 0===arguments.length?g:(g=t,_)},_.externalLabels=function(t){return 0===arguments.length?c:(c=t||void 0,_)},_.drawPaths=function(t){return 0===arguments.length?y:(y=t,_)},_.legendables=function(){return _.data().map(function(t,e){var n={name:t.key,data:t.value,others:t.others,chart:_};return n.color=_.getColor(t,e),n})},_.legendHighlight=function(t){E(t,!0)},_.legendReset=function(t){E(t,!1)},_.legendToggle=function(t){_.onClick({key:t.name,others:t.others})},_.anchor(t,e)},o.sunburstChart=function(t,e){var n,i,a,s,l,c="pie-slice",u="empty-chart",f="empty",h=0,d=.5,p=o.capMixin(o.colorMixin(o.baseMixin({})));function g(t){return t.path?t.value:p.cappedValueAccessor(t)}function m(){n=n||r.d3.min([p.width(),p.height()])/2;var t,e=b();if(r.d3.sum(p.data(),p.valueAccessor())?((t=y(o.utils.toHierarchy(p.data(),p.valueAccessor()))).shift(),i.classed(u,!1)):(t=y(o.utils.toHierarchy([],function(t){return t.value})),i.classed(u,!0)),i){var a=i.selectAll("g."+c).data(t);!function(t,e,n){var r=function(t){return t.enter().append("g").attr("class",function(t,e){return c+" _"+e+" "+c+"-level-"+t.depth})}(t);(function(t,e){var n=t.append("path").attr("fill",x).on("click",k).attr("d",function(t,n){return C(t,n,e)}),i=o.transition(n,p.transitionDuration());i.attrTween&&i.attrTween("d",_)})(r,e),function(t){p.renderTitle()&&t.append("title").text(function(t){return p.title()(t)})}(r),function(t,e){if(p.renderLabel()){var n=i.selectAll("text."+c).data(t);n.exit().remove();var r=n.enter().append("text").attr("class",function(t,e){var n=c+" _"+e;return l&&(n+=" external"),n}).on("click",k);v(r,e)}}(n,e)}(a,e,t),function(t,e){(function(t,e){var n=i.selectAll("g."+c).data(t).select("path").attr("d",function(t,n){return C(t,n,e)}),r=o.transition(n,p.transitionDuration());r.attrTween&&r.attrTween("d",_);r.attr("fill",x)})(t,e),function(t,e){if(p.renderLabel()){var n=i.selectAll("text."+c).data(t);v(n,e)}}(t,e),function(t){p.renderTitle()&&i.selectAll("g."+c).data(t).select("title").text(function(t){return p.title()(t)})}(t)}(t,e),function(t){t.exit().remove()}(a),p.hasFilter()?p.selectAll("g."+c).each(function(t){!function(t){return function(t){for(var e=0;e<p.filters().length;e++){var n=p.filters()[e];if(n.isFiltered(t))return!0}return!1}(t.path)}(t)?p.fadeDeselected(this):p.highlightSelected(this)}):p.selectAll("g."+c).each(function(t){p.resetHighlight(this)})}}function v(t,e){o.transition(t,p.transitionDuration()).attr("transform",function(t){return function(t,e){var i;i=l?r.d3.svg.arc().outerRadius(n+l).innerRadius(n+l).centroid(t):e.centroid(t);return isNaN(i[0])||isNaN(i[1])?"translate(0,0)":"translate("+i+")"}(t,e)}).attr("text-anchor","middle").text(function(t){return function(t){return 0===g(t)}(t)||function(t){var e=t.x1-t.x0;return isNaN(e)||e<d}(t)?"":p.label()(t)})}function b(){return r.d3.arc().startAngle(function(t){return t.x0}).endAngle(function(t){return t.x1}).innerRadius(function(t){return t.data.path&&1===t.data.path.length?h:Math.sqrt(t.y0)}).outerRadius(function(t){return Math.sqrt(t.y1)})}function y(t){var e=r.d3.hierarchy(t).sum(function(t){return t.children?0:g(t)}).sort(function(t,e){return r.d3.ascending(t.data.path,e.data.path)});return r.d3.partition().size([2*Math.PI,n*n])(e),e.descendants().map(function(t){return t.key=t.data.key,t.path=t.data.path,t})}function _(t){t.innerRadius=h;var e=this._current;(function(t){return!t||isNaN(t.dx)||isNaN(t.dy)})(e)&&(e={x:0,y:0,dx:0,dy:0});var n={x:t.x,y:t.y,dx:t.dx,dy:t.dy},i=r.d3.interpolate(e,n);return this._current=i(0),function(e){return C(Object.assign({},t,i(e)),0,b())}}function x(t,e){return p.getColor(t,e)}function w(t){for(var e=t.path||t.key,n=o.filters.HierarchyFilter(e),i=function(t){for(var e=o.filters.HierarchyFilter(t),n=[],i=0;i<p.filters().length;i++){var r=p.filters()[i];(r.isFiltered(t)||e.isFiltered(r))&&n.push(r)}return n}(e),r=!1,a=i.length-1;a>=0;a--){var s=i[a];o.utils.arraysIdentical(s,e)&&(r=!0),p.filter(i[a])}o.events.trigger(function(){r||p.filter(n),p.redrawGroup()})}function k(t,e){i.attr("class")!==u&&w(t)}function C(t,e,n){var i=n(t,e);return i.indexOf("NaN")>=0&&(i="M0,0"),i}function F(t,e){p.selectAll("g.pie-slice").each(function(n){t.name===n.key&&r.d3.select(this).classed("highlight",e)})}return p.colorAccessor(p.cappedKeyAccessor),p.title(function(t){return p.cappedKeyAccessor(t)+": "+g(t)}),p.label(p.cappedKeyAccessor),p.renderLabel(!0),p.transitionDuration(350),p.filterHandler(function(t,e){return 0===e.length?t.filter(null):t.filterFunction(function(t){for(var n=0;n<e.length;n++){var i=e[n];if(i.isFiltered&&i.isFiltered(t))return!0}return!1}),e}),p._doRender=function(){return p.resetSvg(),i=p.svg().append("g").attr("transform","translate("+p.cx()+","+p.cy()+")"),m(),p},p.innerRadius=function(t){return arguments.length?(h=t,p):h},p.radius=function(t){return arguments.length?(n=t,p):n},p.cx=function(t){return arguments.length?(a=t,p):a||p.width()/2},p.cy=function(t){return arguments.length?(s=t,p):s||p.height()/2},p.minAngleForLabel=function(t){return arguments.length?(d=t,p):d},p.emptyTitle=function(t){return 0===arguments.length?f:(f=t,p)},p.externalLabels=function(t){return 0===arguments.length?l:(l=t||void 0,p)},p._doRedraw=function(){return m(),p},p.onClick=k,p.legendables=function(){return p.data().map(function(t,e){var n={name:t.key,data:t.value,others:t.others,chart:p};return n.color=p.getColor(t,e),n})},p.legendHighlight=function(t){F(t,!0)},p.legendReset=function(t){F(t,!1)},p.legendToggle=function(t){p.onClick({key:t.name,others:t.others})},p.anchor(t,e)},o.barChart=function(t,e){var n,i=1,a=3,s=o.stackMixin(o.coordinateGridMixin({})),l=2,c=!1,u=!1;function f(t){return o.utils.safeNumber(Math.abs(s.y()(t.y+t.y0)-s.y()(t.y0)))}function h(t){var e=s.x()(t.x);return c||(e+=n/2),s.isOrdinal()&&void 0!==l&&(e+=l/2),o.utils.safeNumber(e)}function d(t){var e=s.y()(t.y+t.y0);return t.y<0&&(e-=f(t)),o.utils.safeNumber(e-a)}function p(t){var e=s.x()(t.x);return c&&(e-=n/2),s.isOrdinal()&&void 0!==l&&(e+=l/2),o.utils.safeNumber(e)}function g(t,e){return function(){var n=r.d3.select(this).attr("fill")===t;return e?!n:n}}return o.override(s,"rescale",function(){return s._rescale(),n=void 0,s}),o.override(s,"render",function(){return s.round()&&c&&!u&&o.logger.warn("By default, brush rounding is disabled if bars are centered. See dc.js bar chart API documentation for details."),s._render()}),s.label(function(t){return o.utils.printSingleValue(t.y0+t.y)},!1),s.plotData=function(){var t=s.chartBodyG().selectAll("g.stack").data(s.data());!function(){if(void 0===n){var t=s.xUnitCount();((n=s.isOrdinal()&&void 0===l?Math.floor(s.x().bandwidth()):l?Math.floor((s.xAxisLength()-(t-1)*l)/t):Math.floor(s.xAxisLength()/(1+s.barPadding())/t))===1/0||isNaN(n)||n<i)&&(n=i)}}();var e=(t=t.enter().append("g").attr("class",function(t,e){return"stack _"+e}).merge(t)).size()-1;t.each(function(t,i){var a=r.d3.select(this);!function(t,e,i){var r=t.selectAll("rect.bar").data(i.values,o.pluck("x")),a=r.enter().append("rect").attr("class","bar").attr("fill",o.pluck("data",s.getColor)).attr("x",p).attr("y",s.yAxisHeight()).attr("height",0),l=a.merge(r);s.renderTitle()&&a.append("title").text(o.pluck("data",s.title(i.name)));s.isOrdinal()&&l.on("click",s.onClick);o.transition(l,s.transitionDuration(),s.transitionDelay()).attr("x",p).attr("y",function(t){var e=s.y()(t.y+t.y0);return t.y<0&&(e-=f(t)),o.utils.safeNumber(e)}).attr("width",n).attr("height",function(t){return f(t)}).attr("fill",o.pluck("data",s.getColor)).select("title").text(o.pluck("data",s.title(i.name))),o.transition(r.exit(),s.transitionDuration(),s.transitionDelay()).attr("x",function(t){return s.x()(t.x)}).attr("width",.9*n).remove()}(a,0,t),s.renderLabel()&&e===i&&function(t,e,n){var i=t.selectAll("text.barLabel").data(n.values,o.pluck("x")),r=i.enter().append("text").attr("class","barLabel").attr("text-anchor","middle").attr("x",h).attr("y",d).merge(i);s.isOrdinal()&&(r.on("click",s.onClick),r.attr("cursor","pointer"));o.transition(r,s.transitionDuration(),s.transitionDelay()).attr("x",h).attr("y",d).text(function(t){return s.label()(t)}),o.transition(i.exit(),s.transitionDuration(),s.transitionDelay()).attr("height",0).remove()}(a,0,t)})},s.fadeDeselectedArea=function(t){var e=s.chartBodyG().selectAll("rect.bar");if(s.isOrdinal())s.hasFilter()?(e.classed(o.constants.SELECTED_CLASS,function(t){return s.hasFilter(t.x)}),e.classed(o.constants.DESELECTED_CLASS,function(t){return!s.hasFilter(t.x)})):(e.classed(o.constants.SELECTED_CLASS,!1),e.classed(o.constants.DESELECTED_CLASS,!1));else if(s.brushOn()||s.parentBrushOn())if(s.brushIsEmpty(t))e.classed(o.constants.DESELECTED_CLASS,!1);else{var n=t[0],i=t[1];e.classed(o.constants.DESELECTED_CLASS,function(t){return t.x<n||t.x>=i})}},s.centerBar=function(t){return arguments.length?(c=t,s):c},o.override(s,"onClick",function(t){s._onClick(t.data)}),s.barPadding=function(t){return arguments.length?(s._rangeBandPadding(t),l=void 0,s):s._rangeBandPadding()},s._useOuterPadding=function(){return void 0===l},s.outerPadding=s._outerRangeBandPadding,s.gap=function(t){return arguments.length?(l=t,s):l},s.extendBrush=function(t){return t&&s.round()&&(!c||u)&&(t[0]=s.round()(t[0]),t[1]=s.round()(t[1])),t},s.alwaysUseRounding=function(t){return arguments.length?(u=t,s):u},s.legendHighlight=function(t){s.isLegendableHidden(t)||s.g().selectAll("rect.bar").classed("highlight",g(t.color)).classed("fadeout",g(t.color,!0))},s.legendReset=function(){s.g().selectAll("rect.bar").classed("highlight",!1).classed("fadeout",!1)},o.override(s,"xAxisMax",function(){var t=this._xAxisMax();"resolution"in s.xUnits()&&(t+=s.xUnits().resolution);return t}),s.anchor(t,e)},o.lineChart=function(t,e){var n,i,a="dc-tooltip",s="dot",l="yRef",c="xRef",u=3,f=o.stackMixin(o.coordinateGridMixin({})),h=!1,d=5,p=null,g=1e-6,m=1e-6,v=null,b=null,y=null,_=!0;function x(t,e){return f.getColor.call(t,t.values,e)}function w(){var t=null;if(v)return v;"function"==typeof b?t=b:t={linear:r.d3.curveLinear,"linear-closed":r.d3.curveLinearClosed,step:r.d3.curveStep,"step-before":r.d3.curveStepBefore,"step-after":r.d3.curveStepAfter,basis:r.d3.curveBasis,"basis-open":r.d3.curveBasisOpen,"basis-closed":r.d3.curveBasisClosed,bundle:r.d3.curveBundle,cardinal:r.d3.curveCardinal,"cardinal-open":r.d3.curveCardinalOpen,"cardinal-closed":r.d3.curveCardinalClosed,monotone:r.d3.curveMonotoneX}[b];return t||(t=r.d3.curveLinear),null!==y&&("function"!=typeof t.tension?o.logger.warn("tension was specified but the curve/interpolate does not support it."):t=t.tension(y)),t}function k(t){return!t||t.indexOf("NaN")>=0?"M0,0":t}function C(){return p||d}function F(t,e){f.renderTitle()&&(t.select("title").remove(),t.append("title").text(o.pluck("data",f.title(e.name))))}function A(t,e,n){return function(){var i=r.d3.select(this),o=i.attr("stroke")===t&&i.attr("stroke-dasharray")===(e instanceof Array?e.join(","):null)||i.attr("fill")===t;return n?!o:o}}return f.transitionDuration(500),f.transitionDelay(0),f._rangeBandPadding(1),f.plotData=function(){var t=f.chartBodyG(),e=t.select("g.stack-list");e.empty()&&(e=t.append("g").attr("class","stack-list"));var p=e.selectAll("g.stack").data(f.data()),v=p.enter().append("g").attr("class",function(t,e){return"stack _"+e});(function(t,e){var a=r.d3.line().x(function(t){return f.x()(t.x)}).y(function(t){return f.y()(t.y+t.y0)}).curve(w());n&&a.defined(n);var s=t.append("path").attr("class","line").attr("stroke",x);i&&s.attr("stroke-dasharray",i);o.transition(e.select("path.line"),f.transitionDuration(),f.transitionDelay()).attr("stroke",x).attr("d",function(t){return k(a(t.values))})})(v,p=v.merge(p)),function(t,e){if(h){var i=r.d3.area().x(function(t){return f.x()(t.x)}).y1(function(t){return f.y()(t.y+t.y0)}).y0(function(t){return f.y()(t.y0)}).curve(w());n&&i.defined(n),t.append("path").attr("class","area").attr("fill",x).attr("d",function(t){return k(i(t.values))}),o.transition(e.select("path.area"),f.transitionDuration(),f.transitionDelay()).attr("fill",x).attr("d",function(t){return k(i(t.values))})}}(v,p),function(t,e){if("always"===f.xyTipsOn()||!f.brushOn()&&!f.parentBrushOn()&&f.xyTipsOn()){var i=a+"-list",u=t.select("g."+i);u.empty()&&(u=t.append("g").attr("class",i)),e.each(function(t,e){var i=t.values;n&&(i=i.filter(n));var h=u.select("g."+a+"._"+e);h.empty()&&(h=u.append("g").attr("class",a+" _"+e)),function(t){(t.select("path."+l).empty()?t.append("path").attr("class",l):t.select("path."+l)).style("display","none").attr("stroke-dasharray","5,5"),(t.select("path."+c).empty()?t.append("path").attr("class",c):t.select("path."+c)).style("display","none").attr("stroke-dasharray","5,5")}(h);var p=h.selectAll("circle."+s).data(i,o.pluck("x")),v=p.enter().append("circle").attr("class",s).attr("cx",function(t){return o.utils.safeNumber(f.x()(t.x))}).attr("cy",function(t){return o.utils.safeNumber(f.y()(t.y+t.y0))}).attr("r",C()).style("fill-opacity",g).style("stroke-opacity",m).attr("fill",f.getColor).attr("stroke",f.getColor).on("mousemove",function(){var t=r.d3.select(this);!function(t){t.style("fill-opacity",.8),t.style("stroke-opacity",.8),t.attr("r",d)}(t),function(t,e){var n=t.attr("cx"),i=t.attr("cy"),r="M"+(f._yAxisX()-f.margins().left)+" "+i+"L"+n+" "+i,o="M"+n+" "+f.yAxisHeight()+"L"+n+" "+i;e.select("path."+l).style("display","").attr("d",r),e.select("path."+c).style("display","").attr("d",o)}(t,h)}).on("mouseout",function(){var t=r.d3.select(this);!function(t){t.style("fill-opacity",g).style("stroke-opacity",m).attr("r",C())}(t),function(t){t.select("path."+l).style("display","none"),t.select("path."+c).style("display","none")}(h)}).merge(p);v.call(F,t),o.transition(v,f.transitionDuration()).attr("cx",function(t){return o.utils.safeNumber(f.x()(t.x))}).attr("cy",function(t){return o.utils.safeNumber(f.y()(t.y+t.y0))}).attr("fill",f.getColor),p.exit().remove()})}}(t,p),f.renderLabel()&&function(t){t.each(function(t,e){var n=r.d3.select(this),i=n.selectAll("text.lineLabel").data(t.values,o.pluck("x")),a=i.enter().append("text").attr("class","lineLabel").attr("text-anchor","middle").merge(i);o.transition(a,f.transitionDuration()).attr("x",function(t){return o.utils.safeNumber(f.x()(t.x))}).attr("y",function(t){var e=f.y()(t.y+t.y0)-u;return o.utils.safeNumber(e)}).text(function(t){return f.label()(t)}),o.transition(i.exit(),f.transitionDuration()).attr("height",0).remove()})}(p)},f.curve=function(t){return arguments.length?(v=t,f):v},f.interpolate=o.logger.deprecate(function(t){return arguments.length?(b=t,f):b},"dc.lineChart.interpolate has been deprecated since version 3.0 use dc.lineChart.curve instead"),f.tension=o.logger.deprecate(function(t){return arguments.length?(y=t,f):y},"dc.lineChart.tension has been deprecated since version 3.0 use dc.lineChart.curve instead"),f.defined=function(t){return arguments.length?(n=t,f):n},f.dashStyle=function(t){return arguments.length?(i=t,f):i},f.renderArea=function(t){return arguments.length?(h=t,f):h},f.label(function(t){return o.utils.printSingleValue(t.y0+t.y)},!1),f.xyTipsOn=function(t){return arguments.length?(_=t,f):_},f.dotRadius=function(t){return arguments.length?(d=t,f):d},f.renderDataPoints=function(t){return arguments.length?(t?(g=t.fillOpacity||.8,m=t.strokeOpacity||0,p=t.radius||2):(g=1e-6,m=1e-6,p=null),f):{fillOpacity:g,strokeOpacity:m,radius:p}},f.legendHighlight=function(t){f.isLegendableHidden(t)||f.g().selectAll("path.line, path.area").classed("highlight",A(t.color,t.dashstyle)).classed("fadeout",A(t.color,t.dashstyle,!0))},f.legendReset=function(){f.g().selectAll("path.line, path.area").classed("highlight",!1).classed("fadeout",!1)},o.override(f,"legendables",function(){var t=f._legendables();return i?t.map(function(t){return t.dashstyle=i,t}):t}),f.anchor(t,e)},o.dataCount=function(t,e){var n=r.d3.format(",d"),i=o.baseMixin({}),a={some:"",all:""};return i.html=function(t){return arguments.length?(t.all&&(a.all=t.all),t.some&&(a.some=t.some),i):a},i.formatNumber=function(t){return arguments.length?(n=t,i):n},i._doRender=function(){var t=i.dimension().size(),e=i.group().value(),r=n(t),o=n(e);return t===e&&""!==a.all?i.root().html(a.all.replace("%total-count",r).replace("%filter-count",o)):""!==a.some?i.root().html(a.some.replace("%total-count",r).replace("%filter-count",o)):(i.selectAll(".total-count").text(r),i.selectAll(".filter-count").text(o)),i},i._doRedraw=function(){return i._doRender()},i.anchor(t,e)},o.dataTable=function(t,e){var n,i="dc-table-label",a="dc-table-row",s="dc-table-column",l="dc-table-group",c="dc-table-head",u=o.baseMixin({}),f=25,h=[],d=function(t){return t},p=r.d3.ascending,g=0,m=!0;return u._doRender=function(){var t,e,o;return u.selectAll("tbody").remove(),t=function(){var t=!0;if(h.forEach(function(e){t&="function"==typeof e}),!t){var e=u.selectAll("thead").data([0]);e.exit().remove();var o=(e=e.enter().append("thead").merge(e)).selectAll("tr").data([0]);o.exit().remove();var a=(o=o.enter().append("tr").merge(o)).selectAll("th").data(h);a.exit().remove(),a.enter().append("th").merge(a).attr("class",c).html(function(t){return u._doColumnHeaderFormat(t)})}var s=u.root().selectAll("tbody").data(function(){var t;t=p===r.d3.ascending?u.dimension().bottom(f):u.dimension().top(f);return r.d3.nest().key(u.group()).sortKeys(p).entries(t.sort(function(t,e){return p(d(t),d(e))}).slice(g,n))}(),function(t){return u.keyAccessor()(t)}),v=s.enter().append("tbody");!0===m&&v.append("tr").attr("class",l).append("td").attr("class",i).attr("colspan",h.length).html(function(t){return u.keyAccessor()(t)});return s.exit().remove(),v}(),e=t.order().selectAll("tr."+a).data(function(t){return t.values}),o=e.enter().append("tr").attr("class",a),h.forEach(function(t,e){o.append("td").attr("class",s+" _"+e).html(function(e){return u._doColumnValueFormat(t,e)})}),e.exit().remove(),u},u._doColumnValueFormat=function(t,e){return"function"==typeof t?t(e):"string"==typeof t?e[t]:t.format(e)},u._doColumnHeaderFormat=function(t){return"function"==typeof t?u._doColumnHeaderFnToString(t):"string"==typeof t?u._doColumnHeaderCapitalize(t):String(t.label)},u._doColumnHeaderCapitalize=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},u._doColumnHeaderFnToString=function(t){var e=String(t),n=e.indexOf("return ");if(n>=0){var i=e.lastIndexOf(";");if(i>=0)(e=e.substring(n+7,i)).indexOf("numberFormat")>=0&&(e=e.replace("numberFormat",""))}return e},u._doRedraw=function(){return u._doRender()},u.size=function(t){return arguments.length?(f=t,u):f},u.beginSlice=function(t){return arguments.length?(g=t,u):g},u.endSlice=function(t){return arguments.length?(n=t,u):n},u.columns=function(t){return arguments.length?(h=t,u):h},u.sortBy=function(t){return arguments.length?(d=t,u):d},u.order=function(t){return arguments.length?(p=t,u):p},u.showGroups=function(t){return arguments.length?(m=t,u):m},u.anchor(t,e)},o.dataGrid=function(t,e){var n,i="dc-grid-item",a="dc-grid-top",s=o.baseMixin({}),l=999,c=function(t){return"you need to provide an html() handling param:  "+JSON.stringify(t)},u=function(t){return t},f=r.d3.ascending,h=0,d=function(t){return"<div class='dc-grid-group'><h1 class='dc-grid-label'>"+s.keyAccessor()(t)+"</h1></div>"};return s._doRender=function(){var t,e;return s.selectAll("div."+a).remove(),t=function(){var t=s.root().selectAll("div."+a).data((i=s.dimension().top(l),r.d3.nest().key(s.group()).sortKeys(f).entries(i.sort(function(t,e){return f(u(t),u(e))}).slice(h,n))),function(t){return s.keyAccessor()(t)}),e=t.enter().append("div").attr("class",a);var i;d&&e.html(function(t){return d(t)});return t.exit().remove(),e}(),(e=t.order().selectAll("div."+i).data(function(t){return t.values})).exit().remove(),e=e.enter().append("div").attr("class",i).html(function(t){return c(t)}).merge(e),s},s._doRedraw=function(){return s._doRender()},s.beginSlice=function(t){return arguments.length?(h=t,s):h},s.endSlice=function(t){return arguments.length?(n=t,s):n},s.size=function(t){return arguments.length?(l=t,s):l},s.html=function(t){return arguments.length?(c=t,s):c},s.htmlGroup=function(t){return arguments.length?(d=t,s):d},s.sortBy=function(t){return arguments.length?(u=t,s):u},s.order=function(t){return arguments.length?(f=t,s):f},s.anchor(t,e)},o.bubbleChart=function(t,e){var n=o.bubbleMixin(o.coordinateGridMixin({}));n.transitionDuration(750),n.transitionDelay(0);var i=function(t){return"translate("+function(t){var e=n.x()(n.keyAccessor()(t));!isNaN(e)&&isFinite(e)||(e=0);return e}(t)+","+function(t){var e=n.y()(n.valueAccessor()(t));!isNaN(e)&&isFinite(e)||(e=0);return e}(t)+")"};return n.plotData=function(){n.calculateRadiusDomain(),n.r().range([n.MIN_RADIUS,n.xAxisLength()*n.maxBubbleRelativeSize()]);var t=n.data(),e=n.chartBodyG().selectAll("g."+n.BUBBLE_NODE_CLASS).data(t,function(t){return t.key});n.sortBubbleSize()&&e.order(),function(t){t.exit().remove()}(e),function(t){o.transition(t,n.transitionDuration(),n.transitionDelay()).attr("transform",i).select("circle."+n.BUBBLE_CLASS).attr("fill",n.getColor).attr("r",function(t){return n.bubbleR(t)}).attr("opacity",function(t){return n.bubbleR(t)>0?1:0}),n.doUpdateLabels(t),n.doUpdateTitles(t)}(e=function(t){var e=t.enter().append("g");return e.attr("class",n.BUBBLE_NODE_CLASS).attr("transform",i).append("circle").attr("class",function(t,e){return n.BUBBLE_CLASS+" _"+e}).on("click",n.onClick).attr("fill",n.getColor).attr("r",0),t=e.merge(t),o.transition(t,n.transitionDuration(),n.transitionDelay()).select("circle."+n.BUBBLE_CLASS).attr("r",function(t){return n.bubbleR(t)}).attr("opacity",function(t){return n.bubbleR(t)>0?1:0}),n._doRenderLabel(e),n._doRenderTitles(e),t}(e)),n.fadeDeselectedArea(n.filter())},n.renderBrush=function(){},n.redrawBrush=function(t,e){n.fadeDeselectedArea(t)},n.anchor(t,e)},o.compositeChart=function(t,e){var n,i="sub",a=o.coordinateGridMixin({}),s=[],l={},c=!1,u=!0,f=!1,h=r.d3.axisRight(),d=0,p=12,g=!1;function m(t,e){t._generateG(a.g()),t.g().attr("class",i+" _"+e)}function v(){return s.filter(function(t){return!t.useRightYAxis()})}function b(){return s.filter(function(t){return t.useRightYAxis()})}function y(t){return t.map(function(t){return t.yAxisMin()})}function _(t){return t.map(function(t){return t.yAxisMax()})}return a._mandatoryAttributes([]),a.transitionDuration(500),a.transitionDelay(0),o.override(a,"_generateG",function(){for(var t=this.__generateG(),e=0;e<s.length;++e){var n=s[e];m(n,e),n.dimension()||n.dimension(a.dimension()),n.group()||n.group(a.group()),n.chartGroup(a.chartGroup()),n.svg(a.svg()),n.xUnits(a.xUnits()),n.transitionDuration(a.transitionDuration(),a.transitionDelay()),n.parentBrushOn(a.brushOn()),n.brushOn(!1),n.renderTitle(a.renderTitle()),n.elasticX(a.elasticX())}return t}),a.on("filtered.dcjs-composite-chart",function(t){for(var e=0;e<s.length;++e)s[e].replaceFilter(a.filter())}),a._prepareYAxis=function(){var t=0!==v().length,e=0!==b().length,i=function(t,e){var n,i,s,l,c;t&&(n=r.d3.min(y(v())),i=o.utils.add(r.d3.max(_(v())),a.yAxisPadding()));e&&(s=r.d3.min(y(b())),l=o.utils.add(r.d3.max(_(b())),a.yAxisPadding()));a.alignYAxes()&&t&&e&&(c=function(t,e,n,i){var r=(i-n)/(e-t);return{lyAxisMin:Math.min(t,n/r),lyAxisMax:Math.max(e,i/r),ryAxisMin:Math.min(n,t*r),ryAxisMax:Math.max(i,e*r)}}(n,i,s,l));return c||{lyAxisMin:n,lyAxisMax:i,ryAxisMin:s,ryAxisMax:l}}(t,e);t&&function(t){var e=void 0===a.y()||a.elasticY(),n=e||a.resizing();void 0===a.y()&&a.y(r.d3.scaleLinear());e&&a.y().domain([t.lyAxisMin,t.lyAxisMax]);n&&a.y().rangeRound([a.yAxisHeight(),0]);a.y().range([a.yAxisHeight(),0]),a.yAxis(a.yAxis().scale(a.y()))}(i),e&&function(t){var e=void 0===a.rightY()||a.elasticY(),n=e||a.resizing();void 0===a.rightY()&&a.rightY(r.d3.scaleLinear());e&&a.rightY().domain([t.ryAxisMin,t.ryAxisMax]);n&&a.rightY().rangeRound([a.yAxisHeight(),0]);a.rightY().range([a.yAxisHeight(),0]),a.rightYAxis(a.rightYAxis().scale(a.rightY()))}(i),v().length>0&&!g?a._renderHorizontalGridLinesForAxis(a.g(),a.y(),a.yAxis()):b().length>0&&a._renderHorizontalGridLinesForAxis(a.g(),n,h)},a.renderYAxis=function(){0!==v().length&&(a.renderYAxisAt("y",a.yAxis(),a.margins().left),a.renderYAxisLabel("y",a.yAxisLabel(),-90)),0!==b().length&&(a.renderYAxisAt("yr",a.rightYAxis(),a.width()-a.margins().right),a.renderYAxisLabel("yr",a.rightYAxisLabel(),90,a.width()-p))},a.plotData=function(){for(var t=0;t<s.length;++t){var e=s[t];e.g()||m(e,t),c&&e.colors(a.colors()),e.x(a.x()),e.xAxis(a.xAxis()),e.useRightYAxis()?(e.y(a.rightY()),e.yAxis(a.rightYAxis())):(e.y(a.y()),e.yAxis(a.yAxis())),e.plotData(),e._activateRenderlets()}},a.useRightAxisGridLines=function(t){return arguments?(g=t,a):g},a.childOptions=function(t){return arguments.length?(l=t,s.forEach(function(t){t.options(l)}),a):l},a.fadeDeselectedArea=function(t){if(a.brushOn())for(var e=0;e<s.length;++e){s[e].fadeDeselectedArea(t)}},a.rightYAxisLabel=function(t,e){return arguments.length?(d=t,a.margins().right-=p,p=void 0===e?12:e,a.margins().right+=p,a):d},a.compose=function(t){return(s=t).forEach(function(t){t.height(a.height()),t.width(a.width()),t.margins(a.margins()),u&&t.title(a.title()),t.options(l)}),a},a.children=function(){return s},a.shareColors=function(t){return arguments.length?(c=t,a):c},a.shareTitle=function(t){return arguments.length?(u=t,a):u},a.rightY=function(t){return arguments.length?(n=t,a.rescale(),a):n},a.alignYAxes=function(t){return arguments.length?(f=t,a.rescale(),a):f},delete a.yAxisMin,delete a.yAxisMax,o.override(a,"xAxisMin",function(){return o.utils.subtract(r.d3.min(s.map(function(t){return t.xAxisMin()})),a.xAxisPadding(),a.xAxisPaddingUnit())}),o.override(a,"xAxisMax",function(){return o.utils.add(r.d3.max(s.map(function(t){return t.xAxisMax()})),a.xAxisPadding(),a.xAxisPaddingUnit())}),a.legendables=function(){return s.reduce(function(t,e){return c&&e.colors(a.colors()),t.push.apply(t,e.legendables()),t},[])},a.legendHighlight=function(t){for(var e=0;e<s.length;++e){s[e].legendHighlight(t)}},a.legendReset=function(t){for(var e=0;e<s.length;++e){s[e].legendReset(t)}},a.legendToggle=function(){console.log("composite should not be getting legendToggle itself")},a.rightYAxis=function(t){return arguments.length?(h=t,a):h},a.anchor(t,e)},o.seriesChart=function(t,e){var n=o.compositeChart(t,e);var i,a={},s=o.lineChart,l=r.d3.ascending,c=function(t,e){return r.d3.ascending(n.keyAccessor()(t),n.keyAccessor()(e))};function u(t){a[t].g()&&a[t].g().remove(),delete a[t]}function f(){Object.keys(a).map(u),a={}}return n._mandatoryAttributes().push("seriesAccessor","chart"),n.shareColors(!0),n._preprocessData=function(){var t,f=[],h=r.d3.nest().key(i);l&&h.sortKeys(l),c&&h.sortValues(c);var d=h.entries(n.data()).map(function(i,r){var l=a[i.key]||s.call(n,n,e,i.key,r);return a[i.key]||(t=!0),a[i.key]=l,f.push(i.key),l.dimension(n.dimension()).group({all:"function"==typeof i.values?i.values:o.utils.constant(i.values)},i.key).keyAccessor(n.keyAccessor()).valueAccessor(n.valueAccessor()).brushOn(!1)});Object.keys(a).filter(function(t){return-1===f.indexOf(t)}).forEach(function(e){u(e),t=!0}),n._compose(d),t&&n.legend()&&n.legend().render()},n.chart=function(t){return arguments.length?(s=t,f(),n):s},n.seriesAccessor=function(t){return arguments.length?(i=t,f(),n):i},n.seriesSort=function(t){return arguments.length?(l=t,f(),n):l},n.valueSort=function(t){return arguments.length?(c=t,f(),n):c},n._compose=n.compose,delete n.compose,n},o.geoChoroplethChart=function(t,e){var n=o.colorMixin(o.baseMixin({}));n.colorAccessor(function(t){return t||0});var i,a,s=r.d3.geoPath(),l=[];function c(t){var e=function(){for(var t={},e=n.data(),i=0;i<e.length;++i)t[n.keyAccessor()(e[i])]=n.valueAccessor()(e[i]);return t}();if(function(t){return d(t).keyAccessor}(t)){var i=function(t){return n.svg().selectAll(function(t){return"g.layer"+t+" g."+d(t).name}(t)).classed("selected",function(e){return u(t,e)}).classed("deselected",function(e){return f(t,e)}).attr("class",function(e){var n=d(t).name,i=o.utils.nameToId(d(t).keyAccessor(e)),r=n+" "+i;return u(t,e)&&(r+=" selected"),f(t,e)&&(r+=" deselected"),r})}(t);!function(t,e,i){var a=t.select("path").attr("fill",function(){var t=r.d3.select(this).attr("fill");return t||"none"}).on("click",function(t){return n.onClick(t,e)});o.transition(a,n.transitionDuration(),n.transitionDelay()).attr("fill",function(t,r){return n.getColor(i[d(e).keyAccessor(t)],r)})}(i,t,e),function(t,e,i){n.renderTitle()&&t.selectAll("title").text(function(t){var r=h(e,t),o=i[r];return n.title()({key:r,value:o})})}(i,t,e)}}function u(t,e){return n.hasFilter()&&n.hasFilter(h(t,e))}function f(t,e){return n.hasFilter()&&!n.hasFilter(h(t,e))}function h(t,e){return d(t).keyAccessor(e)}function d(t){return l[t]}n._doRender=function(){n.resetSvg();for(var t=0;t<l.length;++t){var e=n.svg().append("g").attr("class","layer"+t).selectAll("g."+d(t).name).data(d(t).data);(e=e.enter().append("g").attr("class",d(t).name).merge(e)).append("path").attr("fill","white").attr("d",p()),e.append("title"),c(t)}i=!1},n.onClick=function(t,e){var i=d(e).keyAccessor(t);o.events.trigger(function(){n.filter(i),n.redrawGroup()})},n._doRedraw=function(){for(var t=0;t<l.length;++t)c(t),i&&n.svg().selectAll("g."+d(t).name+" path").attr("d",p());i=!1},n.overlayGeoJson=function(t,e,i){for(var r=0;r<l.length;++r)if(l[r].name===e)return l[r].data=t,l[r].keyAccessor=i,n;return l.push({name:e,data:t,keyAccessor:i}),n},n.projection=function(t){return arguments.length?(a=t,i=!0,n):a};var p=function(){return void 0===a?(o.logger.warn("choropleth projection default of geoAlbers is deprecated, in next version projection will need to be set explicitly"),s.projection(r.d3.geoAlbersUsa())):s.projection(a)};return n.geoJsons=function(){return l},n.geoPath=function(){return s},n.removeGeoJson=function(t){for(var e=[],i=0;i<l.length;++i){var r=l[i];r.name!==t&&e.push(r)}return l=e,n},n.anchor(t,e)},o.bubbleOverlay=function(t,e){var n,i="bubble-overlay",a="node",s="bubble",l=o.bubbleMixin(o.baseMixin({})),c=[];function u(){var t={};return l.data().forEach(function(e){t[l.keyAccessor()(e)]=e}),t}function f(t,e){var i=a+" "+o.utils.nameToId(t.name),r=n.select("g."+o.utils.nameToId(t.name));return r.empty()&&(r=n.append("g").attr("class",i).attr("transform","translate("+t.x+","+t.y+")")),r.datum(e[t.name]),r}return l.transitionDuration(750),l.transitionDelay(0),l.radiusValueAccessor(function(t){return t.value}),l.point=function(t,e,n){return c.push({name:t,x:e,y:n}),l},l._doRender=function(){var t;return n=function(){(n=l.select("g."+i)).empty()&&(n=l.svg().append("g").attr("class",i));return n}(),l.r().range([l.MIN_RADIUS,l.width()*l.maxBubbleRelativeSize()]),t=u(),l.calculateRadiusDomain(),c.forEach(function(e){var n=f(e,t),i=n.select("circle."+s);i.empty()&&(i=n.append("circle").attr("class",s).attr("r",0).attr("fill",l.getColor).on("click",l.onClick)),o.transition(i,l.transitionDuration(),l.transitionDelay()).attr("r",function(t){return l.bubbleR(t)}),l._doRenderLabel(n),l._doRenderTitles(n)}),l.fadeDeselectedArea(l.filter()),l},l._doRedraw=function(){var t;return t=u(),l.calculateRadiusDomain(),c.forEach(function(e){var n=f(e,t),i=n.select("circle."+s);o.transition(i,l.transitionDuration(),l.transitionDelay()).attr("r",function(t){return l.bubbleR(t)}).attr("fill",l.getColor),l.doUpdateLabels(n),l.doUpdateTitles(n)}),l.fadeDeselectedArea(l.filter()),l},l.debug=function(t){if(t){var e=l.select("g."+o.constants.DEBUG_GROUP_CLASS);e.empty()&&(e=l.svg().append("g").attr("class",o.constants.DEBUG_GROUP_CLASS));var n=e.append("text").attr("x",10).attr("y",20);e.append("rect").attr("width",l.width()).attr("height",l.height()).on("mousemove",function(){var t=r.d3.mouse(e.node()),i=t[0]+", "+t[1];n.text(i)})}else l.selectAll(".debug").remove();return l},l.anchor(t,e),l},o.rowChart=function(t,e){var n,i,a,s,l=10,c=15,u=!1,f="0.35em",h=2,d=5,p=!1,g="row",m="titlerow",v=!1,b=o.capMixin(o.marginMixin(o.colorMixin(o.baseMixin({})))),y=r.d3.axisBottom();function _(){var t=n.select("g.axis");!function(){if(!i||a){var t=r.d3.extent(s,b.cappedValueAccessor);t[0]>0&&(t[0]=0),t[1]<0&&(t[1]=0),i=r.d3.scaleLinear().domain(t).range([0,b.effectiveWidth()])}y.scale(i)}(),t.empty()&&(t=n.append("g").attr("class","axis")),t.attr("transform","translate(0, "+b.effectiveHeight()+")"),o.transition(t,b.transitionDuration(),b.transitionDelay()).call(y)}function x(){s=b.data(),_(),n.selectAll("g.tick").select("line.grid-line").remove(),n.selectAll("g.tick").append("line").attr("class","grid-line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",function(){return-b.effectiveHeight()});var t=n.selectAll("g."+g).data(s);!function(t){t.exit().remove()}(t),function(t){var e,n=s.length;e=p||(b.effectiveHeight()-(n+1)*d)/n;u||(c=e/2);var r=t.attr("transform",function(t,n){return"translate(0,"+((n+1)*d+n*e)+")"}).select("rect").attr("height",e).attr("fill",b.getColor).on("click",k).classed("deselected",function(t){return!!b.hasFilter()&&!F(t)}).classed("selected",function(t){return!!b.hasFilter()&&F(t)});o.transition(r,b.transitionDuration(),b.transitionDelay()).attr("width",function(t){return Math.abs(w()-i(b.valueAccessor()(t)))}).attr("transform",C),function(t){b.renderTitle()&&(t.select("title").remove(),t.append("title").text(b.title()))}(t),function(t){if(b.renderLabel()){var e=t.select("text").attr("x",l).attr("y",c).attr("dy",f).on("click",k).attr("class",function(t,e){return g+" _"+e}).text(function(t){return b.label()(t)});o.transition(e,b.transitionDuration(),b.transitionDelay()).attr("transform",C)}if(b.renderTitleLabel()){var n=t.select("."+m).attr("x",b.effectiveWidth()-h).attr("y",c).attr("dy",f).attr("text-anchor","end").on("click",k).attr("class",function(t,e){return m+" _"+e}).text(function(t){return b.title()(t)});o.transition(n,b.transitionDuration(),b.transitionDelay()).attr("transform",C)}}(t)}(t=function(t){var e=t.enter().append("g").attr("class",function(t,e){return g+" _"+e});return e.append("rect").attr("width",0),function(t){b.renderLabel()&&t.append("text").on("click",k),b.renderTitleLabel()&&t.append("text").attr("class",m).on("click",k)}(e),e}(t).merge(t))}function w(){var t=i(0);return t===-1/0||t!=t?i(1):t}function k(t){b.onClick(t)}function C(t){var e=i(b.cappedValueAccessor(t)),n=w();return"translate("+(e>n?n:e)+",0)"}function F(t){return b.hasFilter(b.cappedKeyAccessor(t))}return b.rowsCap=b.cap,b._doRender=function(){return b.resetSvg(),n=b.svg().append("g").attr("transform","translate("+b.margins().left+","+b.margins().top+")"),x(),b},b.title(function(t){return b.cappedKeyAccessor(t)+": "+b.cappedValueAccessor(t)}),b.label(b.cappedKeyAccessor),b.x=function(t){return arguments.length?(i=t,b):i},b.renderTitleLabel=function(t){return arguments.length?(v=t,b):v},b._doRedraw=function(){return x(),b},b.xAxis=function(t){return arguments.length?(y=t,this):y},b.fixedBarHeight=function(t){return arguments.length?(p=t,b):p},b.gap=function(t){return arguments.length?(d=t,b):d},b.elasticX=function(t){return arguments.length?(a=t,b):a},b.labelOffsetX=function(t){return arguments.length?(l=t,b):l},b.labelOffsetY=function(t){return arguments.length?(c=t,u=!0,b):c},b.titleLabelOffsetX=function(t){return arguments.length?(h=t,b):h},b.anchor(t,e)},o.legend=function(){var t,e,n,i={},r=0,a=0,s=12,l=5,c=!1,u=560,f=70,h=!1,d=o.pluck("name");function p(){return l+s}return i.parent=function(e){return arguments.length?(t=e,i):t},i.render=function(){t.svg().select("g.dc-legend").remove(),n=t.svg().append("g").attr("class","dc-legend").attr("transform","translate("+r+","+a+")");var i=t.legendables();void 0!==e&&(i=i.slice(0,e));var g=n.selectAll("g.dc-legend-item").data(i).enter().append("g").attr("class","dc-legend-item").on("mouseover",function(e){t.legendHighlight(e)}).on("mouseout",function(e){t.legendReset(e)}).on("click",function(t){t.chart.legendToggle(t)});n.selectAll("g.dc-legend-item").classed("fadeout",function(t){return t.chart.isLegendableHidden(t)}),i.some(o.pluck("dashstyle"))?g.append("line").attr("x1",0).attr("y1",s/2).attr("x2",s).attr("y2",s/2).attr("stroke-width",2).attr("stroke-dasharray",o.pluck("dashstyle")).attr("stroke",o.pluck("color")):g.append("rect").attr("width",s).attr("height",s).attr("fill",function(t){return t?t.color:"blue"}),g.append("text").text(d).attr("x",s+2).attr("y",function(){return s/2+(this.clientHeight?this.clientHeight:13)/2-2});var m=0,v=0;g.attr("transform",function(t,e){if(c){var n=!0===h?this.getBBox().width+l:f;m+n>u&&m>0&&(++v,m=0);var i="translate("+m+","+v*p()+")";return m+=n,i}return"translate(0,"+e*p()+")"})},i.x=function(t){return arguments.length?(r=t,i):r},i.y=function(t){return arguments.length?(a=t,i):a},i.gap=function(t){return arguments.length?(l=t,i):l},i.itemHeight=function(t){return arguments.length?(s=t,i):s},i.horizontal=function(t){return arguments.length?(c=t,i):c},i.legendWidth=function(t){return arguments.length?(u=t,i):u},i.itemWidth=function(t){return arguments.length?(f=t,i):f},i.autoItemWidth=function(t){return arguments.length?(h=t,i):h},i.legendText=function(t){return arguments.length?(d=t,i):d},i.maxItems=function(t){return arguments.length?(e=o.utils.isNumber(t)?t:void 0,i):e},i},o.htmlLegend=function(){var t,e,n,i,a={},s=o.pluck("name"),l=!1,c=!1;return a.parent=function(e){return arguments.length?(t=e,a):t},a.render=function(){var r=l?"dc-legend-item-horizontal":"dc-legend-item-vertical";e.select("div.dc-html-legend").remove();var a=e.append("div").attr("class","dc-html-legend");a.attr("style","max-width:"+e.nodes()[0].style.width);var u=t.legendables(),f=t.filters();void 0!==n&&(u=u.slice(0,n));var h=i||r,d=a.selectAll("div."+h).data(u).enter().append("div").classed(h,!0).on("mouseover",t.legendHighlight).on("mouseout",t.legendReset).on("click",t.legendToggle);c&&d.classed(o.constants.SELECTED_CLASS,function(t){return-1!==f.indexOf(t.name)}),d.append("span").attr("class","dc-legend-item-color").style("background-color",o.pluck("color")),d.append("span").attr("class","dc-legend-item-label").attr("title",s).text(s)},a.container=function(t){return arguments.length?(e=r.d3.select(t),a):e},a.legendItemClass=function(t){return arguments.length?(i=t,a):i},a.highlightSelected=function(t){return arguments.length?(c=t,a):c},a.horizontal=function(t){return arguments.length?(l=t,a):l},a.legendText=function(t){return arguments.length?(s=t,a):s},a.maxItems=function(t){return arguments.length?(n=o.utils.isNumber(t)?t:void 0,a):n},a},o.scatterPlot=function(t,e){var n=o.coordinateGridMixin({}),i=r.d3.symbol(),a=function(t){return t.value},s=n.keyAccessor();n.keyAccessor(function(t){return s(t)[0]}),n.valueAccessor(function(t){return s(t)[1]}),n.colorAccessor(function(){return n._groupName}),n.title(function(t){return n.keyAccessor()(t)+","+n.valueAccessor()(t)+": "+n.existenceAccessor()(t)});var l=function(t){return"translate("+n.x()(n.keyAccessor()(t))+","+n.y()(n.valueAccessor()(t))+")"},c=7,u=5,f=3,h=null,d=1,p=0,g=0,m=1,v=null,b=[];function y(t,e){return a(t)?b[e]?Math.pow(u,2):Math.pow(f,2):Math.pow(p,2)}function _(t,e){n.renderTitle()&&(t.selectAll("title").remove(),t.append("title").text(function(t){return n.title()(t)}))}function x(t,e){var a=n.chartBodyG().selectAll(".chart-body path.symbol").filter(function(){return t(r.d3.select(this))}),s=i.size();i.size(Math.pow(e,2)),o.transition(a,n.transitionDuration(),n.transitionDelay()).attr("d",i),i.size(s)}return n.brush(r.d3.brush()),i.size(y),o.override(n,"_filter",function(t){return arguments.length?n.__filter(o.filters.RangedTwoDimensionalFilter(t)):n.__filter()}),n.plotData=function(){var t=n.chartBodyG().selectAll("path.symbol").data(n.data());o.transition(t.exit(),n.transitionDuration(),n.transitionDelay()).attr("opacity",0).remove(),(t=t.enter().append("path").attr("class","symbol").attr("opacity",0).attr("fill","_chart.getColor").attr("transform",l).merge(t)).call(_,n.data()),t.each(function(t,e){b[e]=!n.filter()||n.filter().isFiltered([n.keyAccessor()(t),n.valueAccessor()(t)])}),o.transition(t,n.transitionDuration(),n.transitionDelay()).attr("opacity",function(t,e){return a(t)?b[e]?m:n.excludedOpacity():g}).attr("fill",function(t,e){return v&&!a(t)?v:n.excludedColor()&&!b[e]?n.excludedColor():n.getColor(t)}).attr("transform",l).attr("d",i)},n.existenceAccessor=function(t){return arguments.length?(a=t,this):a},n.symbol=function(t){return arguments.length?(i.type(t),n):i.type()},n.customSymbol=function(t){return arguments.length?((i=t).size(y),n):i},n.symbolSize=function(t){return arguments.length?(u=t,n):u},n.highlightedSize=function(t){return arguments.length?(c=t,n):c},n.excludedSize=function(t){return arguments.length?(f=t,n):f},n.excludedColor=function(t){return arguments.length?(h=t,n):h},n.excludedOpacity=function(t){return arguments.length?(d=t,n):d},n.hiddenSize=n.emptySize=function(t){return arguments.length?(p=t,n):p},n.emptyColor=function(t){return arguments.length?(v=t,n):v},n.emptyOpacity=function(t){return arguments.length?(g=t,n):g},n.nonemptyOpacity=function(t){return arguments.length?(m=t,n):g},n.legendables=function(){return[{chart:n,name:n._groupName,color:n.getColor()}]},n.legendHighlight=function(t){x(function(e){return e.attr("fill")===t.color},c),n.chartBodyG().selectAll(".chart-body path.symbol").filter(function(){return r.d3.select(this).attr("fill")!==t.color}).classed("fadeout",!0)},n.legendReset=function(t){x(function(e){return e.attr("fill")===t.color},u),n.chartBodyG().selectAll(".chart-body path.symbol").filter(function(){return r.d3.select(this).attr("fill")!==t.color}).classed("fadeout",!1)},n.createBrushHandlePaths=function(){},n.extendBrush=function(t){return n.round()&&(t[0]=t[0].map(n.round()),t[1]=t[1].map(n.round())),t},n.brushIsEmpty=function(t){return!t||t[0][0]>=t[1][0]||t[0][1]>=t[1][1]},n._brushing=function(){if(r.d3.event.sourceEvent&&(!r.d3.event.sourceEvent.type||-1===["start","brush","end"].indexOf(r.d3.event.sourceEvent.type))){var t=r.d3.event.selection,e=n.brushIsEmpty(t);t&&(t=t.map(function(t){return t.map(function(t,e){return(0===e?n.x():n.y()).invert(t)})}),t=n.extendBrush(t),e=e&&n.brushIsEmpty(t)),n.redrawBrush(t,!1);var i=e?null:o.filters.RangedTwoDimensionalFilter(t);o.events.trigger(function(){n.replaceFilter(i),n.redrawGroup()},o.constants.EVENT_DELAY)}},n.redrawBrush=function(t,e){var i=n.brush(),r=n.gBrush();n.brushOn()&&r&&(n.resizing()&&n.setBrushExtents(e),t?(t=t.map(function(t){return t.map(function(t,e){return(0===e?n.x():n.y())(t)})}),o.optionalTransition(e,n.transitionDuration(),n.transitionDelay())(r).call(i.move,t)):r.call(i.move,t));n.fadeDeselectedArea(t)},n.setBrushY=function(t){t.call(n.brush().y(n.y()))},n.anchor(t,e)},o.numberDisplay=function(t,e){var n,i=r.d3.format(".2s"),a=o.baseMixin({}),s={one:"",some:"",none:""};return a._mandatoryAttributes(["group"]),a.ordering(function(t){return t.value}),a.html=function(t){return arguments.length?(t.none?s.none=t.none:t.one?s.none=t.one:t.some&&(s.none=t.some),t.one?s.one=t.one:t.some&&(s.one=t.some),t.some?s.some=t.some:t.one&&(s.some=t.one),a):s},a.value=function(){return a.data()},a.data(function(t){var e=t.value?t.value():function(t){if(!t.length)return null;var e=a._computeOrderedGroups(t);return e[e.length-1]}(t.all());return a.valueAccessor()(e)}),a.transitionDuration(250),a.transitionDelay(0),a._doRender=function(){var t=a.value(),e=a.selectAll(".number-display");e.empty()&&(e=e.data([0]).enter().append("span").attr("class","number-display").merge(e)),e.transition().duration(a.transitionDuration()).delay(a.transitionDelay()).ease(r.d3.easeQuad).tween("text",function(){var e=isFinite(n)?n:0,i=r.d3.interpolateNumber(e||0,t);n=t;var o=this;return function(e){var n=null,r=a.formatNumber()(i(e));0===t&&""!==s.none?n=s.none:1===t&&""!==s.one?n=s.one:""!==s.some&&(n=s.some),o.innerHTML=n?n.replace("%number",r):r}})},a._doRedraw=function(){return a._doRender()},a.formatNumber=function(t){return arguments.length?(i=t,a):i},a.anchor(t,e)},o.heatMap=function(t,e){var n,i,a,s=r.d3.ascending,l=r.d3.ascending,c=r.d3.scaleBand(),u=r.d3.scaleBand(),f=6.75,h=6.75,d=o.colorMixin(o.marginMixin(o.baseMixin({})));d._mandatoryAttributes(["group"]),d.title(d.colorAccessor());var p=function(t){return t},g=function(t){return t};d.colsLabel=function(t){return arguments.length?(p=t,d):p},d.rowsLabel=function(t){return arguments.length?(g=t,d):g};var m=function(t){y(0,t)},v=function(t){y(1,t)},b=function(t){var e=t.key;o.events.trigger(function(){d.filter(e),d.redrawGroup()})};function y(t,e){var n=d.selectAll(".box-group").filter(function(n){return n.key[t]===e}),i=n.filter(function(t){return!d.hasFilter(t.key)});o.events.trigger(function(){var t=(i.empty()?n:i).data().map(function(t){return o.filters.TwoDimensionalFilter(t.key)});d._filter([t]),d.redrawGroup()})}return o.override(d,"filter",function(t){return arguments.length?d._filter(o.filters.TwoDimensionalFilter(t)):d._filter()}),d.rows=function(t){return arguments.length?(a=t,d):a},d.rowOrdering=function(t){return arguments.length?(l=t,d):l},d.cols=function(t){return arguments.length?(i=t,d):i},d.colOrdering=function(t){return arguments.length?(s=t,d):s},d._doRender=function(){return d.resetSvg(),n=d.svg().append("g").attr("class","heatmap").attr("transform","translate("+d.margins().left+","+d.margins().top+")"),d._doRedraw()},d._doRedraw=function(){var t=d.data(),e=d.rows()||t.map(d.valueAccessor()),i=d.cols()||t.map(d.keyAccessor());l&&(e=e.sort(l)),s&&(i=i.sort(s)),e=u.domain(e),i=c.domain(i);var r=e.domain().length,a=i.domain().length,p=Math.floor(d.effectiveWidth()/a),g=Math.floor(d.effectiveHeight()/r);i.rangeRound([0,d.effectiveWidth()]),e.rangeRound([d.effectiveHeight(),0]);var m=n.selectAll("g.box-group").data(d.data(),function(t,e){return d.keyAccessor()(t,e)+"\0"+d.valueAccessor()(t,e)});m.exit().remove();var v=m.enter().append("g").attr("class","box-group");v.append("rect").attr("class","heat-box").attr("fill","white").attr("x",function(t,e){return i(d.keyAccessor()(t,e))}).attr("y",function(t,n){return e(d.valueAccessor()(t,n))}).on("click",d.boxOnClick()),d.renderTitle()&&(v.append("title"),m.select("title").text(d.title())),m=v.merge(m),o.transition(m.select("rect"),d.transitionDuration(),d.transitionDelay()).attr("x",function(t,e){return i(d.keyAccessor()(t,e))}).attr("y",function(t,n){return e(d.valueAccessor()(t,n))}).attr("rx",f).attr("ry",h).attr("fill",d.getColor).attr("width",p).attr("height",g);var b=n.select("g.cols");b.empty()&&(b=n.append("g").attr("class","cols axis"));var y=b.selectAll("text").data(i.domain());y.exit().remove(),y=y.enter().append("text").attr("x",function(t){return i(t)+p/2}).style("text-anchor","middle").attr("y",d.effectiveHeight()).attr("dy",12).on("click",d.xAxisOnClick()).text(d.colsLabel()).merge(y),o.transition(y,d.transitionDuration(),d.transitionDelay()).text(d.colsLabel()).attr("x",function(t){return i(t)+p/2}).attr("y",d.effectiveHeight());var _=n.select("g.rows");_.empty()&&(_=n.append("g").attr("class","rows axis"));var x=_.selectAll("text").data(e.domain());return x.exit().remove(),x=x.enter().append("text").style("text-anchor","end").attr("x",0).attr("dx",-2).attr("y",function(t){return e(t)+g/2}).attr("dy",6).on("click",d.yAxisOnClick()).text(d.rowsLabel()).merge(x),o.transition(x,d.transitionDuration(),d.transitionDelay()).text(d.rowsLabel()).attr("y",function(t){return e(t)+g/2}),d.hasFilter()?d.selectAll("g.box-group").each(function(t){d.isSelectedNode(t)?d.highlightSelected(this):d.fadeDeselected(this)}):d.selectAll("g.box-group").each(function(){d.resetHighlight(this)}),d},d.boxOnClick=function(t){return arguments.length?(b=t,d):b},d.xAxisOnClick=function(t){return arguments.length?(m=t,d):m},d.yAxisOnClick=function(t){return arguments.length?(v=t,d):v},d.xBorderRadius=function(t){return arguments.length?(f=t,d):f},d.yBorderRadius=function(t){return arguments.length?(h=t,d):h},d.isSelectedNode=function(t){return d.hasFilter(t.key)},d.anchor(t,e)},function(){function t(t){return[0,t.length-1]}function e(t){return[r.d3.quantile(t,.25),r.d3.quantile(t,.5),r.d3.quantile(t,.75)]}r.d3.box=function(){var n=1,i=1,a=0,s=0,l=null,c=Number,u=t,f=e,h=null,d=null,p=!1,g=3,m=.3,v=.8,b=!1,y=!0,_=!1;function x(t){t.each(function(t,e){t=t.map(c).sort(r.d3.ascending);var o,x,w=r.d3.select(this),k=t.length;if(0!==k){var C=t.quartiles=f(t),F=u&&u.call(this,t,e),A=F&&F.map(function(e){return t[e]}),S=F?r.d3.range(0,F[0]).concat(r.d3.range(F[1]+1,k)):r.d3.range(k);y?(o=t[0],x=t[k-1]):(o=t[F[0]],x=t[F[1]]);var D=r.d3.range(F[0],F[1]+1),M=r.d3.scaleLinear().domain(l&&l.call(this,t,e)||[o,x]).range([i,0]),T=this.__chart__||r.d3.scaleLinear().domain([0,1/0]).range(M.range());if(this.__chart__=M,p){d&&(D=[0],t=[d[e]],m=1,g=6,I.style("fill-opacity",.3));var E=w.selectAll("circle.data").data(D);E.enter().insert("circle","text").attr("class","data").attr("r",g).attr("cx",function(){var t=d?.5:Math.random();return Math.floor(t*(n*v)+1+(n-n*v)/2)}).attr("cy",function(e){return T(t[e])}).style("opacity",1e-6).transition().duration(a).delay(s).attr("cy",function(e){return M(t[e])}).style("opacity",m),b&&(E.selectAll("title").remove(),E.append("title").text(function(e){return t[e]})),E.transition().duration(a).delay(s).attr("cx",function(){var t=d?.5:Math.random();return Math.floor(t*(n*v)+1+(n-n*v)/2)}).attr("cy",function(e){return M(t[e])}).style("opacity",m),E.exit().transition().duration(a).delay(s).attr("cy",0).style("opacity",1e-6).remove()}var P=w.selectAll("line.center").data(A?[A]:[]);P.enter().insert("line","rect").attr("class","center").attr("x1",n/2).attr("y1",function(t){return T(t[0])}).attr("x2",n/2).attr("y2",function(t){return T(t[1])}).style("opacity",1e-6).transition().duration(a).delay(s).style("opacity",1).attr("y1",function(t){return M(t[0])}).attr("y2",function(t){return M(t[1])}),P.transition().duration(a).delay(s).style("opacity",1).attr("x1",n/2).attr("x2",n/2).attr("y1",function(t){return M(t[0])}).attr("y2",function(t){return M(t[1])}),P.exit().transition().duration(a).delay(s).style("opacity",1e-6).attr("y1",function(t){return M(t[0])}).attr("y2",function(t){return M(t[1])}).remove();var I=w.selectAll("rect.box").data([C]);I.enter().append("rect").attr("class","box").attr("x",0).attr("y",function(t){return T(t[2])}).attr("width",n).attr("height",function(t){return T(t[0])-T(t[2])}).style("fill-opacity",p?.1:1).transition().duration(a).delay(s).attr("y",function(t){return M(t[2])}).attr("height",function(t){return M(t[0])-M(t[2])}),I.transition().duration(a).delay(s).attr("width",n).attr("y",function(t){return M(t[2])}).attr("height",function(t){return M(t[0])-M(t[2])});var R=w.selectAll("line.median").data([C[1]]);R.enter().append("line").attr("class","median").attr("x1",0).attr("y1",T).attr("x2",n).attr("y2",T).transition().duration(a).delay(s).attr("y1",M).attr("y2",M),R.transition().duration(a).delay(s).attr("x1",0).attr("x2",n).attr("y1",M).attr("y2",M);var N=w.selectAll("line.whisker").data(A||[]);if(N.enter().insert("line","circle, text").attr("class","whisker").attr("x1",0).attr("y1",T).attr("x2",n).attr("y2",T).style("opacity",1e-6).transition().duration(a).delay(s).attr("y1",M).attr("y2",M).style("opacity",1),N.transition().duration(a).delay(s).attr("x1",0).attr("x2",n).attr("y1",M).attr("y2",M).style("opacity",1),N.exit().transition().duration(a).delay(s).attr("y1",M).attr("y2",M).style("opacity",1e-6).remove(),y){var z=_?"outlierBold":"outlier",O=_?3:5,L=_?function(){return Math.floor(Math.random()*(n*v)+1+(n-n*v)/2)}:function(){return n/2},j=w.selectAll("circle."+z).data(S,Number);j.enter().insert("circle","text").attr("class",z).attr("r",O).attr("cx",L).attr("cy",function(e){return T(t[e])}).style("opacity",1e-6).transition().duration(a).delay(s).attr("cy",function(e){return M(t[e])}).style("opacity",.6),b&&(j.selectAll("title").remove(),j.append("title").text(function(e){return t[e]})),j.transition().duration(a).delay(s).attr("cx",L).attr("cy",function(e){return M(t[e])}).style("opacity",.6),j.exit().transition().duration(a).delay(s).attr("cy",0).style("opacity",1e-6).remove()}var H=h||M.tickFormat(8),B=w.selectAll("text.box").data(C);B.enter().append("text").attr("class","box").attr("dy",".3em").attr("dx",function(t,e){return 1&e?6:-6}).attr("x",function(t,e){return 1&e?n:0}).attr("y",T).attr("text-anchor",function(t,e){return 1&e?"start":"end"}).text(H).transition().duration(a).delay(s).attr("y",M),B.transition().duration(a).delay(s).text(H).attr("x",function(t,e){return 1&e?n:0}).attr("y",M);var W=w.selectAll("text.whisker").data(A||[]);W.enter().append("text").attr("class","whisker").attr("dy",".3em").attr("dx",6).attr("x",n).attr("y",T).text(H).style("opacity",1e-6).transition().duration(a).delay(s).attr("y",M).style("opacity",1),W.transition().duration(a).delay(s).text(H).attr("x",n).attr("y",M).style("opacity",1),W.exit().transition().duration(a).delay(s).attr("y",M).style("opacity",1e-6).remove(),delete t.quartiles}}),r.d3.timerFlush()}return x.width=function(t){return arguments.length?(n=t,x):n},x.height=function(t){return arguments.length?(i=t,x):i},x.tickFormat=function(t){return arguments.length?(h=t,x):h},x.showOutliers=function(t){return arguments.length?(y=t,x):y},x.boldOutlier=function(t){return arguments.length?(_=t,x):_},x.renderDataPoints=function(t,e){return arguments.length?(p=t,d=e,x):p},x.renderTitle=function(t){return arguments.length?(b=t,x):b},x.dataOpacity=function(t){return arguments.length?(m=t,x):m},x.dataWidthPortion=function(t){return arguments.length?(v=t,x):v},x.duration=function(t){return arguments.length?(a=t,x):a},x.domain=function(t){return arguments.length?(l=null===t?t:"function"==typeof t?t:o.utils.constant(t),x):l},x.value=function(t){return arguments.length?(c=t,x):c},x.whiskers=function(t){return arguments.length?(u=t,x):u},x.quartiles=function(t){return arguments.length?(f=t,x):f},x}}(),o.boxPlot=function(t,e){var n=o.coordinateGridMixin({});var i=function(t){return function(e){var n=e.quartiles[0],i=e.quartiles[2],r=(i-n)*t,o=-1,a=e.length;do{++o}while(e[o]<n-r);do{--a}while(e[a]>i+r);return[o,a]}}(1.5),a=null,s=r.d3.box(),l=null,c=!1,u=.7,f=.8,h=!0,d=!1,p=8,g=function(t,e){return n.isOrdinal()?n.x().bandwidth():t/(1+n.boxPadding())/e};n.x(r.d3.scaleBand()),n.xUnits(o.units.ordinal),n.data(function(t){return t.all().map(function(t){return t.map=function(e){return e.call(t,t)},t}).filter(function(t){return 0!==n.valueAccessor()(t).length})}),n.boxPadding=n._rangeBandPadding,n.boxPadding(.8),n.outerPadding=n._outerRangeBandPadding,n.outerPadding(.5),n.boxWidth=function(t){return arguments.length?(g="function"==typeof t?t:o.utils.constant(t),n):g};var m=function(t,e){return"translate("+n.x()(n.keyAccessor()(t,e))+", 0)"};function v(){return r.d3.min(n.data(),function(t){return r.d3.min(n.valueAccessor()(t))})}function b(){return r.d3.max(n.data(),function(t){return r.d3.max(n.valueAccessor()(t))})}function y(){return(b()-v())/n.effectiveHeight()}return n._preprocessData=function(){n.elasticX()&&n.x().domain([])},n.plotData=function(){var t=g(n.effectiveWidth(),n.xUnitCount());s.whiskers(i).width(t).height(n.effectiveHeight()).value(n.valueAccessor()).domain(n.y().domain()).duration(n.transitionDuration()).tickFormat(l).renderDataPoints(c,a).dataOpacity(u).dataWidthPortion(f).renderTitle(n.renderTitle()).showOutliers(h).boldOutlier(d);var e=n.chartBodyG().selectAll("g.box").data(n.data(),n.keyAccessor());!function(t){o.transition(t,n.transitionDuration(),n.transitionDelay()).attr("transform",m).call(s).each(function(t){var e=n.getColor(t,0);r.d3.select(this).select("rect.box").attr("fill",e),r.d3.select(this).selectAll("circle.data").attr("fill",e)})}(function(t){var e=t.enter().append("g");return e.attr("class","box").attr("transform",m).call(s).on("click",function(t){n.filter(n.keyAccessor()(t)),n.redrawGroup()}),e.merge(t)}(e)),function(t){t.exit().remove().call(s)}(e),n.fadeDeselectedArea(n.filter())},n.fadeDeselectedArea=function(t){if(n.hasFilter())if(n.isOrdinal())n.g().selectAll("g.box").each(function(t){n.isSelectedNode(t)?n.highlightSelected(this):n.fadeDeselected(this)});else{if(!n.brushOn()&&!n.parentBrushOn())return;var e=t[0],i=t[1],r=n.keyAccessor();n.g().selectAll("g.box").each(function(t){var o=r(t);o<e||o>=i?n.fadeDeselected(this):n.highlightSelected(this)})}else n.g().selectAll("g.box").each(function(){n.resetHighlight(this)})},n.isSelectedNode=function(t){return n.hasFilter(n.keyAccessor()(t))},n.yAxisMin=function(){var t=p*y();return o.utils.subtract(v()-t,n.yAxisPadding())},n.yAxisMax=function(){var t=p*y();return o.utils.add(b()+t,n.yAxisPadding())},n.tickFormat=function(t){return arguments.length?(l=t,n):l},n.yRangePadding=function(t){return arguments.length?(p=t,n):p},n.renderDataPoints=function(t,e){return arguments.length?(a=e,c=t,n):c},n.dataOpacity=function(t){return arguments.length?(u=t,n):u},n.dataWidthPortion=function(t){return arguments.length?(f=t,n):f},n.showOutliers=function(t){return arguments.length?(h=t,n):h},n.boldOutlier=function(t){return arguments.length?(d=t,n):d},n.anchor(t,e)},o.selectMenu=function(t,e){var n,i="dc-select-option",a=o.baseMixin({}),s="Select all",l=!1,c=null,u=null,f=function(t,e){return a.keyAccessor()(t)>a.keyAccessor()(e)?1:a.keyAccessor()(e)>a.keyAccessor()(t)?-1:0},h=function(t){return a.valueAccessor()(t)>0};a.data(function(t){return t.all().filter(h)}),a._doRender=function(){return a.select("select").remove(),(n=a.root().append("select").classed("dc-select-menu",!0)).append("option").text(s).attr("value",""),a._doRedraw(),a};var d=window.navigator.userAgent;function p(t,e){var n,i=r.d3.event.target;i.selectedOptions?n=Array.prototype.slice.call(i.selectedOptions).map(function(t){return t.value}):n=[].slice.call(r.d3.event.target.options).filter(function(t){return t.selected}).map(function(t){return t.value});1===n.length&&""===n[0]?n=c||null:l||1!==n.length||(n=n[0]),a.onChange(n)}return d.indexOf("Trident/")>0&&-1===d.indexOf("MSIE")&&(a.redraw=a.render),a._doRedraw=function(){var t;return function(){l?n.attr("multiple",!0):n.attr("multiple",null);null!==u?n.attr("size",u):n.attr("size",null)}(),(t=n.selectAll("option."+i).data(a.data(),function(t){return a.keyAccessor()(t)})).exit().remove(),t.enter().append("option").classed(i,!0).attr("value",function(t){return a.keyAccessor()(t)}).merge(t).text(a.title()),n.selectAll("option."+i).sort(f),n.on("change",p),a.hasFilter()&&l?n.selectAll("option").property("selected",function(t){return void 0!==t&&a.filters().indexOf(String(a.keyAccessor()(t)))>=0}):a.hasFilter()?n.property("value",a.filter()):n.property("value",""),a},a.onChange=function(t){t&&l?a.replaceFilter([t]):t?a.replaceFilter(t):a.filterAll(),o.events.trigger(function(){a.redrawGroup()})},a.order=function(t){return arguments.length?(f=t,a):f},a.promptText=function(t){return arguments.length?(s=t,a):s},a.filterDisplayed=function(t){return arguments.length?(h=t,a):h},a.multiple=function(t){return arguments.length?(l=t,a):l},a.promptValue=function(t){return arguments.length?(c=t,a):c},a.numberVisible=function(t){return arguments.length?(u=t,a):u},a.size=o.logger.deprecate(a.numberVisible,"selectMenu.size is ambiguous - use numberVisible instead"),a.anchor(t,e)},o.textFilterWidget=function(t,e){var n=o.baseMixin({}),i=function(t){return t.toLowerCase()},r=function(t){return t=i(t),function(e){return-1!==i(e).indexOf(t)}},a="search";return n.group(function(){throw"the group function on textFilterWidget should never be called, please report the issue"}),n._doRender=function(){return n.select("input").remove(),n.root().append("input").classed("dc-text-filter-input",!0).on("input",function(){n.dimension().filterFunction(r(this.value)),o.events.trigger(function(){o.redrawAll()},o.constants.EVENT_DELAY)}),n._doRedraw(),n},n._doRedraw=function(){return n.root().selectAll("input").attr("placeholder",a),n},n.normalize=function(t){return arguments.length?(i=t,n):i},n.placeHolder=function(t){return arguments.length?(a=t,n):a},n.filterFunctionFactory=function(t){return arguments.length?(r=t,n):r},n.anchor(t,e)},o.cboxMenu=function(t,e){var n,i="dc-cbox-item",a=o.baseMixin({}),s="Select all",l=!1,c="radio",u=null,f=Math.floor(1e5*Math.random())+1,h=function(t,e){return a.keyAccessor()(t)>a.keyAccessor()(e)?1:a.keyAccessor()(e)>a.keyAccessor()(t)?-1:0},d=function(t){return a.valueAccessor()(t)>0};function p(t,e){var n;r.d3.select(r.d3.event.target).datum()?(n=r.d3.select(this).selectAll("input").filter(function(t){if(t)return this.checked}).nodes().map(function(t){return t.value}),l||1!==n.length||(n=n[0])):n=u||null,a.onChange(n)}return a.data(function(t){return t.all().filter(d)}),a._doRender=function(){return a._doRedraw()},a._doRedraw=function(){return a.select("ul").remove(),n=a.root().append("ul").classed("dc-cbox-group",!0),function(){var t=n.selectAll("li."+i).data(a.data(),function(t){return a.keyAccessor()(t)});if(t.exit().remove(),(t=t.enter().append("li").classed(i,!0).merge(t)).append("input").attr("type",c).attr("value",function(t){return a.keyAccessor()(t)}).attr("name","domain_"+f).attr("id",function(t,e){return"input_"+f+"_"+e}),t.append("label").attr("for",function(t,e){return"input_"+f+"_"+e}).text(a.title()),l)n.append("li").append("input").attr("type","reset").text(s).on("click",p);else{var e=n.append("li");e.append("input").attr("type",c).attr("value",u).attr("name","domain_"+f).attr("id",function(t,e){return"input_"+f+"_all"}).property("checked",!0),e.append("label").attr("for",function(t,e){return"input_"+f+"_all"}).text(s)}n.selectAll("li."+i).sort(h),n.on("change",p)}(),a.hasFilter()&&l?n.selectAll("input").property("checked",function(t){return t&&a.filters().indexOf(String(a.keyAccessor()(t)))>=0||!1}):a.hasFilter()&&n.selectAll("input").property("checked",function(t){return!!t&&a.keyAccessor()(t)===a.filter()}),a},a.onChange=function(t){t&&l?a.replaceFilter([t]):t?a.replaceFilter(t):a.filterAll(),o.events.trigger(function(){a.redrawGroup()})},a.order=function(t){return arguments.length?(h=t,a):h},a.promptText=function(t){return arguments.length?(s=t,a):s},a.filterDisplayed=function(t){return arguments.length?(d=t,a):d},a.multiple=function(t){return arguments.length?(c=(l=t)?"checkbox":"radio",a):l},a.promptValue=function(t){return arguments.length?(u=t,a):u},a.anchor(t,e)},o.abstractBubbleChart=o.bubbleMixin,o.baseChart=o.baseMixin,o.capped=o.capMixin,o.colorChart=o.colorMixin,o.coordinateGridChart=o.coordinateGridMixin,o.marginable=o.marginMixin,o.stackableChart=o.stackMixin,o.d3=r.d3,o.crossfilter=i.crossfilter,e.dc=o},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.findMinMax=e.MLVColorLegend=e.MLVDCChart=e.MLVChartDialog=e.groupAndOrder=e.WGLChart=e.ColorByDialog=e.AddChartDialog=e.FilterPanel=e.MLVChart=e.MLVBarChart=e.MLVScatterPlot=e.WGLScatterPlot=e.MLVRingChart=void 0;var i=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(5),s=n(10),l=n(9),c=n(26);function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n(24);var d=function(){function e(n,i,r){h(this,e);var o=this;this.id=this._getRandomString(6,"A"),this.columns=[],this.divs={},this.gridstacks={},this.menu_divs={},this.column_index={},r||(r={});var a={};if(Array.isArray(n)){var s=!0,c=!1,u=void 0;try{for(var f,d=n[Symbol.iterator]();!(s=(f=d.next()).done);s=!0){var p=f.value;a[p]=t("#"+p)}}catch(t){c=!0,u=t}finally{try{!s&&d.return&&d.return()}finally{if(c)throw u}}}else a._default="string"==typeof n?t("#"+n):n;for(var g in a){var m=a[g],v=null;if(r.menu_bar){var b=m;this.menu_divs[g]=t("<div>").attr("class","civ-menu-bar").appendTo(b),v=t("<div>").attr("class","civ-main-panel").appendTo(b),"_default"===g&&this._setUpMenu(g)}else v=m;v.addClass("civ-filter-panel"),this.divs[g]=t("<div>").appendTo(v),this.divs[g].addClass("grid-stack"),this.divs[g].on("mousewheel DOMMouseScroll",function(t){return!1}),this.divs[g].gridstack({width:12,verticalMargin:10,cellHeight:40,minWidth:600,draggable:{handle:".mlv-chart-label"}}),this.divs[g].on("resizefinished",function(t,e){e.originalElement.data("chart").setSize()}),this.gridstacks[g]=this.divs[g].data("gridstack")}var y=1,_=!0,x=!1,w=void 0;try{for(var k,C=i[Symbol.iterator]();!(_=(k=C.next()).done);_=!0){var F=k.value;void 0===F.id&&(F.id=y++)}}catch(t){x=!0,w=t}finally{try{!_&&C.return&&C.return()}finally{if(x)throw w}}if(this.ndx=(0,l.crossfilter)(i),this.filtered_ids,this.charts={},this.listeners={},this.remove_listeners={},this.add_listeners={},this.param_to_graph={},t(window).on("resize."+this.id,function(t){t.originalEvent?t.originalEvent.srcElement===window&&o.resize():o.resize()}),this.custom_filters={},this.custom_filter_functions={},this.filtered_items_length=0,r.columns&&this.setColumns(r.columns),r.graphs){var A=!0,S=!1,D=void 0;try{for(var M,T=r.graphs[Symbol.iterator]();!(A=(M=T.next()).done);A=!0){var E=M.value;this.addChart(E,!0)}}catch(t){S=!0,D=t}finally{try{!A&&T.return&&T.return()}finally{if(S)throw D}}}this.config={},this.config.exclude_graph_types=r.exclude_graph_types}return o(e,[{key:"dispose",value:function(){for(var e in t(window).off("rezise."+this.id),this.divs)this.divs[e].empty()}},{key:"_setUpMenu",value:function(e){var n=this.menu_divs[e],i=this;t("<button>").html("<i class= 'fas fa-chart-bar'></i>Add Chart").attr("class","btn btn-sm btn-secondary").click(function(t){new T(i.columns,function(t){t.location={x:0,y:0,height:3,width:3},i.addChart(t)},i.config)}).appendTo(n),t("<button>").html("<i class= 'fas fa-sync-alt'></i>Reset All").attr("class","btn btn-sm btn-secondary").click(function(t){i.resetAll()}).appendTo(n)}},{key:"resize",value:function(){for(var t in this.charts)this.charts[t].setSize()}},{key:"setColumns",value:function(t){if(this.columns=[],this.column_index={},"object"===(void 0===t?"undefined":r(t)))for(var e in t)this.columns.push(t[e]),this.column_index[t[e].field]=t[e];else{var n=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var l=a.value,c={field:l.field,name:l.name,datatype:l.datatype};c.columnGroup&&(l.columnGroup=c.columnGroup),this.columns.push(c),this.column_index[c.field]=c}}catch(t){i=!0,o=t}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}}t.length<1&&this.columns.sort(function(t,e){return t.name.localeCompare(e.name)})}},{key:"getColumns",value:function(){return this.columns}},{key:"setBaseImageUrl",value:function(t,e){this.base_image_url=t,this.loading_image=e}},{key:"setConfigAttribute",value:function(t,e){this.config[t]=e}},{key:"removeField",value:function(t,e){for(var n in this.charts){var i=this.charts[n],r=i.config.param;if("string"==typeof r){if(r===t){this.removeChart(n,e);continue}}else if(-1!==r.indexOf(t)){this.removeChart(n,e);continue}i.config.color_by&&i.config.color_by.column.field===t&&(delete i.config.color_by,i.setColorFromConfig())}var o=-1;for(var a in this.columns)if(this.columns[a].field===t){o=a;break}-1!==o&&this.columns.splice(o,1)}},{key:"dataChanged",value:function(t,e){var n=[];for(var i in this.charts){var r=this.charts[i],o=r.config.param;if("string"==typeof o){if(o===t){r.dataChanged(e),n.push(r);continue}}else if(-1!==o.indexOf(t)){r.dataChanged(e),n.push(r);continue}r.config.color_by&&r.config.color_by.column.field===t&&(r.dataChanged(e),n.push())}var a=!0,s=!1,l=void 0;try{for(var c,u=n[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var f=c.value;f&&f.chart.redraw()}}catch(t){s=!0,l=t}finally{try{!a&&u.return&&u.return()}finally{if(s)throw l}}}},{key:"addMenuIcon",value:function(t,e){e||(e="_default"),this.menu_divs[e].append(t)}},{key:"highlightDataItem",value:function(t){for(var e in this.charts)this.charts[e].highlightDataItem(t)}},{key:"addRecords",value:function(t){this.ndx.add(t)}},{key:"addCustomFilter",value:function(t,e,n,i){var r=null;this.custom_filter_functions[t]=n,this.custom_filters[t]?(r=this.custom_filters[t]).filter(null):r=this.ndx.dimension(function(t){return t[e]}),r.filter(function(t){return n(t)}),this.custom_filters[t]=r,s.dc.redrawAll(),this._chartFiltered(r.getIds(),null,i)}},{key:"updateCustomFilter",value:function(t){var e=this.custom_filter_functions[t];this.custom_filters[t].filter(function(t){return e(t)})}},{key:"removeCustomFilter",value:function(t,e){var n=this.custom_filters[t];if(!n)return!1;n.filter(null),s.dc.redrawAll(),this._chartFiltered(n.getIds(),null,e),n.remove(),delete this.custom_filters[t]}},{key:"addChart",value:function(e,n){var i=this;e=t.extend(!0,{},e);var r=this,o="filter-chart-"+this._getRandomString(6,"A"),a=e.id;a||(a=e.id=o);var s=!1,l=e.location;l?delete e.location:(l={x:0,y:0,width:4,height:4},s=!0);var c=t("<div>").attr("class","grid-stack-item"),u=(t("<div>").attr({class:"grid-stack-item-content",id:o}).appendTo(c),e.div_name?e.div_name:"_default");this.gridstacks[u].addWidget(c,l.x,l.y,l.width,l.height,s);var f=p.chart_types[e.type];if(!f)throw"chart type "+e.type+" not recognised";var h=e.type,d=new f.class(this.ndx,o,e,this.columns);if(this.charts[a]=d,c.data("chart",d),c.data("id",a),d.setUpdateListener(function(t,e){r._chartFiltered(t,a)}),"function"==typeof d.param);else if("string"!=typeof d.param){if(Array.isArray(d.config.param)){var g=!0,m=!1,v=void 0;try{for(var b,y=d.config.param[Symbol.iterator]();!(g=(b=y.next()).done);g=!0){var _=b.value;this.param_to_graph[_]=d}}catch(t){m=!0,v=t}finally{try{!g&&y.return&&y.return()}finally{if(m)throw v}}}}else this.param_to_graph[d.config.param]=d;var x=d.getColorOptions();if(x){var w=t("<i class='fas fa-palette'></i>").css({"margin-left":"auto","margin-right":"3px"}).click(function(){new H(i.columns,i.ndx.getOriginalData(),x.div,function(t){d.colorByField(t)},x.datatype,d.config.color_by)});d.addMenuIcon(w)}var k=t("<i class='fas fa-image'></i>").css({"margin-left":"auto","margin-right":"3px"}).click(function(){d.downloadImage()});d.addMenuIcon(k);var C=t("<i class='fas fa-thumbtack'></i>").css({"margin-left":"auto","margin-right":"3px"}).click(function(){r.pinChart(d)});d.addMenuIcon(C);var F=t("<i class='fas fa-trash'></i>").css({"margin-left":"auto","margin-right":"3px"}).click(function(){i.removeChart(a)});if(d.addMenuIcon(F),this.filtered_ids&&this.filtered_items_length!==this.ndx.getOriginalData().length&&d._hide&&d._hide(this.filtered_ids,this.filtered_items_length),e.static&&this.pinChart(d),!n){var A=this._getChartInfo(h,e.param);for(var S in this.add_listeners)this.add_listeners[S](e,A)}return a}},{key:"_getChartInfo",value:function(t,e){var n={type:p.chart_types[t].name,fields:[]},i=e;if(Array.isArray(e)||(i=[e]),e){var r=!0,o=!1,a=void 0;try{for(var s,l=i[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var c=s.value;this.column_index[c]?n.fields.push(this.column_index[c].name):n.fields.push(c)}}catch(t){o=!0,a=t}finally{try{!r&&l.return&&l.return()}finally{if(o)throw a}}}return n}},{key:"removeChart",value:function(t,e){var n=this.charts[t];if(!n)return!1;var i=n.div.parent(),r=n.remove(),o=n.config.div_name?n.config.div_name:"_default";this.gridstacks[o].removeWidget(i);var a=this._getChartInfo(n.type,n.config.param);if(delete this.charts[t],!e)for(var l in this.remove_listeners)this.remove_listeners[l](n.config,a);return r&&(s.dc.redrawAll(),this._chartFiltered(r)),!0}},{key:"addStaticCharts",value:function(t){this.static_charts=t,this.addStaticChart(0)}},{key:"addStaticChart",value:function(t){var e=this;if(t!==this.static_charts.length){var n=this.static_charts[t],i=this.addChart(n);setTimeout(function(){e.pinChart(e.charts[i],t)},150)}}},{key:"unpinChart",value:function(t){var e=null,n=t.config.div_name?t.config.div_name:"_default",i=!0,r=!1,o=void 0;try{for(var a,s=this.gridstacks[n].grid.nodes[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;if(l.el.data("chart")===t){e={x:l.x,y:l.y,height:l.height,width:l.width};break}}}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}var c=t.config._original_config;delete c.size,c.location=e,this.removeChart(t.config.id,!0),this.addChart(c)}},{key:"pinChart",value:function(t,e){if("single_image_chart"!==t.type){var n=this,i=null,r=t.config.div_name?t.config.div_name:"_default",o=!0,a=!1,s=void 0;try{for(var l,c=this.gridstacks[r].grid.nodes[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var u=l.value;if(u.el.data("chart")===t){i={x:u.x,y:u.y,height:u.height,width:u.width};break}}}catch(t){a=!0,s=t}finally{try{!o&&c.return&&c.return()}finally{if(a)throw s}}t.getCanvas(function(r){var o=t.config.id,a=t.config.title,s=t.config;s.type=t.type,n.removeChart(o,!0),n.addChart({type:"single_image_chart",param:r.toDataURL("image/png"),location:i,id:o,title:a,_original_config:s}),n.charts[o].ti.css("background-color","lightgray"),void 0!==e&&n.addStaticChart(e+1)})}else this.unpinChart(t)}},{key:"resetAll",value:function(){for(var t in this._chart_is_filtering=!0,this.charts){var e=this.charts[t];e.removeFilter&&e.removeFilter(),e.centerGraph&&e.centerGraph()}s.dc.filterAll(),s.dc.redrawAll(),this._chart_is_filtering=!1;var n=null;for(var i in this.charts)if(n=this.charts[i].dim)break;if(s.dc.redrawAll(),n){var r=n.getIds();this._chartFiltered(r)}for(var o in this.listeners)this.listeners[o](this.filtered_ids,this.filtered_items_length)}},{key:"setChartField",value:function(t,e){this.charts[t].setField(e)}},{key:"filterChanged",value:function(){var t=null;for(var e in this.charts)if(t=this.charts[e].dim)break;if(s.dc.redrawAll(),t){var n=t.getIds();this._chartFiltered(n)}}},{key:"updateDCCharts",value:function(){s.dc.redrawAll()}},{key:"_chartFiltered",value:function(t,e,n){var i=this;if(!this._chart_is_filtering){for(var r in console.log(e),this._chart_is_filtering=!0,setTimeout(function(t){i._chart_is_filtering=!1},100),this.filtered_ids=t.items,this.filtered_items_length=t.count,this.charts){var o=this.charts[r];o._hide&&(r===e||o._hide(t.items,t.count))}if(!n)for(var a in this.listeners)this.listeners[a](t.items,t.count)}}},{key:"addListener",value:function(t,e){return e||(e=this._getRandomString(6)),this.listeners[e]=t,e}},{key:"addRemoveListener",value:function(t,e){return e||(e=this._getRandomString(6)),this.remove_listeners[e]=t,e}},{key:"addAddListener",value:function(t,e){return e||(e=this._getRandomString(6)),this.add_listeners[e]=t,e}},{key:"removeListener",value:function(t){delete this.listeners[t]}},{key:"refresh",value:function(){this.resize()}},{key:"getGraphs",value:function(){var t=[];for(var e in this.gridstacks){var n=!0,i=!1,r=void 0;try{for(var o,a=this.gridstacks[e].grid.nodes[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value,l={x:s.x,y:s.y,height:s.height,width:s.width},c=s.el.data("chart"),u=c.getConfig();u.type=c.type,u.location=l,delete u.size,delete u.view,t.push(u)}}catch(t){i=!0,r=t}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}}return t}},{key:"getChartLocation",value:function(t){var e=this.charts[t].div.parent()[0].dataset;return{x:e.gsX,y:e.gsY,width:e.gsWidth,height:e.gsHeight}}},{key:"getFilters",value:function(){var t=[];for(var e in this.charts){var n=this.charts[e].getFilter(),i=!0,r=!1,o=void 0;try{for(var a,s=n[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;0!==l.length&&t.push(l)}}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}}return t}},{key:"_getRandomString",value:function(t,e){for(var n="",i=0,r="a"==(e=e&&e.toLowerCase())?10:0,o="n"==e?10:62;i++<t;){var a=Math.random()*(o-r)+r<<0;n+=String.fromCharCode(a+=a>9?a<36?55:61:48)}return n}}]),e}(),p=function(){function e(n,i,r){var o=this;h(this,e),void 0===r.allow_settings&&(r.allow_settings=!0),this.config=t.extend(!0,{},r),this.config.id||(this.config.id=q());var a=this;this.ndx=n,"string"==typeof i&&(i=t("#"+i));var s=r.title;s||(r.param?(s="string"==typeof r.param?r.param:r.param[0]+" X "+r.param[1],this.config.title=s):this.config.title=s="Chart"),this.div=i.css({display:"inline-block"}),this.ti=t("<div>").appendTo(this.div).css({display:"flex","white-space":"nowrap"}).attr("class","mlv-chart-label").on("mouseover",function(n){t(this).find(".mlv-chart-option-menu").show(),e.chart_types[a.type].dialog||t(this).find(".fa-cog").hide()}).on("mouseout",function(e){t(this).find(".mlv-chart-option-menu").hide()}),this.title_span=t("<span>").text(s).css({"text-overflow":"ellipsis",overflow:"hidden"}).appendTo(this.ti),r.title_color&&this.ti.css("background-color",r.title_color),this.reset_but=t("<button>").text("reset").attr("class","pull-right reset btn btn-sm btn-primary mlv-reset-btn").css({visibility:"hidden"}).appendTo(this.ti);var l=t("<div>").attr({class:"mlv-chart-option-menu"}).appendTo(this.ti);if(r.allow_settings)t("<i class='fas fa-cog'></i>").css({"margin-left":"auto","margin-right":"3px"}).appendTo(l).click(function(){o.showChartDialog()});this.updateListener=function(){}}return o(e,[{key:"addMenuIcon",value:function(t){this.ti.find(".mlv-chart-option-menu").append(t)}},{key:"setColorFromConfig",value:function(){var t=this.config.color_by,e=null;if(t){var n=this.getColorOptions();e=d.getColorScale(t.column,this.ndx.all(),t.scheme,n.div)}this.colorByField(e)}},{key:"colorByField",value:function(e){if(e)this.config.color_by={column:e.column,scheme:e.scheme};else{delete this.config.color_by;var n=this.getColorOptions().div;t("#"+n+"-bar").remove()}}},{key:"addTitleControl",value:function(t){this.ti.append(t)}},{key:"highlightDataItem",value:function(){}},{key:"remove",value:function(){}},{key:"setUpdateListener",value:function(t){this.updateListener=t}},{key:"showChartDialog",value:function(){var t=e.chart_types[this.type].dialog;t&&new t(this)}},{key:"getFilter",value:function(){return[]}},{key:"dataChanged",value:function(){}},{key:"_setParam",value:function(t,e){void 0!==t[e]&&(this.config[e]=t[e])}},{key:"getRandomString",value:function(t,e){t||(t=6);for(var n="",i=0,r="a"==(e=e&&e.toLowerCase())?10:0,o="n"==e?10:62;i++<t;){var a=Math.random()*(o-r)+r<<0;n+=String.fromCharCode(a+=a>9?a<36?55:61:48)}return n}},{key:"getConfig",value:function(){return t.extend(!0,{},this.config)}},{key:"getColorOptions",value:function(){return null}},{key:"setSize",value:function(t,e){t?(this.div.height(e),this.div.width(t)):(e=this.div.height(),t=this.div.width()),this.config.size=[t,e],this.height=e-this.ti.height()+10,this.width=t}},{key:"downloadImage",value:function(){var e=this;this.getCanvas(function(n){var i=document.createElement("a"),r=n.toDataURL("image/png");r=r.replace(/^data:image\/png/,"data:application/octet-stream"),i.href=r,i.download=e.config.title+".png",i.click(),t(i).remove()})}},{key:"setTitle",value:function(t){this.title_span.text(t),this.config.title=t}}]),e}(),g=function(e){function n(t,e,i,r){h(this,n);var o=u(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,i,r)),a=o;return o.chart=e("#"+i),o.chart.on("filtered",function(){a.not_broadcast?a.not_broadcast=!1:a.updateListener(a.dim.getIds())}),o.chart.controlsUseVisibility(!0),o.reset_but.click(function(t){a.chart.filterAll(),s.dc.redrawAll()}),o}return f(n,p),o(n,[{key:"setSize",value:function(t,e){i(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"setSize",this).call(this,t,e),this.chart.width(this.width).height(this.height)}},{key:"remove",value:function(){this.dim.filter(null);var t=this.dim.getIds();return this.dim.dispose(),this.chart.resetSvg(),this.div.remove(),t}},{key:"dataChanged",value:function(t){this.not_broadcast=!0;var e=this.chart.filters();e.length>0&&this.chart.filter(null),this.setParameters(),this.not_broadcast=!1,e.length>0&&(this.not_broadcast=t,this.chart.filter([e]))}},{key:"getCanvas",value:function(t){U(this.chart.svg().node(),function(e,n){t(e)})}},{key:"colorByField",value:function(e){if(e)this.config.color_by={column:e.column,scheme:e.scheme,value_to_color:e.value_to_color};else{delete this.config.color_by;var n=this.getColorOptions().div;t("#"+n+"-bar").remove()}this.setParameters()}}]),n}(),m=function(t){function e(t,n,i,r){h(this,e);var o=u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,i,r));return o.init(),o.setColorFromConfig(),o.config.size?o.setSize(o.config.size[0],o.config.size[1]):o.setSize(),o}return f(e,g),o(e,[{key:"setFilter",value:function(t,e){var n=this;this.chart.filter(null),setTimeout(function(){n.chart.filter(s.dc.filters.RangedFilter(t,e)),s.dc.redrawAll()},50)}},{key:"setField",value:function(t){var e=this;this.param=t,this.dim=this.ndx.dimension(function(t){return t[e.param]}),this.max=this.dim.top(1)[0][this.param],this.min=this.dim.bottom(1)[0][this.param],this.param=t,this.setParameters({max:this.max,min:this.min,bin_number:this.bin_number})}},{key:"getFilter",value:function(){var t=this.chart.filters();return 0===t.length?[]:[{field:this.config.param,operand:"between",value:[t[0][0],t[0][1]]}]}},{key:"getColorOptions",value:function(){var t=this.div.parent(),e=this.div.attr("id")+"-parent";return t.attr("id",e),{datatype:"text",div:e}}},{key:"setColorFromConfig",value:function(){var t=this.config.color_by,e=null;if(t){var n=this.getColorOptions();e=d.getColorScale(t.column,this.ndx.getOriginalData(),t.scheme,n.div)}this.colorByField(e)}},{key:"setColorStack",value:function(t){var e=this;if(this.config.color_by){this.categories=[];var n=[];for(var i in this.config.color_by.value_to_color)this.categories.push(i),n.push(this.config.color_by.value_to_color[i]);this.categories.push("Other"),n.push("rgb(220, 220, 220)"),this.chart.ordinalColors(n),this.chart.group(this.group,this.categories[0],function(t){var n=t.value[e.categories[0]];return void 0===n?0:n});var r=e.config.color_by.column.field,o=e.config.color_by.value_to_color;this.group.reduce(function(e,n,i){var a=n[r];o[a]||(a="Other");var s=e[a],l=t?n[t]:1;return l=l||0,s?e[a]+=l:e[a]=l,e},function(e,n,i){var a=n[r];if(o[a]||(a="Other"),e[a]){var s=t?n[t]:1;s=s||0,e[a]-=s}return e},function(){return{}});for(var s=1;s<this.categories.length;s++)this.chart.stack(this.group,this.categories[s],this._getColorFunction(s))}else this.chart.valueAccessor(function(t){return t.value}),this.chart.group(this.group);this.config.max_y?(this.chart.elasticY(!1),this.chart.y(a.d3.scaleLinear().domain([0,this.config.max_y]))):this.chart.elasticY(!0)}},{key:"_getColorFunction",value:function(t){var e=this;return function(n){var i=n.value[e.categories[t]];return i||0}}}]),e}(),v=function(t){function e(t,n,i){return h(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,s.dc.barChart,n,i))}return f(e,m),o(e,[{key:"init",value:function(){this.type="bar_chart";void 0===this.config.bin_number&&(this.config.bin_number=10);var t=O(this.ndx.getOriginalData(),this.config.param);this.min=t[0],void 0===this.config.display_min&&(this.config.display_min=t[0]),this.max=t[1],void 0===this.config.display_max&&(this.config.display_max=t[1])}},{key:"setParameters",value:function(t){var e=this;t&&(this._setParam(t,"display_max"),this._setParam(t,"display_min"),this._setParam(t,"bin_number"),this._setParam(t,"max_y")),this.dim&&this.dim.dispose(),this.range=this.config.display_max-this.config.display_min,this.bin_width=this.range/this.config.bin_number;var n=this.bin_width/10;this.dim=this.ndx.dimension(function(t){var i=t[e.config.param];return isNaN(i)?e.config.display_min-e.bin_width-1:i>=e.config.display_max?e.config.display_max-n:i<e.config.display_min?e.config.display_min:i}),this.group&&this.group.dispose(),this.group=this.dim.group(function(t){return e.bin_width*Math.floor(t/e.bin_width)}),this.chart.dimension(this.dim).xUnits(s.dc.units.fp.precision(this.bin_width)).x(a.d3.scaleLinear().domain([this.config.display_min-this.bin_width,this.config.display_max+this.bin_width])).yAxisLabel("",0).xAxis().ticks(Math.round(this.width/30)).tickFormat(function(t,e){return Math.abs(t)>=1e3?(e+1)%2==0?Math.abs(t)>=1e5?Number.parseFloat(t).toPrecision(2):t:"":t}),this.chart.yAxis().ticks(Math.round(this.height/25)).tickFormat(function(t,e){return t>=1e5?Number.parseFloat(t).toPrecision(2):t}),this.chart.margins().right=10,this.chart.margins().left=40,this.setColorStack(),this.chart.render()}},{key:"setSize",value:function(t,n){i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setSize",this).call(this,t,n),this.chart.x(a.d3.scaleLinear().domain([this.config.display_min-this.bin_width,this.config.display_max+this.bin_width])).xAxis().ticks(Math.round(this.width/30)),this.chart.yAxis().ticks(Math.round(this.height/25)),this.chart.redraw()}}]),e}(),b=function(t){function e(t,n,i){return h(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,s.dc.lineChart,n,i))}return f(e,m),o(e,[{key:"init",value:function(){this.type="time_line_chart";"string"==typeof this.config.param&&(this.config.param=[this.config.param]),void 0===this.config.interval&&(this.config.interval="month");var t=function(t,e){var n=new Date(-864e13),i=new Date(864e13),r=!0,o=!1,a=void 0;try{for(var s,l=t[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var c=s.value,u=new Date(c[e]);u>n&&(n=u),u<i&&(i=u)}}catch(t){o=!0,a=t}finally{try{!r&&l.return&&l.return()}finally{if(o)throw a}}return[i,n]}(this.ndx.getOriginalData(),this.config.param);void 0===this.config.display_min?this.date_min=t[0]:this.date_min=new Date(this.config.display_min),void 0===this.config.display_max?this.date_max=t[1]:this.date_max=new Date(this.config.display_max)}},{key:"setSize",value:function(t,n){i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setSize",this).call(this,t,n),this.chart.x(a.d3.scaleTime().domain([this.date_min,this.date_max])).xAxis().ticks(Math.round(this.width/80)),this.chart.yAxis().ticks(Math.round(this.height/25)),this.chart.redraw()}},{key:"setParameters",value:function(t){var e=this;t&&(this._setParam(t,"display_max"),this._setParam(t,"display_min"),this._setParam(t,"intervals"),this._setParam(t,"max_y"),t.display_max&&(this.date_max=new Date(t.display_max)),t.display_min&&(this.date_min=new Date(t.display_min))),this.dim&&this.dim.dispose();var n=a.d3.timeMonth,i=this.config.interval;if("year"===i?(n=a.d3.timeYear,this.date_formatter=a.d3.timeFormat("%Y")):"month"===i?(n=a.d3.timeMonth,this.date_formatter=a.d3.timeFormat("%b %Y")):"week"===i?(n=a.d3.timeWeek,this.date_formatter=a.d3.timeFormat("%d %b %y")):"day"===i&&(n=a.d3.timeDay,this.date_formatter=a.d3.timeFormat("%d %b %y")),this.dim=this.ndx.dimension(function(t){return n(new Date(t[e.config.param[0]]))}),this.group&&this.group.dispose(),this.group=this.dim.group(),2===this.config.param.length&&!this.config.color_by){var r=this.config.param[1];this.group.reduceSum(function(t){var e=t[r];return e||0})}this.chart.dimension(this.dim).xUnits(s.dc.units.fp.precision(this.bin_width)).x(a.d3.scaleTime().domain([this.date_min,this.date_max])).renderArea(!0).brushOn(!0).yAxisLabel("",0).xAxis().ticks(Math.round(this.width/60)).tickFormat(function(t,n){return e.date_formatter(t)}),this.chart.yAxis().ticks(Math.round(this.height/25)).tickFormat(function(t,e){return t>=1e5?Number.parseFloat(t).toPrecision(2):t}),this.config.max_y?(this.chart.elasticY(!1),this.chart.y(a.d3.scaleLinear().domain([0,this.config.max_y]))):this.chart.elasticY(!0),this.chart.margins().right=10,this.chart.margins().left=40;var o=2===this.config.param.length?this.config.param[1]:null;this.setColorStack(o),this.chart.render()}}]),e}(),y=function(e){function n(e,i,r){h(this,n);var o=u(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,i,r));return o.type="single_image_chart",o.image=t("<img>").attr("src",o.config.param).appendTo(o.div),o}return f(n,p),o(n,[{key:"setSize",value:function(t,e){i(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"setSize",this).call(this,t,e),this.image.css({height:this.height-30,width:this.width})}}]),n}(),_=function(e){function n(e,i,r){h(this,n);var o=u(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,i,r));return o.type="text_box_chart",o.text=t("<div>").html(o.config.text).appendTo(o.div),o}return f(n,p),n}(),x=function(t){function e(t,n,i){h(this,e);var r=u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,i));r.averages=[],r.len=i.param.length;for(var o=0;o<r.len;o++){var s={field:i.param[o],name:i.param[o]};i.labels&&(s.name=i.labels[o]),r.averages.push(s)}r.calculateAverages(r.ndx.getOriginalData()),r.calculateRanges(r.ndx.getOriginalData()),r.type="average_bar_chart";var l=0,c=20,f=30,d=40;r.div.width(),r.div.height();return r.x=a.d3.scaleBand().padding(.1),r.y=a.d3.scaleLinear(),r.svg=a.d3.select(r.div[0]).append("svg").attr("width",r.div.width()).attr("height",r.div.height()),r.graph_area=r.svg.append("g").attr("transform","translate("+d+","+l+")"),r.graph_area.selectAll(".bar").data(r.averages).enter().append("rect").attr("class","bar"),r.x.domain(r.averages.map(function(t){return t.name})),r.y.domain([0,1]),r.x_axis=r.graph_area.append("g"),r.y_axis=r.graph_area.append("g"),r.setSize(),r}return f(e,p),o(e,[{key:"_hide",value:function(t,e){this.calculateAverages(t,e),this.drawBars(this.div.height()-50)}},{key:"remove",value:function(){this.div.remove()}},{key:"drawBars",value:function(t){var e=this,n=a.d3.transition().duration(400).ease(a.d3.easeLinear);this.graph_area.selectAll(".bar").transition(n).attr("x",function(t){return e.x(t.name)}).attr("width",this.x.bandwidth()).attr("fill","rgb(55, 126, 184)").attr("y",function(t){return e.scales[t.field](t.average)}).attr("height",function(n){return t-e.scales[n.field](n.average)})}},{key:"median",value:function(t,e){return t+Math.round((e-t)/2)}},{key:"calculateRanges",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4;this.scales={};var i=!0,r=!1,o=void 0;try{for(var s,l=this.config.param[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var c=s.value,u=[],f=!0,h=!1,d=void 0;try{for(var p,g=t[Symbol.iterator]();!(f=(p=g.next()).done);f=!0){var m=p.value;null!=m[c]&&u.push(m[c])}}catch(t){h=!0,d=t}finally{try{!f&&g.return&&g.return()}finally{if(h)throw d}}for(var v=(u=u.sort(function(t,e){return t-e})).length,b=this.median(0,v),y=u[this.median(0,b)],_=u[this.median(b+1,v)],x=_-y,w=y-n*x,k=0;k<u.length;k++)if(u[k]>w){w=u[k];break}for(var C=_+n*x,F=u.length-1;F>=0;F--)if(u[F]<=C){C=u[F];break}this.scales[c]=a.d3.scaleLinear().range([e,0]).domain([w,C]).clamp(!0)}}catch(t){r=!0,o=t}finally{try{!i&&l.return&&l.return()}finally{if(r)throw o}}}},{key:"setSize",value:function(){var t=this.div.height(),e=this.div.width();this.svg.attr("width",e).attr("height",t),this.x.range([0,e-60]);var n=!0,i=!1,r=void 0;try{for(var o,s=this.config.param[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var l=o.value;this.scales[l].range([t-50,0])}}catch(t){i=!0,r=t}finally{try{!n&&s.return&&s.return()}finally{if(i)throw r}}this.y.range([t-50,0]),this.drawBars(t-50),this.y_axis.call(a.d3.axisLeft(this.y)),this.x_axis.attr("transform","translate(0,"+(t-50)+")").call(a.d3.axisBottom(this.x))}},{key:"calculateAverages",value:function(t,e){var n={},i=!0,r=!1,o=void 0;try{for(var a,s=this.config.param[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){n[a.value]=[0,0]}}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}for(var l in t){var c=t[l],u=!0,f=!1,h=void 0;try{for(var d,p=this.config.param[Symbol.iterator]();!(u=(d=p.next()).done);u=!0){var g=d.value,m=c[g];null!=m&&(n[g][0]=n[g][0]+m,n[g][1]++)}}catch(t){f=!0,h=t}finally{try{!u&&p.return&&p.return()}finally{if(f)throw h}}}e=e||t.length;var v=!0,b=!1,y=void 0;try{for(var _,x=this.averages[Symbol.iterator]();!(v=(_=x.next()).done);v=!0){var w=_.value;e&&0!==n[w.field][1]?w.average=n[w.field][0]/n[w.field][1]:w.average=0}}catch(t){b=!0,y=t}finally{try{!v&&x.return&&x.return()}finally{if(b)throw y}}}}]),e}(),w=function(e){function n(){return h(this,n),u(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return f(n,p),o(n,[{key:"addAxis",value:function(e){e||(e={}),this.scale_config=e,this.y_axis_width=e.y_axis_width?e.y_axis_width:40,this.x_axis_height=e.x_axis_height?e.x_axis_height:25;var n=q(),i="wg-graph-holder"+n;this.holder_div=t("<div>").attr("id",i).appendTo(this.div);var r="wg-graph-"+n;this.graph_id=r;var o=t("<div>").css({position:"relative","margin-bottom":this.x_axis_height+"px","margin-left":this.y_axis_width+"px"}).attr("id",r).css("z-index",20).appendTo(this.holder_div);e.right_y_axis&&o.css("margin-right","50px"),this.axis=a.d3.select("#"+i).append("svg").attr("width",50).attr("height",50).styles({position:"absolute",top:"0px","z-index":10,left:"0px"}),this.y_axis_svg=this.axis.append("g"),this.x_axis_svg=this.axis.append("g"),e.right_y_axis&&(this.right_y_axis_svg=this.axis.append("g")),"band"===e.y_scale?(this.y_axis_scale=a.d3.scaleBand().padding(.1),e.right_y_axis&&(this.right_y_axis_scale=a.d3.scaleBand().padding(.1))):this.y_axis_scale=a.d3.scaleLinear(),"band"===e.x_scale?this.x_axis_scale=a.d3.scaleBand().padding(.1):this.x_axis_scale=a.d3.scaleLinear(),e.right_y_axis&&(this.right_y_axis_call=a.d3.axisRight(this.right_y_axis_scale)),this.x_axis_call=a.d3.axisBottom(this.x_axis_scale),this.y_axis_call=a.d3.axisLeft(this.y_axis_scale)}},{key:"setSize",value:function(e,n){if(e?(this.div.height(n),this.div.width(e)):(n=this.div.height(),e=this.div.width()),e&&n&&!this.is_loading){var i=this.ti.height();this.height=n-i,t("#"+this.graph_id).css("margin-left",this.y_axis_width+"px"),this.holder_div.height(this.height),this.width=e;var r=this.width-this.y_axis_width;this.scale_config.right_y_axis&&(r-=50),this.app.setSize(r,this.height-this.x_axis_height),this.axis.attr("width",this.width).attr("height",this.height).styles({top:i+"px"});this.width,this.y_axis_width;this.scale_config.right_y_axis&&this.right_y_axis_scale.range([0,this.height-this.x_axis_height]),this.x_axis_scale.range([0,r]),this.y_axis_scale.range([0,this.height-this.x_axis_height]),this.x_axis_label&&this.x_axis_label.attr("transform","translate("+this.width/2+" ,"+this.height+")"),this.y_axis_label&&this.y_axis_label.attr("transform","translate(10,"+(this.height-this.x_axis_height)/2+") rotate(-90)");var o=this.height-this.x_axis_height;if("band"===this.scale_config.x_scale){var a=1;if((this.width-this.y_axis_width)/this.x_axis_scale.domain().length<12){var s=(this.width-this.y_axis_width)/12;a=Math.round(this.x_axis_scale.domain().length/s)}this.x_axis_call.tickValues(this.x_axis_scale.domain().filter(function(t,e){return!(e%a)}))}else this.x_axis_call.ticks(Math.round((this.width-this.y_axis_width)/40));if(this.x_axis_svg.attr("transform","translate("+this.y_axis_width+","+o+")").call(this.x_axis_call),"band"===this.scale_config.y_scale){var l=1;if((this.height-this.x_axis_height)/this.y_axis_scale.domain().length<10){var c=(this.height-this.x_axis_height)/10;l=Math.round(this.y_axis_scale.domain().length/c)}if(this.y_axis_call.tickValues(this.y_axis_scale.domain().filter(function(t,e){return!(e%l)})),this.scale_config.right_y_axis){var u=1;if((this.height-this.x_axis_height)/this.right_y_axis_scale.domain().length<10){var f=(this.height-this.x_axis_height)/10;u=Math.round(this.right_y_axis_scale.domain().length/f)}this.right_y_axis_call.tickValues(this.right_y_axis_scale.domain().filter(function(t,e){return!(e%u)}))}}else this.y_axis_call.ticks(Math.round((this.height-this.x_axis_height)/25));this.y_axis_svg.attr("transform","translate("+this.y_axis_width+",0)").call(this.y_axis_call),this.scale_config.right_y_axis&&this.right_y_axis_svg.attr("transform","translate("+(this.width-50)+",0)").call(this.right_y_axis_call)}}},{key:"getCanvas",value:function(t){var e=this;U(this.axis.node(),function(n,i){new Image;e.app.refresh(),i.drawImage(e.app.canvas[0],e.y_axis_width,0),t(n)})}}]),n}(),k=function(e){function n(t,e,i){h(this,n);var r=u(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,e,i)),o=r;r.reset_but.click(function(t){o.app.clearBrush(),o._createFilter(null),o.reset_but.css("visibility","hidden")}).appendTo(r.ti),r.default_color=[31,119,180],r.x=r.config.param[0],r.y=r.config.param[1],r.dim=t.dimension(function(t){return t.id}),r.group=r.dim.group(),r.addAxis(),r.config.axis||(r.config.axis={});var a=r.config.axis;return r.config.point_type||(r.config.point_type="circle"),r.config.brush?"poly"!==r.config.brush&&(r.config.brush="default"):r.config.brush="default",r.config.on_filter?"opaque"!==r.config.on_filter&&(r.config.on_filter="hide"):r.config.on_filter="hide",a.x_label=a.x_label?a.x_label:r.config.param[0],a.y_label=a.y_label?a.y_label:r.config.param[1],r.x_axis_label=r.axis.append("text").style("text-anchor","middle").attr("font-size","13px").text(a.x_label),r.y_axis_label=r.axis.append("text").attr("text-anchor","middle").attr("font-size","13px").text(a.y_label),r.x_axis_call.tickFormat(function(t,e){return o.config.axis.x_log_scale&&(t=o._getInverseLogValue(t),!Number.isInteger(t))?"":t>=1e4||t<=-1e4?Number.parseFloat(t).toPrecision(2):t}),r.y_axis_call.tickFormat(function(t,e){return o.config.axis.y_log_scale&&(t=o._getInverseLogValue(t),!Number.isInteger(t))?"":t>=1e4?Number.parseFloat(t).toPrecision(2):t}),r.createApp(),r.app.addHandler("zoom_stopped",function(t){o._updateScale(t)}),r.app.addHandler("panning_stopped",function(t){o._updateScale(t)}),r.app.addHandler("brush_stopped",function(t,e){o.reset_but.css("visibility","visible"),e?o._createPolyFilter(t):(t.y_max=-t.y_max,t.y_min=-t.y_min,o._createFilter(t))}),r.init(),r}return f(n,w),o(n,[{key:"highlightDataItem",value:function(t){this.app.highlightPoint(t)}},{key:"getFilter",value:function(){var t=[];return this.range?(t.push({field:this.config.param[0],operand:"between",value:[this.range.x_min,this.range.x_max]}),t.push({field:this.config.param[1],operand:"between",value:[this.range.y_min,this.range.y_max]}),t):t}},{key:"createApp",value:function(){this.app=new c.WGL2DI(this.graph_id,this.div.width(),this.div.height(),{brush:this.config.brush})}},{key:"setColorFromConfig",value:function(){var t=null;if(this.config.color_by){var e=this.config.color_by,n=null;this.config.group_colors&&this.config.group_colors[e.column.field]&&(n=this.config.group_colors[e.column.field]),(t=d.getColorScale(e.column,this.ndx.getOriginalData(),e.scheme,this.graph_id,n)).display_legend=this.config.color_by.display_legend}this.colorByField(t)}},{key:"getColorOptions",value:function(){return{datatype:"all",div:this.graph_id}}},{key:"dataChanged",value:function(){this.setColorFromConfig()}},{key:"colorByField",value:function(e){e?this.config.color_by={column:e.column,scheme:e.scheme,display_legend:e.display_legend}:delete this.config.color_by;var n=this.ndx.getOriginalData();if(this.config.color_by&&(!1===this.config.color_by.display_legend?t("#"+this.graph_id+"-bar").hide():t("#"+this.graph_id+"-bar").show()),e){var i=e.column.field,r=!0,o=!1,a=void 0;try{for(var s,l=n[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var c=s.value,u=c[i];void 0!==u&&null!==u||(u="none");var f=e.func(u);f=f?this.convertToRGB(f):[255,255,255],this.app.setObjectColor(c.id,f)}}catch(t){o=!0,a=t}finally{try{!r&&l.return&&l.return()}finally{if(o)throw a}}}else{var h=!0,d=!1,p=void 0;try{for(var g,m=n[Symbol.iterator]();!(h=(g=m.next()).done);h=!0){var v=g.value;this.app.setObjectColor(v.id,this.default_color)}}catch(t){d=!0,p=t}finally{try{!h&&m.return&&m.return()}finally{if(d)throw p}}}this.app.maintainImageDimensions(),this.app.refresh()}},{key:"setUpdateListener",value:function(t){this.updateListener=t}},{key:"toggleLogScale",value:function(t){"y"!==t&&"x"!==t&&(t="y");var e=t+"_log_scale";if(this.config.axis[e]?(this.config.axis[e]=!1,this.app.setLogPosition(t,!1)):(this.config.axis[e]=!0,this.app.setLogPosition(t,!0)),this.centerGraph(),"x"===t){var n=this._calculateRadius();this.setPointRadius(n)}}},{key:"_updateScale",value:function(t){this.x_axis_scale.domain([t.x_range[0],t.x_range[1]]),this.x_axis_svg.transition().call(this.x_axis_call),this.y_axis_scale.domain([-t.y_range[0],-t.y_range[1]]),this.y_axis_svg.transition().call(this.y_axis_call)}},{key:"init",value:function(){var t=this.ndx.getOriginalData(),e=O(t,this.y);this.max_y=e[1],this.min_y=e[0],e=O(t,this.x),this.max_x=e[1],this.min_x=e[0],this.default_radius=this._calculateRadius(),this.config.radius||(this.config.radius=this.default_radius),this.addItems()}},{key:"_calculateRadius",value:function(){var t=this.div.width(),e=this.config.max_x||0==this.config.max_x?this.config.max_x:this.max_x,n=this.config.min_x||0==this.config.min_x?this.config.min_x:this.min_x;return this.config.axis.x_log_scale&&(e=this._getLogValue(e),n=this._getLogValue(n)),t/50/(t/(e-n))}},{key:"afterInit",value:function(){this.config.axis.y_log_scale&&this.app.setLogPosition("y",!0),this.config.axis.x_log_scale&&this.app.setLogPosition("x",!0),this.setSize(),this.centerGraph(),this.setParameters()}},{key:"addItems",value:function(){this.type="wgl_scatter_plot";var t=this.ndx.getOriginalData(),e=!0,n=!1,i=void 0;try{for(var r,o=t[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var a=r.value,s=a[this.x],l=a[this.y];null==s||isNaN(s)||null==l||isNaN(l)||("square"===this.config.point_type?this.app.addSquare([s,-l],this.config.radius,this.default_color,a.id):this.app.addCircle([s,-l],this.config.radius,this.default_color,a.id))}}catch(t){n=!0,i=t}finally{try{!e&&o.return&&o.return()}finally{if(n)throw i}}this.app.setUniversalCircleRadius(this.config.radius),this.afterInit()}},{key:"changeFields",value:function(t){this.x=t[0],this.y=t[1];var e=this;this._createFilter(null),this.dim.dispose(),this.dim=this.ndx.dimension(function(t){return[t[e.x],t[e.y]]}),this.group=this.dim.group(),this.app.removeAllObjects(),this._init(),this.centerGraph(),this.app.refresh(),this._updateScale(this.app.getRange())}},{key:"remove",value:function(){this.dim.filter(null);var t=this.dim.getIds();return this.dim.dispose(),this.app.remove(),this.div.remove(),t}},{key:"removeFilter",value:function(){null!=this.range&&(this.app.clearBrush(),this.reset_but.css("visibility","hidden"),this._createFilter(null,!0))}},{key:"_createFilter",value:function(t,e){this.range=t;var n=this;if(null==t)this.dim.filter(null);else{var i=t.y_max,r=t.y_min,o=t.x_max,a=t.x_min;this.config.axis.y_log_scale&&(i=this._getInverseLogValue(i),r=this._getInverseLogValue(r)),this.config.axis.x_log_scale&&(o=this._getInverseLogValue(o),a=this._getInverseLogValue(a));var l=this.x,c=this.y;this.ndx.getOriginalData();this.dim.filter(function(t){var e=n.ndx.getItemById(t);return!(e[l]>o||e[l]<a)&&(!(e[c]<i||e[c]>r)&&(!isNaN(e[l])&&!isNaN(e[c])))})}var u=this.dim.getIds();null==t&&this._hide(u.items),this._filter(u.items),e||(s.dc.redrawAll(),this.updateListener(u,this.config.id))}},{key:"_createPolyFilter",value:function(t){this.range=!0;var e=!0,n=!1,i=void 0;try{for(var r,o=t[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var a=r.value;a[1]=-a[1],this.config.axis.x_log_scale&&(a[0]=this._getInverseLogValue(a[0])),this.config.axis.y_log_scale&&(a[1]=this._getInverseLogValue(a[1]))}}catch(t){n=!0,i=t}finally{try{!e&&o.return&&o.return()}finally{if(n)throw i}}var l=this.x,c=this.y,u=this.ndx.getOriginalData(),f={},h=!0,d=!1,p=void 0;try{for(var g,m=u[Symbol.iterator]();!(h=(g=m.next()).done);h=!0){for(var v=g.value,b=v[l],y=v[c],_=!1,x=0,w=t.length-1;x<t.length;w=x++){var k=t[x][0],C=t[x][1],F=t[w][0],A=t[w][1];C>y!=A>y&&b<(F-k)*(y-C)/(A-C)+k&&(_=!_)}_&&(f[v.id]=!0)}}catch(t){d=!0,p=t}finally{try{!h&&m.return&&m.return()}finally{if(d)throw p}}this.dim.filter(function(t){return f[t]}),f=this.dim.getIds(),s.dc.redrawAll(),this._filter(f.items),this.updateListener(f,this.config.id)}},{key:"_getLogValue",value:function(t){if(0==+t)return 0;var e=t>0?1:-1,n=Math.abs(t);return n<1?0:(t=Math.log10(n))*e}},{key:"_getInverseLogValue",value:function(t){if(0==+t)return 0;var e=t>0?1:-1;return(t=Math.pow(10,Math.abs(t)))*e}},{key:"centerGraph",value:function(){var t=this.config.max_x||0==this.config.max_x?this.config.max_x:this.max_x,e=this.config.max_y||0==this.config.max_y?this.config.max_y:this.max_y,n=this.config.min_x||0==this.config.min_x?this.config.min_x:this.min_x,i=this.config.min_y||0==this.config.min_y?this.config.min_y:this.min_y;this.config.axis.y_log_scale&&(e=this._getLogValue(e),i=this._getLogValue(i)),this.config.axis.x_log_scale&&(t=this._getLogValue(t),n=this._getLogValue(n));var r=(t-n)/20,o=(e-i)/20,a=t-n+2*r,s=e-i+2*o;this.width,this.y_axis_width,this.height,this.x_axis_height;this.app.x_scale=this.default_x_scale=(this.width-this.y_axis_width)/a,this.app.y_scale=this.default_y_scale=(this.height-this.x_axis_height)/s,this.app.offset[0]=-(n-r),this.app.offset[1]=e+o,this._updateScale(this.app.getRange())}},{key:"setParameters",value:function(t){t&&(this._setParam(t,"view"),this._setParam(t,"axis"),this._setParam(t,"radius"));var e=this.config.view;this.app.setUniversalCircleRadius(this.config.radius),e&&(this.app.x_scale=e.x_scale,this.app.y_scale=e.y_scale,this.app.offset=[e.offset[0],e.offset[1]]),this.y_axis_label.text(this.config.axis.x_label),this.y_axis_label.text(this.config.axis.y_label),this._updateScale(this.app.getRange()),this.setColorFromConfig()}},{key:"setScale",value:function(t,e){t&&(this.app.x_scale=t),e&&(this.app.y_scale=e),this.app.maintainImageDimensions(),this.app.refresh(),this._updateScale(this.app.getRange())}},{key:"_hide",value:function(t){var e="square"===this.config.point_type?3:0;"opaque"!==this.config.on_filter?(this.app.hideObjects(t,e,this.def_op),this.app.refresh()):this._filter(t,e)}},{key:"_filter",value:function(t){var e="square"===this.config.point_type?3:0;this.app.filterObjects(t,e),this.app.refresh()}},{key:"setColor",value:function(t){for(var e in t)t[e]||(t[e]=this.default_color),this.app.setObjectColor(e,t[e])}},{key:"refreshPositions",value:function(){var t=this.ndx.getOriginalData(),e=!0,n=!1,i=void 0;try{for(var r,o=t[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var a=r.value;this.app.setObjectPosition(a.id,a[this.x],-a[this.y])}}catch(t){n=!0,i=t}finally{try{!e&&o.return&&o.return()}finally{if(n)throw i}}var s=O(t,this.y);this.max_y=s[1],this.min_y=s[0],s=O(t,this.x),this.max_x=s[1],this.min_x=s[0],this.dim.dispose();var l=this;this.dim=this.ndx.dimension(function(t){return[t[l.x],t[l.y]]}),this.group=this.dim.group();var c=this._calculateRadius();this.config.radius=c,this.app.setUniversalCircleRadius(c),this.centerGraph(),this.app.refresh()}},{key:"linspace",value:function(t,e,n){for(var i=[],r=(e-t)/(n-1),o=0;o<n-1;)i.push(t+o*r),o++;return i.push(e),i}},{key:"convertToRGB",value:function(t){return(t=t.substring(4,t.length-1)).split(", ")}},{key:"setPointRadius",value:function(t){this.config.radius=t,this.app.setUniversalCircleRadius(t),this.app.refresh(!0)}}]),n}();k.count=0;var C=function(e){function n(t,e,i,r,o,a){return h(this,n),u(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,e,i,r,o,a))}return f(n,k),o(n,[{key:"addItems",value:function(e){this.type="wgl_image_scatter_plot";var n=this.ndx.getOriginalData(),i=[],r={},o=!0,s=!1,l=void 0;try{for(var c,u=n[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var f=c.value;i.push({x:f[this.x],y:-f[this.y],id:f.id,rad:Math.sqrt(f[this.x]*f[this.x]+f[this.y]*f[this.y])}),r[f.id]=f}}catch(t){s=!0,l=t}finally{try{!o&&u.return&&u.return()}finally{if(s)throw l}}var h=t("<i>").css({position:"absolute",top:"50%",left:"50%","font-size":"24px"}).attr("class","fa fa-spinner fa-spin").appendTo(this.div);this.is_loading=!0;var d=this,p=a.d3.forceSimulation(i).force("collide",a.d3.forceCollide(this.radius/2).iterations(5).strength(.9)).force("x",a.d3.forceX(function(t){return r[t.id][d.x]}).strength(.2)).force("y",a.d3.forceY(function(t){return-r[t.id][d.y]}).strength(.2)),g=0;p.on("tick",function(){g++,console.log(g),g>50&&(p.stop(),d._loadStuff(i,h,e))})}},{key:"_loadStuff",value:function(t,e,n){var i=this,r=this.config.rows*this.config.cols,o=[],a=!0,s=!1,l=void 0;try{for(var c,u=t[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var f=c.value,h=Math.floor((f.id-1)/r),d=f.id%r-1,p=Math.floor(d/this.config.cols),g=d%this.config.cols;o.push({x:f.x,y:f.y,key:f.id,col:g,row:p,sheet:h})}}catch(t){s=!0,l=t}finally{try{!a&&u.return&&u.return()}finally{if(s)throw l}}this.app.addImageTile(this.config.sheets,{sprite_dim:[this.config.cols,this.config.rows],image_height:this.radius,image_width:this.radius},o,function(){e.remove(),i.is_loading=!1,i.afterInit(n)}),this.radius=1,this.default_radius=1}},{key:"_hide",value:function(t){this.app.hideObjects(t,5),this.app.refresh()}},{key:"_filter",value:function(t){this.app.filterObjects(t,5),this.app.refresh()}},{key:"setPointRadius",value:function(t){this.radius=t,this.app.resizeImage(t),this.app.refresh(!0)}}]),n}(),F=function(t){function e(t,n,i,r,o,l){h(this,e);var c=u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i,s.dc.scatterPlot,r));c.type="scatter_plot",c.x=n[0],c.y=n[1];var f=c;c.dim=t.dimension(function(t){return[t[f.x],t[f.y]]}),c.group=c.dim.group();var d=t.dimension(function(t){return t[f.y]});c.max_y=d.top(1)[0][f.y],c.min_y=d.bottom(1)[0][f.y],d.dispose();var p=t.dimension(function(t){return t[f.x]});c.max_x=p.top(1)[0][f.x],c.min_x=p.bottom(1)[0][f.x],p.dispose();var g=Math.round((c.max_x-c.min_x)/10),m=Math.round((c.max_y-c.min_y)/10);return c.chart.x(a.d3.scaleLinear().domain([c.min_x-g,c.max_x+g])).y(a.d3.scaleLinear().domain([c.min_y-m,c.max_y+m])).yAxisLabel("y").xAxisLabel("x").clipPadding(10).dimension(c.dim).excludedOpacity(.5).group(c.group).colorAccessor(function(t){return"red"}),c.chart.render(),l||(l=[300,300]),c.setSize(),c}return f(e,g),o(e,[{key:"setSize",value:function(t,n){i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setSize",this).call(this,t,n);var r=Math.round((this.max_x-this.min_x)/10),o=Math.round((this.max_y-this.min_y)/10);this.chart.x(a.d3.scaleLinear().domain([this.min_x-r,this.max_x+r])).y(a.d3.scaleLinear().domain([this.min_y-o,this.max_y+o])),this.chart.redraw()}}]),e}(),A=function(t){function e(t,n,i){h(this,e);var r=u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,s.dc.rowChart,n,i));r.type="row_chart";r.config.cap||(r.config.cap=8),r.chart.margins().right=10;var o="string"==typeof r.config.param?r.config.param:r.config.param[0];r.cs=d.cat_color_schemes["Scheme 1"].slice(0),r.cs.splice(r.config.cap,0,"black");var a=null;a=r.config.delimiter?function(t,e,n){var i={},r=!0,o=!1,a=void 0;try{for(var s,l=t[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var c=s.value,u=c[e];if(void 0!==u&&null!==u){var f=u.split(","),h=!0,d=!1,p=void 0;try{for(var g,m=f[Symbol.iterator]();!(h=(g=m.next()).done);h=!0){var v=g.value;void 0!==v&&null!=v||(v="none");var b=i[v];b?i[v]++:i[v]=1}}catch(t){d=!0,p=t}finally{try{!h&&m.return&&m.return()}finally{if(d)throw p}}}}}catch(t){o=!0,a=t}finally{try{!r&&l.return&&l.return()}finally{if(o)throw a}}var y=[];for(var _ in i)y.push({value:_,count:i[_]});return y.sort(function(t,e){return t.count===e.count?t.value.localeCompare(e.value):e.count-t.count}),console.log(y),y}(r.ndx.getOriginalData(),o,r.config.delimiter):j(r.ndx.getOriginalData(),o);var l=0;r.val_to_order={};var c=!0,f=!1,p=void 0;try{for(var g,m=a[Symbol.iterator]();!(c=(g=m.next()).done);c=!0){var v=g.value;if(r.val_to_order[v.value]=l,l===r.cs.length)break;l++}}catch(t){f=!0,p=t}finally{try{!c&&m.return&&m.return()}finally{if(f)throw p}}return r.setParameters(),r.config.size?r.setSize(r.config.size[0],r.config.size[1]):r.setSize(),r}return f(e,g),o(e,[{key:"setParameters",value:function(t){var e=this;t&&(this._setParam(t,"cap"),this._setParam(t,"delimiter")),this.dim&&this.dim.dispose();var n=this.config.param,i=null;if("string"!=typeof this.config.param&&(n=this.config.param[0],i=this.config.param[1]),this.config.delimiter?this.dim=this.ndx.dimension(function(t){return t[n]?(t[n]+"").split(e.config.delimiter):["none"]},!0):this.dim=this.ndx.dimension(function(t){return t[n]?t[n]:"none"}),this.group=i?this.dim.group().reduceSum(function(t){return t[i]?t[i]:0}):this.dim.group().reduceCount(),this.chart.dimension(this.dim).ordering(function(t,n){return e.val_to_order[t.key]}).group(this.group).elasticX(!0),1===this.group.size()&&this.chart.fixedBarHeight(20),this.config.group_colors&&this.config.group_colors[n]){var r={},o=[],a=0;this.config.delimiter&&this.config.group_colors[n].sort(function(t,e){return t[0].localeCompare(e[0])});var s=!0,l=!1,c=void 0;try{for(var u,f=this.config.group_colors[n][Symbol.iterator]();!(s=(u=f.next()).done);s=!0){var h=u.value;r[h[0]]=a,o.push(h[1]),a++}}catch(t){l=!0,c=t}finally{try{!s&&f.return&&f.return()}finally{if(l)throw c}}this.chart.ordering(function(t){return r[t.key]}),this.chart.ordinalColors(o)}else this.chart.ordinalColors(this.cs),this.chart.cap(this.config.cap);this.chart.render()}},{key:"setCap",value:function(t){this.config.cap=t,this.chart.cap(t),this.chart.redraw()}},{key:"setSize",value:function(t,n){i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setSize",this).call(this,t,n),this.chart.xAxis().ticks(Math.round(this.width/30)).tickFormat(function(t,e){return t>=1e3?(e+1)%2==0?t>=1e5?Number.parseFloat(t).toPrecision(2):t:"":t}),this.chart.redraw()}},{key:"getFilter",value:function(){var t=this.chart.filters(),e=[];if(0===t.length)return e;e.push({field:this.param,value:t,operand:"="})}}]),e}(),S=function(t){function e(t,n,i,r){h(this,e);var o=u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,s.dc.boxPlot,n,i));o.type="box_plot";o.config.cap||(o.config.cap=8);var a=j(o.ndx.getOriginalData(),i.param[0]);o.categories=[];for(var l=0;l<a.length&&20!==l;l++)o.categories.push(a[l].value);var c=!0,f=!1,d=void 0;try{for(var p,g=r[Symbol.iterator]();!(c=(p=g.next()).done);c=!0){var m=p.value;if(m.field===i.param[0]&&m.colors){var v=[];o.config.cat_order=[],o.config.colors=[];var b=!0,y=!1,_=void 0;try{for(var x,w=m.colors[Symbol.iterator]();!(b=(x=w.next()).done);b=!0){var k=x.value;o.config.cat_order.push(k[0]),v.push(k)}}catch(t){y=!0,_=t}finally{try{!b&&w.return&&w.return()}finally{if(y)throw _}}v.sort(function(t,e){return t[0].localeCompare(e[0])});var C=!0,F=!1,A=void 0;try{for(var S,D=v[Symbol.iterator]();!(C=(S=D.next()).done);C=!0){var M=S.value;o.config.colors.push(M[1])}}catch(t){F=!0,A=t}finally{try{!C&&D.return&&D.return()}finally{if(F)throw A}}}break}}catch(t){f=!0,d=t}finally{try{!c&&g.return&&g.return()}finally{if(f)throw d}}return o.setParameters(),o.config.size?o.setSize(o.config.size[0],o.config.size[1]):o.setSize(),o}return f(e,g),o(e,[{key:"setSize",value:function(t,n){i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setSize",this).call(this,t,n),this.chart.yAxis().ticks(Math.round(this.height/20)).tickFormat(function(t,e){return t>=1e5||t<=-1e5?Number.parseFloat(t).toPrecision(2):t}),this.chart.margins().left=35,this.chart.margins().right=20,this.config.max_y&&this.chart.y(a.d3.scaleLinear().domain([0,this.config.max_y])),this.chart.redraw()}},{key:"showDataPoints",value:function(t){this.chart.renderDataPoints(!0,t),this.chart.redraw()}},{key:"setColors",value:function(t){this.config.colors=t,this.chart.ordinalColors(this.config.colors),this.chart.redraw()}},{key:"setCap",value:function(t){this.setParameters({cap:t})}},{key:"setParameters",value:function(t){t&&(this._setParam(t,"cap"),this._setParam(t,"delimiter"),this._setParam(t,"max_y"),this._setParam(t,"show_points"),this._setParam(t,"show_outliers"));var e=this;this.config.param.length>2&&(this.config.use_columns=!0),this.dim&&this.dim.dispose();for(var n={},i=0;i<this.categories.length&&!(i>=this.config.cap);i++)n[this.categories[i]]=!0;if(this.dim=this.ndx.dimension(function(t){var i=t[e.config.param[0]];return i?n[i]?i:"Other":"None"}),this.group&&this.group.dispose(),this.config.use_columns)this.group=this.getFakeGroup(this.config.param);else{var r=this.config.param[1];this.group=this.dim.group().reduce(function(t,e){return null==e[r]?t:(t.splice(a.d3.bisectLeft(t,e[r]),0,e[r]),t)},function(t,e){return null==e[r]?t:(t.splice(a.d3.bisectLeft(t,e[r]),1),t)},function(){return[]})}var o=this.config.labels;o&&this.chart.xAxis().tickFormat(function(t,e){return o[e]}),this.chart.dimension(this.dim).group(this.group).showOutliers(this.config.show_outliers).renderDataPoints(this.config.show_points).elasticX(!0),this.config.use_columns&&(this.chart.filter=function(t){},this.chart.ordering(function(t){return e.config.param.indexOf(t.key)})),this.config.colors&&this.chart.ordinalColors(this.config.colors),this.config.cat_order&&this.chart.ordering(function(t){return e.config.cat_order.indexOf(t.key)}),this.config.max_y?(this.chart.elasticY(!1),this.chart.y(a.d3.scaleLinear().domain([0,this.config.max_y]))):this.chart.elasticY(!0),this.chart.render()}},{key:"getFakeGroup",value:function(t){var e=this.ndx.groupAll().reduce(function(e,n){return t.forEach(function(t){e[t].splice(a.d3.bisectLeft(e[t],n[t]),0,n[t])}),e},function(e,n){return t.forEach(function(t){e[t].splice(a.d3.bisectLeft(e[t],n[t]),1)}),e},function(){var e={};return t.forEach(function(t){e[t]=[]}),e});return{all:function(){return a.d3.map(e.value()).entries()},dispose:function(){}}}}]),e}(),D=function(t){function e(t,n,i){h(this,e);var r=u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,s.dc.pieChart,n,i));r.type="ring_chart";return r.config.cap||(r.config.cap=8),r.setParameters(),r.config.size?r.setSize(r.config.size[0],r.config.size[1]):r.setSize(),r}return f(e,g),o(e,[{key:"setCap",value:function(t){this.config.cap=t,this.chart.cap(t),this.chart.redraw()}},{key:"setParameters",value:function(t){var e=this;t&&this._setParam(t,"cap"),this.dim&&this.dim.dispose(),this.dim=this.ndx.dimension(function(t){var n=t[e.config.param];return n||"None"}),this.group=this.dim.group(),this.chart.dimension(this.dim).group(this.group).cap(this.config.cap).render()}},{key:"dataChanged",value:function(t){var e=this;this.not_broadcast=!0;var n=this.chart.filters();n.length>0&&this.chart.filter(null),this.dim.dispose(),"function"==typeof this.param?this.dim=this.ndx.dimension(this.param):this.dim=this.ndx.dimension(function(t){return t[e.param]?t[e.param]:"none"}),this.group=this.dim.group().reduceCount(),this.chart.dimension(this.dim).group(this.group),1===this.group.size()&&this.chart.fixedBarHeight(20),n.length>0&&(this.not_broadcast=t,this.chart.filter(n))}},{key:"setSize",value:function(t,n){i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setSize",this).call(this,t,n);var r=this.height-15;this.width<this.height&&(r=this.width),this.chart.innerRadius(.1*r),this.chart.width(r).height(r),this.chart.redraw()}},{key:"getFilter",value:function(){var t=this.chart.filters(),e=[];return 0===t.length?e:(e.push({field:this.config.param,value:t,operand:"="}),e)}}]),e}();p.chart_types={scatter_plot:F,bar_chart:v,ring_chart:D,row_chart:A,wgl_scatter_plot:k,wgl_image_scatter_plot:C,time_line_chart:b,box_plot:S},d.chart_names={wgl_scatter_plot:"Scatter Plot",bar_chart:"BarChart",ring_chart:"Pie Chart",row_chart:"Row Chart",wgl_image_scatter_plot:"Image Scatter Plot"};var M=function(){function e(n,i,r,o,a,s){var l=this;h(this,e),this.columns=n,this.config=s,this.field_to_column={};var c=!0,u=!1,f=void 0;try{for(var d,p=n[Symbol.iterator]();!(c=(d=p.next()).done);c=!0){var g=d.value;this.field_to_column[g.field]=g}}catch(t){u=!0,f=t}finally{try{!c&&p.return&&p.return()}finally{if(u)throw f}}this.callback=i,this.div=t("<div>").attr("class","civ-field-dialog");var m=[{text:"Cancel",click:function(){l.cancelAction(),l.div.dialog("close")}},{text:a,click:function(){l.doAction()},id:"do-action-button"}];this.div.dialog({autoOpen:!0,title:r,height:o[1],width:o[0],close:function(){l.div.dialog("destroy").remove()},buttons:m}).dialogFix(),this._init()}return o(e,[{key:"cancelAction",value:function(){}},{key:"_populateFields",value:function(e,n,i){var r=!0,o=!1,a=void 0;try{for(var s,l=this.columns[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var c=s.value,u=c.datatype;"integer"!==u&&"double"!==u||(u="number"),u!==n&&"all"!=n||e.append(t("<option>",{value:c.field,text:c.name}))}}catch(t){o=!0,a=t}finally{try{!r&&l.return&&l.return()}finally{if(o)throw a}}i&&t("<option>").val("none").text("None(Total counts)").attr("selected","selected").appendTo(e)}}]),e}(),T=function(e){function n(t,e,i){return h(this,n),u(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,e,"Add Chart",[250,300],"Add Chart",i))}return f(n,M),o(n,[{key:"_init",value:function(){var e=this;t("#do-action-button").hide();var n=t("<div>").appendTo(this.div);for(var i in n.append("<label>Graph Type:</label>"),this.chart_select=t("<select>").appendTo(n),p.chart_types)i.includes("image")&&!this.config.images||this.config.exclude_graph_types&&-1!==this.config.exclude_graph_types.indexOf(i)||this.chart_select.append(t("<option>",{value:i,text:p.chart_types[i].name}));t("<button>").attr("class","btn btn-sm btn-secondary").text("next").appendTo(n).click(function(n){e._addFields(e.chart_select.val()),t(this).hide(),e.chart_select.attr("disabled",!0)})}},{key:"doAction",value:function(){var e={param:[]},n=this;if(this.column_list)e.labels=[],this.column_list.children().each(function(i,r){var o=t(r).data("field");e.param.push(o),e.labels.push(n.field_to_column[o].name)});else{var i=!0,r=!1,o=void 0;try{for(var a,s=this.param_inputs[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;"none"!==l.val()&&e.param.push(l.val())}}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}}1===e.param.length&&(e.param=e.param[0]),e.title=this.title_input.val(),e.type=this.chart_type;var c=p.chart_types[this.chart_type].addToConfig;c&&c(e,this.config,this.field_to_column),setTimeout(function(){n.callback(e)},20)}},{key:"_addFields",value:function(e){var n=this;this.chart_type=e;var i=t("<div>").appendTo(this.div);this.param_inputs=[];var r=p.chart_types[e].params;if("string"==typeof r)"number"===r&&this._addMultiColumnSelect(i);else{var o=!0,a=!1,s=void 0;try{for(var l,c=r[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var u=l.value;i.append("<label>"+u.name+"</label>");var f=t("<select>").appendTo(i);this._populateFields(f,u.type,u.optional),i.append("<br>"),this.param_inputs.push(f)}}catch(t){a=!0,s=t}finally{try{!o&&c.return&&c.return()}finally{if(a)throw s}}}t("<button>").text("next").attr("class","btn btn-sm btn-secondary").appendTo(i).click(function(e){n._addTitle(),t(this).hide()})}},{key:"_addMultiColumnSelect",value:function(e){var n=this,i=t("<select>").appendTo(e);this._populateFields(i,"number"),e.append("<label>Select Columns</label>"),e.append(i);var r={};this.column_list=t("<div>").attr({id:"column-list"}).css({margins:"4px",height:"50px"});var o=t("<button>").text("Add").attr("class","btn btn-sm btn-secondary").click(function(e){var o=i.val();if(!r[o]){r[o]=!0;var a=t("<div>").append("<span>"+n.field_to_column[o].name).data("field",o).appendTo(n.column_list);t("<i class = 'fas fa-trash'></i>").css({cursor:"pointer"}).click(function(e){delete r[t(this).parent().data("field")],t(this).parent().remove()}).appendTo(a)}});e.append(o).append(this.column_list)}},{key:"_addTitle",value:function(){var e=t("<div>").appendTo(this.div);e.append("<label>Title:</title>"),this.title_input=t("<input>").appendTo(e);var n="";if(1==this.param_inputs.length)n=this.field_to_column[this.param_inputs[0].val()].name;else if(this.column_list)n="Column Average";else{n=this.field_to_column[this.param_inputs[0].val()].name;var i=this.param_inputs[1].val();"none"!=i&&(n+=" X "+this.field_to_column[i].name)}this.title_input.val(n),t("#do-action-button").show()}}]),n}(),E=function(){function e(n){var i=this;h(this,e),this.graph=n,this.div=t("<div>").attr("class","civ-chart-dialog"),this.div.dialog({autoOpen:!0,title:n.config.title,width:250,close:function(){i.div.dialog("destroy").remove()},buttons:[{text:"Defaults",click:function(){i.reset()}},{text:"Close",click:function(){i.div.dialog("close")}}]}).dialogFix();var r=this.div.parent().find(".ui-dialog-titlebar"),o=t("<i class='fas fa-cog'></i>").css({float:"left","margin-top":"4px","font-size":"18px"});r.prepend(o),this._init()}return o(e,[{key:"addCapControl",value:function(){var e=t("<div>").appendTo(this.div);e.append("<label>Max Categories:</label>");var n=this.graph;this.graph.config.cap&&this.graph.config.cap;this.cap_spinner=t("<input>").val(this.graph.config.cap).appendTo(e),this.cap_spinner.spinner({min:2,step:1,max:20,stop:function(e,i){var r=parseInt(t(this).val());n.setCap(r)}})}}]),e}(),P=function(t){function e(){return h(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return f(e,E),o(e,[{key:"_init",value:function(){this.addCapControl()}}]),e}(),I=function(t){function e(){return h(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return f(e,E),o(e,[{key:"_init",value:function(){this.addCapControl()}}]),e}(),R=function(t){function e(){return h(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return f(e,E),o(e,[{key:"_init",value:function(){this.addCapControl()}}]),e}(),N=function(e){function n(t){return h(this,n),u(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t))}return f(n,E),o(n,[{key:"reset",value:function(){this.slider.slider("option","values",[this.graph.min,this.graph.max]),this.slider.data("min").val(this.graph.min),this.slider.data("max").val(this.graph.max),this.max_check_box.prop("checked",!1),this.bin_spinner.val(10),this.updateGraph()}},{key:"updateGraph",value:function(){var t={display_min:parseFloat(this.slider.data("min").val()),display_max:parseFloat(this.slider.data("max").val())};this.max_check_box.prop("checked")?t.max_y=this.max_y_spinner.val():t.max_y=null,t.bin_number=this.bin_spinner.val(),this.graph.setParameters(t)}},{key:"_init",value:function(){var e=this;this.div.append("<label>X Range:</label>");var n=t("<div>").attr("class","max-min-slider").appendTo(this.div);this.slider=t("<div>").slider({range:!0,min:this.graph.min,max:this.graph.max,step:(this.graph.max-this.graph.min)/50,values:[this.graph.config.display_min,this.graph.config.display_max],slide:function(e,n){t(this).data("min").val(n.values[0]),t(this).data("max").val(n.values[1])},stop:function(t,n){e.updateGraph()}});var i=t("<input>").attr("type","text").on("blur keypress",function(n){var i=t(this);if("keypress"!==n.type||13===n.which){var r=e.slider.slider("option","values");e.slider.slider("option","values",[i.val(),r[1]]),e.updateGraph()}}).val(this.graph.config.display_min),r=t("<input type='text'>").on("blur keypress",function(n){var i=t(this);if("keypress"!==n.type||13===n.which){var r=e.slider.slider("option","values");e.slider.slider("option","values",[r[0],i.val()]),e.updateGraph()}}).val(this.graph.config.display_max);n.append(i).append(this.slider).append(r),this.slider.data({min:i,max:r}),this.div.append("<hr>"),this.div.append("<label>Y Scale:</label>");var o=t("<div>").appendTo(this.div);this.max_check_box=t("<input type='checkbox'>").appendTo(o).click(function(t){e.updateGraph()}),o.append("<span>Fixed</span>&nbsp;&nbsp;<span>Max:</span>"),this.graph.max_y&&this.max_check_box.prop("checked",!0);var a=this.graph.config.max_y?this.graph.config.max_y:100;this.max_y_spinner=t("<input>").val(a).appendTo(o),this.max_y_spinner.spinner({min:0,step:50,change:function(t,n){e.max_check_box.prop("checked")&&e.updateGraph()},stop:function(t,n){e.max_check_box.prop("checked")&&e.updateGraph()}});t("<div>");this.div.append("<hr>"),this.div.append("<label>Bin Number:</label>");var s=t("<div>").appendTo(this.div);this.bin_spinner=t("<input>").val(this.graph.config.bin_number).appendTo(s),this.bin_spinner.spinner({min:1,step:1,stop:function(t,n){e.updateGraph()}})}}]),n}(),z=function(e){function n(t){h(this,n);var e=u(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return t.app._getObjectsInView(),e}return f(n,E),o(n,[{key:"_init",value:function(){var e=this,n=this.graph.config.radius,i=n/500,r=5*n,o=(r-i)/100;this.div.append("<label>Point Size:</label>"),this.slider=t("<div>").slider({min:i,max:r,step:o,value:this.graph.config.radius,slide:function(t,n){var i=n.value;e.graph.setPointRadius(i)}}).appendTo(this.div),this.range_vals={},this.div.append("<hr>"),this.div.append("<label>Main Region</label>");var a=t("<div>").appendTo(this.div);a.append("X range"),this._addRegionInput("min_x",a),a.append("to"),this._addRegionInput("max_x",a),(a=t("<div>").appendTo(this.div)).append("Y range"),this._addRegionInput("min_y",a),a.append("to"),this._addRegionInput("max_y",a),t("<button>").text("Show").attr("class","btn btn-sm btn-secondary").click(function(t){e._updateRegion()}).appendTo(this.div),this.div.append("<hr>"),this.div.append("<label>Log Scale</label>");var s=t("<div>").appendTo(this.div);this.x_log_check=t("<input type='checkbox'>").appendTo(s).prop("checked",this.graph.config.axis.x_log_scale).click(function(t){e.graph.toggleLogScale("x"),e.graph.app.refresh(),e._resetSlider()}),s.append("<span>X axis</span>"),this.y_log_check=t("<input type='checkbox'>").appendTo(s).prop("checked",this.graph.config.axis.y_log_scale).click(function(t){e.graph.toggleLogScale("y"),e.graph.app.refresh(),e._resetSlider()}),s.append("<span>Y axis</span>"),this.div.append("<hr>"),this.div.append("<label>Selection Type</label>");var l=q();(s=t("<div>")).append("<span>Default</span>").append(t("<input>").attr({type:"radio",name:l,value:"default"}).css("margin-right","4px").prop("checked","default"===this.graph.config.brush)),s.append("<span>Free Draw</span>").append(t("<input>").attr({type:"radio",name:l,value:"poly"}).css("margin-right","4px").prop("checked","poly"===this.graph.config.brush)),this.div.append(s),t('input[name="'+l+'"]').click(function(n){e.graph.config.brush=t(this).val(),e.graph.app.config.brush=t(this).val()}),this.div.append("<label>Filtered Points</label>"),l=q(),(s=t("<div>")).append("<span>Hide</span>").append(t("<input>").attr({type:"radio",name:l,value:"hide"}).css("margin-right","4px").prop("checked","hide"===this.graph.config.on_filter)),s.append("<span>Make opaque</span>").append(t("<input>").attr({type:"radio",name:l,value:"opaque"}).css("margin-right","4px").prop("checked","opaque"===this.graph.config.on_filter)),this.div.append(s),t('input[name="'+l+'"]').click(function(n){e.graph.config.on_filter=t(this).val()});t("<button>").attr({class:"btn btn-sm btn-secondary"}).text("Centre Plot").appendTo(this.div).click(function(t){e.graph.centerGraph(),e.graph.app.refresh()})}},{key:"_addRegionInput",value:function(e,n){var i=this.graph.config[e]?this.graph.config[e]:this.graph[e],r=t("<input>").val(i).css({width:"70px",height:"20px","margin-left":"2px","margin-right":"2px"});this.range_vals[e]=r,r.appendTo(n)}},{key:"_updateRegion",value:function(){for(var t=["max_x","min_x","max_y","min_y"],e=0;e<t.length;e++){var n=t[e],i=this.range_vals[n].val();i!=this.graph[n]&&(this.graph.config[n]=parseFloat(i))}this.graph.centerGraph();var r=this.graph._calculateRadius();this.graph.setPointRadius(r),this.graph.app.refresh(),this._resetSlider()}},{key:"_resetSlider",value:function(){var t=this.graph.config.radius,e=t/500,n=5*t;this.slider.slider("option","min",e),this.slider.slider("option","max",n),this.slider.slider("option","value",t);var i=(n-e)/100;this.slider.slider("option","step",i)}},{key:"reset",value:function(){this.graph.config.axis.x_log_scale&&(this.graph.toggleLogScale("x"),this.x_log_check.prop("checked",!1)),this.graph.config.axis.y_log_scale&&(this.graph.toggleLogScale("y"),this.y_log_check.prop("checked",!1));for(var t=["max_x","min_x","max_y","min_y"],e=0;e<t.length;e++){var n=t[e];delete this.graph.config[n],this.range_vals[n].val(this.graph[n])}this.graph.centerGraph(),this.graph.setPointRadius(this.graph.default_radius),this._resetSlider()}}]),n}();function O(t,e){var n=Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER,r=!0,o=!1,a=void 0;try{for(var s,l=t[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var c=s.value;isNaN(c[e])||(c[e]>n&&(n=c[e]),c[e]<i&&(i=c[e]))}}catch(t){o=!0,a=t}finally{try{!r&&l.return&&l.return()}finally{if(o)throw a}}return[i,n]}function L(t){t=t.replace("#","");var e=parseInt(t,16);return"rgb("+(e>>16&255)+", "+(e>>8&255)+", "+(255&e)+")"}function j(t,e){var n={},i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value[e];void 0!==l&&null!=l||(l="none"),n[l]?n[l]++:n[l]=1}}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}var c=[];for(var u in n)c.push({value:u,count:n[u]});return c.sort(function(t,e){return t.count===e.count?t.value.localeCompare(e.value):e.count-t.count}),c}p.chart_types={wgl_scatter_plot:{class:k,name:"Scatter Plot",params:[{name:"x axis",type:"number"},{name:"y_axis",type:"number"}],addToConfig:function(t,e,n){t.axis={x_label:n[t.param[0]].name,y_label:n[t.param[1]].name}},dialog:z},single_image_chart:{class:y,name:"Image"},text_box_chart:{class:_,name:"Text Box"},average_bar_chart:{class:x,name:"Bar Chart (Column Average)",params:"number"},bar_chart:{class:v,name:"Histogram",params:[{name:"Paramater",type:"number"}],dialog:N},ring_chart:{class:D,name:"Pie Chart",params:[{name:"Catergory",type:"text"}],dialog:P},box_plot:{class:S,name:"Box Plot",params:[{name:"X Axis(Category)",type:"text"},{name:"Y Axis(Values)",type:"number"}],dialog:R},row_chart:{class:A,name:"Row Chart",params:[{name:"Y Axis (Category)",type:"text"},{name:"X Axis(Values)",type:"number",optional:"true"}],dialog:I},time_line_chart:{class:b,name:"Time Line Chart",params:[{name:"X Axis (Date)",type:"date"},{name:"Y Axis(Values)",type:"number",optional:"true"}]}},d.color_schemes={spectral8:["#3288bd","#66c2a5","#abdda4","#e6f598","#fee08b","#fdae61","#f46d43","#d53e4f"],puOr11:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],redBlackGreen:["#ff0000","#AA0000","#550000","#005500","#00AA00","#00ff00"]},d.cat_color_schemes={"Scheme 1":["#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999","#1CE6FF","#FF34FF","#FF4A46","#008941","#676FA6","#A30059","#FFDBE5","#7A4900","#0000A6","#63FFAC","#B79762","#004D43","#8FB0FF","#997D87","#5A0007","#809693","#FEFFE6","#1B4400","#4FC601","#3B5DFF","#4A3B53","#FF2F80","#61615A","#BA0900","#6B7900","#00C2A0","#FFAA92","#FF90C9","#B903AA","#D16100","#DDEFFF","#000035","#7B4F4B","#A1C299","#300018","#0AA6D8","#013349","#00846F","#372101","#FFB500","#C2FFED","#A079BF","#CC0744","#C0B9B2","#C2FF99","#001E09","#00489C","#6F0062","#0CBD66","#EEC3FF","#456D75","#B77B68","#7A87A1","#788D66","#885578","#FAD09F","#FF8A9A","#D157A0","#BEC459","#456648","#0086ED","#886F4C","#34362D","#B4A8BD","#00A6AA","#452C2C","#636375","#A3C8C9","#FF913F","#938A81","#575329","#00FECF","#B05B6F","#8CD0FF","#3B9700","#04F757","#C8A1A1","#1E6E00","#7900D7","#A77500","#6367A9","#A05837","#6B002C","#772600","#D790FF","#9B9700","#549E79","#FFF69F","#201625","#72418F","#BC23FF","#99ADC0","#3A2465","#922329","#5B4534","#FDE8DC"],"Scheme 2":a.d3.schemeSet1.slice(1,9)},d.getColorScale=function(t,e,n,i,r){var o=null,s="text"===t.datatype?"Scheme 1":"spectral8";if(n||(n=s),n instanceof Array)o=n;else{var l="text"===t.datatype?d.cat_color_schemes:d.color_schemes;(o=l[n])||(o=l[s])}if("text"===t.datatype){var c=j(e,t.field),u={},f=[],h=[],p=!0,g=!1,m=void 0;try{for(var v,b=o[Symbol.iterator]();!(p=(v=b.next()).done);p=!0){var y=v.value;h.push(L(y))}}catch(t){g=!0,m=t}finally{try{!p&&b.return&&b.return()}finally{if(g)throw m}}var _={},x=0;if(r){for(var w=0;w<c.length;w++)_[c[w].value]=c[w].count,x+=c[w].count;var k=!0,C=!1,F=void 0;try{for(var A,S=r[Symbol.iterator]();!(k=(A=S.next()).done);k=!0){var D=A.value,M=L(D[1]);u[D[0]]=M,f.push({text:D[0],color:M})}}catch(t){C=!0,F=t}finally{try{!k&&S.return&&S.return()}finally{if(C)throw F}}}else for(var T=0;T<h.length&&T!==c.length;T++)u[c[T].value]=h[T],_[c[T].value]=c[T].count,x+=c[T].count,f.push({text:c[T].value,color:h[T]});c.length>f.length&&(f.push({text:"Other",color:"rgb(220, 220, 220)"}),_.other=e.length-x);return i&&new B(i,f,t.name),{func:function(t){var e=u[t];return e||"rgb(220, 220, 220)"},column:t,value_to_color:u,value_to_number:_,scheme:n}}var E=O(e,t.field),P=d.color_schemes[n],I=null;I=t.log_scale?a.d3.scaleSymlog():a.d3.scaleLinear();var R=E[1],N=E[0];return void 0!==t.max_value&&(R=parseFloat(t.max_value)),void 0!==t.min_value&&(N=parseFloat(t.min_value)),I.domain(function(t,e,n){for(var i=[],r=(e-t)/(n-1),o=0;o<n-1;)i.push(t+o*r),o++;return i.push(e),i}(N,R,P.length)).range(P).clamp(!0),i&&new W(i,I,{height:10,width:120,min:N,max:R,column:t}),{func:I,column:t,scheme:n}};var H=function(e){function n(e,i,r,o,a,s){h(this,n);var l={limit_datatype:a||"all",existing_param:s,data:i,has_legend:void 0!==r},c=u(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,o,"Color By",[260,350],"OK",l));c.div_id=r;var f=c.div.parent().find(".ui-dialog-titlebar"),d=t("<i class='fas fa-palette'></i>").css({float:"left","margin-top":"4px","font-size":"18px"});return f.prepend(d),c}return f(n,M),o(n,[{key:"_init",value:function(){var e=t("<div>").appendTo(this.div);e.append("<label>Field:</label>");var n=this;this.field_select=t("<select>").appendTo(e).on("change",function(){var e=n.field_to_column[t(this).val()];n.column=e,delete e.log_scale,delete e.min_value,delete e.max_value,n.min_input.val(""),n.max_input.val(""),n.log_check.prop("checked",!1),n._populateSchemeSelect(e.datatype),"text"===e.datatype?n.scale_div.hide():n.scale_div.show(),n.showScale()}),this._populateFields(this.field_select,this.config.limit_datatype),this.config.existing_param&&this.field_select.val(this.config.existing_param.column.field);var i=t("<div>").appendTo(this.div);i.append("<label>Scheme:</label>"),this.scheme_select=t("<select>").appendTo(i).change(function(t){n.showScale()});var r=this.field_select.val();if(this.column=this.field_to_column[r],this.config.existing_param&&(this.column=this.config.existing_param.column),this._populateSchemeSelect(this.column.datatype),this.config.has_legend){var o=t("<div>").appendTo(this.div);o.append(t("<span>Show Legend</span>"));var a=!0;this.config.existing_param&&(a=this.config.existing_param.display_legend),this.show_legend_check=t("<input type='checkbox'>").appendTo(o).prop("checked",a)}this.div.append("<hr>"),this.scale_div=t("<div>").appendTo(this.div),this.log_check=t("<input type='checkbox'>").appendTo(this.scale_div).click(function(e){n.column.log_scale=t(this).prop("checked"),n.showScale()}),this.scale_div.append("<span>Log Scale</span>"),this.scale_div.append("<label>Cap Scale:</label>"),this.addMMInput("min"),this.addMMInput("max"),"text"===this.column.datatype&&this.scale_div.hide(),this.legend_div_id=q(6,"A"),this.div.append(t("<div>").attr("id",this.legend_div_id)),this.config.existing_param&&(this.scheme_select.val(this.config.existing_param.scheme),this.log_check.prop("checked",this.column.log_scale)),this.showScale()}},{key:"addMMInput",value:function(e){var n=t("<input>"),i=this;this.scale_div.append("<span>"+e+":<span>").append(n),n.css({width:"65px",height:"20px","margin-left":"2px","margin-right":"2px"}).appendTo(this.scale_div).on("keypress",function(n){var r=t(this);if(13===n.which){var o=parseFloat(r.val());isNaN(o)?delete i.column[e+"_value"]:i.column[e+"_value"]=o,i.showScale()}}),void 0!==this.column[e+"_value"]&&n.val(this.column[e+"_value"]),this[e+"_input"]=n}},{key:"_populateSchemeSelect",value:function(e){this.scheme_select.empty();var n="text"===e?d.cat_color_schemes:d.color_schemes;for(var i in n)this.scheme_select.append(t("<option>",{value:i,text:i}))}},{key:"cancelAction",value:function(){t("#"+this.div_id+"-bar").remove(),this.callback(null)}},{key:"showScale",value:function(){var e=this.column.datatype,n=[{x:0},{x:100}],i=this.scheme_select.val();if("text"===e){var r=d.cat_color_schemes[i];n=[];for(var o=1;o<=r.length;o++)n.push({x:"cat"+o})}d.getColorScale(this.column,this.config.data,i,this.legend_div_id),t("#"+this.legend_div_id+"-bar").css({top:"10px",left:"10px"})}},{key:"doAction",value:function(){var t=this.field_select.val(),e=(this.field_to_column[t].name,"text"===this.field_to_column[t].datatype?d.cat_color_schemes:d.color_schemes,this.scheme_select.val()),n=this.field_to_column[t];this.log_check.prop("checked")?n.log_scale=!0:delete n.log_scale,this.max_input.val()?n.max_value=this.max_input.val():delete n.max_value,this.min_input.val()?n.min_value=this.min_input.val():delete n.min_value;var i=d.getColorScale(n,this.config.data,e,this.div_id);this.show_legend_check&&(i.display_legend=this.show_legend_check.prop("checked")),this.callback(i)}}]),n}(),B=function e(n,i,r){h(this,e),this.id=n+"-bar";var o=["24px","50px"],s=t("#"+this.id);s.length&&(o=[s.css("top"),s.css("left")],s.remove()),this.holder=a.d3.select("#"+n).append("svg").attr("id",this.id),this.holder.attrs({height:13*i.length+16,width:120}).append("text").text(r).attrs({x:"0px",y:"0px","alignment-baseline":"hanging"}).style("font-size","14px"),this.holder.selectAll("rect").data(i).enter().append("rect").attrs({y:function(t,e){return 16+12*e+"px"},x:"0px",height:"10px",width:"10px"}).styles({fill:function(t){return t.color}}).text(function(t){return t.text}),this.holder.selectAll(".legend-text").data(i).enter().append("text").attrs({y:function(t,e){return 16+12*e+"px"},x:"1em","alignment-baseline":"hanging"}).styles({"font-size":"12px"}).text(function(t){return t.text}),t("#"+this.id).draggable({containment:"parent"}).css({top:o[0],left:o[1]}),this.holder.on("mousedown",function(t){a.d3.event.stopPropagation()}).style("cursor","move")},W=function(){function e(n,i,r){h(this,e),this.config=t.extend(r,{},!0),this.color_scale=i,this.id=n+"-bar";var o=["24px","50px"],s=t("#"+this.id);s.length&&(o=[s.css("top"),s.css("left")],s.remove()),this.holder=a.d3.select("#"+n).append("svg").attr("id",this.id),this.svg=this.holder.append("g"),this.title=this.holder.append("text").text(r.column.name).attrs({x:10,"alignment-baseline":"hanging"}).style("font-size","12px"),this.svg.attr("transform","translate(10, 15)"),this.gradient=this.svg.append("defs").append("linearGradient").attr("id",n+"-gradient").attr("x1","0%").attr("y1","0%").attr("x2","100%").attr("y2","0%").attr("spreadMethod","pad"),this.bar=this.svg.append("rect").attr("x1",0).attr("y1",0).style("fill","url(#"+n+"-gradient)"),this.config.column.log_scale?this.legend_scale=a.d3.scaleSymlog():this.legend_scale=a.d3.scaleLinear(),this.legend_axis=a.d3.axisBottom(this.legend_scale).tickFormat(function(t,e){return t>=1e4?Number.parseFloat(t).toPrecision(2):t}),this.legend=this.svg.append("g").attr("class","legend axis"),this.draw(),t("#"+this.id).draggable({containment:"parent"}).css({top:o[0],left:o[1]}),this.holder.on("mousedown",function(t){a.d3.event.stopPropagation()}).style("cursor","move")}return o(e,[{key:"draw",value:function(){var t=this.color_scale.range();this.holder.attr("width",this.config.width+20).attr("height",this.config.height+45);var e=this.linspace(0,100,t.length).map(function(t){return Math.round(t)+"%"}),n=this;a.d3.zip(e,t).forEach(function(t){n.gradient.append("stop").attr("offset",t[0]).attr("stop-color",t[1]).attr("stop-opacity",1)}),this.bar.attr("width",this.config.width).attr("height",this.config.height),this.legend_scale.domain([this.config.min,this.config.max]).range([0,this.config.width]),this.legend_axis.ticks(Math.round(this.config.width/25)),this.legend.attr("transform","translate(0, "+this.config.height+")").call(this.legend_axis).selectAll("text").style("text-anchor","end").attr("dx","-.05em").attr("dy",".3em").attr("transform",function(t){return"rotate(-45)"})}},{key:"setSize",value:function(t,e){this.legend_scale.range([e,0]),this.legend.call(this.legend_axis),this.svg.attr("width",t-20).attr("height",e+"px"),this.holder.attr("width",t).attr("height",e),this.bar.attr("width",t-20).attr("height",e)}},{key:"linspace",value:function(t,e,n){for(var i=[],r=(e-t)/(n-1),o=0;o<n-1;)i.push(t+o*r),o++;return i.push(e),i}}]),e}();function q(t,e){t||(t=6);for(var n="",i=0,r="a"==(e=e&&e.toLowerCase())?10:0,o="n"==e?10:62;i++<t;){var a=Math.random()*(o-r)+r<<0;n+=String.fromCharCode(a+=a>9?a<36?55:61:48)}return n}function U(e,n){var i=e.cloneNode(!0);!function t(e,n){for(var i=["svg","g"],r=0;r<e.childNodes.length;r++){var o=e.childNodes[r];if(-1==i.indexOf(o.tagName)){var a=n.childNodes[r].currentStyle||window.getComputedStyle(n.childNodes[r]);if("undefined"!=a&&null!=a)for(var s=0;s<a.length;s++)o.style.setProperty(a[s],a.getPropertyValue(a[s]))}else t(o,n.childNodes[r])}}(i,e);var r=document.createElement("canvas");e.getBBox();t(i).css("top","0px"),r.width=e.width.baseVal.value,r.height=e.height.baseVal.value;var o=r.getContext("2d");o.clearRect(0,0,r.width,r.height);var a=(new XMLSerializer).serializeToString(i),s=window.URL||window.webkitURL||window,l=new Image,c=new Blob([a],{type:"image/svg+xml;charset=utf-8"}),u=s.createObjectURL(c);l.src=u,l.onload=function(){o.drawImage(l,0,0),n(r,o)}}e.MLVRingChart=D,e.WGLScatterPlot=k,e.MLVScatterPlot=F,e.MLVBarChart=v,e.MLVChart=p,e.FilterPanel=d,e.AddChartDialog=T,e.ColorByDialog=H,e.WGLChart=w,e.groupAndOrder=j,e.MLVChartDialog=E,e.MLVDCChart=g,e.MLVColorLegend=B,e.findMinMax=O}).call(this,n(0))},function(t,e){t.exports="images/fa-solid-900.eot"},function(t,e){t.exports="images/fa-regular-400.eot"},function(t,e){t.exports="images/fa-brands-400.eot"},function(t,e){t.exports="images/header-columns-bg.gif"},function(t,e){t.exports="images/ui-bg_flat_0_aaaaaa_40x100.png"},function(t,e){t.exports="images/ui-icons_454545_256x240.png"},function(t,e,n){"use strict";t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";(function(t){function n(e){var o,a;function s(){var t=e.column.editorFixedDecimalPlaces;return void 0===t&&(t=n.DefaultDecimalPlaces),t||0===t?t:null}this.init=function(){var n=e.grid.getOptions().editorCellNavOnLRKeys;o=t("<INPUT type=text class='editor-text' />").appendTo(e.container).on("keydown.nav",n?i:r).focus().select()},this.destroy=function(){o.remove()},this.focus=function(){o.focus()},this.loadValue=function(t){a=t[e.column.field];var n=s();null!==n&&(a||0===a)&&a.toFixed&&(a=a.toFixed(n)),o.val(a),o[0].defaultValue=a,o.select()},this.serializeValue=function(){var t=parseFloat(o.val());n.AllowEmptyValue?t||0===t||(t=""):t=t||0;var e=s();return null!==e&&(t||0===t)&&t.toFixed&&(t=parseFloat(t.toFixed(e))),t},this.applyValue=function(t,n){t[e.column.field]=n},this.isValueChanged=function(){return!(""==o.val()&&null==a)&&o.val()!=a},this.validate=function(){if(isNaN(o.val()))return{valid:!1,msg:"Please enter a valid number"};if(e.column.validator){var t=e.column.validator(o.val());if(!t.valid)return t}return{valid:!0,msg:null}},this.init()}function i(e){var n=this.selectionStart,i=this.value.length;(e.keyCode===t.ui.keyCode.LEFT&&n>0||e.keyCode===t.ui.keyCode.RIGHT&&n<i-1)&&e.stopImmediatePropagation()}function r(e){e.keyCode!==t.ui.keyCode.LEFT&&e.keyCode!==t.ui.keyCode.RIGHT||e.stopImmediatePropagation()}Object.defineProperty(e,"__esModule",{value:!0}),n.DefaultDecimalPlaces=null,n.AllowEmptyValue=!1;var o={Text:function(e){var n,o;this.init=function(){var o=e.grid.getOptions().editorCellNavOnLRKeys;n=t("<INPUT type=text class='editor-text' />").appendTo(e.container).on("keydown.nav",o?i:r).focus().select()},this.destroy=function(){n.remove()},this.focus=function(){n.focus()},this.getValue=function(){return n.val()},this.setValue=function(t){n.val(t)},this.loadValue=function(t){o=t[e.column.field]||"",n.val(o),n[0].defaultValue=o,n.select()},this.serializeValue=function(){return n.val()},this.applyValue=function(t,n){t[e.column.field]=n},this.isValueChanged=function(){return!(""==n.val()&&null==o)&&n.val()!=o},this.validate=function(){if(e.column.validator){var t=e.column.validator(n.val());if(!t.valid)return t}return{valid:!0,msg:null}},this.init()},Integer:function(e){var n,o;this.init=function(){var o=e.grid.getOptions().editorCellNavOnLRKeys;n=t("<INPUT type=text class='editor-text' />").appendTo(e.container).on("keydown.nav",o?i:r).focus().select()},this.destroy=function(){n.remove()},this.focus=function(){n.focus()},this.loadValue=function(t){o=t[e.column.field],n.val(o),n[0].defaultValue=o,n.select()},this.serializeValue=function(){return parseInt(n.val(),10)||0},this.applyValue=function(t,n){t[e.column.field]=n},this.isValueChanged=function(){return!(""==n.val()&&null==o)&&n.val()!=o},this.validate=function(){if(isNaN(n.val()))return{valid:!1,msg:"Please enter a valid integer"};if(e.column.validator){var t=e.column.validator(n.val());if(!t.valid)return t}return{valid:!0,msg:null}},this.init()},Float:n,Date:function(e){var n,i,r=!1;this.init=function(){(n=t("<INPUT type=text class='editor-text' />")).appendTo(e.container),n.focus().select(),n.datepicker({showOn:"button",buttonImageOnly:!0,beforeShow:function(){r=!0},onClose:function(){r=!1}}),n.width(n.width()-18)},this.destroy=function(){t.datepicker.dpDiv.stop(!0,!0),n.datepicker("hide"),n.datepicker("destroy"),n.remove()},this.show=function(){r&&t.datepicker.dpDiv.stop(!0,!0).show()},this.hide=function(){r&&t.datepicker.dpDiv.stop(!0,!0).hide()},this.position=function(e){r&&t.datepicker.dpDiv.css("top",e.top+30).css("left",e.left)},this.focus=function(){n.focus()},this.loadValue=function(t){i=t[e.column.field],n.val(i),n[0].defaultValue=i,n.select()},this.serializeValue=function(){return n.val()},this.applyValue=function(t,n){t[e.column.field]=n},this.isValueChanged=function(){return!(""==n.val()&&null==i)&&n.val()!=i},this.validate=function(){if(e.column.validator){var t=e.column.validator(n.val());if(!t.valid)return t}return{valid:!0,msg:null}},this.init()},YesNoSelect:function(e){var n,i;this.init=function(){(n=t("<SELECT tabIndex='0' class='editor-yesno'><OPTION value='yes'>Yes</OPTION><OPTION value='no'>No</OPTION></SELECT>")).appendTo(e.container),n.focus()},this.destroy=function(){n.remove()},this.focus=function(){n.focus()},this.loadValue=function(t){n.val((i=t[e.column.field])?"yes":"no"),n.select()},this.serializeValue=function(){return"yes"==n.val()},this.applyValue=function(t,n){t[e.column.field]=n},this.isValueChanged=function(){return n.val()!=i},this.validate=function(){return{valid:!0,msg:null}},this.init()},Checkbox:function(e){var n,i;this.init=function(){(n=t("<INPUT type=checkbox value='true' class='editor-checkbox' hideFocus>")).appendTo(e.container),n.focus()},this.destroy=function(){n.remove()},this.focus=function(){n.focus()},this.loadValue=function(t){(i=!!t[e.column.field])?n.prop("checked",!0):n.prop("checked",!1)},this.preClick=function(){n.prop("checked",!n.prop("checked"))},this.serializeValue=function(){return n.prop("checked")},this.applyValue=function(t,n){t[e.column.field]=n},this.isValueChanged=function(){return this.serializeValue()!==i},this.validate=function(){return{valid:!0,msg:null}},this.init()},InverseCheckbox:function(e){var n,i;this.init=function(){(n=t("<INPUT type=checkbox value='true' class='editor-checkbox' hideFocus>")).appendTo(e.container),n.focus()},this.destroy=function(){n.remove()},this.focus=function(){n.focus()},this.loadValue=function(t){(i=!t[e.column.field])?n.prop("checked",!0):n.prop("checked",!1)},this.preClick=function(){n.prop("checked",!n.prop("checked"))},this.serializeValue=function(){return!n.prop("checked")},this.applyValue=function(t,n){t[e.column.field]=n},this.isValueChanged=function(){return!(this.serializeValue()!==i)},this.validate=function(){return{valid:!0,msg:null}},this.init()},PercentComplete:function(e){var n,i,r;this.init=function(){(n=t("<INPUT type=text class='editor-percentcomplete' />")).width(t(e.container).innerWidth()-25),n.appendTo(e.container),(i=t("<div class='editor-percentcomplete-picker' />").appendTo(e.container)).append("<div class='editor-percentcomplete-helper'><div class='editor-percentcomplete-wrapper'><div class='editor-percentcomplete-slider' /><div class='editor-percentcomplete-buttons' /></div></div>"),i.find(".editor-percentcomplete-buttons").append("<button val=0>Not started</button><br/><button val=50>In Progress</button><br/><button val=100>Complete</button>"),n.focus().select(),i.find(".editor-percentcomplete-slider").slider({orientation:"vertical",range:"min",value:r,slide:function(t,e){n.val(e.value)}}),i.find(".editor-percentcomplete-buttons button").on("click",function(e){n.val(t(this).attr("val")),i.find(".editor-percentcomplete-slider").slider("value",t(this).attr("val"))})},this.destroy=function(){n.remove(),i.remove()},this.focus=function(){n.focus()},this.loadValue=function(t){n.val(r=t[e.column.field]),n.select()},this.serializeValue=function(){return parseInt(n.val(),10)||0},this.applyValue=function(t,n){t[e.column.field]=n},this.isValueChanged=function(){return!(""==n.val()&&null==r)&&(parseInt(n.val(),10)||0)!=r},this.validate=function(){return isNaN(parseInt(n.val(),10))?{valid:!1,msg:"Please enter a valid positive number"}:{valid:!0,msg:null}},this.init()},LongText:function(e){var n,i,r,o=this;this.init=function(){var r=t("body");e.grid.getOptions().editorCellNavOnLRKeys,i=t("<DIV style='z-index:10000;position:absolute;background:white;padding:5px;border:3px solid gray; -moz-border-radius:10px; border-radius:10px;'/>").appendTo(r),n=t("<TEXTAREA hidefocus rows=5 style='background:white;width:250px;height:80px;border:0;outline:0'>").appendTo(i),t("<DIV style='text-align:right'><BUTTON>Save</BUTTON><BUTTON>Cancel</BUTTON></DIV>").appendTo(i),i.find("button:first").on("click",this.save),i.find("button:last").on("click",this.cancel),n.on("keydown",this.handleKeyDown),o.position(e.position),n.focus().select()},this.handleKeyDown=function(n){if(n.which==t.ui.keyCode.ENTER&&n.ctrlKey)o.save();else if(n.which==t.ui.keyCode.ESCAPE)n.preventDefault(),o.cancel();else if(n.which==t.ui.keyCode.TAB&&n.shiftKey)n.preventDefault(),e.grid.navigatePrev();else if(n.which==t.ui.keyCode.TAB)n.preventDefault(),e.grid.navigateNext();else if((n.which==t.ui.keyCode.LEFT||n.which==t.ui.keyCode.RIGHT)&&e.grid.getOptions().editorCellNavOnLRKeys){var i=this.selectionStart,r=this.value.length;n.keyCode===t.ui.keyCode.LEFT&&0===i&&e.grid.navigatePrev(),n.keyCode===t.ui.keyCode.RIGHT&&i>=r-1&&e.grid.navigateNext()}},this.save=function(){e.commitChanges()},this.cancel=function(){n.val(r),e.cancelChanges()},this.hide=function(){i.hide()},this.show=function(){i.show()},this.position=function(t){i.css("top",t.top-5).css("left",t.left-5)},this.destroy=function(){i.remove()},this.focus=function(){n.focus()},this.loadValue=function(t){n.val(r=t[e.column.field]),n.select()},this.serializeValue=function(){return n.val()},this.applyValue=function(t,n){t[e.column.field]=n},this.isValueChanged=function(){return!(""==n.val()&&null==r)&&n.val()!=r},this.validate=function(){if(e.column.validator){var t=e.column.validator(n.val());if(!t.valid)return t}return{valid:!0,msg:null}},this.init()}};e.Editors=o}).call(this,n(0))},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.RowSelectionModel=void 0;var i=n(4);e.RowSelectionModel=function(e){var n,r,o,a=[],s=this,l=new i.Slick.EventHandler,c={selectActiveRow:!0};function u(t){return function(){r||(r=!0,t.apply(this,arguments),r=!1)}}function f(t){for(var e=[],n=0;n<t.length;n++)for(var i=t[n].fromRow;i<=t[n].toRow;i++)e.push(i);return e}function h(t){for(var e=[],r=n.getColumns().length-1,o=0;o<t.length;o++)e.push(new i.Slick.Range(t[o],0,t[o],r));return e}function d(){return f(a)}function p(t){(a&&0!==a.length||t&&0!==t.length)&&(a=t,s.onSelectedRangesChanged.notify(a))}function g(t,e){o.selectActiveRow&&null!=e.row&&p([new i.Slick.Range(e.row,0,e.row,n.getColumns().length-1)])}function m(t){t.which!=i.Slick.keyCode.UP&&t.which!=i.Slick.keyCode.DOWN||(n.tagging_field_clicked=!1);var e=n.getActiveCell();if(n.getOptions().multiSelect&&e&&t.shiftKey&&!t.ctrlKey&&!t.altKey&&!t.metaKey&&(t.which==i.Slick.keyCode.UP||t.which==i.Slick.keyCode.DOWN)){var r=d();r.sort(function(t,e){return t-e}),r.length||(r=[e.row]);var o,a=r[0],s=r[r.length-1];(o=t.which==i.Slick.keyCode.DOWN?e.row<s||a==s?++s:++a:e.row<s?--s:--a)>=0&&o<n.getDataLength()&&(n.scrollRowIntoView(o),p(h(function(t,e){var n,i=[];for(n=t;n<=e;n++)i.push(n);for(n=e;n<t;n++)i.push(n);return i}(a,s)))),t.preventDefault(),t.stopPropagation()}}function v(e){var i=n.getCellFromEvent(e);if(!i||!n.canCellBeActive(i.row,i.cell))return!1;if(!n.getOptions().multiSelect||!e.ctrlKey&&!e.shiftKey&&!e.metaKey)return!1;var r=f(a),o=t.inArray(i.row,r);if(-1===o&&(e.ctrlKey||e.metaKey))r.push(i.row),n.setActiveCell(i.row,i.cell);else if(-1!==o&&(e.ctrlKey||e.metaKey))r=t.grep(r,function(t,e){return t!==i.row}),n.setActiveCell(i.row,i.cell);else if(r.length&&e.shiftKey){var s=r.pop(),l=Math.min(i.row,s),c=Math.max(i.row,s);r=[];for(var u=l;u<=c;u++)u!==s&&r.push(u);r.push(s),n.setActiveCell(i.row,i.cell)}return p(h(r)),e.stopImmediatePropagation(),!0}t.extend(this,{getSelectedRows:d,setSelectedRows:function(t){p(h(t))},getSelectedRanges:function(){return a},setSelectedRanges:p,init:function(i){o=t.extend(!0,{},c,e),n=i,l.subscribe(n.onActiveCellChanged,u(g)),l.subscribe(n.onKeyDown,u(m)),l.subscribe(n.onClick,u(v))},destroy:function(){l.unsubscribeAll()},onSelectedRangesChanged:new i.Slick.Event})}}).call(this,n(0))},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.Aggregators=e.DataView=void 0;var i=n(4);var r={Avg:function(t){this.field_=t,this.init=function(){this.count_=0,this.nonNullCount_=0,this.sum_=0},this.accumulate=function(t){var e=t[this.field_];this.count_++,null==e||""===e||isNaN(e)||(this.nonNullCount_++,this.sum_+=parseFloat(e))},this.storeResult=function(t){t.avg||(t.avg={}),0!=this.nonNullCount_&&(t.avg[this.field_]=this.sum_/this.nonNullCount_)}},Min:function(t){this.field_=t,this.init=function(){this.min_=null},this.accumulate=function(t){var e=t[this.field_];null==e||""===e||isNaN(e)||(null==this.min_||e<this.min_)&&(this.min_=e)},this.storeResult=function(t){t.min||(t.min={}),t.min[this.field_]=this.min_}},Max:function(t){this.field_=t,this.init=function(){this.max_=null},this.accumulate=function(t){var e=t[this.field_];null==e||""===e||isNaN(e)||(null==this.max_||e>this.max_)&&(this.max_=e)},this.storeResult=function(t){t.max||(t.max={}),t.max[this.field_]=this.max_}},Sum:function(t){this.field_=t,this.init=function(){this.sum_=null},this.accumulate=function(t){var e=t[this.field_];null==e||""===e||isNaN(e)||(this.sum_+=parseFloat(e))},this.storeResult=function(t){t.sum||(t.sum={}),t.sum[this.field_]=this.sum_}}};e.DataView=function(e){var n,r,o,a,s,l=this,c="id",u=[],f=[],h={},d=null,p=null,g=null,m=!1,v=!0,b={},y={},_=[],x=[],w={getter:null,formatter:null,comparer:function(t,e){return t.value===e.value?0:t.value>e.value?1:-1},predefinedValues:[],aggregators:[],aggregateEmpty:!1,aggregateCollapsed:!1,aggregateChildGroups:!1,collapsed:!1,displayTotalsRow:!0,lazyTotalsCalculation:!1},k=[],C=[],F=[],A=":|:",S=0,D=0,M=0,T=new i.Slick.Event,E=new i.Slick.Event,P=new i.Slick.Event;e=t.extend(!0,{},{groupItemMetadataProvider:null,inlineFilters:!1},e);var I=[],R={};function N(t){for(var e,n=t=t||0,i=u.length;n<i;n++){if(void 0===(e=u[n][c]))throw new Error("Each data element must implement a unique 'id' property");h[e]=n}}function z(){for(var t,e=0,n=u.length;e<n;e++)if(void 0===(t=u[e][c])||h[t]!==e)throw new Error("Each data element must implement a unique 'id' property")}function O(){var t=S?Math.max(1,Math.ceil(M/S)):1;return{pageSize:S,pageNum:D,totalRows:M,totalPages:t,dataView:l}}function L(t,e){v=e,r=t,n=null,!1===e&&u.reverse(),u.sort(t),!1===e&&u.reverse(),h={},N(),nt()}function j(t,e){v=e,n=t,r=null;var i=Object.prototype.toString;Object.prototype.toString="function"==typeof t?t:function(){return this[t]},!1===e&&u.reverse(),u.sort(),Object.prototype.toString=i,!1===e&&u.reverse(),h={},N(),nt()}function H(n){e.groupItemMetadataProvider||(e.groupItemMetadataProvider=new i.Slick.Data.GroupItemMetadataProvider),C=[],F=[],k=(n=n||[])instanceof Array?n:[n];for(var r=0;r<k.length;r++){var o=k[r]=t.extend(!0,{},w,k[r]);o.getterIsAFn="function"==typeof o.getter,o.compiledAccumulators=[];for(var a=o.aggregators.length;a--;)o.compiledAccumulators[a]=(s=o.aggregators[a],void 0,c=void 0,l=Q(s.accumulate),(c=new Function("_items","for (var "+l.params[0]+", _i=0, _il=_items.length; _i<_il; _i++) {"+l.params[0]+" = _items[_i]; "+l.body+"}")).displayName=c.name="compiledAccumulatorLoop",c);F[r]={}}var s,l,c;nt()}function B(){if(!d){d={};for(var t=0,e=f.length;t<e;t++)d[f[t][c]]=t}}function W(t){return u[h[t]]}function q(t,e){if(void 0===h[t]||t!==e[c])throw new Error("Invalid or non-matching id");u[h[t]]=e,g||(g={}),g[t]=!0,nt()}function U(t,e){u.splice(t,0,e),N(t),nt()}function $(t){var e=h[t];if(void 0===e)throw new Error("Invalid id");delete h[t],u.splice(e,1),N(e),nt()}function V(t){if(!r)throw new Error("sortedAddItem() requires a sort comparer, use sort()");U(function(t){for(var e=0,n=u.length;e<n;){var i=e+n>>>1;-1===r(u[i],t)?e=i+1:n=i}return e}(t),t)}function G(t,e){if(null==t)for(var n=0;n<k.length;n++)F[n]={},k[n].collapsed=e;else F[t]={},k[t].collapsed=e;nt()}function Y(t,e,n){F[t][e]=k[t].collapsed^n,nt()}function X(t){var e,n=t.group,i=k[n.level],r=n.level==k.length,o=i.aggregators.length;if(!r&&i.aggregateChildGroups)for(var a=n.groups.length;a--;)n.groups[a].totals.initialized||X(n.groups[a].totals);for(;o--;)(e=i.aggregators[o]).init(),!r&&i.aggregateChildGroups?i.compiledAccumulators[o].call(e,n.groups):i.compiledAccumulators[o].call(e,n.rows),e.storeResult(t);t.initialized=!0}function K(t){var e=k[t.level],n=new i.Slick.GroupTotals;n.group=t,t.totals=n,e.lazyTotalsCalculation||X(n)}function Q(t){var e=t.toString().match(/^function[^(]*\(([^)]*)\)\s*{([\s\S]*)}$/);return{params:e[1].split(","),body:e[2]}}function Z(t,e){for(var n=[],i=0,r=0,o=t.length;r<o;r++)p(t[r],e)&&(n[i++]=t[r]);return n}function J(t,e,n){for(var i,r=[],o=0,a=0,s=t.length;a<s;a++)i=t[a],n[a]?r[o++]=i:p(i,e)&&(r[o++]=i,n[a]=!0);return r}function tt(t){if(p){var n=e.inlineFilters?a:Z,i=e.inlineFilters?s:J;b.isFilterNarrowing?_=n(_,o):b.isFilterExpanding?_=i(t,o,x):b.isFilterUnchanged||(_=n(t,o))}else _=S?t:t.concat();var r;return S?(_.length<=D*S&&(D=0===_.length?0:Math.floor((_.length-1)/S)),r=_.slice(S*D,S*D+S)):r=_,{totalRows:_.length,rows:r}}function et(t){d=null,b.isFilterNarrowing==y.isFilterNarrowing&&b.isFilterExpanding==y.isFilterExpanding||(x=[]);var e=tt(t);M=e.totalRows;var n=e.rows;C=[],k.length&&(C=function t(e,n){for(var r,o,a,s=[],l={},c=n?n.level+1:0,u=k[c],f=0,h=u.predefinedValues.length;f<h;f++)(r=l[o=u.predefinedValues[f]])||((r=new i.Slick.Group).value=o,r.level=c,r.groupingKey=(n?n.groupingKey+A:"")+o,s[s.length]=r,l[o]=r);for(f=0,h=e.length;f<h;f++)a=e[f],(r=l[o=u.getterIsAFn?u.getter(a):a[u.getter]])||((r=new i.Slick.Group).value=o,r.level=c,r.groupingKey=(n?n.groupingKey+A:"")+o,s[s.length]=r,l[o]=r),r.rows[r.count++]=a;if(c<k.length-1)for(f=0;f<s.length;f++)(r=s[f]).groups=t(r.rows,r);return s.sort(k[c].comparer),s}(n)).length&&(function t(e,n){for(var i,r=k[n=n||0],o=r.collapsed,a=F[n],s=e.length;s--;)(i=e[s]).collapsed&&!r.aggregateCollapsed||(i.groups&&t(i.groups,n+1),r.aggregators.length&&(r.aggregateEmpty||i.rows.length||i.groups&&i.groups.length)&&K(i),i.collapsed=o^a[i.groupingKey],i.title=r.formatter?r.formatter(i):i.value)}(C),n=function t(e,n){for(var i,r,o=k[n=n||0],a=[],s=0,l=0,c=e.length;l<c;l++){if(r=e[l],a[s++]=r,!r.collapsed)for(var u=0,f=(i=r.groups?t(r.groups,n+1):r.rows).length;u<f;u++)a[s++]=i[u];r.totals&&o.displayTotalsRow&&(!r.collapsed||o.aggregateCollapsed)&&(a[s++]=r.totals)}return a}(C));var r=function(t,e){var n,i,r,o=[],a=0,s=e.length;b&&b.ignoreDiffsBefore&&(a=Math.max(0,Math.min(e.length,b.ignoreDiffsBefore))),b&&b.ignoreDiffsAfter&&(s=Math.min(e.length,Math.max(0,b.ignoreDiffsAfter)));for(var l=a,u=t.length;l<s;l++)l>=u?o[o.length]=l:(n=e[l],i=t[l],(k.length&&(r=n.__nonDataRow||i.__nonDataRow)&&n.__group!==i.__group||n.__group&&!n.equals(i)||r&&(n.__groupTotals||i.__groupTotals)||n[c]!=i[c]||g&&g[n[c]])&&(o[o.length]=l));return o}(f,n);return f=n,r}function nt(){if(!m){var t=f.length,e=M,n=et(u);S&&M<D*S&&(D=Math.max(0,Math.ceil(M/S)-1),n=et(u)),g=null,y=b,b={},e!==M&&P.notify(O(),null,l),t!==f.length&&T.notify({previous:t,current:f.length,dataView:l},null,l),n.length>0&&E.notify({rows:n,dataView:l},null,l)}}t.extend(this,{beginUpdate:function(){m=!0},endUpdate:function(){m=!1,nt()},setPagingOptions:function(t){void 0!=t.pageSize&&(S=t.pageSize,D=S?Math.min(D,Math.max(0,Math.ceil(M/S)-1)):0),void 0!=t.pageNum&&(D=Math.min(t.pageNum,Math.max(0,Math.ceil(M/S)-1))),P.notify(O(),null,l),nt()},getPagingInfo:O,getItems:function(){return u},setItems:function(t,e){void 0!==e&&(c=e),u=_=t,h={},N(),z(),nt()},ensureIdUniqueness:z,setFilter:function(t){p=t,e.inlineFilters&&(a=function(){var t=Q(p),e="{ _retval[_idx++] = $item$; continue _coreloop; }$1",n=t.body.replace(/return false\s*([;}]|\}|$)/gi,"{ continue _coreloop; }$1").replace(/return!1([;}]|\}|$)/gi,"{ continue _coreloop; }$1").replace(/return true\s*([;}]|\}|$)/gi,e).replace(/return!0([;}]|\}|$)/gi,e).replace(/return ([^;}]+?)\s*([;}]|$)/gi,"{ if ($1) { _retval[_idx++] = $item$; }; continue _coreloop; }$2"),i=["var _retval = [], _idx = 0; ","var $item$, $args$ = _args; ","_coreloop: ","for (var _i = 0, _il = _items.length; _i < _il; _i++) { ","$item$ = _items[_i]; ","$filter$; ","} ","return _retval; "].join("");i=(i=(i=i.replace(/\$filter\$/gi,n)).replace(/\$item\$/gi,t.params[0])).replace(/\$args\$/gi,t.params[1]);var r=new Function("_items,_args",i);return r.displayName=r.name="compiledFilter",r}(),s=function(){var t=Q(p),e="{ _cache[_i] = true;_retval[_idx++] = $item$; continue _coreloop; }$1",n=t.body.replace(/return false\s*([;}]|\}|$)/gi,"{ continue _coreloop; }$1").replace(/return!1([;}]|\}|$)/gi,"{ continue _coreloop; }$1").replace(/return true\s*([;}]|\}|$)/gi,e).replace(/return!0([;}]|\}|$)/gi,e).replace(/return ([^;}]+?)\s*([;}]|$)/gi,"{ if ((_cache[_i] = $1)) { _retval[_idx++] = $item$; }; continue _coreloop; }$2"),i=["var _retval = [], _idx = 0; ","var $item$, $args$ = _args; ","_coreloop: ","for (var _i = 0, _il = _items.length; _i < _il; _i++) { ","$item$ = _items[_i]; ","if (_cache[_i]) { ","_retval[_idx++] = $item$; ","continue _coreloop; ","} ","$filter$; ","} ","return _retval; "].join("");i=(i=(i=i.replace(/\$filter\$/gi,n)).replace(/\$item\$/gi,t.params[0])).replace(/\$args\$/gi,t.params[1]);var r=new Function("_items,_args,_cache",i);return r.displayName=r.name="compiledFilterWithCaching",r}()),nt()},getFilter:function(){return p},getFilteredItems:function(){return _},sort:L,fastSort:j,reSort:function(){r?L(r,v):n&&j(n,v)},setGrouping:H,getGrouping:function(){return k},groupBy:function(t,e,n){H(null!=t?{getter:t,formatter:e,comparer:n}:[])},setAggregators:function(t,e){if(!k.length)throw new Error("At least one grouping must be specified before calling setAggregators().");k[0].aggregators=t,k[0].aggregateCollapsed=e,H(k)},collapseAllGroups:function(t){G(t,!0)},expandAllGroups:function(t){G(t,!1)},collapseGroup:function(t){var e=Array.prototype.slice.call(arguments),n=e[0];1==e.length&&-1!=n.indexOf(A)?Y(n.split(A).length-1,n,!0):Y(e.length-1,e.join(A),!0)},expandGroup:function(t){var e=Array.prototype.slice.call(arguments),n=e[0];1==e.length&&-1!=n.indexOf(A)?Y(n.split(A).length-1,n,!1):Y(e.length-1,e.join(A),!1)},getGroups:function(){return C},getIdxById:function(t){return h[t]},getRowByItem:function(t){return B(),d[t[c]]},getRowById:function(t){return B(),d[t]},getItemById:W,getItemByIdx:function(t){return u[t]},mapItemsToRows:function(t){var e=[];B();for(var n=0,i=t.length;n<i;n++){var r=d[t[n][c]];null!=r&&(e[e.length]=r)}return e},mapRowsToIds:function(t){for(var e=[],n=0,i=t.length;n<i;n++)t[n]<f.length&&(e[e.length]=f[t[n]][c]);return e},mapIdsToRows:function(t){var e=[];B();for(var n=0,i=t.length;n<i;n++){var r=d[t[n]];null!=r&&(e[e.length]=r)}return e},setRefreshHints:function(t){b=t},setFilterArgs:function(t){o=t},refresh:nt,updateItem:q,insertItem:U,addItem:function(t){u.push(t),N(u.length-1),nt()},deleteItem:$,sortedAddItem:V,sortedUpdateItem:function(t,e){if(void 0===h[t]||t!==e[c])throw new Error("Invalid or non-matching id "+h[t]);if(!r)throw new Error("sortedUpdateItem() requires a sort comparer, use sort()");var n=W(t);0!==r(n,e)?($(t),V(e)):q(t,e)},syncGridSelection:function(e,n,r){var o,a=this,s=a.mapRowsToIds(e.getSelectedRows()),l=new i.Slick.Event;function c(t){s.join(",")!=t.join(",")&&(s=t,l.notify({grid:e,ids:s,dataView:a},new i.Slick.EventData,a))}function u(){if(s.length>0){o=!0;var t=a.mapIdsToRows(s);n||c(a.mapRowsToIds(t)),e.setSelectedRows(t),o=!1}}return e.onSelectedRowsChanged.subscribe(function(n,i){if(!o){var l=a.mapRowsToIds(e.getSelectedRows());r&&e.getOptions().multiSelect?c(t.grep(s,function(t){return void 0===a.getRowById(t)}).concat(l)):c(l)}}),this.onRowsChanged.subscribe(u),this.onRowCountChanged.subscribe(u),l},syncGridCellCssStyles:function(t,e){var n,i;function r(t){for(var e in n={},t){var i=f[e][c];n[i]=t[e]}}function o(){if(n){i=!0,B();var r={};for(var o in n){var a=d[o];void 0!=a&&(r[a]=n[o])}t.setCellCssStyles(e,r),i=!1}}r(t.getCellCssStyles(e)),t.onCellCssStylesChanged.subscribe(function(n,a){i||e==a.key&&(a.hash?r(a.hash):(t.onCellCssStylesChanged.unsubscribe(styleChanged),l.onRowsChanged.unsubscribe(o),l.onRowCountChanged.unsubscribe(o)))}),this.onRowsChanged.subscribe(o),this.onRowCountChanged.subscribe(o)},getLength:function(){return f.length},getItem:function(t){var e=f[t];if(e&&e.__group&&e.totals&&!e.totals.initialized){var n=k[e.level];n.displayTotalsRow||(X(e.totals),e.title=n.formatter?n.formatter(e):e.value)}else e&&e.__groupTotals&&!e.initialized&&X(e);return e},getItemMetadata:function(t){var n=f[t];return void 0===n?null:n.__group?e.groupItemMetadataProvider.getGroupRowMetadata(n):n.__groupTotals?e.groupItemMetadataProvider.getTotalsRowMetadata(n):null},onRowCountChanged:T,onRowsChanged:E,onPagingInfoChanged:P,filters:I,addFilter:function(t){if(!R[t.field]){var e={active:!1,field:t.field,datatype:t.datatype,label:t.name,operand:"=",value:""};R[t.field]=e,I.push(e)}},isFilterActive:function(t){var e=R[t];return!!e&&e.active},setFilterInfo:function(t,e,n,i){var r=R[t];r.active=void 0===i||i,null===e&&null===n&&(r.active=!1),"<="===e?(r.operand="between",r.value[1]=n):(r.operand=e,r.value=n)}})},e.Aggregators=r}).call(this,n(0))},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.TaggingDialog=e.MLVImageTableControls=e.MLVImageTable=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(11),o=n(7);function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=function(){function e(n,i,r){a(this,e),"string"==typeof n&&(n=t("#"+n)),r||(r={}),this.row_first=0,this.row_last=139,this.tile_height=205,this.tile_width=205;var o=this;this.display_columns=[],this.flipped_tiles={},this.selection_mode=!0,this.columns=[],this.sort_columns=[],r.background_color=r.background_color?r.background_color:"lightgray";var s=new Image;s.onload=function(t){o.preferred_width=o.img_width=s.width,o.preferred_height=o.img_height=s.height,r.initial_image_width&&(o.preferred_width=r.initial_image_width,o.preferred_height=Math.round(o.preferred_width/o.img_width*o.img_height)),o._resize()},this.base_url=r.base_url,this.parent=n,this.selected_tiles={},this.margin=r.margin_size?r.margin_size:10,this.cache_size=5,this.view_port=t("<div>").height(this.parent.height()).width(this.parent.width()).css({overflow:"auto",display:"none","background-color":r.background_color}).attr("id","vpd"),this.canvas=t("<div>"),this.data_view=i,n.append(this.view_port),this.canvas.css({position:"relative","background-color":r.background_color}).click(function(e){var n=t(e.originalEvent.srcElement);n.attr("id")||(n=n.parent());var i=n.attr("id");if(i){var r=i.split("-");if("tile"===r[1]){var a=null,s=null,l=o.data_view.getItemById(r[2]),c=o.data_view.getRowById(r[2]);if(e.shiftKey&&(o.last_index_clicked||0===o.last_index_clicked)){a=[],s=[];var u=c-o.last_index_clicked<0?-1:1,f=o.last_index_clicked+1,h=c+1;-1===u&&(f=c,h=o.last_index_clicked);for(var d=f;d<h;d++){var p=o.data_view.getItem(d);a.push(p),s.push(p.id)}s.push(o.data_view.getItem(o.last_index_clicked).id)}if(o.show_info_box&&o.showInfoBox(o.data_view.getItemById(r[2])),o.listeners.image_clicked.forEach(function(t){t(e,l,n)}),o.last_index_clicked=c,o.tagger&&o.tagger.selected_option)return a||(a=[l]),void o.setTags(a);o.selection_mode&&(s||(s=[r[2]]),o.setSelectedTiles(s,e.ctrlKey,!0))}}}).mouseover(function(e){var n=t(e.originalEvent.srcElement),i=n.attr("id");if(i){var r=i.split("-")[2],a=o.data_view.getItemById(r);if(!a)return;if(o.image_over){if(a.id===o.image_over[0].id)return;o.listeners.image_out.forEach(function(t){t(e,o.image_over[0],o.image_over[1])})}o.listeners.image_over.forEach(function(t){t(e,a,n)}),o.image_over=[a,n]}else o.image_over&&o.listeners.image_out.forEach(function(t){t(e,o.image_over[0],o.image_over[1])}),o.image_over=null}),t(document).on("keydown",this.canvas,function(t){o.keyPressed(t)}),this._setCanvasHeight(),this.view_port.append(this.canvas).scroll(function(t){o._hasScrolled()}),this.parent.append(this.view_port),this._addListeners(),this.resize_timeout=null,this.resize_timeout_length=50,this.listeners={image_clicked:new Map,image_over:new Map,image_out:new Map,data_changed:new Map,image_selected:new Map},this.highlightcolors=null,this.tag_color_palletes={},this.image_suffix=r.image_suffix?r.image_suffix:".png",this.show_info_box=r.show_info_box,this.info_box=t("<div>").attr("class","image-table-info-box").appendTo(this.canvas);t("<a>X</a>").attr("class","closebtn").click(function(t){o.info_box.css("width",0)}).appendTo(this.info_box);if(this.info_box.append("<div class='info-text'></div>"),r.base_url){var l=i.getItems()[0].id;s.src=r.base_url+l+this.image_suffix}else this.url_field=r.url_field,s.src=i.getItems()[0][this.url_field];this.dv_filter_listener=i.addListener("data_filtered",function(t){o.show()}),r.columns&&this.setColumns(r.columns)}return i(e,[{key:"showInfoBox",value:function(t){if(0!==this.columns.length){var e=this.info_box.find("div");e.empty();var n=!0,i=!1,r=void 0;try{for(var o,a=this.columns[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;s.not_display||(e.append("<span class='info-heading'>"+s.name+"</span>"),e.append("<span style='margin-left:5px'>"+t[s.field]+"</span>"))}}catch(t){i=!0,r=t}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}var l=this.view_port.scrollTop()+2+"px";this.info_box.css({width:200,top:l})}}},{key:"keyPressed",value:function(t){if(39===t.which||40===t.which){if(this.last_index_clicked===this.data_view.getFilteredItems().length-1)return;(this.last_index_clicked||0===this.last_index_clicked)&&(this.last_index_clicked++,this.setSelectedTiles([this.data_view.getItem(this.last_index_clicked).id],!1,!0),this.last_index_clicked>this.getLastTileInView()&&this.show(this.last_index_clicked))}else if(37===t.which||38===t.which){if(0===this.last_index_clicked)return;this.last_index_clicked&&(this.last_index_clicked--,this.setSelectedTiles([this.data_view.getItem(this.last_index_clicked).id],!1,!0),this.last_index_clicked<this.getFirstTileInView()&&this.show(this.last_index_clicked))}}},{key:"showColorByDialog",value:function(e){var n=this;this.color_by_div=e,new r.ColorByDialog(this.columns,this.data_view.getItems(),e,function(i){t("#"+e+"-bar").position({my:"left top",at:"left top",of:"#"+e}),n.setColorBy(i),n.show(n.getFirstTileInView())})}},{key:"showFilterDialog",value:function(t){new o.MLVFilterDialog(this.data_view,t,function(){})}},{key:"showSortDialog",value:function(){var t=[],e=this,n=!0,i=!1,r=void 0;try{for(var a,s=this.columns[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var l=a.value;l.sortable&&t.push(l)}}catch(t){i=!0,r=t}finally{try{!n&&s.return&&s.return()}finally{if(i)throw r}}new o.MLVSortDialog(t,this.sort_columns,function(t){e.sortTable(t)})}},{key:"sortTable",value:function(t){this.data_view.sortData(t),this.sort_cols=t,this.show()}},{key:"taggingStarted",value:function(e){this.tagger=e;var n=this;this.color_by&&(this.temp_color_by=this.color_by,t("#"+this.color_by_div+"-bar").hide()),this.color_by={column:{field:this.tagger.field},func:function(t){return n.tagger.options[t]}},this.show(this.getFirstTileInView())}},{key:"tagAll",value:function(){var t=this.data_view.getFilteredItems(),e=this.tagger.selected_option;if(e){var n=this.tagger.field;"None"===e&&(e=null);var i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;e?l[n]=e:delete l[n]}}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}this.data_view.listeners.data_changed.forEach(function(t){t(n)}),this.show(this.getFirstTileInView())}}},{key:"tagSelected",value:function(){var t=[];for(var e in this.selected_tiles)t.push(this.data_view.getItemById(e));this.setTags(t)}},{key:"setTags",value:function(e){var n=!0,i=!1,r=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value,l=t("#mlv-tile-"+s.id);if(l.removeClass("image-table-selected"),"None"===this.tagger.selected_option)delete s[this.tagger.field],l.css("border","");else{var c="4px solid "+this.tagger.options[this.tagger.selected_option];s[this.tagger.field]=this.tagger.selected_option,l.css("border",c)}}}catch(t){i=!0,r=t}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}var u=this.tagger.field;this.data_view.listeners.data_changed.forEach(function(t){t(u)})}},{key:"deleteTag",value:function(t){var e=this.data_view.getItems(),n=this.tagger.field;for(var i in e)i[n]===t&&delete i[n];this.show(this.getFirstTileInView())}},{key:"updateTags",value:function(){this.show(this.getFirstTileInView())}},{key:"taggingStopped",value:function(){delete this.tagger,this.temp_color_by?(this.color_by=this.temp_color_by,t("#"+this.color_by_div+"-bar").show(),delete this.temp_color_by):this.color_by=null,this.show(this.getFirstTileInView())}},{key:"addListener",value:function(t,e,n){var i=this.listeners[t];return i?(n||(n=this._getRandomString()),i.set(n,e),n):null}},{key:"flipTileOnClick",value:function(t){var e=this;t?this.listeners.image_clicked.set("__flip_tile",function(t,n,i){e.flipTile(i,n)}):this.listeners.image_clicked.delete("__flip_tile")}},{key:"removeListener",value:function(t,e){var n=this.listeners[t];return!!n&&n.delete(e)}},{key:"setImageWidth",value:function(t){this.setImageDimensions([t,Math.round(t/this.img_width*this.img_height)])}},{key:"setImageDimensions",value:function(t,e){var n=this.getFirstTileInView();t?(this.preferred_width=t[0],this.preferred_height=t[1]):t=[this.preferred_width,this.preferred_height],this.width<this.preferred_width+2*this.margin&&0!==this.width?(t[0]=this.width-3*this.margin,this.num_per_row=1):(this.num_per_row=Math.ceil((this.width-this.margin)/(this.preferred_width+this.margin)),t[0]=Math.floor((this.width-2*this.margin)/this.num_per_row)-this.margin),t[1]=Math.round(t[0]/this.preferred_width*this.preferred_height),this.tile_width=parseInt(t[0])+this.margin,this.tile_height=parseInt(t[1])+this.margin,this.t_width=parseInt(t[0]),this.t_height=parseInt(t[1]);var i=Math.floor((this.height+this.cache_size*this.tile_height)/this.tile_height);this.max_difference=i+this.cache_size,e&&this.show(n)}},{key:"getInformationTile",value:function(e,n,i){var r=this.t_height<this.t_width?this.t_height:this.t_width,o=t("<div>").css({height:this.t_height,width:this.t_width,overflow:"hidden","background-color":"white","font-size":r/12+"px"}),a=!0,s=!1,l=void 0;try{for(var c,u=n[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var f=c.value;o.append("<label>"+f.name+"<label><br>"),o.append(e[f.field]+"<br>")}}catch(t){s=!0,l=t}finally{try{!a&&u.return&&u.return()}finally{if(s)throw l}}return i&&(o.css({height:i.height,width:i.width,position:"absolute",left:i.left,top:i.top}),o.addClass(i.class),o.attr("id",i.id)),o}},{key:"flipTile",value:function(n,i){var r=null;if(!n.parent().hasClass("flip")){if(n.hasClass("info-tile")){var o=this.base_url+i.id+".png";r=t("<img src='"+o+"'</img>").addClass(n[0].className).removeClass("info-tile"),delete i.__info_tile__,delete this.flipped_tiles[i.id]}else{for(var a in(r=civ.image_table.getInformationTile(i,[{name:"cpg Islands",field:"field1"},{name:"Peak Width",field:"field4"}])).addClass(n[0].className+" info-tile"),i.__info_tile__=!0,this.flipped_tiles){var s=t("#mlv-tile-"+a),l=this.data_view.getItemById(a);0!==s.length?this.flipTile(s,l):(delete l.__info_tile__,delete this.flipped_tiles[a])}this.flipped_tiles[i.id]=!0}r.attr("id",n.attr("id")),e.flip(n,r)}}},{key:"_addListeners",value:function(){var e=this;clearTimeout(this.resize_timeout),t(window).on("resize",function(){"none"!==e.view_port.css("display")&&e.resize()})}},{key:"resize",value:function(){var t=this;clearTimeout(this.resize_timeout),t.resize_timeout=setTimeout(function(){t._resize()},t.resize_timeout_length)}},{key:"getFirstTileInView",value:function(){var t=this.view_port.scrollTop();return Math.floor(t/this.tile_height)*this.num_per_row}},{key:"getLastTileInView",value:function(){var t=this.view_port.scrollTop()+this.view_port.height();return Math.floor(t/this.tile_height)*this.num_per_row}},{key:"setColumns",value:function(t){this.columns=[];var e=!0,n=!1,i=void 0;try{for(var r,o=t[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var a=r.value;this.columns.push({field:a.field,datatype:a.datatype,name:a.name,sortable:a.sortable}),a.filterable&&this.data_view.addFilter(a)}}catch(t){n=!0,i=t}finally{try{!e&&o.return&&o.return()}finally{if(n)throw i}}}},{key:"setColorBy",value:function(t){this.color_by=t}},{key:"_setCanvasHeight",value:function(){var t=Math.ceil(this.data_view.getLength()/this.num_per_row)*this.tile_height+this.margin;this.canvas.height(t)}},{key:"_hasScrolled",value:function(){var t=this;clearTimeout(this.scroll_timeout);var e=this.view_port.height(),n=this.view_port.scrollTop(),i=Math.floor((n-this.cache_size*this.tile_height)/this.tile_height),r=Math.floor((n+e+this.cache_size*this.tile_height)/this.tile_height);i<0&&(i=0);var o=10;Math.abs(i-this.row_displayed_first)>this.max_difference&&(o=50),this.scroll_timeout=setTimeout(function(){t.info_box.css("width","0px"),Math.abs(i-t.row_displayed_first)>t.max_difference?t.render(i,r,!0):t.render(i,r)},o)}},{key:"render",value:function(e,n,i){if(i){t(".mlv-tile").remove();for(var r=e;r<n;r++)this._addRow(r)}else{if(e===this.row_displayed_first&&0!==e)return;if(e<this.row_displayed_first){for(var o=e;o<this.row_displayed_first;o++)this._addRow(o);for(var a=n;a<this.row_displayed_last;a++)t(".mlv-tile-row-"+a).remove()}else{for(var s=this.row_displayed_last;s<n;s++)this._addRow(s);for(var l=this.row_displayed_first;l<e;l++)t(".mlv-tile-row-"+l).remove()}}this.row_displayed_first=e,this.row_displayed_last=n}},{key:"_resize",value:function(t){t||(t=this.getFirstTileInView()),this.width=this.parent.width(),this.height=this.parent.height(),this.view_port.height(this.height).width(this.width),this.setImageDimensions(),this.show(t)}},{key:"_calculateTopBottomRow",value:function(t){t||(t=0);var e=0;e=t||0===t?Math.floor(t/this.num_per_row)*this.tile_height:this.view_port.scrollTop();var n=this.view_port.height(),i=Math.floor((e-this.cache_size*this.tile_height)/this.tile_height),r=Math.floor((e+n+this.cache_size*this.tile_height)/this.tile_height);return i<0&&(i=0),0==i&&(e=0),{top:i,bottom:r,scroll_top:e}}},{key:"setSelectedTiles",value:function(e,n,i){n||(t(".image-table-selected").removeClass("image-table-selected"),this.selected_tiles={});var r=!0,o=!1,a=void 0;try{for(var s,l=e[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var c=s.value;t("#mlv-tile-"+c).addClass("image-table-selected"),this.selected_tiles[c]=!0}}catch(t){o=!0,a=t}finally{try{!r&&l.return&&l.return()}finally{if(o)throw a}}i&&this.listeners.image_selected.forEach(function(t){t(e)})}},{key:"scrollToTile",value:function(t,e){var n=this.data_view.getItem(t),i=this._calculateTopBottomRow(t);Math.abs(i.top-this.row_displayed_first)>this.max_difference?this.render(i.top,i.bottom,!0):this.render(i.top,i.bottom),this.view_port.scrollTop(i.scroll_top),e&&this.setSelectedTiles([n.id])}},{key:"_getRandomString",value:function(t,e){t||(t=6);for(var n="",i=0,r="a"==(e=e&&e.toLowerCase())?10:0,o="n"==e?10:62;i++<t;){var a=Math.random()*(o-r)+r<<0;n+=String.fromCharCode(a+=a>9?a<36?55:61:48)}return n}},{key:"show",value:function(t){t||(t=0),this._setCanvasHeight();var e=this._calculateTopBottomRow(t);this.view_port.show(),this.info_box.css("top",e.scroll_top+"px"),this.render(e.top,e.bottom,!0),this.view_port.scrollTop(e.scroll_top)}},{key:"hide",value:function(){t(".mlv-tile").remove(),this.view_port.hide()}},{key:"_addRow",value:function(e){for(var n=e*this.num_per_row,i=n+this.num_per_row,r=e*this.tile_height+this.margin,o=0,a=n;a<i;a++){var s=o*this.tile_width+this.margin;o++;var l=this.data_view.getItem(a);if(!l)return;var c="";if(this.color_by)c="border:4px solid "+this.color_by.func(l[this.color_by.column.field])+";";var u="";this.selected_tiles[l.id]&&(u=" image-table-selected");var f=null;if(l.__info_tile__){var h={left:s+"px",top:r+"px",height:this.t_height+"px",width:this.t_width+"px",class:"info-tile mlv-tile mlv-tile-row-"+e,id:"mlv-tile-"+l.id};f=this.getInformationTile(l,[{name:"ddd",field:"field1"}],h)}else{var d="";d=this.base_url?this.base_url+l.id+this.image_suffix:l[this.url_field],f=t("<img src='"+d+"' style='"+c+"height:"+this.t_height+"px;width:"+this.t_width+"px;position:absolute;box-sizing:border-box;left:"+s+"px;top:"+r+"px' class='mlv-tile mlv-tile-row-"+e+u+"' id='mlv-tile-"+l.id+"'>")}this.canvas.append(f)}}}]),e}(),l=function(){function e(n,i){a(this,e),this.div=i.attr("class","control-bar"),this.app=n;var r=this;t("<div>").attr({id:"mlv-it-image-slider"}).css({width:"250px",display:"inline-block"}).slider({max:200,min:0,value:100,stop:function(t,e){var n=e.value/100,i=parseInt(r.app.img_width*n),o=parseInt(r.app.img_height*n);r.app.setImageDimensions([i,o]),r.app.show()}}).appendTo(this.div);r.total_row_text=t("<span>").css({"font-weight":"bold",float:"right"}).appendTo(this.div),this._setUpListeners(),this.div.children().css({"margin-left":"5px"})}return i(e,[{key:"addElement",value:function(t){this.div.append(t)}},{key:"_setUpListeners",value:function(){var t=this;this.app.data_view.onRowCountChanged.subscribe(function(e,n){t.total_row_text.text(n.current)})}}]),e}(),c=function(){function e(n,i,r){a(this,e);var o=this;if(this.field=i,this.default_colors=["#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],this.charcode_to_option={},this.options={None:""},r.options)for(var s in r.options)this.options[s]=r.options[s];var l=[{text:"Close",click:function(t){o.div.dialog("close")}}];r.button&&l.push({text:r.button,click:function(){o.action_function&&o.action_function(o.getOptions())}}),this.app=n,this.div=t("<div>").attr("class","tagging-dialog"),this.div.dialog({autoOpen:!0,close:function(){t(window).off("keypress.mlvtagging"),t(this).dialog("destroy").remove(),o.app.taggingStopped(),o.close_function&&o.close_function(o.getOptions())},title:"Tagging",buttons:l,width:250}).dialogFix(),this.lock_options=r.lock_options,this.init(),t(window).on("keypress.mlvtagging",function(t){var e=o.charcode_to_option[t.keyCode];e&&(e.trigger("click"),o.app.tagSelected())})}return i(e,[{key:"getOptions",value:function(){var t={};for(var e in this.options)"None"!==e&&(t[e]=this.options[e]);return t}},{key:"init",value:function(){var e=this;for(var n in this.options)if("None"!==n){var i=this._getOptionDiv(n);this.div.append(i)}var r=this._getOptionDiv("None");if(this.div.append(r),!this.lock_options){this.div.append("<label>Add Category</label>").css("display","block");var o=t("<div>").appendTo(this.div),a=t("<input>").appendTo(o);t("<button>").text("Add").attr("class","btn btn-sm btn-secondary").css("margin-left","5px").click(function(n){var i=a.val();if(i&&!e.options[i]){var r=Object.keys(e.options).length;e.options[i]=e.default_colors[r],a.val(""),e._getOptionDiv(i).insertBefore("#sc-ra-none-div"),t("input[name=tag-option-radio][value='"+i+"']").prop("checked",!0),e.selected_option=i,e.div.resizeDialog()}}).appendTo(o)}t("<button>").text("Tag All").attr("class","btn btn-sm btn-secondary").css("margin-left","5px").click(function(t){e.selected_option&&e.app.tagAll()}).appendTo(this.div),this.app.taggingStarted(this)}},{key:"setCloseFunction",value:function(t){this.close_function=t}},{key:"setActionFunction",value:function(t){this.action_function=t}},{key:"close",value:function(){this.div.dialog("close")}},{key:"_getOptionDiv",value:function(e){var n=this,i=e.toLowerCase(),r="",o=t("<div>").height(40);"None"===e?o.attr({id:"sc-ra-none-div",checked:!0}):this.selected_option=e;var a=t("<input>").data("option",e).attr({type:"radio",value:e,name:"tag-option-radio"}).click(function(e){n.selected_option=t(this).data("option")});o.append(a);for(var s=0;s<i.length;s++){var l=i.charCodeAt(s);if(!this.charcode_to_option[l]){this.charcode_to_option[l]=a,r=i.charAt(s);break}}if(o.append("<span>"+e+" ("+r+")</span>"),"None"!==e){this.lock_options||t("<i class='fas fa-trash'></i>").data("option",e).css({"font-size":"18px",cursor:"pointer",float:"right"}).click(function(e){var i=t(this).data("option");delete n.options[i],n.selected_option===i&&(n.selected_option=null),o.remove(),n.app.deleteTag(i)}).appendTo(o);t("<input>").attr({type:"color",class:"tag-option-color"}).css({display:"inline",width:"40px",float:"right"}).height(30).val(this.options[e]).appendTo(o).data("option",e).on("change",function(e){n.options[t(this).data("option")]=t(this).val(),n.app.updateTags()})}return o}}]),e}();s.flip_count=0,s.flip=function(e,n,i){i||(i=1);var r=s.flip_count,o=t("<div>").attr("class","flipper").attr("id","ee"+r);e.wrap(o),o=t("#ee"+r).append(n);var a=t("<div>").attr("class","flip-container").attr("id","ff"+r);o.wrap(a),a=t("#ff"+r),s.flip_count++,e.addClass("front");var l=e.height(),c=e.width();n.height(l).width(c).addClass("back");var u=e.css("left"),f=e.css("top");e.css("left"),e.css("top");a.width(c).height(l).css({position:"absolute",left:u,top:f}),e.css("position","static"),o.css({transition:i+"s"}),o.addClass("flip"),setTimeout(function(){e.remove(),o.unwrap(),n.unwrap(),n.removeClass("back"),n.css({position:"absolute",left:u,top:f})},1e3*i+25)},e.MLVImageTable=s,e.MLVImageTableControls=l,e.TaggingDialog=c}).call(this,n(0))},function(t,e,n){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r="object"==("undefined"==typeof self?"undefined":i(self))&&self.self===self&&self||"object"==(void 0===t?"undefined":i(t))&&t.global===t&&t||{},o=r._,a=Array.prototype,s=Object.prototype,l="undefined"!=typeof Symbol?Symbol.prototype:null,c=a.push,u=a.slice,f=s.toString,h=s.hasOwnProperty,d=Array.isArray,p=Object.keys,g=Object.create,m=function(){},v=function t(e){return e instanceof t?e:this instanceof t?void(this._wrapped=e):new t(e)};void 0===e||e.nodeType?r._=v:(void 0!==n&&!n.nodeType&&n.exports&&(e=n.exports=v),e._=v),v.VERSION="1.9.1";var b,y=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,i,r){return t.call(e,n,i,r)};case 4:return function(n,i,r,o){return t.call(e,n,i,r,o)}}return function(){return t.apply(e,arguments)}},_=function(t,e,n){return v.iteratee!==b?v.iteratee(t,e):null==t?v.identity:v.isFunction(t)?y(t,e,n):v.isObject(t)&&!v.isArray(t)?v.matcher(t):v.property(t)};v.iteratee=b=function(t,e){return _(t,e,1/0)};var x=function(t,e){return e=null==e?t.length-1:+e,function(){for(var n=Math.max(arguments.length-e,0),i=Array(n),r=0;r<n;r++)i[r]=arguments[r+e];switch(e){case 0:return t.call(this,i);case 1:return t.call(this,arguments[0],i);case 2:return t.call(this,arguments[0],arguments[1],i)}var o=Array(e+1);for(r=0;r<e;r++)o[r]=arguments[r];return o[e]=i,t.apply(this,o)}},w=function(t){if(!v.isObject(t))return{};if(g)return g(t);m.prototype=t;var e=new m;return m.prototype=null,e},k=function(t){return function(e){return null==e?void 0:e[t]}},C=function(t,e){return null!=t&&h.call(t,e)},F=function(t,e){for(var n=e.length,i=0;i<n;i++){if(null==t)return;t=t[e[i]]}return n?t:void 0},A=Math.pow(2,53)-1,S=k("length"),D=function(t){var e=S(t);return"number"==typeof e&&e>=0&&e<=A};v.each=v.forEach=function(t,e,n){var i,r;if(e=y(e,n),D(t))for(i=0,r=t.length;i<r;i++)e(t[i],i,t);else{var o=v.keys(t);for(i=0,r=o.length;i<r;i++)e(t[o[i]],o[i],t)}return t},v.map=v.collect=function(t,e,n){e=_(e,n);for(var i=!D(t)&&v.keys(t),r=(i||t).length,o=Array(r),a=0;a<r;a++){var s=i?i[a]:a;o[a]=e(t[s],s,t)}return o};var M=function(t){return function(e,n,i,r){var o=arguments.length>=3;return function(e,n,i,r){var o=!D(e)&&v.keys(e),a=(o||e).length,s=t>0?0:a-1;for(r||(i=e[o?o[s]:s],s+=t);s>=0&&s<a;s+=t){var l=o?o[s]:s;i=n(i,e[l],l,e)}return i}(e,y(n,r,4),i,o)}};v.reduce=v.foldl=v.inject=M(1),v.reduceRight=v.foldr=M(-1),v.find=v.detect=function(t,e,n){var i=(D(t)?v.findIndex:v.findKey)(t,e,n);if(void 0!==i&&-1!==i)return t[i]},v.filter=v.select=function(t,e,n){var i=[];return e=_(e,n),v.each(t,function(t,n,r){e(t,n,r)&&i.push(t)}),i},v.reject=function(t,e,n){return v.filter(t,v.negate(_(e)),n)},v.every=v.all=function(t,e,n){e=_(e,n);for(var i=!D(t)&&v.keys(t),r=(i||t).length,o=0;o<r;o++){var a=i?i[o]:o;if(!e(t[a],a,t))return!1}return!0},v.some=v.any=function(t,e,n){e=_(e,n);for(var i=!D(t)&&v.keys(t),r=(i||t).length,o=0;o<r;o++){var a=i?i[o]:o;if(e(t[a],a,t))return!0}return!1},v.contains=v.includes=v.include=function(t,e,n,i){return D(t)||(t=v.values(t)),("number"!=typeof n||i)&&(n=0),v.indexOf(t,e,n)>=0},v.invoke=x(function(t,e,n){var i,r;return v.isFunction(e)?r=e:v.isArray(e)&&(i=e.slice(0,-1),e=e[e.length-1]),v.map(t,function(t){var o=r;if(!o){if(i&&i.length&&(t=F(t,i)),null==t)return;o=t[e]}return null==o?o:o.apply(t,n)})}),v.pluck=function(t,e){return v.map(t,v.property(e))},v.where=function(t,e){return v.filter(t,v.matcher(e))},v.findWhere=function(t,e){return v.find(t,v.matcher(e))},v.max=function(t,e,n){var r,o,a=-1/0,s=-1/0;if(null==e||"number"==typeof e&&"object"!=i(t[0])&&null!=t)for(var l=0,c=(t=D(t)?t:v.values(t)).length;l<c;l++)null!=(r=t[l])&&r>a&&(a=r);else e=_(e,n),v.each(t,function(t,n,i){((o=e(t,n,i))>s||o===-1/0&&a===-1/0)&&(a=t,s=o)});return a},v.min=function(t,e,n){var r,o,a=1/0,s=1/0;if(null==e||"number"==typeof e&&"object"!=i(t[0])&&null!=t)for(var l=0,c=(t=D(t)?t:v.values(t)).length;l<c;l++)null!=(r=t[l])&&r<a&&(a=r);else e=_(e,n),v.each(t,function(t,n,i){((o=e(t,n,i))<s||o===1/0&&a===1/0)&&(a=t,s=o)});return a},v.shuffle=function(t){return v.sample(t,1/0)},v.sample=function(t,e,n){if(null==e||n)return D(t)||(t=v.values(t)),t[v.random(t.length-1)];var i=D(t)?v.clone(t):v.values(t),r=S(i);e=Math.max(Math.min(e,r),0);for(var o=r-1,a=0;a<e;a++){var s=v.random(a,o),l=i[a];i[a]=i[s],i[s]=l}return i.slice(0,e)},v.sortBy=function(t,e,n){var i=0;return e=_(e,n),v.pluck(v.map(t,function(t,n,r){return{value:t,index:i++,criteria:e(t,n,r)}}).sort(function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(n<i||void 0===i)return-1}return t.index-e.index}),"value")};var T=function(t,e){return function(n,i,r){var o=e?[[],[]]:{};return i=_(i,r),v.each(n,function(e,r){var a=i(e,r,n);t(o,e,a)}),o}};v.groupBy=T(function(t,e,n){C(t,n)?t[n].push(e):t[n]=[e]}),v.indexBy=T(function(t,e,n){t[n]=e}),v.countBy=T(function(t,e,n){C(t,n)?t[n]++:t[n]=1});var E=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;v.toArray=function(t){return t?v.isArray(t)?u.call(t):v.isString(t)?t.match(E):D(t)?v.map(t,v.identity):v.values(t):[]},v.size=function(t){return null==t?0:D(t)?t.length:v.keys(t).length},v.partition=T(function(t,e,n){t[n?0:1].push(e)},!0),v.first=v.head=v.take=function(t,e,n){return null==t||t.length<1?null==e?void 0:[]:null==e||n?t[0]:v.initial(t,t.length-e)},v.initial=function(t,e,n){return u.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},v.last=function(t,e,n){return null==t||t.length<1?null==e?void 0:[]:null==e||n?t[t.length-1]:v.rest(t,Math.max(0,t.length-e))},v.rest=v.tail=v.drop=function(t,e,n){return u.call(t,null==e||n?1:e)},v.compact=function(t){return v.filter(t,Boolean)};var P=function t(e,n,i,r){for(var o=(r=r||[]).length,a=0,s=S(e);a<s;a++){var l=e[a];if(D(l)&&(v.isArray(l)||v.isArguments(l)))if(n)for(var c=0,u=l.length;c<u;)r[o++]=l[c++];else t(l,n,i,r),o=r.length;else i||(r[o++]=l)}return r};v.flatten=function(t,e){return P(t,e,!1)},v.without=x(function(t,e){return v.difference(t,e)}),v.uniq=v.unique=function(t,e,n,i){v.isBoolean(e)||(i=n,n=e,e=!1),null!=n&&(n=_(n,i));for(var r=[],o=[],a=0,s=S(t);a<s;a++){var l=t[a],c=n?n(l,a,t):l;e&&!n?(a&&o===c||r.push(l),o=c):n?v.contains(o,c)||(o.push(c),r.push(l)):v.contains(r,l)||r.push(l)}return r},v.union=x(function(t){return v.uniq(P(t,!0,!0))}),v.intersection=function(t){for(var e=[],n=arguments.length,i=0,r=S(t);i<r;i++){var o=t[i];if(!v.contains(e,o)){var a;for(a=1;a<n&&v.contains(arguments[a],o);a++);a===n&&e.push(o)}}return e},v.difference=x(function(t,e){return e=P(e,!0,!0),v.filter(t,function(t){return!v.contains(e,t)})}),v.zip=x(v.unzip=function(t){for(var e=t&&v.max(t,S).length||0,n=Array(e),i=0;i<e;i++)n[i]=v.pluck(t,i);return n}),v.object=function(t,e){for(var n={},i=0,r=S(t);i<r;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n};var I=function(t){return function(e,n,i){n=_(n,i);for(var r=S(e),o=t>0?0:r-1;o>=0&&o<r;o+=t)if(n(e[o],o,e))return o;return-1}};v.findIndex=I(1),v.findLastIndex=I(-1);var R=function(t,e,n){return function(i,r,o){var a=0,s=S(i);if("number"==typeof o)t>0?a=o>=0?o:Math.max(o+s,a):s=o>=0?Math.min(o+1,s):o+s+1;else if(n&&o&&s)return i[o=n(i,r)]===r?o:-1;if(r!=r)return(o=e(u.call(i,a,s),v.isNaN))>=0?o+a:-1;for(o=t>0?a:s-1;o>=0&&o<s;o+=t)if(i[o]===r)return o;return-1}};v.indexOf=R(1,v.findIndex,v.sortedIndex=function(t,e,n,i){for(var r=(n=_(n,i,1))(e),o=0,a=S(t);o<a;){var s=Math.floor((o+a)/2);n(t[s])<r?o=s+1:a=s}return o}),v.lastIndexOf=R(-1,v.findLastIndex),v.range=function(t,e,n){null==e&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var i=Math.max(Math.ceil((e-t)/n),0),r=Array(i),o=0;o<i;o++,t+=n)r[o]=t;return r},v.chunk=function(t,e){if(null==e||e<1)return[];for(var n=[],i=0,r=t.length;i<r;)n.push(u.call(t,i,i+=e));return n};var N=function(t,e,n,i,r){if(!(i instanceof e))return t.apply(n,r);var o=w(t.prototype),a=t.apply(o,r);return v.isObject(a)?a:o};v.bind=x(function(t,e,n){if(!v.isFunction(t))throw new TypeError("Bind must be called on a function");var i=x(function(r){return N(t,i,e,this,n.concat(r))});return i}),(v.partial=x(function(t,e){var n=v.partial.placeholder;return function i(){for(var r=0,o=e.length,a=Array(o),s=0;s<o;s++)a[s]=e[s]===n?arguments[r++]:e[s];for(;r<arguments.length;)a.push(arguments[r++]);return N(t,i,this,this,a)}})).placeholder=v,v.bindAll=x(function(t,e){var n=(e=P(e,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var i=e[n];t[i]=v.bind(t[i],t)}}),v.memoize=function(t,e){var n=function n(i){var r=n.cache,o=""+(e?e.apply(this,arguments):i);return C(r,o)||(r[o]=t.apply(this,arguments)),r[o]};return n.cache={},n},v.delay=x(function(t,e,n){return setTimeout(function(){return t.apply(null,n)},e)}),v.defer=v.partial(v.delay,v,1),v.throttle=function(t,e,n){var i,r,o,a,s=0;n||(n={});var l=function(){s=!1===n.leading?0:v.now(),i=null,a=t.apply(r,o),i||(r=o=null)},c=function(){var c=v.now();s||!1!==n.leading||(s=c);var u=e-(c-s);return r=this,o=arguments,u<=0||u>e?(i&&(clearTimeout(i),i=null),s=c,a=t.apply(r,o),i||(r=o=null)):i||!1===n.trailing||(i=setTimeout(l,u)),a};return c.cancel=function(){clearTimeout(i),s=0,i=r=o=null},c},v.debounce=function(t,e,n){var i,r,o=function(e,n){i=null,n&&(r=t.apply(e,n))},a=x(function(a){if(i&&clearTimeout(i),n){var s=!i;i=setTimeout(o,e),s&&(r=t.apply(this,a))}else i=v.delay(o,e,this,a);return r});return a.cancel=function(){clearTimeout(i),i=null},a},v.wrap=function(t,e){return v.partial(e,t)},v.negate=function(t){return function(){return!t.apply(this,arguments)}},v.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,i=t[e].apply(this,arguments);n--;)i=t[n].call(this,i);return i}},v.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},v.once=v.partial(v.before=function(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}},2),v.restArguments=x;var z=!{toString:null}.propertyIsEnumerable("toString"),O=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],L=function(t,e){var n=O.length,i=t.constructor,r=v.isFunction(i)&&i.prototype||s,o="constructor";for(C(t,o)&&!v.contains(e,o)&&e.push(o);n--;)(o=O[n])in t&&t[o]!==r[o]&&!v.contains(e,o)&&e.push(o)};v.keys=function(t){if(!v.isObject(t))return[];if(p)return p(t);var e=[];for(var n in t)C(t,n)&&e.push(n);return z&&L(t,e),e},v.allKeys=function(t){if(!v.isObject(t))return[];var e=[];for(var n in t)e.push(n);return z&&L(t,e),e},v.values=function(t){for(var e=v.keys(t),n=e.length,i=Array(n),r=0;r<n;r++)i[r]=t[e[r]];return i},v.mapObject=function(t,e,n){e=_(e,n);for(var i=v.keys(t),r=i.length,o={},a=0;a<r;a++){var s=i[a];o[s]=e(t[s],s,t)}return o},v.pairs=function(t){for(var e=v.keys(t),n=e.length,i=Array(n),r=0;r<n;r++)i[r]=[e[r],t[e[r]]];return i},v.invert=function(t){for(var e={},n=v.keys(t),i=0,r=n.length;i<r;i++)e[t[n[i]]]=n[i];return e},v.functions=v.methods=function(t){var e=[];for(var n in t)v.isFunction(t[n])&&e.push(n);return e.sort()};var j=function(t,e){return function(n){var i=arguments.length;if(e&&(n=Object(n)),i<2||null==n)return n;for(var r=1;r<i;r++)for(var o=arguments[r],a=t(o),s=a.length,l=0;l<s;l++){var c=a[l];e&&void 0!==n[c]||(n[c]=o[c])}return n}};v.extend=j(v.allKeys),v.extendOwn=v.assign=j(v.keys),v.findKey=function(t,e,n){e=_(e,n);for(var i,r=v.keys(t),o=0,a=r.length;o<a;o++)if(e(t[i=r[o]],i,t))return i};var H,B,W=function(t,e,n){return e in n};v.pick=x(function(t,e){var n={},i=e[0];if(null==t)return n;v.isFunction(i)?(e.length>1&&(i=y(i,e[1])),e=v.allKeys(t)):(i=W,e=P(e,!1,!1),t=Object(t));for(var r=0,o=e.length;r<o;r++){var a=e[r],s=t[a];i(s,a,t)&&(n[a]=s)}return n}),v.omit=x(function(t,e){var n,i=e[0];return v.isFunction(i)?(i=v.negate(i),e.length>1&&(n=e[1])):(e=v.map(P(e,!1,!1),String),i=function(t,n){return!v.contains(e,n)}),v.pick(t,i,n)}),v.defaults=j(v.allKeys,!0),v.create=function(t,e){var n=w(t);return e&&v.extendOwn(n,e),n},v.clone=function(t){return v.isObject(t)?v.isArray(t)?t.slice():v.extend({},t):t},v.tap=function(t,e){return e(t),t},v.isMatch=function(t,e){var n=v.keys(e),i=n.length;if(null==t)return!i;for(var r=Object(t),o=0;o<i;o++){var a=n[o];if(e[a]!==r[a]||!(a in r))return!1}return!0},H=function(t,e,n,r){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!=t)return e!=e;var o=void 0===t?"undefined":i(t);return("function"===o||"object"===o||"object"==(void 0===e?"undefined":i(e)))&&B(t,e,n,r)},B=function(t,e,n,r){t instanceof v&&(t=t._wrapped),e instanceof v&&(e=e._wrapped);var o=f.call(t);if(o!==f.call(e))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return l.valueOf.call(t)===l.valueOf.call(e)}var a="[object Array]"===o;if(!a){if("object"!=(void 0===t?"undefined":i(t))||"object"!=(void 0===e?"undefined":i(e)))return!1;var s=t.constructor,c=e.constructor;if(s!==c&&!(v.isFunction(s)&&s instanceof s&&v.isFunction(c)&&c instanceof c)&&"constructor"in t&&"constructor"in e)return!1}n=n||[],r=r||[];for(var u=n.length;u--;)if(n[u]===t)return r[u]===e;if(n.push(t),r.push(e),a){if((u=t.length)!==e.length)return!1;for(;u--;)if(!H(t[u],e[u],n,r))return!1}else{var h,d=v.keys(t);if(u=d.length,v.keys(e).length!==u)return!1;for(;u--;)if(h=d[u],!C(e,h)||!H(t[h],e[h],n,r))return!1}return n.pop(),r.pop(),!0},v.isEqual=function(t,e){return H(t,e)},v.isEmpty=function(t){return null==t||(D(t)&&(v.isArray(t)||v.isString(t)||v.isArguments(t))?0===t.length:0===v.keys(t).length)},v.isElement=function(t){return!(!t||1!==t.nodeType)},v.isArray=d||function(t){return"[object Array]"===f.call(t)},v.isObject=function(t){var e=void 0===t?"undefined":i(t);return"function"===e||"object"===e&&!!t},v.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],function(t){v["is"+t]=function(e){return f.call(e)==="[object "+t+"]"}});var q=r.document&&r.document.childNodes;"function"!=typeof/./&&"object"!=("undefined"==typeof Int8Array?"undefined":i(Int8Array))&&"function"!=typeof q&&(v.isFunction=function(t){return"function"==typeof t||!1}),v.isFinite=function(t){return!v.isSymbol(t)&&isFinite(t)&&!isNaN(parseFloat(t))},v.isNaN=function(t){return v.isNumber(t)&&isNaN(t)},v.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===f.call(t)},v.isNull=function(t){return null===t},v.isUndefined=function(t){return void 0===t},v.has=function(t,e){if(!v.isArray(e))return C(t,e);for(var n=e.length,i=0;i<n;i++){var r=e[i];if(null==t||!h.call(t,r))return!1;t=t[r]}return!!n},v.noConflict=function(){return r._=o,this},v.identity=function(t){return t},v.constant=function(t){return function(){return t}},v.noop=function(){},v.property=function(t){return v.isArray(t)?function(e){return F(e,t)}:k(t)},v.propertyOf=function(t){return null==t?function(){}:function(e){return v.isArray(e)?F(t,e):t[e]}},v.matcher=v.matches=function(t){return t=v.extendOwn({},t),function(e){return v.isMatch(e,t)}},v.times=function(t,e,n){var i=Array(Math.max(0,t));e=y(e,n,1);for(var r=0;r<t;r++)i[r]=e(r);return i},v.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},v.now=Date.now||function(){return(new Date).getTime()};var U={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},$=v.invert(U),V=function(t){var e=function(e){return t[e]},n="(?:"+v.keys(t).join("|")+")",i=RegExp(n),r=RegExp(n,"g");return function(t){return t=null==t?"":""+t,i.test(t)?t.replace(r,e):t}};v.escape=V(U),v.unescape=V($),v.result=function(t,e,n){v.isArray(e)||(e=[e]);var i=e.length;if(!i)return v.isFunction(n)?n.call(t):n;for(var r=0;r<i;r++){var o=null==t?void 0:t[e[r]];void 0===o&&(o=n,r=i),t=v.isFunction(o)?o.call(t):o}return t};var G=0;v.uniqueId=function(t){var e=++G+"";return t?t+e:e},v.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var Y=/(.)^/,X={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},K=/\\|'|\r|\n|\u2028|\u2029/g,Q=function(t){return"\\"+X[t]};v.template=function(t,e,n){!e&&n&&(e=n),e=v.defaults({},e,v.templateSettings);var i,r=RegExp([(e.escape||Y).source,(e.interpolate||Y).source,(e.evaluate||Y).source].join("|")+"|$","g"),o=0,a="__p+='";t.replace(r,function(e,n,i,r,s){return a+=t.slice(o,s).replace(K,Q),o=s+e.length,n?a+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?a+="'+\n((__t=("+i+"))==null?'':__t)+\n'":r&&(a+="';\n"+r+"\n__p+='"),e}),a+="';\n",e.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{i=new Function(e.variable||"obj","_",a)}catch(t){throw t.source=a,t}var s=function(t){return i.call(this,t,v)},l=e.variable||"obj";return s.source="function("+l+"){\n"+a+"}",s},v.chain=function(t){var e=v(t);return e._chain=!0,e};var Z=function(t,e){return t._chain?v(e).chain():e};v.mixin=function(t){return v.each(v.functions(t),function(e){var n=v[e]=t[e];v.prototype[e]=function(){var t=[this._wrapped];return c.apply(t,arguments),Z(this,n.apply(v,t))}}),v},v.mixin(v),v.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=a[t];v.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],Z(this,n)}}),v.each(["concat","join","slice"],function(t){var e=a[t];v.prototype[t]=function(){return Z(this,e.apply(this._wrapped,arguments))}}),v.prototype.value=function(){return this._wrapped},v.prototype.valueOf=v.prototype.toJSON=v.prototype.value,v.prototype.toString=function(){return String(this._wrapped)},e._=v}).call(this,n(8),n(18)(t))},function(t,e,n){"use strict";(function(t){var e=n(23),i=function(t,e,n){var i=function(){return console.warn("gridstack.js: Function `"+e+"` is deprecated as of v0.2.5 and has been replaced with `"+n+"`. It will be **completely** removed in v1.0."),t.apply(this,arguments)};return i.prototype=t.prototype,i},r=function(t,e){console.warn("gridstack.js: Option `"+t+"` is deprecated as of v0.2.5 and has been replaced with `"+e+"`. It will be **completely** removed in v1.0.")},o={isIntercepted:function(t,e){return!(t.x+t.width<=e.x||e.x+e.width<=t.x||t.y+t.height<=e.y||e.y+e.height<=t.y)},sort:function(t,n,i){return i=i||e._.chain(t).map(function(t){return t.x+t.width}).max().value(),n=-1!=n?1:-1,e._.sortBy(t,function(t){return n*(t.x+t.y*i)})},createStylesheet:function(t){var e=document.createElement("style");return e.setAttribute("type","text/css"),e.setAttribute("data-gs-style-id",t),e.styleSheet?e.styleSheet.cssText="":e.appendChild(document.createTextNode("")),document.getElementsByTagName("head")[0].appendChild(e),e.sheet},removeStylesheet:function(e){t("STYLE[data-gs-style-id="+e+"]").remove()},insertCSSRule:function(t,e,n,i){"function"==typeof t.insertRule?t.insertRule(e+"{"+n+"}",i):"function"==typeof t.addRule&&t.addRule(e,n,i)},toBool:function(t){return"boolean"==typeof t?t:"string"==typeof t?!(""===(t=t.toLowerCase())||"no"==t||"false"==t||"0"==t):Boolean(t)},_collisionNodeCheck:function(t){return t!=this.node&&o.isIntercepted(t,this.nn)},_didCollide:function(t){return o.isIntercepted({x:this.n.x,y:this.newY,width:this.n.width,height:this.n.height},t)},_isAddNodeIntercepted:function(t){return o.isIntercepted({x:this.x,y:this.y,width:this.node.width,height:this.node.height},t)},parseHeight:function(t){var n=t,i="px";if(n&&e._.isString(n)){var r=n.match(/^(-[0-9]+\.[0-9]+|[0-9]*\.[0-9]+|-[0-9]+|[0-9]+)(px|em|rem|vh|vw)?$/);if(!r)throw new Error("Invalid height");i=r[2]||"px",n=parseFloat(r[1])}return{height:n,unit:i}}};function a(t){this.grid=t}o.is_intercepted=i(o.isIntercepted,"is_intercepted","isIntercepted"),o.create_stylesheet=i(o.createStylesheet,"create_stylesheet","createStylesheet"),o.remove_stylesheet=i(o.removeStylesheet,"remove_stylesheet","removeStylesheet"),o.insert_css_rule=i(o.insertCSSRule,"insert_css_rule","insertCSSRule"),a.registeredPlugins=[],a.registerPlugin=function(t){a.registeredPlugins.push(t)},a.prototype.resizable=function(t,e){return this},a.prototype.draggable=function(t,e){return this},a.prototype.droppable=function(t,e){return this},a.prototype.isDroppable=function(t){return!1},a.prototype.on=function(t,e,n){return this};var s=0,l=function(t,e,n,i,r){this.width=t,this.float=n||!1,this.height=i||0,this.nodes=r||[],this.onchange=e||function(){},this._updateCounter=0,this._float=this.float,this._addedNodes=[],this._removedNodes=[]};l.prototype.batchUpdate=function(){this._updateCounter=1,this.float=!0},l.prototype.commit=function(){0!==this._updateCounter&&(this._updateCounter=0,this.float=this._float,this._packNodes(),this._notify())},l.prototype.getNodeDataByDOMEl=function(t){return e._.find(this.nodes,function(e){return t.get(0)===e.el.get(0)})},l.prototype._fixCollisions=function(t){this._sortNodes(-1);var n=t,i=Boolean(e._.find(this.nodes,function(t){return t.locked}));for(this.float||i||(n={x:0,y:t.y,width:this.width,height:t.height});;){var r=e._.find(this.nodes,e._.bind(o._collisionNodeCheck,{node:t,nn:n}));if(void 0===r)return;this.moveNode(r,r.x,t.y+t.height,r.width,r.height,!0)}},l.prototype.isAreaEmpty=function(t,n,i,r){var a={x:t||0,y:n||0,width:i||1,height:r||1},s=e._.find(this.nodes,e._.bind(function(t){return o.isIntercepted(t,a)},this));return null===s||void 0===s},l.prototype._sortNodes=function(t){this.nodes=o.sort(this.nodes,t,this.width)},l.prototype._packNodes=function(){this._sortNodes(),this.float?e._.each(this.nodes,e._.bind(function(t,n){if(!t._updating&&void 0!==t._origY&&t.y!=t._origY)for(var i=t.y;i>=t._origY;){e._.chain(this.nodes).find(e._.bind(o._didCollide,{n:t,newY:i})).value()||(t._dirty=!0,t.y=i),--i}},this)):e._.each(this.nodes,e._.bind(function(t,n){if(!t.locked)for(;t.y>0;){var i=t.y-1,r=0===n;if(n>0)r=void 0===e._.chain(this.nodes).take(n).find(e._.bind(o._didCollide,{n:t,newY:i})).value();if(!r)break;t._dirty=t.y!=i,t.y=i}},this))},l.prototype._prepareNode=function(t,n){return(t=e._.defaults(t||{},{width:1,height:1,x:0,y:0})).x=parseInt(""+t.x),t.y=parseInt(""+t.y),t.width=parseInt(""+t.width),t.height=parseInt(""+t.height),t.autoPosition=t.autoPosition||!1,t.noResize=t.noResize||!1,t.noMove=t.noMove||!1,t.width>this.width?t.width=this.width:t.width<1&&(t.width=1),t.height<1&&(t.height=1),t.x<0&&(t.x=0),t.x+t.width>this.width&&(n?t.width=this.width-t.x:t.x=this.width-t.width),t.y<0&&(t.y=0),t},l.prototype._notify=function(){var t=Array.prototype.slice.call(arguments,0);if(t[0]=void 0===t[0]?[]:[t[0]],t[1]=void 0===t[1]||t[1],!this._updateCounter){var e=t[0].concat(this.getDirtyNodes());this.onchange(e,t[1])}},l.prototype.cleanNodes=function(){this._updateCounter||e._.each(this.nodes,function(t){t._dirty=!1})},l.prototype.getDirtyNodes=function(){return e._.filter(this.nodes,function(t){return t._dirty})},l.prototype.addNode=function(t,n){if(void 0!==(t=this._prepareNode(t)).maxWidth&&(t.width=Math.min(t.width,t.maxWidth)),void 0!==t.maxHeight&&(t.height=Math.min(t.height,t.maxHeight)),void 0!==t.minWidth&&(t.width=Math.max(t.width,t.minWidth)),void 0!==t.minHeight&&(t.height=Math.max(t.height,t.minHeight)),t._id=++s,t._dirty=!0,t.autoPosition){this._sortNodes();for(var i=0;;++i){var r=i%this.width,a=Math.floor(i/this.width);if(!(r+t.width>this.width)&&!e._.find(this.nodes,e._.bind(o._isAddNodeIntercepted,{x:r,y:a,node:t}))){t.x=r,t.y=a;break}}}return this.nodes.push(t),void 0!==n&&n&&this._addedNodes.push(e._.clone(t)),this._fixCollisions(t),this._packNodes(),this._notify(),t},l.prototype.removeNode=function(t,n){n=void 0===n||n,this._removedNodes.push(e._.clone(t)),t._id=null,this.nodes=e._.without(this.nodes,t),this._packNodes(),this._notify(t,n)},l.prototype.canMoveNode=function(n,i,r,o,a){if(!this.isNodeChangedPosition(n,i,r,o,a))return!1;var s,c=Boolean(e._.find(this.nodes,function(t){return t.locked}));if(!this.height&&!c)return!0;var u=new l(this.width,null,this.float,0,e._.map(this.nodes,function(e){return e==n?s=t.extend({},e):t.extend({},e)}));if(void 0===s)return!0;u.moveNode(s,i,r,o,a);var f=!0;return c&&(f&=!Boolean(e._.find(u.nodes,function(t){return t!=s&&Boolean(t.locked)&&Boolean(t._dirty)}))),this.height&&(f&=u.getGridHeight()<=this.height),f},l.prototype.canBePlacedWithRespectToHeight=function(n){if(!this.height)return!0;var i=new l(this.width,null,this.float,0,e._.map(this.nodes,function(e){return t.extend({},e)}));return i.addNode(n),i.getGridHeight()<=this.height},l.prototype.isNodeChangedPosition=function(t,e,n,i,r){return"number"!=typeof e&&(e=t.x),"number"!=typeof n&&(n=t.y),"number"!=typeof i&&(i=t.width),"number"!=typeof r&&(r=t.height),void 0!==t.maxWidth&&(i=Math.min(i,t.maxWidth)),void 0!==t.maxHeight&&(r=Math.min(r,t.maxHeight)),void 0!==t.minWidth&&(i=Math.max(i,t.minWidth)),void 0!==t.minHeight&&(r=Math.max(r,t.minHeight)),t.x!=e||t.y!=n||t.width!=i||t.height!=r},l.prototype.moveNode=function(t,e,n,i,r,o){if(!this.isNodeChangedPosition(t,e,n,i,r))return t;if("number"!=typeof e&&(e=t.x),"number"!=typeof n&&(n=t.y),"number"!=typeof i&&(i=t.width),"number"!=typeof r&&(r=t.height),void 0!==t.maxWidth&&(i=Math.min(i,t.maxWidth)),void 0!==t.maxHeight&&(r=Math.min(r,t.maxHeight)),void 0!==t.minWidth&&(i=Math.max(i,t.minWidth)),void 0!==t.minHeight&&(r=Math.max(r,t.minHeight)),t.x==e&&t.y==n&&t.width==i&&t.height==r)return t;var a=t.width!=i;return t._dirty=!0,t.x=e,t.y=n,t.width=i,t.height=r,t=this._prepareNode(t,a),this._fixCollisions(t),o||(this._packNodes(),this._notify()),t},l.prototype.getGridHeight=function(){return e._.reduce(this.nodes,function(t,e){return Math.max(t,e.y+e.height)},0)},l.prototype.beginUpdate=function(t){e._.each(this.nodes,function(t){t._origY=t.y}),t._updating=!0},l.prototype.endUpdate=function(){e._.each(this.nodes,function(t){t._origY=t.y});var t=e._.find(this.nodes,function(t){return t._updating});t&&(t._updating=!1)};var c=function(n,i){var o,s,c=this;i=i||{},this.container=t(n),void 0!==i.handle_class&&(i.handleClass=i.handle_class,r("handle_class","handleClass")),void 0!==i.item_class&&(i.itemClass=i.item_class,r("item_class","itemClass")),void 0!==i.placeholder_class&&(i.placeholderClass=i.placeholder_class,r("placeholder_class","placeholderClass")),void 0!==i.placeholder_text&&(i.placeholderText=i.placeholder_text,r("placeholder_text","placeholderText")),void 0!==i.cell_height&&(i.cellHeight=i.cell_height,r("cell_height","cellHeight")),void 0!==i.vertical_margin&&(i.verticalMargin=i.vertical_margin,r("vertical_margin","verticalMargin")),void 0!==i.min_width&&(i.minWidth=i.min_width,r("min_width","minWidth")),void 0!==i.static_grid&&(i.staticGrid=i.static_grid,r("static_grid","staticGrid")),void 0!==i.is_nested&&(i.isNested=i.is_nested,r("is_nested","isNested")),void 0!==i.always_show_resize_handle&&(i.alwaysShowResizeHandle=i.always_show_resize_handle,r("always_show_resize_handle","alwaysShowResizeHandle")),i.itemClass=i.itemClass||"grid-stack-item";var u=this.container.closest("."+i.itemClass).length>0;if(this.opts=e._.defaults(i||{},{width:parseInt(this.container.attr("data-gs-width"))||12,height:parseInt(this.container.attr("data-gs-height"))||0,itemClass:"grid-stack-item",placeholderClass:"grid-stack-placeholder",placeholderText:"",handle:".grid-stack-item-content",handleClass:null,cellHeight:60,verticalMargin:20,auto:!0,minWidth:768,float:!1,staticGrid:!1,_class:"grid-stack-instance-"+(1e4*Math.random()).toFixed(0),animate:Boolean(this.container.attr("data-gs-animate"))||!1,alwaysShowResizeHandle:i.alwaysShowResizeHandle||!1,resizable:e._.defaults(i.resizable||{},{autoHide:!i.alwaysShowResizeHandle,handles:"se"}),draggable:e._.defaults(i.draggable||{},{handle:(i.handleClass?"."+i.handleClass:i.handle?i.handle:"")||".grid-stack-item-content",scroll:!1,appendTo:"body"}),disableDrag:i.disableDrag||!1,disableResize:i.disableResize||!1,rtl:"auto",removable:!1,removeTimeout:2e3,verticalMarginUnit:"px",cellHeightUnit:"px",oneColumnModeClass:i.oneColumnModeClass||"grid-stack-one-column-mode",ddPlugin:null}),!1===this.opts.ddPlugin?this.opts.ddPlugin=a:null===this.opts.ddPlugin&&(this.opts.ddPlugin=e._.first(a.registeredPlugins)||a),this.dd=new this.opts.ddPlugin(this),"auto"===this.opts.rtl&&(this.opts.rtl="rtl"===this.container.css("direction")),this.opts.rtl&&this.container.addClass("grid-stack-rtl"),this.opts.isNested=u,(s="auto"===this.opts.cellHeight)?c.cellHeight(c.cellWidth(),!0):this.cellHeight(this.opts.cellHeight,!0),this.verticalMargin(this.opts.verticalMargin,!0),this.container.addClass(this.opts._class),this._setStaticClass(),u&&this.container.addClass("grid-stack-nested"),this._initStyles(),this.grid=new l(this.opts.width,function(t,n){n=void 0===n||n;var i=0;e._.each(t,function(t){n&&null===t._id?t.el&&t.el.remove():(t.el.attr("data-gs-x",t.x).attr("data-gs-y",t.y).attr("data-gs-width",t.width).attr("data-gs-height",t.height),i=Math.max(i,t.y+t.height))}),c._updateStyles(i+10)},this.opts.float,this.opts.height),this.opts.auto){var f=[],h=this;this.container.children("."+this.opts.itemClass+":not(."+this.opts.placeholderClass+")").each(function(e,n){n=t(n),f.push({el:n,i:parseInt(n.attr("data-gs-x"))+parseInt(n.attr("data-gs-y"))*h.opts.width})}),e._.chain(f).sortBy(function(t){return t.i}).each(function(t){c._prepareElement(t.el)}).value()}if(this.setAnimation(this.opts.animate),this.placeholder=t('<div class="'+this.opts.placeholderClass+" "+this.opts.itemClass+'"><div class="placeholder-content">'+this.opts.placeholderText+"</div></div>").hide(),this._updateContainerHeight(),this._updateHeightsOnResize=e._.throttle(function(){c.cellHeight(c.cellWidth(),!1)},100),this.onResizeHandler=function(){if(s&&c._updateHeightsOnResize(),c._isOneColumnMode()){if(o)return;c.container.addClass(c.opts.oneColumnModeClass),o=!0,c.grid._sortNodes(),e._.each(c.grid.nodes,function(t){c.container.append(t.el),c.opts.staticGrid||((t.noMove||c.opts.disableDrag)&&c.dd.draggable(t.el,"disable"),(t.noResize||c.opts.disableResize)&&c.dd.resizable(t.el,"disable"),t.el.trigger("resize"))})}else{if(!o)return;if(c.container.removeClass(c.opts.oneColumnModeClass),o=!1,c.opts.staticGrid)return;e._.each(c.grid.nodes,function(t){t.noMove||c.opts.disableDrag||c.dd.draggable(t.el,"enable"),t.noResize||c.opts.disableResize||c.dd.resizable(t.el,"enable"),t.el.trigger("resize")})}},t(window).resize(this.onResizeHandler),this.onResizeHandler(),!c.opts.staticGrid&&"string"==typeof c.opts.removable){var d=t(c.opts.removable);this.dd.isDroppable(d)||this.dd.droppable(d,{accept:"."+c.opts.itemClass}),this.dd.on(d,"dropover",function(e,n){var i=t(n.draggable);i.data("_gridstack_node")._grid===c&&c._setupRemovingTimeout(i)}).on(d,"dropout",function(e,n){var i=t(n.draggable);i.data("_gridstack_node")._grid===c&&c._clearRemovingTimeout(i)})}if(!c.opts.staticGrid&&c.opts.acceptWidgets){var p=null,g=function(t,e){var n=p,i=n.data("_gridstack_node"),r=c.getCellFromPixel(e.offset,!0),o=Math.max(0,r.x),a=Math.max(0,r.y);if(i._added){if(!c.grid.canMoveNode(i,o,a))return;c.grid.moveNode(i,o,a),c._updateContainerHeight()}else i._added=!0,i.el=n,i.x=o,i.y=a,c.grid.cleanNodes(),c.grid.beginUpdate(i),c.grid.addNode(i),c.container.append(c.placeholder),c.placeholder.attr("data-gs-x",i.x).attr("data-gs-y",i.y).attr("data-gs-width",i.width).attr("data-gs-height",i.height).show(),i.el=c.placeholder,i._beforeDragX=i.x,i._beforeDragY=i.y,c._updateContainerHeight()};this.dd.droppable(c.container,{accept:function(e){var n=(e=t(e)).data("_gridstack_node");return(!n||n._grid!==c)&&e.is(!0===c.opts.acceptWidgets?".grid-stack-item":c.opts.acceptWidgets)}}).on(c.container,"dropover",function(e,n){c.container.offset();var i=t(n.draggable),r=c.cellWidth(),o=c.cellHeight(),a=i.data("_gridstack_node"),s=a?a.width:Math.ceil(i.outerWidth()/r),l=a?a.height:Math.ceil(i.outerHeight()/o);p=i;var u=c.grid._prepareNode({width:s,height:l,_added:!1,_temporary:!0});i.data("_gridstack_node",u),i.data("_gridstack_node_orig",a),i.on("drag",g)}).on(c.container,"dropout",function(e,n){var i=t(n.draggable);i.unbind("drag",g);var r=i.data("_gridstack_node");r.el=null,c.grid.removeNode(r),c.placeholder.detach(),c._updateContainerHeight(),i.data("_gridstack_node",i.data("_gridstack_node_orig"))}).on(c.container,"drop",function(e,n){c.placeholder.detach();var i=t(n.draggable).data("_gridstack_node");i._grid=c;var r=t(n.draggable).clone(!1);r.data("_gridstack_node",i),t(n.draggable).remove(),i.el=r,c.placeholder.hide(),r.attr("data-gs-x",i.x).attr("data-gs-y",i.y).attr("data-gs-width",i.width).attr("data-gs-height",i.height).addClass(c.opts.itemClass).removeAttr("style").enableSelection().removeData("draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled").unbind("drag",g),c.container.append(r),c._prepareElementsByNode(r,i),c._updateContainerHeight(),c._triggerChangeEvent(),c.grid.endUpdate()})}};c.prototype._triggerChangeEvent=function(t){var e=this.grid.getDirtyNodes(),n=!1,i=[];e&&e.length&&(i.push(e),n=!0),(n||!0===t)&&this.container.trigger("change",i)},c.prototype._triggerAddEvent=function(){this.grid._addedNodes&&this.grid._addedNodes.length>0&&(this.container.trigger("added",[e._.map(this.grid._addedNodes,e._.clone)]),this.grid._addedNodes=[])},c.prototype._triggerRemoveEvent=function(){this.grid._removedNodes&&this.grid._removedNodes.length>0&&(this.container.trigger("removed",[e._.map(this.grid._removedNodes,e._.clone)]),this.grid._removedNodes=[])},c.prototype._initStyles=function(){this._stylesId&&o.removeStylesheet(this._stylesId),this._stylesId="gridstack-style-"+(1e5*Math.random()).toFixed(),this._styles=o.createStylesheet(this._stylesId),null!==this._styles&&(this._styles._max=0)},c.prototype._updateStyles=function(t){if(null!==this._styles&&void 0!==this._styles){var e,n="."+this.opts._class+" ."+this.opts.itemClass,i=this;if(void 0===t&&(t=this._styles._max,this._initStyles(),this._updateContainerHeight()),this.opts.cellHeight&&!(0!==this._styles._max&&t<=this._styles._max)&&(e=this.opts.verticalMargin&&this.opts.cellHeightUnit!==this.opts.verticalMarginUnit?function(t,e){return t&&e?"calc("+(i.opts.cellHeight*t+i.opts.cellHeightUnit)+" + "+(i.opts.verticalMargin*e+i.opts.verticalMarginUnit)+")":i.opts.cellHeight*t+i.opts.verticalMargin*e+i.opts.cellHeightUnit}:function(t,e){return i.opts.cellHeight*t+i.opts.verticalMargin*e+i.opts.cellHeightUnit},0===this._styles._max&&o.insertCSSRule(this._styles,n,"min-height: "+e(1,0)+";",0),t>this._styles._max)){for(var r=this._styles._max;r<t;++r)o.insertCSSRule(this._styles,n+'[data-gs-height="'+(r+1)+'"]',"height: "+e(r+1,r)+";",r),o.insertCSSRule(this._styles,n+'[data-gs-min-height="'+(r+1)+'"]',"min-height: "+e(r+1,r)+";",r),o.insertCSSRule(this._styles,n+'[data-gs-max-height="'+(r+1)+'"]',"max-height: "+e(r+1,r)+";",r),o.insertCSSRule(this._styles,n+'[data-gs-y="'+r+'"]',"top: "+e(r,r)+";",r);this._styles._max=t}}},c.prototype._updateContainerHeight=function(){if(!this.grid._updateCounter){var t=this.grid.getGridHeight();this.container.attr("data-gs-current-height",t),this.opts.cellHeight&&(this.opts.verticalMargin?this.opts.cellHeightUnit===this.opts.verticalMarginUnit?this.container.css("height",t*(this.opts.cellHeight+this.opts.verticalMargin)-this.opts.verticalMargin+this.opts.cellHeightUnit):this.container.css("height","calc("+(t*this.opts.cellHeight+this.opts.cellHeightUnit)+" + "+(t*(this.opts.verticalMargin-1)+this.opts.verticalMarginUnit)+")"):this.container.css("height",t*this.opts.cellHeight+this.opts.cellHeightUnit))}},c.prototype._isOneColumnMode=function(){return(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)<=this.opts.minWidth},c.prototype._setupRemovingTimeout=function(e){var n=t(e).data("_gridstack_node");!n._removeTimeout&&this.opts.removable&&(n._removeTimeout=setTimeout(function(){e.addClass("grid-stack-item-removing"),n._isAboutToRemove=!0},this.opts.removeTimeout))},c.prototype._clearRemovingTimeout=function(e){var n=t(e).data("_gridstack_node");n._removeTimeout&&(clearTimeout(n._removeTimeout),n._removeTimeout=null,e.removeClass("grid-stack-item-removing"),n._isAboutToRemove=!1)},c.prototype._prepareElementsByNode=function(e,n){if(void 0!==t.ui){var i,r,o=this,a=function(t,a){var s,l,c=Math.round(a.position.left/i),u=Math.floor((a.position.top+r/2)/r);if("drag"!=t.type&&(s=Math.round(a.size.width/i),l=Math.round(a.size.height/r)),"drag"==t.type)c<0||c>=o.grid.width||u<0?(!0===o.opts.removable&&o._setupRemovingTimeout(e),c=n._beforeDragX,u=n._beforeDragY,o.placeholder.detach(),o.placeholder.hide(),o.grid.removeNode(n),o._updateContainerHeight(),n._temporaryRemoved=!0):(o._clearRemovingTimeout(e),n._temporaryRemoved&&(o.grid.addNode(n),o.placeholder.attr("data-gs-x",c).attr("data-gs-y",u).attr("data-gs-width",s).attr("data-gs-height",l).show(),o.container.append(o.placeholder),n.el=o.placeholder,n._temporaryRemoved=!1));else if("resize"==t.type&&c<0)return;o.grid.canMoveNode(n,c,u,s,l)&&(o.grid.moveNode(n,c,u,s,l),o._updateContainerHeight())},s=function(a,s){o.container.append(o.placeholder);var l=t(this);o.grid.cleanNodes(),o.grid.beginUpdate(n),i=o.cellWidth();var c=Math.ceil(l.outerHeight()/l.attr("data-gs-height"));r=o.container.height()/parseInt(o.container.attr("data-gs-current-height")),o.placeholder.attr("data-gs-x",l.attr("data-gs-x")).attr("data-gs-y",l.attr("data-gs-y")).attr("data-gs-width",l.attr("data-gs-width")).attr("data-gs-height",l.attr("data-gs-height")).show(),n.el=o.placeholder,n._beforeDragX=n.x,n._beforeDragY=n.y,o.dd.resizable(e,"option","minWidth",i*(n.minWidth||1)),o.dd.resizable(e,"option","minHeight",c*(n.minHeight||1)),"resizestart"==a.type&&l.find(".grid-stack-item").trigger("resizestart")},l=function(i,r){var a=t(this);if(a.data("_gridstack_node")){var s=!1;o.placeholder.detach(),n.el=a,o.placeholder.hide(),n._isAboutToRemove?(s=!0,e.removeData("_gridstack_node"),e.remove()):(o._clearRemovingTimeout(e),n._temporaryRemoved?(a.attr("data-gs-x",n._beforeDragX).attr("data-gs-y",n._beforeDragY).attr("data-gs-width",n.width).attr("data-gs-height",n.height).removeAttr("style"),n.x=n._beforeDragX,n.y=n._beforeDragY,o.grid.addNode(n)):a.attr("data-gs-x",n.x).attr("data-gs-y",n.y).attr("data-gs-width",n.width).attr("data-gs-height",n.height).removeAttr("style")),o._updateContainerHeight(),"resizestop"===i.type&&r.originalElement.trigger("resizefinished",r),o._triggerChangeEvent(s),o.grid.endUpdate();var l=a.find(".grid-stack");l.length&&"resizestop"==i.type&&(l.each(function(e,n){t(n).data("gridstack").onResizeHandler()}),a.find(".grid-stack-item").trigger("resizestop"))}};this.dd.draggable(e,{start:s,stop:l,drag:a}).resizable(e,{start:s,stop:l,resize:a}),(n.noMove||this._isOneColumnMode()||this.opts.disableDrag)&&this.dd.draggable(e,"disable"),(n.noResize||this._isOneColumnMode()||this.opts.disableResize)&&this.dd.resizable(e,"disable"),e.attr("data-gs-locked",n.locked?"yes":null)}},c.prototype._prepareElement=function(e,n){n=void 0!==n&&n;(e=t(e)).addClass(this.opts.itemClass);var i=this.grid.addNode({x:e.attr("data-gs-x"),y:e.attr("data-gs-y"),width:e.attr("data-gs-width"),height:e.attr("data-gs-height"),maxWidth:e.attr("data-gs-max-width"),minWidth:e.attr("data-gs-min-width"),maxHeight:e.attr("data-gs-max-height"),minHeight:e.attr("data-gs-min-height"),autoPosition:o.toBool(e.attr("data-gs-auto-position")),noResize:o.toBool(e.attr("data-gs-no-resize")),noMove:o.toBool(e.attr("data-gs-no-move")),locked:o.toBool(e.attr("data-gs-locked")),el:e,id:e.attr("data-gs-id"),_grid:this},n);e.data("_gridstack_node",i),this._prepareElementsByNode(e,i)},c.prototype.setAnimation=function(t){t?this.container.addClass("grid-stack-animate"):this.container.removeClass("grid-stack-animate")},c.prototype.addWidget=function(e,n,i,r,o,a,s,l,c,u,f){return e=t(e),void 0!==n&&e.attr("data-gs-x",n),void 0!==i&&e.attr("data-gs-y",i),void 0!==r&&e.attr("data-gs-width",r),void 0!==o&&e.attr("data-gs-height",o),void 0!==a&&e.attr("data-gs-auto-position",a?"yes":null),void 0!==s&&e.attr("data-gs-min-width",s),void 0!==l&&e.attr("data-gs-max-width",l),void 0!==c&&e.attr("data-gs-min-height",c),void 0!==u&&e.attr("data-gs-max-height",u),void 0!==f&&e.attr("data-gs-id",f),this.container.append(e),this._prepareElement(e,!0),this._triggerAddEvent(),this._updateContainerHeight(),this._triggerChangeEvent(!0),e},c.prototype.makeWidget=function(e){return e=t(e),this._prepareElement(e,!0),this._triggerAddEvent(),this._updateContainerHeight(),this._triggerChangeEvent(!0),e},c.prototype.willItFit=function(t,e,n,i,r){var o={x:t,y:e,width:n,height:i,autoPosition:r};return this.grid.canBePlacedWithRespectToHeight(o)},c.prototype.removeWidget=function(e,n){n=void 0===n||n;var i=(e=t(e)).data("_gridstack_node");i||(i=this.grid.getNodeDataByDOMEl(e)),this.grid.removeNode(i,n),e.removeData("_gridstack_node"),this._updateContainerHeight(),n&&e.remove(),this._triggerChangeEvent(!0),this._triggerRemoveEvent()},c.prototype.removeAll=function(t){e._.each(this.grid.nodes,e._.bind(function(e){this.removeWidget(e.el,t)},this)),this.grid.nodes=[],this._updateContainerHeight()},c.prototype.destroy=function(e){t(window).off("resize",this.onResizeHandler),this.disable(),void 0===e||e?this.container.remove():(this.removeAll(!1),this.container.removeData("gridstack")),o.removeStylesheet(this._stylesId),this.grid&&(this.grid=null)},c.prototype.resizable=function(e,n){var i=this;return(e=t(e)).each(function(e,r){var o=(r=t(r)).data("_gridstack_node");void 0!==o&&null!==o&&void 0!==t.ui&&(o.noResize=!n,o.noResize||i._isOneColumnMode()?i.dd.resizable(r,"disable"):i.dd.resizable(r,"enable"))}),this},c.prototype.movable=function(e,n){var i=this;return(e=t(e)).each(function(e,r){var o=(r=t(r)).data("_gridstack_node");void 0!==o&&null!==o&&void 0!==t.ui&&(o.noMove=!n,o.noMove||i._isOneColumnMode()?(i.dd.draggable(r,"disable"),r.removeClass("ui-draggable-handle")):(i.dd.draggable(r,"enable"),r.addClass("ui-draggable-handle")))}),this},c.prototype.enableMove=function(t,e){this.movable(this.container.children("."+this.opts.itemClass),t),e&&(this.opts.disableDrag=!t)},c.prototype.enableResize=function(t,e){this.resizable(this.container.children("."+this.opts.itemClass),t),e&&(this.opts.disableResize=!t)},c.prototype.disable=function(){this.movable(this.container.children("."+this.opts.itemClass),!1),this.resizable(this.container.children("."+this.opts.itemClass),!1),this.container.trigger("disable")},c.prototype.enable=function(){this.movable(this.container.children("."+this.opts.itemClass),!0),this.resizable(this.container.children("."+this.opts.itemClass),!0),this.container.trigger("enable")},c.prototype.locked=function(e,n){return(e=t(e)).each(function(e,i){var r=(i=t(i)).data("_gridstack_node");void 0!==r&&null!==r&&(r.locked=n||!1,i.attr("data-gs-locked",r.locked?"yes":null))}),this},c.prototype.maxHeight=function(e,n){return(e=t(e)).each(function(e,i){var r=(i=t(i)).data("_gridstack_node");void 0!==r&&null!==r&&(isNaN(n)||(r.maxHeight=n||!1,i.attr("data-gs-max-height",n)))}),this},c.prototype.minHeight=function(e,n){return(e=t(e)).each(function(e,i){var r=(i=t(i)).data("_gridstack_node");void 0!==r&&null!==r&&(isNaN(n)||(r.minHeight=n||!1,i.attr("data-gs-min-height",n)))}),this},c.prototype.maxWidth=function(e,n){return(e=t(e)).each(function(e,i){var r=(i=t(i)).data("_gridstack_node");void 0!==r&&null!==r&&(isNaN(n)||(r.maxWidth=n||!1,i.attr("data-gs-max-width",n)))}),this},c.prototype.minWidth=function(e,n){return(e=t(e)).each(function(e,i){var r=(i=t(i)).data("_gridstack_node");void 0!==r&&null!==r&&(isNaN(n)||(r.minWidth=n||!1,i.attr("data-gs-min-width",n)))}),this},c.prototype._updateElement=function(e,n){var i=(e=t(e).first()).data("_gridstack_node");if(void 0!==i&&null!==i){this.grid.cleanNodes(),this.grid.beginUpdate(i),n.call(this,e,i),this._updateContainerHeight(),this._triggerChangeEvent(),this.grid.endUpdate()}},c.prototype.resize=function(t,e,n){this._updateElement(t,function(t,i){e=null!==e&&void 0!==e?e:i.width,n=null!==n&&void 0!==n?n:i.height,this.grid.moveNode(i,i.x,i.y,e,n)})},c.prototype.move=function(t,e,n){this._updateElement(t,function(t,i){e=null!==e&&void 0!==e?e:i.x,n=null!==n&&void 0!==n?n:i.y,this.grid.moveNode(i,e,n,i.width,i.height)})},c.prototype.update=function(t,e,n,i,r){this._updateElement(t,function(t,o){e=null!==e&&void 0!==e?e:o.x,n=null!==n&&void 0!==n?n:o.y,i=null!==i&&void 0!==i?i:o.width,r=null!==r&&void 0!==r?r:o.height,this.grid.moveNode(o,e,n,i,r)})},c.prototype.verticalMargin=function(t,e){if(void 0===t)return this.opts.verticalMargin;var n=o.parseHeight(t);this.opts.verticalMarginUnit===n.unit&&this.opts.height===n.height||(this.opts.verticalMarginUnit=n.unit,this.opts.verticalMargin=n.height,e||this._updateStyles())},c.prototype.cellHeight=function(t,e){if(void 0===t){if(this.opts.cellHeight)return this.opts.cellHeight;var n=this.container.children("."+this.opts.itemClass).first();return Math.ceil(n.outerHeight()/n.attr("data-gs-height"))}var i=o.parseHeight(t);this.opts.cellHeightUnit===i.heightUnit&&this.opts.height===i.height||(this.opts.cellHeightUnit=i.unit,this.opts.cellHeight=i.height,e||this._updateStyles())},c.prototype.cellWidth=function(){return Math.round(this.container.outerWidth()/this.opts.width)},c.prototype.getCellFromPixel=function(t,e){var n=void 0!==e&&e?this.container.offset():this.container.position(),i=t.left-n.left,r=t.top-n.top,o=Math.floor(this.container.width()/this.opts.width),a=Math.floor(this.container.height()/parseInt(this.container.attr("data-gs-current-height")));return{x:Math.floor(i/o),y:Math.floor(r/a)}},c.prototype.batchUpdate=function(){this.grid.batchUpdate()},c.prototype.commit=function(){this.grid.commit(),this._updateContainerHeight()},c.prototype.isAreaEmpty=function(t,e,n,i){return this.grid.isAreaEmpty(t,e,n,i)},c.prototype.setStatic=function(t){this.opts.staticGrid=!0===t,this.enableMove(!t),this.enableResize(!t),this._setStaticClass()},c.prototype._setStaticClass=function(){!0===this.opts.staticGrid?this.container.addClass("grid-stack-static"):this.container.removeClass("grid-stack-static")},c.prototype._updateNodeWidths=function(t,e){this.grid._sortNodes(),this.grid.batchUpdate();for(var n={},i=0;i<this.grid.nodes.length;i++)n=this.grid.nodes[i],this.update(n.el,Math.round(n.x*e/t),void 0,Math.round(n.width*e/t),void 0);this.grid.commit()},c.prototype.setGridWidth=function(t,e){this.container.removeClass("grid-stack-"+this.opts.width),!0!==e&&this._updateNodeWidths(this.opts.width,t),this.opts.width=t,this.grid.width=t,this.container.addClass("grid-stack-"+t)},l.prototype.batch_update=i(l.prototype.batchUpdate),l.prototype._fix_collisions=i(l.prototype._fixCollisions,"_fix_collisions","_fixCollisions"),l.prototype.is_area_empty=i(l.prototype.isAreaEmpty,"is_area_empty","isAreaEmpty"),l.prototype._sort_nodes=i(l.prototype._sortNodes,"_sort_nodes","_sortNodes"),l.prototype._pack_nodes=i(l.prototype._packNodes,"_pack_nodes","_packNodes"),l.prototype._prepare_node=i(l.prototype._prepareNode,"_prepare_node","_prepareNode"),l.prototype.clean_nodes=i(l.prototype.cleanNodes,"clean_nodes","cleanNodes"),l.prototype.get_dirty_nodes=i(l.prototype.getDirtyNodes,"get_dirty_nodes","getDirtyNodes"),l.prototype.add_node=i(l.prototype.addNode,"add_node","addNode, "),l.prototype.remove_node=i(l.prototype.removeNode,"remove_node","removeNode"),l.prototype.can_move_node=i(l.prototype.canMoveNode,"can_move_node","canMoveNode"),l.prototype.move_node=i(l.prototype.moveNode,"move_node","moveNode"),l.prototype.get_grid_height=i(l.prototype.getGridHeight,"get_grid_height","getGridHeight"),l.prototype.begin_update=i(l.prototype.beginUpdate,"begin_update","beginUpdate"),l.prototype.end_update=i(l.prototype.endUpdate,"end_update","endUpdate"),l.prototype.can_be_placed_with_respect_to_height=i(l.prototype.canBePlacedWithRespectToHeight,"can_be_placed_with_respect_to_height","canBePlacedWithRespectToHeight"),c.prototype._trigger_change_event=i(c.prototype._triggerChangeEvent,"_trigger_change_event","_triggerChangeEvent"),c.prototype._init_styles=i(c.prototype._initStyles,"_init_styles","_initStyles"),c.prototype._update_styles=i(c.prototype._updateStyles,"_update_styles","_updateStyles"),c.prototype._update_container_height=i(c.prototype._updateContainerHeight,"_update_container_height","_updateContainerHeight"),c.prototype._is_one_column_mode=i(c.prototype._isOneColumnMode,"_is_one_column_mode","_isOneColumnMode"),c.prototype._prepare_element=i(c.prototype._prepareElement,"_prepare_element","_prepareElement"),c.prototype.set_animation=i(c.prototype.setAnimation,"set_animation","setAnimation"),c.prototype.add_widget=i(c.prototype.addWidget,"add_widget","addWidget"),c.prototype.make_widget=i(c.prototype.makeWidget,"make_widget","makeWidget"),c.prototype.will_it_fit=i(c.prototype.willItFit,"will_it_fit","willItFit"),c.prototype.remove_widget=i(c.prototype.removeWidget,"remove_widget","removeWidget"),c.prototype.remove_all=i(c.prototype.removeAll,"remove_all","removeAll"),c.prototype.min_height=i(c.prototype.minHeight,"min_height","minHeight"),c.prototype.min_width=i(c.prototype.minWidth,"min_width","minWidth"),c.prototype._update_element=i(c.prototype._updateElement,"_update_element","_updateElement"),c.prototype.cell_height=i(c.prototype.cellHeight,"cell_height","cellHeight"),c.prototype.cell_width=i(c.prototype.cellWidth,"cell_width","cellWidth"),c.prototype.get_cell_from_pixel=i(c.prototype.getCellFromPixel,"get_cell_from_pixel","getCellFromPixel"),c.prototype.batch_update=i(c.prototype.batchUpdate,"batch_update","batchUpdate"),c.prototype.is_area_empty=i(c.prototype.isAreaEmpty,"is_area_empty","isAreaEmpty"),c.prototype.set_static=i(c.prototype.setStatic,"set_static","setStatic"),c.prototype._set_static_class=i(c.prototype._setStaticClass,"_set_static_class","_setStaticClass");var u=c;function f(t){u.GridStackDragDropPlugin.call(this,t)}u.Utils=o,u.Engine=l,u.GridStackDragDropPlugin=a,t.fn.gridstack=function(e){return this.each(function(){var n=t(this);n.data("gridstack")||n.data("gridstack",new c(this,e))})},u.GridStackDragDropPlugin.registerPlugin(f),f.prototype=Object.create(u.GridStackDragDropPlugin.prototype),f.prototype.constructor=f,f.prototype.resizable=function(n,i){if(n=t(n),"disable"===i||"enable"===i)n.resizable(i);else if("option"===i){var r=arguments[2],o=arguments[3];n.resizable(i,r,o)}else{var a=n.data("gs-resize-handles")?n.data("gs-resize-handles"):this.grid.opts.resizable.handles;n.resizable(e._.extend({},this.grid.opts.resizable,{handles:a},{start:i.start||function(){},stop:i.stop||function(){},resize:i.resize||function(){}}))}return this},f.prototype.draggable=function(n,i){return n=t(n),"disable"===i||"enable"===i?n.draggable(i):n.draggable(e._.extend({},this.grid.opts.draggable,{containment:this.grid.opts.isNested?this.grid.container.parent():null,start:i.start||function(){},stop:i.stop||function(){},drag:i.drag||function(){}})),this},f.prototype.droppable=function(e,n){return(e=t(e)).droppable(n),this},f.prototype.isDroppable=function(e,n){return e=t(e),Boolean(e.data("droppable"))},f.prototype.on=function(e,n,i){return t(e).on(n,i),this}}).call(this,n(0))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(t){return t instanceof Uint8Array||t instanceof Uint16Array||t instanceof Uint32Array||t instanceof Int8Array||t instanceof Int16Array||t instanceof Int32Array||t instanceof Float32Array||t instanceof Float64Array||t instanceof Uint8ClampedArray},o=function(t,e){for(var n=Object.keys(e),i=0;i<n.length;++i)t[n[i]]=e[n[i]];return t},a="\n";function s(t){var e=new Error("(regl) "+t);throw console.error(e),e}function l(t,e){t||s(e)}function c(t){return t?": "+t:""}function u(t,e,n){e.indexOf(t)<0&&s("invalid value"+c(n)+". must be one of: "+e)}var f=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function h(t,e){for(t+="";t.length<e;)t=" "+t;return t}function d(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function p(t,e){this.number=t,this.line=e,this.errors=[]}function g(t,e,n){this.file=t,this.line=e,this.message=n}function m(){var t=new Error,e=(t.stack||t).toString(),n=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(e);if(n)return n[1];var i=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(e);return i?i[1]:"unknown"}function v(){var t=new Error,e=(t.stack||t).toString(),n=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(e);if(n)return n[1];var i=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(e);return i?i[1]:"unknown"}function b(t,e){var n,i=t.split("\n"),r=1,o=0,a={unknown:new d,0:new d};a.unknown.name=a[0].name=e||m(),a.unknown.lines.push(new p(0,""));for(var s=0;s<i.length;++s){var l=i[s],c=/^\s*\#\s*(\w+)\s+(.+)\s*$/.exec(l);if(c)switch(c[1]){case"line":var u=/(\d+)(\s+\d+)?/.exec(c[2]);u&&(r=0|u[1],u[2]&&((o=0|u[2])in a||(a[o]=new d)));break;case"define":var f=/SHADER_NAME(_B64)?\s+(.*)$/.exec(c[2]);f&&(a[o].name=f[1]?(n=f[2],"undefined"!=typeof atob?atob(n):"base64:"+n):f[2])}a[o].lines.push(new p(r++,l))}return Object.keys(a).forEach(function(t){var e=a[t];e.lines.forEach(function(t){e.index[t.number]=t})}),a}function y(t){t._commandRef=m()}function _(t,e){var n=v();s(t+" in command "+(e||m())+("unknown"===n?"":" called from "+n))}function x(t,e,n,r){(void 0===t?"undefined":i(t))!==e&&_("invalid parameter type"+c(n)+". expected "+e+", got "+(void 0===t?"undefined":i(t)),r||m())}var w=33071,k=9728,C=9984,F=9985,A=9986,S=9987,D=5126,M=32819,T=32820,E=33635,P=34042,I={};function R(t,e){return t===T||t===M||t===E?2:t===P?4:I[t]*e}function N(t){return!(t&t-1||!t)}I[5120]=I[5121]=1,I[5122]=I[5123]=I[36193]=I[E]=I[M]=I[T]=2,I[5124]=I[5125]=I[D]=I[P]=4;var z=o(l,{optional:function(t){t()},raise:s,commandRaise:_,command:function(t,e,n){t||_(e,n||m())},parameter:function(t,e,n){t in e||s("unknown parameter ("+t+")"+c(n)+". possible values: "+Object.keys(e).join())},commandParameter:function(t,e,n,i){t in e||_("unknown parameter ("+t+")"+c(n)+". possible values: "+Object.keys(e).join(),i||m())},constructor:function(t){Object.keys(t).forEach(function(t){f.indexOf(t)<0&&s('invalid regl constructor argument "'+t+'". must be one of '+f)})},type:function(t,e,n){(void 0===t?"undefined":i(t))!==e&&s("invalid parameter type"+c(n)+". expected "+e+", got "+(void 0===t?"undefined":i(t)))},commandType:x,isTypedArray:function(t,e){r(t)||s("invalid parameter type"+c(e)+". must be a typed array")},nni:function(t,e){t>=0&&(0|t)===t||s("invalid parameter type, ("+t+")"+c(e)+". must be a nonnegative integer")},oneOf:u,shaderError:function(t,e,n,i,r){if(!t.getShaderParameter(e,t.COMPILE_STATUS)){var o=t.getShaderInfoLog(e),s=i===t.FRAGMENT_SHADER?"fragment":"vertex";x(n,"string",s+" shader source must be a string",r);var c=b(n,r),u=function(t){var e=[];return t.split("\n").forEach(function(t){if(!(t.length<5)){var n=/^ERROR\:\s+(\d+)\:(\d+)\:\s*(.*)$/.exec(t);n?e.push(new g(0|n[1],0|n[2],n[3].trim())):t.length>0&&e.push(new g("unknown",0,t))}}),e}(o);!function(t,e){e.forEach(function(e){var n=t[e.file];if(n){var i=n.index[e.line];if(i)return i.errors.push(e),void(n.hasErrors=!0)}t.unknown.hasErrors=!0,t.unknown.lines[0].errors.push(e)})}(c,u),Object.keys(c).forEach(function(t){var e=c[t];if(e.hasErrors){var n=[""],i=[""];r("file number "+t+": "+e.name+"\n","color:red;text-decoration:underline;font-weight:bold"),e.lines.forEach(function(t){if(t.errors.length>0){r(h(t.number,4)+"|  ","background-color:yellow; font-weight:bold"),r(t.line+a,"color:red; background-color:yellow; font-weight:bold");var e=0;t.errors.forEach(function(n){var i=n.message,o=/^\s*\'(.*)\'\s*\:\s*(.*)$/.exec(i);if(o){var s=o[1];switch(i=o[2],s){case"assign":s="="}e=Math.max(t.line.indexOf(s,e),0)}else e=0;r(h("| ",6)),r(h("^^^",e+3)+a,"font-weight:bold"),r(h("| ",6)),r(i+a,"font-weight:bold")}),r(h("| ",6)+a)}else r(h(t.number,4)+"|  "),r(t.line+a,"color:red")}),"undefined"==typeof document||window.chrome?console.log(n.join("")):(i[0]=n.join("%c"),console.log.apply(console,i))}function r(t,e){n.push(t),i.push(e||"")}}),l.raise("Error compiling "+s+" shader, "+c[0].name)}},linkError:function(t,e,n,i,r){if(!t.getProgramParameter(e,t.LINK_STATUS)){var o=t.getProgramInfoLog(e),s=b(n,r),c='Error linking program with vertex shader, "'+b(i,r)[0].name+'", and fragment shader "'+s[0].name+'"';"undefined"!=typeof document?console.log("%c"+c+a+"%c"+o,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(c+a+o),l.raise(c)}},callSite:v,saveCommandRef:y,saveDrawInfo:function(t,e,n,i){function r(t){return t?i.id(t):0}function o(t,e){Object.keys(e).forEach(function(e){t[i.id(e)]=!0})}y(t),t._fragId=r(t.static.frag),t._vertId=r(t.static.vert);var a=t._uniformSet={};o(a,e.static),o(a,e.dynamic);var s=t._attributeSet={};o(s,n.static),o(s,n.dynamic),t._hasCount="count"in t.static||"count"in t.dynamic||"elements"in t.static||"elements"in t.dynamic},framebufferFormat:function(t,e,n){t.texture?u(t.texture._texture.internalformat,e,"unsupported texture format for attachment"):u(t.renderbuffer._renderbuffer.format,n,"unsupported renderbuffer format for attachment")},guessCommand:m,texture2D:function(t,e,n){var i,r=e.width,o=e.height,a=e.channels;l(r>0&&r<=n.maxTextureSize&&o>0&&o<=n.maxTextureSize,"invalid texture shape"),t.wrapS===w&&t.wrapT===w||l(N(r)&&N(o),"incompatible wrap mode for texture, both width and height must be power of 2"),1===e.mipmask?1!==r&&1!==o&&l(t.minFilter!==C&&t.minFilter!==A&&t.minFilter!==F&&t.minFilter!==S,"min filter requires mipmap"):(l(N(r)&&N(o),"texture must be a square power of 2 to support mipmapping"),l(e.mipmask===(r<<1)-1,"missing or incomplete mipmap data")),e.type===D&&(n.extensions.indexOf("oes_texture_float_linear")<0&&l(t.minFilter===k&&t.magFilter===k,"filter not supported, must enable oes_texture_float_linear"),l(!t.genMipmaps,"mipmap generation not supported with float textures"));var s=e.images;for(i=0;i<16;++i)if(s[i]){var c=r>>i,u=o>>i;l(e.mipmask&1<<i,"missing mipmap data");var f=s[i];if(l(f.width===c&&f.height===u,"invalid shape for mip images"),l(f.format===e.format&&f.internalformat===e.internalformat&&f.type===e.type,"incompatible type for mip image"),f.compressed);else if(f.data){var h=Math.ceil(R(f.type,a)*c/f.unpackAlignment)*f.unpackAlignment;l(f.data.byteLength===h*u,"invalid data for image, buffer size is inconsistent with image format")}else f.element||f.copy}else t.genMipmaps||l(0==(e.mipmask&1<<i),"extra mipmap data");e.compressed&&l(!t.genMipmaps,"mipmap generation for compressed images not supported")},textureCube:function(t,e,n,i){var r=t.width,o=t.height,a=t.channels;l(r>0&&r<=i.maxTextureSize&&o>0&&o<=i.maxTextureSize,"invalid texture shape"),l(r===o,"cube map must be square"),l(e.wrapS===w&&e.wrapT===w,"wrap mode not supported by cube map");for(var s=0;s<n.length;++s){var c=n[s];l(c.width===r&&c.height===o,"inconsistent cube map face shape"),e.genMipmaps&&(l(!c.compressed,"can not generate mipmap for compressed textures"),l(1===c.mipmask,"can not specify mipmaps and generate mipmaps"));for(var u=c.images,f=0;f<16;++f){var h=u[f];if(h){var d=r>>f,p=o>>f;l(c.mipmask&1<<f,"missing mipmap data"),l(h.width===d&&h.height===p,"invalid shape for mip images"),l(h.format===t.format&&h.internalformat===t.internalformat&&h.type===t.type,"incompatible type for mip image"),h.compressed||(h.data?l(h.data.byteLength===d*p*Math.max(R(h.type,a),h.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):h.element||h.copy)}}}}}),O=0,L=0;function j(t,e){this.id=O++,this.type=t,this.data=e}function H(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function B(t){return"["+function t(e){if(0===e.length)return[];var n=e.charAt(0),i=e.charAt(e.length-1);if(e.length>1&&n===i&&('"'===n||"'"===n))return['"'+H(e.substr(1,e.length-2))+'"'];var r=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(e);if(r)return t(e.substr(0,r.index)).concat(t(r[1])).concat(t(e.substr(r.index+r[0].length)));var o=e.split(".");if(1===o.length)return['"'+H(e)+'"'];for(var a=[],s=0;s<o.length;++s)a=a.concat(t(o[s]));return a}(t).join("][")+"]"}var W={DynamicVariable:j,define:function(t,e){return new j(t,B(e+""))},isDynamic:function(t){return"function"==typeof t&&!t._reglType||t instanceof j},unbox:function(t,e){return"function"==typeof t?new j(L,t):t},accessor:B},q={next:"function"==typeof requestAnimationFrame?function(t){return requestAnimationFrame(t)}:function(t){return setTimeout(t,16)},cancel:"function"==typeof cancelAnimationFrame?function(t){return cancelAnimationFrame(t)}:clearTimeout},U="undefined"!=typeof performance&&performance.now?function(){return performance.now()}:function(){return+new Date};function $(t){return"string"==typeof t?t.split():(z(Array.isArray(t),"invalid extension array"),t)}function V(t){return"string"==typeof t?(z("undefined"!=typeof document,"not supported outside of DOM"),document.querySelector(t)):t}function G(t){var e,n,r,a,s,l=t||{},c={},u=[],f=[],h="undefined"==typeof window?1:window.devicePixelRatio,d=!1,p=function(t){t&&z.raise(t)},g=function(){};if("string"==typeof l?(z("undefined"!=typeof document,"selector queries only supported in DOM enviroments"),e=document.querySelector(l),z(e,"invalid query string for element")):"object"===(void 0===l?"undefined":i(l))?"string"==typeof(s=l).nodeName&&"function"==typeof s.appendChild&&"function"==typeof s.getBoundingClientRect?e=l:!function(t){return"function"==typeof t.drawArrays||"function"==typeof t.drawElements}(l)?(z.constructor(l),"gl"in l?a=l.gl:"canvas"in l?r=V(l.canvas):"container"in l&&(n=V(l.container)),"attributes"in l&&(c=l.attributes,z.type(c,"object","invalid context attributes")),"extensions"in l&&(u=$(l.extensions)),"optionalExtensions"in l&&(f=$(l.optionalExtensions)),"onDone"in l&&(z.type(l.onDone,"function","invalid or missing onDone callback"),p=l.onDone),"profile"in l&&(d=!!l.profile),"pixelRatio"in l&&(h=+l.pixelRatio,z(h>0,"invalid pixel ratio"))):r=(a=l).canvas:z.raise("invalid arguments to regl"),e&&("canvas"===e.nodeName.toLowerCase()?r=e:n=e),!a){if(!r){z("undefined"!=typeof document,"must manually specify webgl context outside of DOM environments");var m=function(t,e,n){var i=document.createElement("canvas");function r(){var e=window.innerWidth,r=window.innerHeight;if(t!==document.body){var a=t.getBoundingClientRect();e=a.right-a.left,r=a.bottom-a.top}i.width=n*e,i.height=n*r,o(i.style,{width:e+"px",height:r+"px"})}return o(i.style,{border:0,margin:0,padding:0,top:0,left:0}),t.appendChild(i),t===document.body&&(i.style.position="absolute",o(t.style,{margin:0,padding:0})),window.addEventListener("resize",r,!1),r(),{canvas:i,onDestroy:function(){window.removeEventListener("resize",r),t.removeChild(i)}}}(n||document.body,0,h);if(!m)return null;r=m.canvas,g=m.onDestroy}a=function(t,e){function n(n){try{return t.getContext(n,e)}catch(t){return null}}return n("webgl")||n("experimental-webgl")||n("webgl-experimental")}(r,c)}return a?{gl:a,canvas:r,container:n,extensions:u,optionalExtensions:f,pixelRatio:h,profile:d,onDone:p,onDestroy:g}:(g(),p("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function Y(t,e){for(var n=Array(t),i=0;i<t;++i)n[i]=e(i);return n}var X=5120,K=5121,Q=5122,Z=5123,J=5124,tt=5125,et=5126;function nt(t){var e,n;return e=(t>65535)<<4,e|=n=((t>>>=e)>255)<<3,e|=n=((t>>>=n)>15)<<2,(e|=n=((t>>>=n)>3)<<1)|(t>>>=n)>>1}function it(){var t=Y(8,function(){return[]});function e(e){var n=function(t){for(var e=16;e<=1<<28;e*=16)if(t<=e)return e;return 0}(e),i=t[nt(n)>>2];return i.length>0?i.pop():new ArrayBuffer(n)}function n(e){t[nt(e.byteLength)>>2].push(e)}return{alloc:e,free:n,allocType:function(t,n){var i=null;switch(t){case X:i=new Int8Array(e(n),0,n);break;case K:i=new Uint8Array(e(n),0,n);break;case Q:i=new Int16Array(e(2*n),0,n);break;case Z:i=new Uint16Array(e(2*n),0,n);break;case J:i=new Int32Array(e(4*n),0,n);break;case tt:i=new Uint32Array(e(4*n),0,n);break;case et:i=new Float32Array(e(4*n),0,n);break;default:return null}return i.length!==n?i.subarray(0,n):i},freeType:function(t){n(t.buffer)}}}var rt=it();rt.zero=it();var ot=function(t,e){var n=1;e.ext_texture_filter_anisotropic&&(n=t.getParameter(34047));var i=1,r=1;e.webgl_draw_buffers&&(i=t.getParameter(34852),r=t.getParameter(36063));var o=!!e.oes_texture_float;if(o){var a=t.createTexture();t.bindTexture(3553,a),t.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var s=t.createFramebuffer();if(t.bindFramebuffer(36160,s),t.framebufferTexture2D(36160,36064,3553,a,0),t.bindTexture(3553,null),36053!==t.checkFramebufferStatus(36160))o=!1;else{t.viewport(0,0,1,1),t.clearColor(1,0,0,1),t.clear(16384);var l=rt.allocType(5126,4);t.readPixels(0,0,1,1,6408,5126,l),t.getError()?o=!1:(t.deleteFramebuffer(s),t.deleteTexture(a),o=1===l[0]),rt.freeType(l)}}var c,u=t.createTexture(),f=rt.allocType(5121,36);return t.activeTexture(33984),t.bindTexture(34067,u),t.texImage2D(34069,0,6408,3,3,0,6408,5121,f),rt.freeType(f),t.bindTexture(34067,null),t.deleteTexture(u),c=!t.getError(),{colorBits:[t.getParameter(3410),t.getParameter(3411),t.getParameter(3412),t.getParameter(3413)],depthBits:t.getParameter(3414),stencilBits:t.getParameter(3415),subpixelBits:t.getParameter(3408),extensions:Object.keys(e).filter(function(t){return!!e[t]}),maxAnisotropic:n,maxDrawbuffers:i,maxColorAttachments:r,pointSizeDims:t.getParameter(33901),lineWidthDims:t.getParameter(33902),maxViewportDims:t.getParameter(3386),maxCombinedTextureUnits:t.getParameter(35661),maxCubeMapSize:t.getParameter(34076),maxRenderbufferSize:t.getParameter(34024),maxTextureUnits:t.getParameter(34930),maxTextureSize:t.getParameter(3379),maxAttributes:t.getParameter(34921),maxVertexUniforms:t.getParameter(36347),maxVertexTextureUnits:t.getParameter(35660),maxVaryingVectors:t.getParameter(36348),maxFragmentUniforms:t.getParameter(36349),glsl:t.getParameter(35724),renderer:t.getParameter(7937),vendor:t.getParameter(7936),version:t.getParameter(7938),readFloat:o,npotTextureCube:c}};function at(t){return!!t&&"object"===(void 0===t?"undefined":i(t))&&Array.isArray(t.shape)&&Array.isArray(t.stride)&&"number"==typeof t.offset&&t.shape.length===t.stride.length&&(Array.isArray(t.data)||r(t.data))}var st=function(t){return Object.keys(t).map(function(e){return t[e]})},lt={shape:function(t){for(var e=[],n=t;n.length;n=n[0])e.push(n.length);return e},flatten:function(t,e,n,i){var r=1;if(e.length)for(var o=0;o<e.length;++o)r*=e[o];else r=0;var a=i||rt.allocType(n,r);switch(e.length){case 0:break;case 1:!function(t,e,n){for(var i=0;i<e;++i)n[i]=t[i]}(t,e[0],a);break;case 2:!function(t,e,n,i){for(var r=0,o=0;o<e;++o)for(var a=t[o],s=0;s<n;++s)i[r++]=a[s]}(t,e[0],e[1],a);break;case 3:ct(t,e[0],e[1],e[2],a,0);break;default:!function t(e,n,i,r,o){var a=1;for(var s=i+1;s<n.length;++s)a*=n[s];var l=n[i];if(n.length-i==4){var c=n[i+1],u=n[i+2],f=n[i+3];for(s=0;s<l;++s)ct(e[s],c,u,f,r,o),o+=a}else for(s=0;s<l;++s)t(e[s],n,i+1,r,o),o+=a}(t,e,0,a,0)}return a}};function ct(t,e,n,i,r,o){for(var a=o,s=0;s<e;++s)for(var l=t[s],c=0;c<n;++c)for(var u=l[c],f=0;f<i;++f)r[a++]=u[f]}var ut={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},ft={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},ht={dynamic:35048,stream:35040,static:35044},dt=lt.flatten,pt=lt.shape,gt=35044,mt=35040,vt=5121,bt=5126,yt=[];function _t(t){return 0|ut[Object.prototype.toString.call(t)]}function xt(t,e){for(var n=0;n<e.length;++n)t[n]=e[n]}function wt(t,e,n,i,r,o,a){for(var s=0,l=0;l<n;++l)for(var c=0;c<i;++c)t[s++]=e[r*l+o*c+a]}yt[5120]=1,yt[5122]=2,yt[5124]=4,yt[5121]=1,yt[5123]=2,yt[5125]=4,yt[5126]=4;var kt={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},Ct=0,Ft=1,At=4,St=5120,Dt=5121,Mt=5122,Tt=5123,Et=5124,Pt=5125,It=34963,Rt=35040,Nt=35044;var zt=new Float32Array(1),Ot=new Uint32Array(zt.buffer),Lt=5123;function jt(t){for(var e=rt.allocType(Lt,t.length),n=0;n<t.length;++n)if(isNaN(t[n]))e[n]=65535;else if(t[n]===1/0)e[n]=31744;else if(t[n]===-1/0)e[n]=64512;else{zt[0]=t[n];var i=Ot[0],r=i>>>31<<15,o=(i<<1>>>24)-127,a=i>>13&1023;if(o<-24)e[n]=r;else if(o<-14){var s=-14-o;e[n]=r+(a+1024>>s)}else e[n]=o>15?r+31744:r+(o+15<<10)+a}return e}function Ht(t){return Array.isArray(t)||r(t)}var Bt=function(t){return!(t&t-1||!t)},Wt=34467,qt=3553,Ut=34067,$t=34069,Vt=6408,Gt=6406,Yt=6407,Xt=6409,Kt=6410,Qt=32854,Zt=32855,Jt=36194,te=32819,ee=32820,ne=33635,ie=34042,re=6402,oe=34041,ae=35904,se=35906,le=36193,ce=33776,ue=33777,fe=33778,he=33779,de=35986,pe=35987,ge=34798,me=35840,ve=35841,be=35842,ye=35843,_e=36196,xe=5121,we=5123,ke=5125,Ce=5126,Fe=10242,Ae=10243,Se=10497,De=33071,Me=33648,Te=10240,Ee=10241,Pe=9728,Ie=9729,Re=9984,Ne=9985,ze=9986,Oe=9987,Le=33170,je=4352,He=4353,Be=4354,We=34046,qe=3317,Ue=37440,$e=37441,Ve=37443,Ge=37444,Ye=33984,Xe=[Re,ze,Ne,Oe],Ke=[0,Xt,Kt,Yt,Vt],Qe={};function Ze(t){return"[object "+t+"]"}Qe[Xt]=Qe[Gt]=Qe[re]=1,Qe[oe]=Qe[Kt]=2,Qe[Yt]=Qe[ae]=3,Qe[Vt]=Qe[se]=4;var Je=Ze("HTMLCanvasElement"),tn=Ze("CanvasRenderingContext2D"),en=Ze("ImageBitmap"),nn=Ze("HTMLImageElement"),rn=Ze("HTMLVideoElement"),on=Object.keys(ut).concat([Je,tn,en,nn,rn]),an=[];an[xe]=1,an[Ce]=4,an[le]=2,an[we]=2,an[ke]=4;var sn=[];function ln(t){return Array.isArray(t)&&(0===t.length||"number"==typeof t[0])}function cn(t){return!!Array.isArray(t)&&!(0===t.length||!Ht(t[0]))}function un(t){return Object.prototype.toString.call(t)}function fn(t){return un(t)===Je}function hn(t){if(!t)return!1;var e=un(t);return on.indexOf(e)>=0||(ln(t)||cn(t)||at(t))}function dn(t){return 0|ut[Object.prototype.toString.call(t)]}function pn(t,e){return rt.allocType(t.type===le?Ce:t.type,e)}function gn(t,e){t.type===le?(t.data=jt(e),rt.freeType(e)):t.data=e}function mn(t,e,n,i,r,o){var a;if(a=void 0!==sn[t]?sn[t]:Qe[t]*an[e],o&&(a*=6),r){for(var s=0,l=n;l>=1;)s+=a*l*l,l/=2;return s}return a*n*i}function vn(t,e,n,a,s,l,c){var u={"don't care":je,"dont care":je,nice:Be,fast:He},f={repeat:Se,clamp:De,mirror:Me},h={nearest:Pe,linear:Ie},d=o({mipmap:Oe,"nearest mipmap nearest":Re,"linear mipmap nearest":Ne,"nearest mipmap linear":ze,"linear mipmap linear":Oe},h),p={none:0,browser:Ge},g={uint8:xe,rgba4:te,rgb565:ne,"rgb5 a1":ee},m={alpha:Gt,luminance:Xt,"luminance alpha":Kt,rgb:Yt,rgba:Vt,rgba4:Qt,"rgb5 a1":Zt,rgb565:Jt},v={};e.ext_srgb&&(m.srgb=ae,m.srgba=se),e.oes_texture_float&&(g.float32=g.float=Ce),e.oes_texture_half_float&&(g.float16=g["half float"]=le),e.webgl_depth_texture&&(o(m,{depth:re,"depth stencil":oe}),o(g,{uint16:we,uint32:ke,"depth stencil":ie})),e.webgl_compressed_texture_s3tc&&o(v,{"rgb s3tc dxt1":ce,"rgba s3tc dxt1":ue,"rgba s3tc dxt3":fe,"rgba s3tc dxt5":he}),e.webgl_compressed_texture_atc&&o(v,{"rgb atc":de,"rgba atc explicit alpha":pe,"rgba atc interpolated alpha":ge}),e.webgl_compressed_texture_pvrtc&&o(v,{"rgb pvrtc 4bppv1":me,"rgb pvrtc 2bppv1":ve,"rgba pvrtc 4bppv1":be,"rgba pvrtc 2bppv1":ye}),e.webgl_compressed_texture_etc1&&(v["rgb etc1"]=_e);var b=Array.prototype.slice.call(t.getParameter(Wt));Object.keys(v).forEach(function(t){var e=v[t];b.indexOf(e)>=0&&(m[t]=e)});var y=Object.keys(m);n.textureFormats=y;var _=[];Object.keys(m).forEach(function(t){var e=m[t];_[e]=t});var x=[];Object.keys(g).forEach(function(t){var e=g[t];x[e]=t});var w=[];Object.keys(h).forEach(function(t){var e=h[t];w[e]=t});var k=[];Object.keys(d).forEach(function(t){var e=d[t];k[e]=t});var C=[];Object.keys(f).forEach(function(t){var e=f[t];C[e]=t});var F=y.reduce(function(t,e){var n=m[e];return n===Xt||n===Gt||n===Xt||n===Kt||n===re||n===oe?t[n]=n:n===Zt||e.indexOf("rgba")>=0?t[n]=Vt:t[n]=Yt,t},{});function A(){this.internalformat=Vt,this.format=Vt,this.type=xe,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=Ge,this.width=0,this.height=0,this.channels=0}function S(t,e){t.internalformat=e.internalformat,t.format=e.format,t.type=e.type,t.compressed=e.compressed,t.premultiplyAlpha=e.premultiplyAlpha,t.flipY=e.flipY,t.unpackAlignment=e.unpackAlignment,t.colorSpace=e.colorSpace,t.width=e.width,t.height=e.height,t.channels=e.channels}function D(t,r){if("object"===(void 0===r?"undefined":i(r))&&r){if("premultiplyAlpha"in r&&(z.type(r.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),t.premultiplyAlpha=r.premultiplyAlpha),"flipY"in r&&(z.type(r.flipY,"boolean","invalid texture flip"),t.flipY=r.flipY),"alignment"in r&&(z.oneOf(r.alignment,[1,2,4,8],"invalid texture unpack alignment"),t.unpackAlignment=r.alignment),"colorSpace"in r&&(z.parameter(r.colorSpace,p,"invalid colorSpace"),t.colorSpace=p[r.colorSpace]),"type"in r){var o=r.type;z(e.oes_texture_float||!("float"===o||"float32"===o),"you must enable the OES_texture_float extension in order to use floating point textures."),z(e.oes_texture_half_float||!("half float"===o||"float16"===o),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),z(e.webgl_depth_texture||!("uint16"===o||"uint32"===o||"depth stencil"===o),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),z.parameter(o,g,"invalid texture type"),t.type=g[o]}var a=t.width,s=t.height,l=t.channels,c=!1;"shape"in r?(z(Array.isArray(r.shape)&&r.shape.length>=2,"shape must be an array"),a=r.shape[0],s=r.shape[1],3===r.shape.length&&(l=r.shape[2],z(l>0&&l<=4,"invalid number of channels"),c=!0),z(a>=0&&a<=n.maxTextureSize,"invalid width"),z(s>=0&&s<=n.maxTextureSize,"invalid height")):("radius"in r&&(a=s=r.radius,z(a>=0&&a<=n.maxTextureSize,"invalid radius")),"width"in r&&(a=r.width,z(a>=0&&a<=n.maxTextureSize,"invalid width")),"height"in r&&(s=r.height,z(s>=0&&s<=n.maxTextureSize,"invalid height")),"channels"in r&&(l=r.channels,z(l>0&&l<=4,"invalid number of channels"),c=!0)),t.width=0|a,t.height=0|s,t.channels=0|l;var u=!1;if("format"in r){var f=r.format;z(e.webgl_depth_texture||!("depth"===f||"depth stencil"===f),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),z.parameter(f,m,"invalid texture format");var h=t.internalformat=m[f];t.format=F[h],f in g&&("type"in r||(t.type=g[f])),f in v&&(t.compressed=!0),u=!0}!c&&u?t.channels=Qe[t.format]:c&&!u?t.channels!==Ke[t.format]&&(t.format=t.internalformat=Ke[t.channels]):u&&c&&z(t.channels===Qe[t.format],"number of channels inconsistent with specified format")}}function M(e){t.pixelStorei(Ue,e.flipY),t.pixelStorei($e,e.premultiplyAlpha),t.pixelStorei(Ve,e.colorSpace),t.pixelStorei(qe,e.unpackAlignment)}function T(){A.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function E(t,e){var i=null;if(hn(e)?i=e:e&&(z.type(e,"object","invalid pixel data type"),D(t,e),"x"in e&&(t.xOffset=0|e.x),"y"in e&&(t.yOffset=0|e.y),hn(e.data)&&(i=e.data)),z(!t.compressed||i instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),e.copy){z(!i,"can not specify copy and data field for the same texture");var o=s.viewportWidth,a=s.viewportHeight;t.width=t.width||o-t.xOffset,t.height=t.height||a-t.yOffset,t.needsCopy=!0,z(t.xOffset>=0&&t.xOffset<o&&t.yOffset>=0&&t.yOffset<a&&t.width>0&&t.width<=o&&t.height>0&&t.height<=a,"copy texture read out of bounds")}else if(i){if(r(i))t.channels=t.channels||4,t.data=i,"type"in e||t.type!==xe||(t.type=dn(i));else if(ln(i))t.channels=t.channels||4,function(t,e){var n=e.length;switch(t.type){case xe:case we:case ke:case Ce:var i=rt.allocType(t.type,n);i.set(e),t.data=i;break;case le:t.data=jt(e);break;default:z.raise("unsupported texture type, must specify a typed array")}}(t,i),t.alignment=1,t.needsFree=!0;else if(at(i)){var l=i.data;Array.isArray(l)||t.type!==xe||(t.type=dn(l));var c,u,f,h,d,p,g=i.shape,m=i.stride;3===g.length?(f=g[2],p=m[2]):(z(2===g.length,"invalid ndarray pixel data, must be 2 or 3D"),f=1,p=1),c=g[0],u=g[1],h=m[0],d=m[1],t.alignment=1,t.width=c,t.height=u,t.channels=f,t.format=t.internalformat=Ke[f],t.needsFree=!0,function(t,e,n,i,r,o){for(var a=t.width,s=t.height,l=t.channels,c=pn(t,a*s*l),u=0,f=0;f<s;++f)for(var h=0;h<a;++h)for(var d=0;d<l;++d)c[u++]=e[n*h+i*f+r*d+o];gn(t,c)}(t,l,h,d,p,i.offset)}else if(fn(i)||un(i)===tn)fn(i)?t.element=i:t.element=i.canvas,t.width=t.element.width,t.height=t.element.height,t.channels=4;else if(function(t){return un(t)===en}(i))t.element=i,t.width=i.width,t.height=i.height,t.channels=4;else if(function(t){return un(t)===nn}(i))t.element=i,t.width=i.naturalWidth,t.height=i.naturalHeight,t.channels=4;else if(function(t){return un(t)===rn}(i))t.element=i,t.width=i.videoWidth,t.height=i.videoHeight,t.channels=4;else if(cn(i)){var v=t.width||i[0].length,b=t.height||i.length,y=t.channels;y=Ht(i[0][0])?y||i[0][0].length:y||1;for(var _=lt.shape(i),x=1,w=0;w<_.length;++w)x*=_[w];var k=pn(t,x);lt.flatten(i,_,"",k),gn(t,k),t.alignment=1,t.width=v,t.height=b,t.channels=y,t.format=t.internalformat=Ke[y],t.needsFree=!0}}else t.width=t.width||1,t.height=t.height||1,t.channels=t.channels||4;t.type===Ce?z(n.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):t.type===le&&z(n.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function P(e,n,i){var r=e.element,o=e.data,s=e.internalformat,l=e.format,c=e.type,u=e.width,f=e.height,h=e.channels;if(M(e),r)t.texImage2D(n,i,l,l,c,r);else if(e.compressed)t.compressedTexImage2D(n,i,s,u,f,0,o);else if(e.needsCopy)a(),t.copyTexImage2D(n,i,l,e.xOffset,e.yOffset,u,f,0);else{var d=!o;d&&(o=rt.zero.allocType(c,u*f*h)),t.texImage2D(n,i,l,u,f,0,l,c,o),d&&o&&rt.zero.freeType(o)}}function I(e,n,i,r,o){var s=e.element,l=e.data,c=e.internalformat,u=e.format,f=e.type,h=e.width,d=e.height;M(e),s?t.texSubImage2D(n,o,i,r,u,f,s):e.compressed?t.compressedTexSubImage2D(n,o,i,r,c,h,d,l):e.needsCopy?(a(),t.copyTexSubImage2D(n,o,i,r,e.xOffset,e.yOffset,h,d)):t.texSubImage2D(n,o,i,r,h,d,u,f,l)}var R=[];function N(){return R.pop()||new T}function O(t){t.needsFree&&rt.freeType(t.data),T.call(t),R.push(t)}function L(t,e,n){var i=t.images[0]=N();t.mipmask=1,i.width=t.width=e,i.height=t.height=n,i.channels=t.channels=4}function j(t,e){var n=null;if(hn(e))S(n=t.images[0]=N(),t),E(n,e),t.mipmask=1;else if(D(t,e),Array.isArray(e.mipmap))for(var i=e.mipmap,r=0;r<i.length;++r)S(n=t.images[r]=N(),t),n.width>>=r,n.height>>=r,E(n,i[r]),t.mipmask|=1<<r;else S(n=t.images[0]=N(),t),E(n,e),t.mipmask=1;S(t,t.images[0]),(t.compressed&&t.internalformat===ce||t.internalformat===ue||t.internalformat===fe||t.internalformat===he)&&z(t.width%4==0&&t.height%4==0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function H(t,e){for(var n=t.images,i=0;i<n.length;++i){if(!n[i])return;P(n[i],e,i)}}var B=[];function W(){var t=B.pop()||new function(){A.call(this),this.genMipmaps=!1,this.mipmapHint=je,this.mipmask=0,this.images=Array(16)};A.call(t),t.mipmask=0;for(var e=0;e<16;++e)t.images[e]=null;return t}function q(t){for(var e=t.images,n=0;n<e.length;++n)e[n]&&O(e[n]),e[n]=null;B.push(t)}function U(){this.minFilter=Pe,this.magFilter=Pe,this.wrapS=De,this.wrapT=De,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=je}function $(t,e){if("min"in e){var r=e.min;z.parameter(r,d),t.minFilter=d[r],Xe.indexOf(t.minFilter)>=0&&!("faces"in e)&&(t.genMipmaps=!0)}if("mag"in e){var o=e.mag;z.parameter(o,h),t.magFilter=h[o]}var a=t.wrapS,s=t.wrapT;if("wrap"in e){var l=e.wrap;"string"==typeof l?(z.parameter(l,f),a=s=f[l]):Array.isArray(l)&&(z.parameter(l[0],f),z.parameter(l[1],f),a=f[l[0]],s=f[l[1]])}else{if("wrapS"in e){var c=e.wrapS;z.parameter(c,f),a=f[c]}if("wrapT"in e){var p=e.wrapT;z.parameter(p,f),s=f[p]}}if(t.wrapS=a,t.wrapT=s,"anisotropic"in e){var g=e.anisotropic;z("number"==typeof g&&g>=1&&g<=n.maxAnisotropic,"aniso samples must be between 1 and "),t.anisotropic=e.anisotropic}if("mipmap"in e){var m=!1;switch(i(e.mipmap)){case"string":z.parameter(e.mipmap,u,"invalid mipmap hint"),t.mipmapHint=u[e.mipmap],t.genMipmaps=!0,m=!0;break;case"boolean":m=t.genMipmaps=e.mipmap;break;case"object":z(Array.isArray(e.mipmap),"invalid mipmap type"),t.genMipmaps=!1,m=!0;break;default:z.raise("invalid mipmap type")}!m||"min"in e||(t.minFilter=Re)}}function V(n,i){t.texParameteri(i,Ee,n.minFilter),t.texParameteri(i,Te,n.magFilter),t.texParameteri(i,Fe,n.wrapS),t.texParameteri(i,Ae,n.wrapT),e.ext_texture_filter_anisotropic&&t.texParameteri(i,We,n.anisotropic),n.genMipmaps&&(t.hint(Le,n.mipmapHint),t.generateMipmap(i))}var G=0,Y={},X=n.maxTextureUnits,K=Array(X).map(function(){return null});function Q(e){A.call(this),this.mipmask=0,this.internalformat=Vt,this.id=G++,this.refCount=1,this.target=e,this.texture=t.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new U,c.profile&&(this.stats={size:0})}function Z(e){t.activeTexture(Ye),t.bindTexture(e.target,e.texture)}function J(){var e=K[0];e?t.bindTexture(e.target,e.texture):t.bindTexture(qt,null)}function tt(e){var n=e.texture;z(n,"must not double destroy texture");var i=e.unit,r=e.target;i>=0&&(t.activeTexture(Ye+i),t.bindTexture(r,null),K[i]=null),t.deleteTexture(n),e.texture=null,e.params=null,e.pixels=null,e.refCount=0,delete Y[e.id],l.textureCount--}return o(Q.prototype,{bind:function(){this.bindCount+=1;var e=this.unit;if(e<0){for(var n=0;n<X;++n){var i=K[n];if(i){if(i.bindCount>0)continue;i.unit=-1}K[n]=this,e=n;break}e>=X&&z.raise("insufficient number of texture units"),c.profile&&l.maxTextureUnits<e+1&&(l.maxTextureUnits=e+1),this.unit=e,t.activeTexture(Ye+e),t.bindTexture(this.target,this.texture)}return e},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&tt(this)}}),c.profile&&(l.getTotalTextureSize=function(){var t=0;return Object.keys(Y).forEach(function(e){t+=Y[e].stats.size}),t}),{create2D:function(e,i){var r=new Q(qt);function o(t,e){var i=r.texInfo;U.call(i);var a=W();return"number"==typeof t?L(a,0|t,"number"==typeof e?0|e:0|t):t?(z.type(t,"object","invalid arguments to regl.texture"),$(i,t),j(a,t)):L(a,1,1),i.genMipmaps&&(a.mipmask=(a.width<<1)-1),r.mipmask=a.mipmask,S(r,a),z.texture2D(i,a,n),r.internalformat=a.internalformat,o.width=a.width,o.height=a.height,Z(r),H(a,qt),V(i,qt),J(),q(a),c.profile&&(r.stats.size=mn(r.internalformat,r.type,a.width,a.height,i.genMipmaps,!1)),o.format=_[r.internalformat],o.type=x[r.type],o.mag=w[i.magFilter],o.min=k[i.minFilter],o.wrapS=C[i.wrapS],o.wrapT=C[i.wrapT],o}return Y[r.id]=r,l.textureCount++,o(e,i),o.subimage=function(t,e,n,i){z(!!t,"must specify image data");var a=0|e,s=0|n,l=0|i,c=N();return S(c,r),c.width=0,c.height=0,E(c,t),c.width=c.width||(r.width>>l)-a,c.height=c.height||(r.height>>l)-s,z(r.type===c.type&&r.format===c.format&&r.internalformat===c.internalformat,"incompatible format for texture.subimage"),z(a>=0&&s>=0&&a+c.width<=r.width&&s+c.height<=r.height,"texture.subimage write out of bounds"),z(r.mipmask&1<<l,"missing mipmap data"),z(c.data||c.element||c.needsCopy,"missing image data"),Z(r),I(c,qt,a,s,l),J(),O(c),o},o.resize=function(e,n){var i,a=0|e,s=0|n||a;if(a===r.width&&s===r.height)return o;o.width=r.width=a,o.height=r.height=s,Z(r);for(var l=r.channels,u=r.type,f=0;r.mipmask>>f;++f){var h=a>>f,d=s>>f;if(!h||!d)break;i=rt.zero.allocType(u,h*d*l),t.texImage2D(qt,f,r.format,h,d,0,r.format,r.type,i),i&&rt.zero.freeType(i)}return J(),c.profile&&(r.stats.size=mn(r.internalformat,r.type,a,s,!1,!1)),o},o._reglType="texture2d",o._texture=r,c.profile&&(o.stats=r.stats),o.destroy=function(){r.decRef()},o},createCube:function(e,r,o,a,s,u){var f=new Q(Ut);Y[f.id]=f,l.cubeCount++;var h=new Array(6);function d(t,e,r,o,a,s){var l,u=f.texInfo;for(U.call(u),l=0;l<6;++l)h[l]=W();if("number"!=typeof t&&t)if("object"===(void 0===t?"undefined":i(t)))if(e)j(h[0],t),j(h[1],e),j(h[2],r),j(h[3],o),j(h[4],a),j(h[5],s);else if($(u,t),D(f,t),"faces"in t){var p=t.faces;for(z(Array.isArray(p)&&6===p.length,"cube faces must be a length 6 array"),l=0;l<6;++l)z("object"===i(p[l])&&!!p[l],"invalid input for cube map face"),S(h[l],f),j(h[l],p[l])}else for(l=0;l<6;++l)j(h[l],t);else z.raise("invalid arguments to cube map");else{var g=0|t||1;for(l=0;l<6;++l)L(h[l],g,g)}for(S(f,h[0]),n.npotTextureCube||z(Bt(f.width)&&Bt(f.height),"your browser does not support non power or two texture dimensions"),u.genMipmaps?f.mipmask=(h[0].width<<1)-1:f.mipmask=h[0].mipmask,z.textureCube(f,u,h,n),f.internalformat=h[0].internalformat,d.width=h[0].width,d.height=h[0].height,Z(f),l=0;l<6;++l)H(h[l],$t+l);for(V(u,Ut),J(),c.profile&&(f.stats.size=mn(f.internalformat,f.type,d.width,d.height,u.genMipmaps,!0)),d.format=_[f.internalformat],d.type=x[f.type],d.mag=w[u.magFilter],d.min=k[u.minFilter],d.wrapS=C[u.wrapS],d.wrapT=C[u.wrapT],l=0;l<6;++l)q(h[l]);return d}return d(e,r,o,a,s,u),d.subimage=function(t,e,n,i,r){z(!!e,"must specify image data"),z("number"==typeof t&&t===(0|t)&&t>=0&&t<6,"invalid face");var o=0|n,a=0|i,s=0|r,l=N();return S(l,f),l.width=0,l.height=0,E(l,e),l.width=l.width||(f.width>>s)-o,l.height=l.height||(f.height>>s)-a,z(f.type===l.type&&f.format===l.format&&f.internalformat===l.internalformat,"incompatible format for texture.subimage"),z(o>=0&&a>=0&&o+l.width<=f.width&&a+l.height<=f.height,"texture.subimage write out of bounds"),z(f.mipmask&1<<s,"missing mipmap data"),z(l.data||l.element||l.needsCopy,"missing image data"),Z(f),I(l,$t+t,o,a,s),J(),O(l),d},d.resize=function(e){var n=0|e;if(n!==f.width){d.width=f.width=n,d.height=f.height=n,Z(f);for(var i=0;i<6;++i)for(var r=0;f.mipmask>>r;++r)t.texImage2D($t+i,r,f.format,n>>r,n>>r,0,f.format,f.type,null);return J(),c.profile&&(f.stats.size=mn(f.internalformat,f.type,d.width,d.height,!1,!0)),d}},d._reglType="textureCube",d._texture=f,c.profile&&(d.stats=f.stats),d.destroy=function(){f.decRef()},d},clear:function(){for(var e=0;e<X;++e)t.activeTexture(Ye+e),t.bindTexture(qt,null),K[e]=null;st(Y).forEach(tt),l.cubeCount=0,l.textureCount=0},getTexture:function(t){return null},restore:function(){st(Y).forEach(function(e){e.texture=t.createTexture(),t.bindTexture(e.target,e.texture);for(var n=0;n<32;++n)if(0!=(e.mipmask&1<<n))if(e.target===qt)t.texImage2D(qt,n,e.internalformat,e.width>>n,e.height>>n,0,e.internalformat,e.type,null);else for(var i=0;i<6;++i)t.texImage2D($t+i,n,e.internalformat,e.width>>n,e.height>>n,0,e.internalformat,e.type,null);V(e.texInfo,e.target)})}}}sn[Qt]=2,sn[Zt]=2,sn[Jt]=2,sn[oe]=4,sn[ce]=.5,sn[ue]=.5,sn[fe]=1,sn[he]=1,sn[de]=.5,sn[pe]=1,sn[ge]=1,sn[me]=.5,sn[ve]=.25,sn[be]=.5,sn[ye]=.25,sn[_e]=.5;var bn=36161,yn=32854,_n=[];function xn(t,e,n){return _n[t]*e*n}_n[yn]=2,_n[32855]=2,_n[36194]=2,_n[33189]=2,_n[36168]=1,_n[34041]=4,_n[35907]=4,_n[34836]=16,_n[34842]=8,_n[34843]=6;var wn=function(t,e,n,r,o){var a={rgba4:yn,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};e.ext_srgb&&(a.srgba=35907),e.ext_color_buffer_half_float&&(a.rgba16f=34842,a.rgb16f=34843),e.webgl_color_buffer_float&&(a.rgba32f=34836);var s=[];Object.keys(a).forEach(function(t){var e=a[t];s[e]=t});var l=0,c={};function u(t){this.id=l++,this.refCount=1,this.renderbuffer=t,this.format=yn,this.width=0,this.height=0,o.profile&&(this.stats={size:0})}function f(e){var n=e.renderbuffer;z(n,"must not double destroy renderbuffer"),t.bindRenderbuffer(bn,null),t.deleteRenderbuffer(n),e.renderbuffer=null,e.refCount=0,delete c[e.id],r.renderbufferCount--}return u.prototype.decRef=function(){--this.refCount<=0&&f(this)},o.profile&&(r.getTotalRenderbufferSize=function(){var t=0;return Object.keys(c).forEach(function(e){t+=c[e].stats.size}),t}),{create:function(e,l){var f=new u(t.createRenderbuffer());function h(e,r){var l=0,c=0,u=yn;if("object"===(void 0===e?"undefined":i(e))&&e){var d=e;if("shape"in d){var p=d.shape;z(Array.isArray(p)&&p.length>=2,"invalid renderbuffer shape"),l=0|p[0],c=0|p[1]}else"radius"in d&&(l=c=0|d.radius),"width"in d&&(l=0|d.width),"height"in d&&(c=0|d.height);"format"in d&&(z.parameter(d.format,a,"invalid renderbuffer format"),u=a[d.format])}else"number"==typeof e?(l=0|e,c="number"==typeof r?0|r:l):e?z.raise("invalid arguments to renderbuffer constructor"):l=c=1;if(z(l>0&&c>0&&l<=n.maxRenderbufferSize&&c<=n.maxRenderbufferSize,"invalid renderbuffer size"),l!==f.width||c!==f.height||u!==f.format)return h.width=f.width=l,h.height=f.height=c,f.format=u,t.bindRenderbuffer(bn,f.renderbuffer),t.renderbufferStorage(bn,u,l,c),z(0===t.getError(),"invalid render buffer format"),o.profile&&(f.stats.size=xn(f.format,f.width,f.height)),h.format=s[f.format],h}return c[f.id]=f,r.renderbufferCount++,h(e,l),h.resize=function(e,i){var r=0|e,a=0|i||r;return r===f.width&&a===f.height?h:(z(r>0&&a>0&&r<=n.maxRenderbufferSize&&a<=n.maxRenderbufferSize,"invalid renderbuffer size"),h.width=f.width=r,h.height=f.height=a,t.bindRenderbuffer(bn,f.renderbuffer),t.renderbufferStorage(bn,f.format,r,a),z(0===t.getError(),"invalid render buffer format"),o.profile&&(f.stats.size=xn(f.format,f.width,f.height)),h)},h._reglType="renderbuffer",h._renderbuffer=f,o.profile&&(h.stats=f.stats),h.destroy=function(){f.decRef()},h},clear:function(){st(c).forEach(f)},restore:function(){st(c).forEach(function(e){e.renderbuffer=t.createRenderbuffer(),t.bindRenderbuffer(bn,e.renderbuffer),t.renderbufferStorage(bn,e.format,e.width,e.height)}),t.bindRenderbuffer(bn,null)}}},kn=36160,Cn=36161,Fn=3553,An=34069,Sn=36064,Dn=36096,Mn=36128,Tn=33306,En=36053,Pn=6402,In=[6407,6408],Rn=[];Rn[6408]=4,Rn[6407]=3;var Nn=[];Nn[5121]=1,Nn[5126]=4,Nn[36193]=2;var zn=33189,On=36168,Ln=34041,jn=[32854,32855,36194,35907,34842,34843,34836],Hn={};Hn[En]="complete",Hn[36054]="incomplete attachment",Hn[36057]="incomplete dimensions",Hn[36055]="incomplete, missing attachment",Hn[36061]="unsupported";var Bn=5126;function Wn(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=Bn,this.offset=0,this.stride=0,this.divisor=0}var qn=35632,Un=35633,$n=35718,Vn=35721;function Gn(t,e,n,i){var r={},o={};function a(t,e,n,i){this.name=t,this.id=e,this.location=n,this.info=i}function s(t,e){for(var n=0;n<t.length;++n)if(t[n].id===e.id)return void(t[n].location=e.location);t.push(e)}function l(n,i,a){var s=n===qn?r:o,l=s[i];if(!l){var c=e.str(i);l=t.createShader(n),t.shaderSource(l,c),t.compileShader(l),z.shaderError(t,l,c,n,a),s[i]=l}return l}var c={},u=[],f=0;function h(n,r){var o,c,u=l(qn,n.fragId),f=l(Un,n.vertId),h=n.program=t.createProgram();t.attachShader(h,u),t.attachShader(h,f),t.linkProgram(h),z.linkError(t,h,e.str(n.fragId),e.str(n.vertId),r);var d=t.getProgramParameter(h,$n);i.profile&&(n.stats.uniformsCount=d);var p=n.uniforms;for(o=0;o<d;++o)if(c=t.getActiveUniform(h,o))if(c.size>1)for(var g=0;g<c.size;++g){var m=c.name.replace("[0]","["+g+"]");s(p,new a(m,e.id(m),t.getUniformLocation(h,m),c))}else s(p,new a(c.name,e.id(c.name),t.getUniformLocation(h,c.name),c));var v=t.getProgramParameter(h,Vn);i.profile&&(n.stats.attributesCount=v);var b=n.attributes;for(o=0;o<v;++o)(c=t.getActiveAttrib(h,o))&&s(b,new a(c.name,e.id(c.name),t.getAttribLocation(h,c.name),c))}return i.profile&&(n.getMaxUniformsCount=function(){var t=0;return u.forEach(function(e){e.stats.uniformsCount>t&&(t=e.stats.uniformsCount)}),t},n.getMaxAttributesCount=function(){var t=0;return u.forEach(function(e){e.stats.attributesCount>t&&(t=e.stats.attributesCount)}),t}),{clear:function(){var e=t.deleteShader.bind(t);st(r).forEach(e),r={},st(o).forEach(e),o={},u.forEach(function(e){t.deleteProgram(e.program)}),u.length=0,c={},n.shaderCount=0},program:function(t,e,r){z.command(t>=0,"missing vertex shader",r),z.command(e>=0,"missing fragment shader",r);var o=c[e];o||(o=c[e]={});var a=o[t];return a||(a=new function(t,e){this.id=f++,this.fragId=t,this.vertId=e,this.program=null,this.uniforms=[],this.attributes=[],i.profile&&(this.stats={uniformsCount:0,attributesCount:0})}(e,t),n.shaderCount++,h(a,r),o[t]=a,u.push(a)),a},restore:function(){r={},o={};for(var t=0;t<u.length;++t)h(u[t])},shader:l,frag:-1,vert:-1}}var Yn=6408,Xn=5121,Kn=3333,Qn=5126;function Zn(t,e,n,i,o,a,s){function l(l){var c;null===e.next?(z(o.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),c=Xn):(z(null!==e.next.colorAttachments[0].texture,"You cannot read from a renderbuffer"),c=e.next.colorAttachments[0].texture._texture.type,a.oes_texture_float?(z(c===Xn||c===Qn,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),c===Qn&&z(s.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):z(c===Xn,"Reading from a framebuffer is only allowed for the type 'uint8'"));var u=0,f=0,h=i.framebufferWidth,d=i.framebufferHeight,p=null;r(l)?p=l:l&&(z.type(l,"object","invalid arguments to regl.read()"),u=0|l.x,f=0|l.y,z(u>=0&&u<i.framebufferWidth,"invalid x offset for regl.read"),z(f>=0&&f<i.framebufferHeight,"invalid y offset for regl.read"),h=0|(l.width||i.framebufferWidth-u),d=0|(l.height||i.framebufferHeight-f),p=l.data||null),p&&(c===Xn?z(p instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):c===Qn&&z(p instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),z(h>0&&h+u<=i.framebufferWidth,"invalid width for read pixels"),z(d>0&&d+f<=i.framebufferHeight,"invalid height for read pixels"),n();var g=h*d*4;return p||(c===Xn?p=new Uint8Array(g):c===Qn&&(p=p||new Float32Array(g))),z.isTypedArray(p,"data buffer for regl.read() must be a typedarray"),z(p.byteLength>=g,"data buffer for regl.read() too small"),t.pixelStorei(Kn,4),t.readPixels(u,f,h,d,Yn,c,p),p}return function(t){return t&&"framebuffer"in t?function(t){var n;return e.setFBO({framebuffer:t.framebuffer},function(){n=l(t)}),n}(t):l(t)}}function Jn(t){return Array.prototype.slice.call(t)}function ti(t){return Jn(t).join("")}var ei="xyzw".split(""),ni=5121,ii=1,ri=2,oi=0,ai=1,si=2,li=3,ci=4,ui="dither",fi="blend.enable",hi="blend.color",di="blend.equation",pi="blend.func",gi="depth.enable",mi="depth.func",vi="depth.range",bi="depth.mask",yi="colorMask",_i="cull.enable",xi="cull.face",wi="frontFace",ki="lineWidth",Ci="polygonOffset.enable",Fi="polygonOffset.offset",Ai="sample.alpha",Si="sample.enable",Di="sample.coverage",Mi="stencil.enable",Ti="stencil.mask",Ei="stencil.func",Pi="stencil.opFront",Ii="stencil.opBack",Ri="scissor.enable",Ni="scissor.box",zi="viewport",Oi="profile",Li="framebuffer",ji="vert",Hi="frag",Bi="elements",Wi="primitive",qi="count",Ui="offset",$i="instances",Vi=Li+"Width",Gi=Li+"Height",Yi=zi+"Width",Xi=zi+"Height",Ki="drawingBufferWidth",Qi="drawingBufferHeight",Zi=[pi,di,Ei,Pi,Ii,Di,zi,Ni,Fi],Ji=34962,tr=34963,er=3553,nr=34067,ir=2884,rr=3042,or=3024,ar=2960,sr=2929,lr=3089,cr=32823,ur=32926,fr=32928,hr=5126,dr=35664,pr=35665,gr=35666,mr=5124,vr=35667,br=35668,yr=35669,_r=35670,xr=35671,wr=35672,kr=35673,Cr=35674,Fr=35675,Ar=35676,Sr=35678,Dr=35680,Mr=4,Tr=1028,Er=1029,Pr=2304,Ir=2305,Rr=32775,Nr=32776,zr=519,Or=7680,Lr=0,jr=1,Hr=32774,Br=513,Wr=36160,qr=36064,Ur={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},$r=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],Vr={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Gr={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},Yr={frag:35632,vert:35633},Xr={cw:Pr,ccw:Ir};function Kr(t){return Array.isArray(t)||r(t)||at(t)}function Qr(t){return t.sort(function(t,e){return t===zi?-1:e===zi?1:t<e?-1:1})}function Zr(t,e,n,i){this.thisDep=t,this.contextDep=e,this.propDep=n,this.append=i}function Jr(t){return t&&!(t.thisDep||t.contextDep||t.propDep)}function to(t){return new Zr(!1,!1,!1,t)}function eo(t,e){var n=t.type;if(n===oi){var i=t.data.length;return new Zr(!0,i>=1,i>=2,e)}if(n===ci){var r=t.data;return new Zr(r.thisDep,r.contextDep,r.propDep,e)}return new Zr(n===li,n===si,n===ai,e)}var no=new Zr(!1,!1,!1,function(){});function io(t,e,n,r,a,s,l,c,u,f,h,d,p,g,m){var v=f.Record,b={add:32774,subtract:32778,"reverse subtract":32779};n.ext_blend_minmax&&(b.min=Rr,b.max=Nr);var y=n.angle_instanced_arrays,_=n.webgl_draw_buffers,x={dirty:!0,profile:m.profile},w={},k=[],C={},F={};function A(t){return t.replace(".","_")}function S(t,e,n){var i=A(t);k.push(t),w[i]=x[i]=!!n,C[i]=e}function D(t,e,n){var i=A(t);k.push(t),Array.isArray(n)?(x[i]=n.slice(),w[i]=n.slice()):x[i]=w[i]=n,F[i]=e}S(ui,or),S(fi,rr),D(hi,"blendColor",[0,0,0,0]),D(di,"blendEquationSeparate",[Hr,Hr]),D(pi,"blendFuncSeparate",[jr,Lr,jr,Lr]),S(gi,sr,!0),D(mi,"depthFunc",Br),D(vi,"depthRange",[0,1]),D(bi,"depthMask",!0),D(yi,yi,[!0,!0,!0,!0]),S(_i,ir),D(xi,"cullFace",Er),D(wi,wi,Ir),D(ki,ki,1),S(Ci,cr),D(Fi,"polygonOffset",[0,0]),S(Ai,ur),S(Si,fr),D(Di,"sampleCoverage",[1,!1]),S(Mi,ar),D(Ti,"stencilMask",-1),D(Ei,"stencilFunc",[zr,0,-1]),D(Pi,"stencilOpSeparate",[Tr,Or,Or,Or]),D(Ii,"stencilOpSeparate",[Er,Or,Or,Or]),S(Ri,lr),D(Ni,"scissor",[0,0,t.drawingBufferWidth,t.drawingBufferHeight]),D(zi,zi,[0,0,t.drawingBufferWidth,t.drawingBufferHeight]);var M={gl:t,context:p,strings:e,next:w,current:x,draw:d,elements:s,buffer:a,shader:h,attributes:f.state,uniforms:u,framebuffer:c,extensions:n,timer:g,isBufferArgs:Kr},T={primTypes:kt,compareFuncs:Vr,blendFuncs:Ur,blendEquations:b,stencilOps:Gr,glTypes:ft,orientationType:Xr};z.optional(function(){M.isArrayLike=Ht}),_&&(T.backBuffer=[Er],T.drawBuffer=Y(r.maxDrawbuffers,function(t){return 0===t?[0]:Y(t,function(t){return qr+t})}));var E=0;function P(){var t=function(){var t=0,e=[],n=[];function i(){var e=[],n=[];return o(function(){e.push.apply(e,Jn(arguments))},{def:function(){var i="v"+t++;return n.push(i),arguments.length>0&&(e.push(i,"="),e.push.apply(e,Jn(arguments)),e.push(";")),i},toString:function(){return ti([n.length>0?"var "+n+";":"",ti(e)])}})}function r(){var t=i(),e=i(),n=t.toString,r=e.toString;function a(n,i){e(n,i,"=",t.def(n,i),";")}return o(function(){t.apply(t,Jn(arguments))},{def:t.def,entry:t,exit:e,save:a,set:function(e,n,i){a(e,n),t(e,n,"=",i,";")},toString:function(){return n()+r()}})}var a=i(),s={};return{global:a,link:function(i){for(var r=0;r<n.length;++r)if(n[r]===i)return e[r];var o="g"+t++;return e.push(o),n.push(i),o},block:i,proc:function(t,e){var n=[];function i(){var t="a"+n.length;return n.push(t),t}e=e||0;for(var a=0;a<e;++a)i();var l=r(),c=l.toString;return s[t]=o(l,{arg:i,toString:function(){return ti(["function(",n.join(),"){",c(),"}"])}})},scope:r,cond:function(){var t=ti(arguments),e=r(),n=r(),i=e.toString,a=n.toString;return o(e,{then:function(){return e.apply(e,Jn(arguments)),this},else:function(){return n.apply(n,Jn(arguments)),this},toString:function(){var e=a();return e&&(e="else{"+e+"}"),ti(["if(",t,"){",i(),"}",e])}})},compile:function(){var t=['"use strict";',a,"return {"];Object.keys(s).forEach(function(e){t.push('"',e,'":',s[e].toString(),",")}),t.push("}");var i=ti(t).replace(/;/g,";\n").replace(/}/g,"}\n").replace(/{/g,"{\n");return Function.apply(null,e.concat(i)).apply(null,n)}}}(),n=t.link,i=t.global;t.id=E++,t.batchId="0";var r=n(M),a=t.shared={props:"a0"};Object.keys(M).forEach(function(t){a[t]=i.def(r,".",t)}),z.optional(function(){t.CHECK=n(z),t.commandStr=z.guessCommand(),t.command=n(t.commandStr),t.assert=function(t,e,i){t("if(!(",e,"))",this.CHECK,".commandRaise(",n(i),",",this.command,");")},T.invalidBlendCombinations=$r});var s=t.next={},l=t.current={};Object.keys(F).forEach(function(t){Array.isArray(x[t])&&(s[t]=i.def(a.next,".",t),l[t]=i.def(a.current,".",t))});var c=t.constants={};Object.keys(T).forEach(function(t){c[t]=i.def(JSON.stringify(T[t]))}),t.invoke=function(e,i){switch(i.type){case oi:var r=["this",a.context,a.props,t.batchId];return e.def(n(i.data),".call(",r.slice(0,Math.max(i.data.length+1,4)),")");case ai:return e.def(a.props,i.data);case si:return e.def(a.context,i.data);case li:return e.def("this",i.data);case ci:return i.data.append(t,e),i.data.ref}},t.attribCache={};var u={};return t.scopeAttrib=function(t){var i=e.id(t);if(i in u)return u[i];var r=f.scope[i];return r||(r=f.scope[i]=new v),u[i]=n(r)},t}function I(t,n,o,l,u){var f=t.static,d=t.dynamic;z.optional(function(){var t=[Li,ji,Hi,Bi,Wi,Ui,qi,$i,Oi].concat(k);function e(e){Object.keys(e).forEach(function(e){z.command(t.indexOf(e)>=0,'unknown parameter "'+e+'"',u.commandStr)})}e(f),e(d)});var p=function(t,e){var n=t.static,i=t.dynamic;if(Li in n){var r=n[Li];return r?(r=c.getFramebuffer(r),z.command(r,"invalid framebuffer object"),to(function(t,e){var n=t.link(r),i=t.shared;e.set(i.framebuffer,".next",n);var o=i.context;return e.set(o,"."+Vi,n+".width"),e.set(o,"."+Gi,n+".height"),n})):to(function(t,e){var n=t.shared;e.set(n.framebuffer,".next","null");var i=n.context;return e.set(i,"."+Vi,i+"."+Ki),e.set(i,"."+Gi,i+"."+Qi),"null"})}if(Li in i){var o=i[Li];return eo(o,function(t,e){var n=t.invoke(e,o),i=t.shared,r=i.framebuffer,a=e.def(r,".getFramebuffer(",n,")");z.optional(function(){t.assert(e,"!"+n+"||"+a,"invalid framebuffer object")}),e.set(r,".next",a);var s=i.context;return e.set(s,"."+Vi,a+"?"+a+".width:"+s+"."+Ki),e.set(s,"."+Gi,a+"?"+a+".height:"+s+"."+Qi),a})}return null}(t),g=function(t,e,n){var i=t.static,r=t.dynamic;function o(t){if(t in i){var o=i[t];z.commandType(o,"object","invalid "+t,n.commandStr);var a,s,l=!0,c=0|o.x,u=0|o.y;return"width"in o?(a=0|o.width,z.command(a>=0,"invalid "+t,n.commandStr)):l=!1,"height"in o?(s=0|o.height,z.command(s>=0,"invalid "+t,n.commandStr)):l=!1,new Zr(!l&&e&&e.thisDep,!l&&e&&e.contextDep,!l&&e&&e.propDep,function(t,e){var n=t.shared.context,i=a;"width"in o||(i=e.def(n,".",Vi,"-",c));var r=s;return"height"in o||(r=e.def(n,".",Gi,"-",u)),[c,u,i,r]})}if(t in r){var f=r[t],h=eo(f,function(e,n){var i=e.invoke(n,f);z.optional(function(){e.assert(n,i+"&&typeof "+i+'==="object"',"invalid "+t)});var r=e.shared.context,o=n.def(i,".x|0"),a=n.def(i,".y|0"),s=n.def('"width" in ',i,"?",i,".width|0:","(",r,".",Vi,"-",o,")"),l=n.def('"height" in ',i,"?",i,".height|0:","(",r,".",Gi,"-",a,")");return z.optional(function(){e.assert(n,s+">=0&&"+l+">=0","invalid "+t)}),[o,a,s,l]});return e&&(h.thisDep=h.thisDep||e.thisDep,h.contextDep=h.contextDep||e.contextDep,h.propDep=h.propDep||e.propDep),h}return e?new Zr(e.thisDep,e.contextDep,e.propDep,function(t,e){var n=t.shared.context;return[0,0,e.def(n,".",Vi),e.def(n,".",Gi)]}):null}var a=o(zi);if(a){var s=a;a=new Zr(a.thisDep,a.contextDep,a.propDep,function(t,e){var n=s.append(t,e),i=t.shared.context;return e.set(i,"."+Yi,n[2]),e.set(i,"."+Xi,n[3]),n})}return{viewport:a,scissor_box:o(Ni)}}(t,p,u),m=function(t,e){var n=t.static,i=t.dynamic,r=function(){if(Bi in n){var t=n[Bi];Kr(t)?t=s.getElements(s.create(t,!0)):t&&(t=s.getElements(t),z.command(t,"invalid elements",e.commandStr));var r=to(function(e,n){if(t){var i=e.link(t);return e.ELEMENTS=i,i}return e.ELEMENTS=null,null});return r.value=t,r}if(Bi in i){var o=i[Bi];return eo(o,function(t,e){var n=t.shared,i=n.isBufferArgs,r=n.elements,a=t.invoke(e,o),s=e.def("null"),l=e.def(i,"(",a,")"),c=t.cond(l).then(s,"=",r,".createStream(",a,");").else(s,"=",r,".getElements(",a,");");return z.optional(function(){t.assert(c.else,"!"+a+"||"+s,"invalid elements")}),e.entry(c),e.exit(t.cond(l).then(r,".destroyStream(",s,");")),t.ELEMENTS=s,s})}return null}();function o(t,o){if(t in n){var a=0|n[t];return z.command(!o||a>=0,"invalid "+t,e.commandStr),to(function(t,e){return o&&(t.OFFSET=a),a})}if(t in i){var s=i[t];return eo(s,function(e,n){var i=e.invoke(n,s);return o&&(e.OFFSET=i,z.optional(function(){e.assert(n,i+">=0","invalid "+t)})),i})}return o&&r?to(function(t,e){return t.OFFSET="0",0}):null}var a=o(Ui,!0);return{elements:r,primitive:function(){if(Wi in n){var t=n[Wi];return z.commandParameter(t,kt,"invalid primitve",e.commandStr),to(function(e,n){return kt[t]})}if(Wi in i){var o=i[Wi];return eo(o,function(t,e){var n=t.constants.primTypes,i=t.invoke(e,o);return z.optional(function(){t.assert(e,i+" in "+n,"invalid primitive, must be one of "+Object.keys(kt))}),e.def(n,"[",i,"]")})}return r?Jr(r)?r.value?to(function(t,e){return e.def(t.ELEMENTS,".primType")}):to(function(){return Mr}):new Zr(r.thisDep,r.contextDep,r.propDep,function(t,e){var n=t.ELEMENTS;return e.def(n,"?",n,".primType:",Mr)}):null}(),count:function(){if(qi in n){var t=0|n[qi];return z.command("number"==typeof t&&t>=0,"invalid vertex count",e.commandStr),to(function(){return t})}if(qi in i){var o=i[qi];return eo(o,function(t,e){var n=t.invoke(e,o);return z.optional(function(){t.assert(e,"typeof "+n+'==="number"&&'+n+">=0&&"+n+"===("+n+"|0)","invalid vertex count")}),n})}if(r){if(Jr(r)){if(r)return a?new Zr(a.thisDep,a.contextDep,a.propDep,function(t,e){var n=e.def(t.ELEMENTS,".vertCount-",t.OFFSET);return z.optional(function(){t.assert(e,n+">=0","invalid vertex offset/element buffer too small")}),n}):to(function(t,e){return e.def(t.ELEMENTS,".vertCount")});var s=to(function(){return-1});return z.optional(function(){s.MISSING=!0}),s}var l=new Zr(r.thisDep||a.thisDep,r.contextDep||a.contextDep,r.propDep||a.propDep,function(t,e){var n=t.ELEMENTS;return t.OFFSET?e.def(n,"?",n,".vertCount-",t.OFFSET,":-1"):e.def(n,"?",n,".vertCount:-1")});return z.optional(function(){l.DYNAMIC=!0}),l}return null}(),instances:o($i,!1),offset:a}}(t,u),_=function(t,e){var n=t.static,o=t.dynamic,a={};return k.forEach(function(t){var s=A(t);function l(e,i){if(t in n){var r=e(n[t]);a[s]=to(function(){return r})}else if(t in o){var l=o[t];a[s]=eo(l,function(t,e){return i(t,e,t.invoke(e,l))})}}switch(t){case _i:case fi:case ui:case Mi:case gi:case Ri:case Ci:case Ai:case Si:case bi:return l(function(n){return z.commandType(n,"boolean",t,e.commandStr),n},function(e,n,i){return z.optional(function(){e.assert(n,"typeof "+i+'==="boolean"',"invalid flag "+t,e.commandStr)}),i});case mi:return l(function(n){return z.commandParameter(n,Vr,"invalid "+t,e.commandStr),Vr[n]},function(e,n,i){var r=e.constants.compareFuncs;return z.optional(function(){e.assert(n,i+" in "+r,"invalid "+t+", must be one of "+Object.keys(Vr))}),n.def(r,"[",i,"]")});case vi:return l(function(t){return z.command(Ht(t)&&2===t.length&&"number"==typeof t[0]&&"number"==typeof t[1]&&t[0]<=t[1],"depth range is 2d array",e.commandStr),t},function(t,e,n){return z.optional(function(){t.assert(e,t.shared.isArrayLike+"("+n+")&&"+n+".length===2&&typeof "+n+'[0]==="number"&&typeof '+n+'[1]==="number"&&'+n+"[0]<="+n+"[1]","depth range must be a 2d array")}),[e.def("+",n,"[0]"),e.def("+",n,"[1]")]});case pi:return l(function(t){z.commandType(t,"object","blend.func",e.commandStr);var n="srcRGB"in t?t.srcRGB:t.src,i="srcAlpha"in t?t.srcAlpha:t.src,r="dstRGB"in t?t.dstRGB:t.dst,o="dstAlpha"in t?t.dstAlpha:t.dst;return z.commandParameter(n,Ur,s+".srcRGB",e.commandStr),z.commandParameter(i,Ur,s+".srcAlpha",e.commandStr),z.commandParameter(r,Ur,s+".dstRGB",e.commandStr),z.commandParameter(o,Ur,s+".dstAlpha",e.commandStr),z.command(-1===$r.indexOf(n+", "+r),"unallowed blending combination (srcRGB, dstRGB) = ("+n+", "+r+")",e.commandStr),[Ur[n],Ur[r],Ur[i],Ur[o]]},function(e,n,i){var r=e.constants.blendFuncs;function o(o,a){var s=n.def('"',o,a,'" in ',i,"?",i,".",o,a,":",i,".",o);return z.optional(function(){e.assert(n,s+" in "+r,"invalid "+t+"."+o+a+", must be one of "+Object.keys(Ur))}),s}z.optional(function(){e.assert(n,i+"&&typeof "+i+'==="object"',"invalid blend func, must be an object")});var a=o("src","RGB"),s=o("dst","RGB");z.optional(function(){var t=e.constants.invalidBlendCombinations;e.assert(n,t+".indexOf("+a+'+", "+'+s+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")});var l=n.def(r,"[",a,"]"),c=n.def(r,"[",o("src","Alpha"),"]");return[l,n.def(r,"[",s,"]"),c,n.def(r,"[",o("dst","Alpha"),"]")]});case di:return l(function(n){return"string"==typeof n?(z.commandParameter(n,b,"invalid "+t,e.commandStr),[b[n],b[n]]):"object"===(void 0===n?"undefined":i(n))?(z.commandParameter(n.rgb,b,t+".rgb",e.commandStr),z.commandParameter(n.alpha,b,t+".alpha",e.commandStr),[b[n.rgb],b[n.alpha]]):void z.commandRaise("invalid blend.equation",e.commandStr)},function(e,n,i){var r=e.constants.blendEquations,o=n.def(),a=n.def(),s=e.cond("typeof ",i,'==="string"');return z.optional(function(){function n(t,n,i){e.assert(t,i+" in "+r,"invalid "+n+", must be one of "+Object.keys(b))}n(s.then,t,i),e.assert(s.else,i+"&&typeof "+i+'==="object"',"invalid "+t),n(s.else,t+".rgb",i+".rgb"),n(s.else,t+".alpha",i+".alpha")}),s.then(o,"=",a,"=",r,"[",i,"];"),s.else(o,"=",r,"[",i,".rgb];",a,"=",r,"[",i,".alpha];"),n(s),[o,a]});case hi:return l(function(t){return z.command(Ht(t)&&4===t.length,"blend.color must be a 4d array",e.commandStr),Y(4,function(e){return+t[e]})},function(t,e,n){return z.optional(function(){t.assert(e,t.shared.isArrayLike+"("+n+")&&"+n+".length===4","blend.color must be a 4d array")}),Y(4,function(t){return e.def("+",n,"[",t,"]")})});case Ti:return l(function(t){return z.commandType(t,"number",s,e.commandStr),0|t},function(t,e,n){return z.optional(function(){t.assert(e,"typeof "+n+'==="number"',"invalid stencil.mask")}),e.def(n,"|0")});case Ei:return l(function(n){z.commandType(n,"object",s,e.commandStr);var i=n.cmp||"keep",r=n.ref||0,o="mask"in n?n.mask:-1;return z.commandParameter(i,Vr,t+".cmp",e.commandStr),z.commandType(r,"number",t+".ref",e.commandStr),z.commandType(o,"number",t+".mask",e.commandStr),[Vr[i],r,o]},function(t,e,n){var i=t.constants.compareFuncs;return z.optional(function(){function r(){t.assert(e,Array.prototype.join.call(arguments,""),"invalid stencil.func")}r(n+"&&typeof ",n,'==="object"'),r('!("cmp" in ',n,")||(",n,".cmp in ",i,")")}),[e.def('"cmp" in ',n,"?",i,"[",n,".cmp]",":",Or),e.def(n,".ref|0"),e.def('"mask" in ',n,"?",n,".mask|0:-1")]});case Pi:case Ii:return l(function(n){z.commandType(n,"object",s,e.commandStr);var i=n.fail||"keep",r=n.zfail||"keep",o=n.zpass||"keep";return z.commandParameter(i,Gr,t+".fail",e.commandStr),z.commandParameter(r,Gr,t+".zfail",e.commandStr),z.commandParameter(o,Gr,t+".zpass",e.commandStr),[t===Ii?Er:Tr,Gr[i],Gr[r],Gr[o]]},function(e,n,i){var r=e.constants.stencilOps;function o(o){return z.optional(function(){e.assert(n,'!("'+o+'" in '+i+")||("+i+"."+o+" in "+r+")","invalid "+t+"."+o+", must be one of "+Object.keys(Gr))}),n.def('"',o,'" in ',i,"?",r,"[",i,".",o,"]:",Or)}return z.optional(function(){e.assert(n,i+"&&typeof "+i+'==="object"',"invalid "+t)}),[t===Ii?Er:Tr,o("fail"),o("zfail"),o("zpass")]});case Fi:return l(function(t){z.commandType(t,"object",s,e.commandStr);var n=0|t.factor,i=0|t.units;return z.commandType(n,"number",s+".factor",e.commandStr),z.commandType(i,"number",s+".units",e.commandStr),[n,i]},function(e,n,i){return z.optional(function(){e.assert(n,i+"&&typeof "+i+'==="object"',"invalid "+t)}),[n.def(i,".factor|0"),n.def(i,".units|0")]});case xi:return l(function(t){var n=0;return"front"===t?n=Tr:"back"===t&&(n=Er),z.command(!!n,s,e.commandStr),n},function(t,e,n){return z.optional(function(){t.assert(e,n+'==="front"||'+n+'==="back"',"invalid cull.face")}),e.def(n,'==="front"?',Tr,":",Er)});case ki:return l(function(t){return z.command("number"==typeof t&&t>=r.lineWidthDims[0]&&t<=r.lineWidthDims[1],"invalid line width, must be a positive number between "+r.lineWidthDims[0]+" and "+r.lineWidthDims[1],e.commandStr),t},function(t,e,n){return z.optional(function(){t.assert(e,"typeof "+n+'==="number"&&'+n+">="+r.lineWidthDims[0]+"&&"+n+"<="+r.lineWidthDims[1],"invalid line width")}),n});case wi:return l(function(t){return z.commandParameter(t,Xr,s,e.commandStr),Xr[t]},function(t,e,n){return z.optional(function(){t.assert(e,n+'==="cw"||'+n+'==="ccw"',"invalid frontFace, must be one of cw,ccw")}),e.def(n+'==="cw"?'+Pr+":"+Ir)});case yi:return l(function(t){return z.command(Ht(t)&&4===t.length,"color.mask must be length 4 array",e.commandStr),t.map(function(t){return!!t})},function(t,e,n){return z.optional(function(){t.assert(e,t.shared.isArrayLike+"("+n+")&&"+n+".length===4","invalid color.mask")}),Y(4,function(t){return"!!"+n+"["+t+"]"})});case Di:return l(function(t){z.command("object"===(void 0===t?"undefined":i(t))&&t,s,e.commandStr);var n="value"in t?t.value:1,r=!!t.invert;return z.command("number"==typeof n&&n>=0&&n<=1,"sample.coverage.value must be a number between 0 and 1",e.commandStr),[n,r]},function(t,e,n){return z.optional(function(){t.assert(e,n+"&&typeof "+n+'==="object"',"invalid sample.coverage")}),[e.def('"value" in ',n,"?+",n,".value:1"),e.def("!!",n,".invert")]})}}),a}(t,u),x=function(t){var n=t.static,i=t.dynamic;function r(t){if(t in n){var r=e.id(n[t]);z.optional(function(){h.shader(Yr[t],r,z.guessCommand())});var o=to(function(){return r});return o.id=r,o}if(t in i){var a=i[t];return eo(a,function(e,n){var i=e.invoke(n,a),r=n.def(e.shared.strings,".id(",i,")");return z.optional(function(){n(e.shared.shader,".shader(",Yr[t],",",r,",",e.command,");")}),r})}return null}var o,a=r(Hi),s=r(ji),l=null;return Jr(a)&&Jr(s)?(l=h.program(s.id,a.id),o=to(function(t,e){return t.link(l)})):o=new Zr(a&&a.thisDep||s&&s.thisDep,a&&a.contextDep||s&&s.contextDep,a&&a.propDep||s&&s.propDep,function(t,e){var n,i=t.shared.shader;n=a?a.append(t,e):e.def(i,".",Hi);var r=i+".program("+(s?s.append(t,e):e.def(i,".",ji))+","+n;return z.optional(function(){r+=","+t.command}),e.def(r+")")}),{frag:a,vert:s,progVar:o,program:l}}(t);function w(t){var e=g[t];e&&(_[t]=e)}w(zi),w(A(Ni));var C=Object.keys(_).length>0,F={framebuffer:p,draw:m,shader:x,state:_,dirty:C};return F.profile=function(t){var e,n=t.static,i=t.dynamic;if(Oi in n){var r=!!n[Oi];(e=to(function(t,e){return r})).enable=r}else if(Oi in i){var o=i[Oi];e=eo(o,function(t,e){return t.invoke(e,o)})}return e}(t),F.uniforms=function(t,e){var n=t.static,i=t.dynamic,r={};return Object.keys(n).forEach(function(t){var i,o=n[t];if("number"==typeof o||"boolean"==typeof o)i=to(function(){return o});else if("function"==typeof o){var a=o._reglType;"texture2d"===a||"textureCube"===a?i=to(function(t){return t.link(o)}):"framebuffer"===a||"framebufferCube"===a?(z.command(o.color.length>0,'missing color attachment for framebuffer sent to uniform "'+t+'"',e.commandStr),i=to(function(t){return t.link(o.color[0])})):z.commandRaise('invalid data for uniform "'+t+'"',e.commandStr)}else Ht(o)?i=to(function(e){return e.global.def("[",Y(o.length,function(n){return z.command("number"==typeof o[n]||"boolean"==typeof o[n],"invalid uniform "+t,e.commandStr),o[n]}),"]")}):z.commandRaise('invalid or missing data for uniform "'+t+'"',e.commandStr);i.value=o,r[t]=i}),Object.keys(i).forEach(function(t){var e=i[t];r[t]=eo(e,function(t,n){return t.invoke(n,e)})}),r}(o,u),F.attributes=function(t,n){var r=t.static,o=t.dynamic,s={};return Object.keys(r).forEach(function(t){var o=r[t],l=e.id(t),c=new v;if(Kr(o))c.state=ii,c.buffer=a.getBuffer(a.create(o,Ji,!1,!0)),c.type=0;else{var u=a.getBuffer(o);if(u)c.state=ii,c.buffer=u,c.type=0;else if(z.command("object"===(void 0===o?"undefined":i(o))&&o,"invalid data for attribute "+t,n.commandStr),"constant"in o){var f=o.constant;c.buffer="null",c.state=ri,"number"==typeof f?c.x=f:(z.command(Ht(f)&&f.length>0&&f.length<=4,"invalid constant for attribute "+t,n.commandStr),ei.forEach(function(t,e){e<f.length&&(c[t]=f[e])}))}else{u=Kr(o.buffer)?a.getBuffer(a.create(o.buffer,Ji,!1,!0)):a.getBuffer(o.buffer),z.command(!!u,'missing buffer for attribute "'+t+'"',n.commandStr);var h=0|o.offset;z.command(h>=0,'invalid offset for attribute "'+t+'"',n.commandStr);var d=0|o.stride;z.command(d>=0&&d<256,'invalid stride for attribute "'+t+'", must be integer betweeen [0, 255]',n.commandStr);var p=0|o.size;z.command(!("size"in o)||p>0&&p<=4,'invalid size for attribute "'+t+'", must be 1,2,3,4',n.commandStr);var g=!!o.normalized,m=0;"type"in o&&(z.commandParameter(o.type,ft,"invalid type for attribute "+t,n.commandStr),m=ft[o.type]);var b=0|o.divisor;"divisor"in o&&(z.command(0===b||y,'cannot specify divisor for attribute "'+t+'", instancing not supported',n.commandStr),z.command(b>=0,'invalid divisor for attribute "'+t+'"',n.commandStr)),z.optional(function(){var e=n.commandStr,i=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(o).forEach(function(n){z.command(i.indexOf(n)>=0,'unknown parameter "'+n+'" for attribute pointer "'+t+'" (valid parameters are '+i+")",e)})}),c.buffer=u,c.state=ii,c.size=p,c.normalized=g,c.type=m||u.dtype,c.offset=h,c.stride=d,c.divisor=b}}s[t]=to(function(t,e){var n=t.attribCache;if(l in n)return n[l];var i={isStream:!1};return Object.keys(c).forEach(function(t){i[t]=c[t]}),c.buffer&&(i.buffer=t.link(c.buffer),i.type=i.type||i.buffer+".dtype"),n[l]=i,i})}),Object.keys(o).forEach(function(t){var e=o[t];s[t]=eo(e,function(n,i){var r=n.invoke(i,e),o=n.shared,a=o.isBufferArgs,s=o.buffer;z.optional(function(){n.assert(i,r+"&&(typeof "+r+'==="object"||typeof '+r+'==="function")&&('+a+"("+r+")||"+s+".getBuffer("+r+")||"+s+".getBuffer("+r+".buffer)||"+a+"("+r+'.buffer)||("constant" in '+r+"&&(typeof "+r+'.constant==="number"||'+o.isArrayLike+"("+r+".constant))))",'invalid dynamic attribute "'+t+'"')});var l={isStream:i.def(!1)},c=new v;c.state=ii,Object.keys(c).forEach(function(t){l[t]=i.def(""+c[t])});var u=l.buffer,f=l.type;function h(t){i(l[t],"=",r,".",t,"|0;")}return i("if(",a,"(",r,")){",l.isStream,"=true;",u,"=",s,".createStream(",Ji,",",r,");",f,"=",u,".dtype;","}else{",u,"=",s,".getBuffer(",r,");","if(",u,"){",f,"=",u,".dtype;",'}else if("constant" in ',r,"){",l.state,"=",ri,";","if(typeof "+r+'.constant === "number"){',l[ei[0]],"=",r,".constant;",ei.slice(1).map(function(t){return l[t]}).join("="),"=0;","}else{",ei.map(function(t,e){return l[t]+"="+r+".constant.length>"+e+"?"+r+".constant["+e+"]:0;"}).join(""),"}}else{","if(",a,"(",r,".buffer)){",u,"=",s,".createStream(",Ji,",",r,".buffer);","}else{",u,"=",s,".getBuffer(",r,".buffer);","}",f,'="type" in ',r,"?",o.glTypes,"[",r,".type]:",u,".dtype;",l.normalized,"=!!",r,".normalized;"),h("size"),h("offset"),h("stride"),h("divisor"),i("}}"),i.exit("if(",l.isStream,"){",s,".destroyStream(",u,");","}"),l})}),s}(n,u),F.context=function(t){var e=t.static,n=t.dynamic,i={};return Object.keys(e).forEach(function(t){var n=e[t];i[t]=to(function(t,e){return"number"==typeof n||"boolean"==typeof n?""+n:t.link(n)})}),Object.keys(n).forEach(function(t){var e=n[t];i[t]=eo(e,function(t,n){return t.invoke(n,e)})}),i}(l),F}function R(t,e,n){var i=t.shared.context,r=t.scope();Object.keys(n).forEach(function(o){e.save(i,"."+o);var a=n[o];r(i,".",o,"=",a.append(t,e),";")}),e(r)}function N(t,e,n,i){var r,o=t.shared,a=o.gl,s=o.framebuffer;_&&(r=e.def(o.extensions,".webgl_draw_buffers"));var l,c=t.constants,u=c.drawBuffer,f=c.backBuffer;l=n?n.append(t,e):e.def(s,".next"),i||e("if(",l,"!==",s,".cur){"),e("if(",l,"){",a,".bindFramebuffer(",Wr,",",l,".framebuffer);"),_&&e(r,".drawBuffersWEBGL(",u,"[",l,".colorAttachments.length]);"),e("}else{",a,".bindFramebuffer(",Wr,",null);"),_&&e(r,".drawBuffersWEBGL(",f,");"),e("}",s,".cur=",l,";"),i||e("}")}function O(t,e,n){var i=t.shared,r=i.gl,o=t.current,a=t.next,s=i.current,l=i.next,c=t.cond(s,".dirty");k.forEach(function(e){var i,u,f=A(e);if(!(f in n.state))if(f in a){i=a[f],u=o[f];var h=Y(x[f].length,function(t){return c.def(i,"[",t,"]")});c(t.cond(h.map(function(t,e){return t+"!=="+u+"["+e+"]"}).join("||")).then(r,".",F[f],"(",h,");",h.map(function(t,e){return u+"["+e+"]="+t}).join(";"),";"))}else{i=c.def(l,".",f);var d=t.cond(i,"!==",s,".",f);c(d),f in C?d(t.cond(i).then(r,".enable(",C[f],");").else(r,".disable(",C[f],");"),s,".",f,"=",i,";"):d(r,".",F[f],"(",i,");",s,".",f,"=",i,";")}}),0===Object.keys(n.state).length&&c(s,".dirty=false;"),e(c)}function L(t,e,n,i){var r=t.shared,o=t.current,a=r.current,s=r.gl;Qr(Object.keys(n)).forEach(function(r){var l=n[r];if(!i||i(l)){var c=l.append(t,e);if(C[r]){var u=C[r];Jr(l)?e(s,c?".enable(":".disable(",u,");"):e(t.cond(c).then(s,".enable(",u,");").else(s,".disable(",u,");")),e(a,".",r,"=",c,";")}else if(Ht(c)){var f=o[r];e(s,".",F[r],"(",c,");",c.map(function(t,e){return f+"["+e+"]="+t}).join(";"),";")}else e(s,".",F[r],"(",c,");",a,".",r,"=",c,";")}})}function j(t,e){y&&(t.instancing=e.def(t.shared.extensions,".angle_instanced_arrays"))}function H(t,e,n,i,r){var o,a,s,l=t.shared,c=t.stats,u=l.current,f=l.timer,h=n.profile;function d(){return"undefined"==typeof performance?"Date.now()":"performance.now()"}function p(t){t(o=e.def(),"=",d(),";"),"string"==typeof r?t(c,".count+=",r,";"):t(c,".count++;"),g&&(i?t(a=e.def(),"=",f,".getNumPendingQueries();"):t(f,".beginQuery(",c,");"))}function m(t){t(c,".cpuTime+=",d(),"-",o,";"),g&&(i?t(f,".pushScopeStats(",a,",",f,".getNumPendingQueries(),",c,");"):t(f,".endQuery();"))}function v(t){var n=e.def(u,".profile");e(u,".profile=",t,";"),e.exit(u,".profile=",n,";")}if(h){if(Jr(h))return void(h.enable?(p(e),m(e.exit),v("true")):v("false"));v(s=h.append(t,e))}else s=e.def(u,".profile");var b=t.block();p(b),e("if(",s,"){",b,"}");var y=t.block();m(y),e.exit("if(",s,"){",y,"}")}function B(t,e,n,i,r){var o=t.shared;i.forEach(function(i){var a,s=i.name,l=n.attributes[s];if(l){if(!r(l))return;a=l.append(t,e)}else{if(!r(no))return;var c=t.scopeAttrib(s);z.optional(function(){t.assert(e,c+".state","missing attribute "+s)}),a={},Object.keys(new v).forEach(function(t){a[t]=e.def(c,".",t)})}!function(n,i,r){var a=o.gl,s=e.def(n,".location"),l=e.def(o.attributes,"[",s,"]"),c=r.state,u=r.buffer,f=[r.x,r.y,r.z,r.w],h=["buffer","normalized","offset","stride"];function d(){e("if(!",l,".buffer){",a,".enableVertexAttribArray(",s,");}");var n,o=r.type;if(n=r.size?e.def(r.size,"||",i):i,e("if(",l,".type!==",o,"||",l,".size!==",n,"||",h.map(function(t){return l+"."+t+"!=="+r[t]}).join("||"),"){",a,".bindBuffer(",Ji,",",u,".buffer);",a,".vertexAttribPointer(",[s,n,o,r.normalized,r.stride,r.offset],");",l,".type=",o,";",l,".size=",n,";",h.map(function(t){return l+"."+t+"="+r[t]+";"}).join(""),"}"),y){var c=r.divisor;e("if(",l,".divisor!==",c,"){",t.instancing,".vertexAttribDivisorANGLE(",[s,c],");",l,".divisor=",c,";}")}}function p(){e("if(",l,".buffer){",a,".disableVertexAttribArray(",s,");","}if(",ei.map(function(t,e){return l+"."+t+"!=="+f[e]}).join("||"),"){",a,".vertexAttrib4f(",s,",",f,");",ei.map(function(t,e){return l+"."+t+"="+f[e]+";"}).join(""),"}")}c===ii?d():c===ri?p():(e("if(",c,"===",ii,"){"),d(),e("}else{"),p(),e("}"))}(t.link(i),function(t){switch(t){case dr:case vr:case xr:return 2;case pr:case br:case wr:return 3;case gr:case yr:case kr:return 4;default:return 1}}(i.info.type),a)})}function q(t,n,i,r,o){for(var a,s=t.shared,l=s.gl,c=0;c<r.length;++c){var u,f=r[c],h=f.name,d=f.info.type,p=i.uniforms[h],g=t.link(f)+".location";if(p){if(!o(p))continue;if(Jr(p)){var m=p.value;if(z.command(null!==m&&void 0!==m,'missing uniform "'+h+'"',t.commandStr),d===Sr||d===Dr){z.command("function"==typeof m&&(d===Sr&&("texture2d"===m._reglType||"framebuffer"===m._reglType)||d===Dr&&("textureCube"===m._reglType||"framebufferCube"===m._reglType)),"invalid texture for uniform "+h,t.commandStr);var v=t.link(m._texture||m.color[0]._texture);n(l,".uniform1i(",g,",",v+".bind());"),n.exit(v,".unbind();")}else if(d===Cr||d===Fr||d===Ar){z.optional(function(){z.command(Ht(m),"invalid matrix for uniform "+h,t.commandStr),z.command(d===Cr&&4===m.length||d===Fr&&9===m.length||d===Ar&&16===m.length,"invalid length for matrix uniform "+h,t.commandStr)});var b=t.global.def("new Float32Array(["+Array.prototype.slice.call(m)+"])"),y=2;d===Fr?y=3:d===Ar&&(y=4),n(l,".uniformMatrix",y,"fv(",g,",false,",b,");")}else{switch(d){case hr:z.commandType(m,"number","uniform "+h,t.commandStr),a="1f";break;case dr:z.command(Ht(m)&&2===m.length,"uniform "+h,t.commandStr),a="2f";break;case pr:z.command(Ht(m)&&3===m.length,"uniform "+h,t.commandStr),a="3f";break;case gr:z.command(Ht(m)&&4===m.length,"uniform "+h,t.commandStr),a="4f";break;case _r:z.commandType(m,"boolean","uniform "+h,t.commandStr),a="1i";break;case mr:z.commandType(m,"number","uniform "+h,t.commandStr),a="1i";break;case xr:case vr:z.command(Ht(m)&&2===m.length,"uniform "+h,t.commandStr),a="2i";break;case wr:case br:z.command(Ht(m)&&3===m.length,"uniform "+h,t.commandStr),a="3i";break;case kr:case yr:z.command(Ht(m)&&4===m.length,"uniform "+h,t.commandStr),a="4i"}n(l,".uniform",a,"(",g,",",Ht(m)?Array.prototype.slice.call(m):m,");")}continue}u=p.append(t,n)}else{if(!o(no))continue;u=n.def(s.uniforms,"[",e.id(h),"]")}d===Sr?n("if(",u,"&&",u,'._reglType==="framebuffer"){',u,"=",u,".color[0];","}"):d===Dr&&n("if(",u,"&&",u,'._reglType==="framebufferCube"){',u,"=",u,".color[0];","}"),z.optional(function(){function e(e,i){t.assert(n,e,'bad data or missing for uniform "'+h+'".  '+i)}function i(t){e("typeof "+u+'==="'+t+'"',"invalid type, expected "+t)}function r(n,i){e(s.isArrayLike+"("+u+")&&"+u+".length==="+n,"invalid vector, should have length "+n,t.commandStr)}function o(n){e("typeof "+u+'==="function"&&'+u+'._reglType==="texture'+(n===er?"2d":"Cube")+'"',"invalid texture type",t.commandStr)}switch(d){case mr:i("number");break;case vr:r(2);break;case br:r(3);break;case yr:r(4);break;case hr:i("number");break;case dr:r(2);break;case pr:r(3);break;case gr:r(4);break;case _r:i("boolean");break;case xr:r(2);break;case wr:r(3);break;case kr:case Cr:r(4);break;case Fr:r(9);break;case Ar:r(16);break;case Sr:o(er);break;case Dr:o(nr)}});var _=1;switch(d){case Sr:case Dr:var x=n.def(u,"._texture");n(l,".uniform1i(",g,",",x,".bind());"),n.exit(x,".unbind();");continue;case mr:case _r:a="1i";break;case vr:case xr:a="2i",_=2;break;case br:case wr:a="3i",_=3;break;case yr:case kr:a="4i",_=4;break;case hr:a="1f";break;case dr:a="2f",_=2;break;case pr:a="3f",_=3;break;case gr:a="4f",_=4;break;case Cr:a="Matrix2fv";break;case Fr:a="Matrix3fv";break;case Ar:a="Matrix4fv"}if(n(l,".uniform",a,"(",g,","),"M"===a.charAt(0)){var w=Math.pow(d-Cr+2,2),k=t.global.def("new Float32Array(",w,")");n("false,(Array.isArray(",u,")||",u," instanceof Float32Array)?",u,":(",Y(w,function(t){return k+"["+t+"]="+u+"["+t+"]"}),",",k,")")}else n(_>1?Y(_,function(t){return u+"["+t+"]"}):u);n(");")}}function U(t,e,n,i){var r=t.shared,o=r.gl,a=r.draw,s=i.draw;var l=function(){var r,l=s.elements,c=e;return l?((l.contextDep&&i.contextDynamic||l.propDep)&&(c=n),r=l.append(t,c)):r=c.def(a,".",Bi),r&&c("if("+r+")"+o+".bindBuffer("+tr+","+r+".buffer.buffer);"),r}();function c(r){var o=s[r];return o?o.contextDep&&i.contextDynamic||o.propDep?o.append(t,n):o.append(t,e):e.def(a,".",r)}var u,f,h=c(Wi),d=c(Ui),p=function(){var r,o=s.count,l=e;return o?((o.contextDep&&i.contextDynamic||o.propDep)&&(l=n),r=o.append(t,l),z.optional(function(){o.MISSING&&t.assert(e,"false","missing vertex count"),o.DYNAMIC&&t.assert(l,r+">=0","missing vertex count")})):(r=l.def(a,".",qi),z.optional(function(){t.assert(l,r+">=0","missing vertex count")})),r}();if("number"==typeof p){if(0===p)return}else n("if(",p,"){"),n.exit("}");y&&(u=c($i),f=t.instancing);var g=l+".type",m=s.elements&&Jr(s.elements);function v(){function t(){n(f,".drawElementsInstancedANGLE(",[h,p,g,d+"<<(("+g+"-"+ni+")>>1)",u],");")}function e(){n(f,".drawArraysInstancedANGLE(",[h,d,p,u],");")}l?m?t():(n("if(",l,"){"),t(),n("}else{"),e(),n("}")):e()}function b(){function t(){n(o+".drawElements("+[h,p,g,d+"<<(("+g+"-"+ni+")>>1)"]+");")}function e(){n(o+".drawArrays("+[h,d,p]+");")}l?m?t():(n("if(",l,"){"),t(),n("}else{"),e(),n("}")):e()}y&&("number"!=typeof u||u>=0)?"string"==typeof u?(n("if(",u,">0){"),v(),n("}else if(",u,"<0){"),b(),n("}")):v():b()}function $(t,e,n,i,r){var o=P(),a=o.proc("body",r);return z.optional(function(){o.commandStr=e.commandStr,o.command=o.link(e.commandStr)}),y&&(o.instancing=a.def(o.shared.extensions,".angle_instanced_arrays")),t(o,a,n,i),o.compile().body}function V(t,e,n,i){j(t,e),B(t,e,n,i.attributes,function(){return!0}),q(t,e,n,i.uniforms,function(){return!0}),U(t,e,e,n)}function G(t,e,n,i){function r(){return!0}t.batchId="a1",j(t,e),B(t,e,n,i.attributes,r),q(t,e,n,i.uniforms,r),U(t,e,e,n)}function X(t,e,n,i){j(t,e);var r=n.contextDep,o=e.def(),a=e.def();t.shared.props=a,t.batchId=o;var s=t.scope(),l=t.scope();function c(t){return t.contextDep&&r||t.propDep}function u(t){return!c(t)}if(e(s.entry,"for(",o,"=0;",o,"<","a1",";++",o,"){",a,"=","a0","[",o,"];",l,"}",s.exit),n.needsContext&&R(t,l,n.context),n.needsFramebuffer&&N(t,l,n.framebuffer),L(t,l,n.state,c),n.profile&&c(n.profile)&&H(t,l,n,!1,!0),i)B(t,s,n,i.attributes,u),B(t,l,n,i.attributes,c),q(t,s,n,i.uniforms,u),q(t,l,n,i.uniforms,c),U(t,s,l,n);else{var f=t.global.def("{}"),h=n.shader.progVar.append(t,l),d=l.def(h,".id"),p=l.def(f,"[",d,"]");l(t.shared.gl,".useProgram(",h,".program);","if(!",p,"){",p,"=",f,"[",d,"]=",t.link(function(e){return $(G,t,n,e,2)}),"(",h,");}",p,".call(this,a0[",o,"],",o,");")}}function K(t,e,n){var r=e.static[n];if(r&&function(t){if("object"===(void 0===t?"undefined":i(t))&&!Ht(t)){for(var e=Object.keys(t),n=0;n<e.length;++n)if(W.isDynamic(t[e[n]]))return!0;return!1}}(r)){var o=t.global,a=Object.keys(r),s=!1,l=!1,c=!1,u=t.global.def("{}");a.forEach(function(e){var n=r[e];if(W.isDynamic(n)){"function"==typeof n&&(n=r[e]=W.unbox(n));var a=eo(n,null);s=s||a.thisDep,c=c||a.propDep,l=l||a.contextDep}else{switch(o(u,".",e,"="),void 0===n?"undefined":i(n)){case"number":o(n);break;case"string":o('"',n,'"');break;case"object":Array.isArray(n)&&o("[",n.join(),"]");break;default:o(t.link(n))}o(";")}}),e.dynamic[n]=new W.DynamicVariable(ci,{thisDep:s,contextDep:l,propDep:c,ref:u,append:function(t,e){a.forEach(function(n){var i=r[n];if(W.isDynamic(i)){var o=t.invoke(e,i);e(u,".",n,"=",o,";")}})}}),delete e.static[n]}}return{next:w,current:x,procs:function(){var t=P(),e=t.proc("poll"),n=t.proc("refresh"),i=t.block();e(i),n(i);var o,a=t.shared,s=a.gl,l=a.next,c=a.current;i(c,".dirty=false;"),N(t,e),N(t,n,null,!0),y&&(o=t.link(y));for(var u=0;u<r.maxAttributes;++u){var f=n.def(a.attributes,"[",u,"]"),h=t.cond(f,".buffer");h.then(s,".enableVertexAttribArray(",u,");",s,".bindBuffer(",Ji,",",f,".buffer.buffer);",s,".vertexAttribPointer(",u,",",f,".size,",f,".type,",f,".normalized,",f,".stride,",f,".offset);").else(s,".disableVertexAttribArray(",u,");",s,".vertexAttrib4f(",u,",",f,".x,",f,".y,",f,".z,",f,".w);",f,".buffer=null;"),n(h),y&&n(o,".vertexAttribDivisorANGLE(",u,",",f,".divisor);")}return Object.keys(C).forEach(function(r){var o=C[r],a=i.def(l,".",r),u=t.block();u("if(",a,"){",s,".enable(",o,")}else{",s,".disable(",o,")}",c,".",r,"=",a,";"),n(u),e("if(",a,"!==",c,".",r,"){",u,"}")}),Object.keys(F).forEach(function(r){var o,a,u=F[r],f=x[r],h=t.block();if(h(s,".",u,"("),Ht(f)){var d=f.length;o=t.global.def(l,".",r),a=t.global.def(c,".",r),h(Y(d,function(t){return o+"["+t+"]"}),");",Y(d,function(t){return a+"["+t+"]="+o+"["+t+"];"}).join("")),e("if(",Y(d,function(t){return o+"["+t+"]!=="+a+"["+t+"]"}).join("||"),"){",h,"}")}else o=i.def(l,".",r),a=i.def(c,".",r),h(o,");",c,".",r,"=",o,";"),e("if(",o,"!==",a,"){",h,"}");n(h)}),t.compile()}(),compile:function(t,n,i,r,o){var a=P();a.stats=a.link(o),Object.keys(n.static).forEach(function(t){K(a,n,t)}),Zi.forEach(function(e){K(a,t,e)});var s=I(t,n,i,r,a);return function(t,e){var n=t.proc("draw",1);j(t,n),R(t,n,e.context),N(t,n,e.framebuffer),O(t,n,e),L(t,n,e.state),H(t,n,e,!1,!0);var i=e.shader.progVar.append(t,n);if(n(t.shared.gl,".useProgram(",i,".program);"),e.shader.program)V(t,n,e,e.shader.program);else{var r=t.global.def("{}"),o=n.def(i,".id"),a=n.def(r,"[",o,"]");n(t.cond(a).then(a,".call(this,a0);").else(a,"=",r,"[",o,"]=",t.link(function(n){return $(V,t,e,n,1)}),"(",i,");",a,".call(this,a0);"))}Object.keys(e.state).length>0&&n(t.shared.current,".dirty=true;")}(a,s),function(t,n){var i=t.proc("scope",3);t.batchId="a2";var r=t.shared,o=r.current;function a(e){var o=n.shader[e];o&&i.set(r.shader,"."+e,o.append(t,i))}R(t,i,n.context),n.framebuffer&&n.framebuffer.append(t,i),Qr(Object.keys(n.state)).forEach(function(e){var o=n.state[e].append(t,i);Ht(o)?o.forEach(function(n,r){i.set(t.next[e],"["+r+"]",n)}):i.set(r.next,"."+e,o)}),H(t,i,n,!0,!0),[Bi,Ui,qi,$i,Wi].forEach(function(e){var o=n.draw[e];o&&i.set(r.draw,"."+e,""+o.append(t,i))}),Object.keys(n.uniforms).forEach(function(o){i.set(r.uniforms,"["+e.id(o)+"]",n.uniforms[o].append(t,i))}),Object.keys(n.attributes).forEach(function(e){var r=n.attributes[e].append(t,i),o=t.scopeAttrib(e);Object.keys(new v).forEach(function(t){i.set(o,"."+t,r[t])})}),a(ji),a(Hi),Object.keys(n.state).length>0&&(i(o,".dirty=true;"),i.exit(o,".dirty=true;")),i("a1(",t.shared.context,",a0,",t.batchId,");")}(a,s),function(t,e){var n=t.proc("batch",2);t.batchId="0",j(t,n);var i=!1,r=!0;Object.keys(e.context).forEach(function(t){i=i||e.context[t].propDep}),i||(R(t,n,e.context),r=!1);var o=e.framebuffer,a=!1;function s(t){return t.contextDep&&i||t.propDep}o?(o.propDep?i=a=!0:o.contextDep&&i&&(a=!0),a||N(t,n,o)):N(t,n,null),e.state.viewport&&e.state.viewport.propDep&&(i=!0),O(t,n,e),L(t,n,e.state,function(t){return!s(t)}),e.profile&&s(e.profile)||H(t,n,e,!1,"a1"),e.contextDep=i,e.needsContext=r,e.needsFramebuffer=a;var l=e.shader.progVar;if(l.contextDep&&i||l.propDep)X(t,n,e,null);else{var c=l.append(t,n);if(n(t.shared.gl,".useProgram(",c,".program);"),e.shader.program)X(t,n,e,e.shader.program);else{var u=t.global.def("{}"),f=n.def(c,".id"),h=n.def(u,"[",f,"]");n(t.cond(h).then(h,".call(this,a0,a1);").else(h,"=",u,"[",f,"]=",t.link(function(n){return $(X,t,e,n,2)}),"(",c,");",h,".call(this,a0,a1);"))}}Object.keys(e.state).length>0&&n(t.shared.current,".dirty=true;")}(a,s),a.compile()}}}var ro=34918,oo=34919,ao=35007,so=function(t,e){var n=e.ext_disjoint_timer_query;if(!n)return null;var i=[];function r(t){i.push(t)}var o=[];var a=[];function s(t){a.push(t)}var l=[];function c(t,e,n){var i=a.pop()||new function(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null};i.startQueryIndex=t,i.endQueryIndex=e,i.sum=0,i.stats=n,l.push(i)}var u=[],f=[];return{beginQuery:function(t){var e=i.pop()||n.createQueryEXT();n.beginQueryEXT(ao,e),o.push(e),c(o.length-1,o.length,t)},endQuery:function(){n.endQueryEXT(ao)},pushScopeStats:c,update:function(){var t,e,i=o.length;if(0!==i){f.length=Math.max(f.length,i+1),u.length=Math.max(u.length,i+1),u[0]=0,f[0]=0;var a=0;for(t=0,e=0;e<o.length;++e){var c=o[e];n.getQueryObjectEXT(c,oo)?(a+=n.getQueryObjectEXT(c,ro),r(c)):o[t++]=c,u[e+1]=a,f[e+1]=t}for(o.length=t,t=0,e=0;e<l.length;++e){var h=l[e],d=h.startQueryIndex,p=h.endQueryIndex;h.sum+=u[p]-u[d];var g=f[d],m=f[p];m===g?(h.stats.gpuTime+=h.sum/1e6,s(h)):(h.startQueryIndex=g,h.endQueryIndex=m,l[t++]=h)}l.length=t}},getNumPendingQueries:function(){return o.length},clear:function(){i.push.apply(i,o);for(var t=0;t<i.length;t++)n.deleteQueryEXT(i[t]);o.length=0,i.length=0},restore:function(){o.length=0,i.length=0}}},lo=16384,co=256,uo=1024,fo=34962,ho="webglcontextlost",po="webglcontextrestored",go=1,mo=2,vo=3;function bo(t,e){for(var n=0;n<t.length;++n)if(t[n]===e)return n;return-1}e.regl=function(t){var e=G(t);if(!e)return null;var n=e.gl,a=n.getContextAttributes(),s=n.isContextLost(),l=function(t,e){var n={};function i(e){z.type(e,"string","extension name must be string");var i,r=e.toLowerCase();try{i=n[r]=t.getExtension(r)}catch(t){}return!!i}for(var r=0;r<e.extensions.length;++r){var o=e.extensions[r];if(!i(o))return e.onDestroy(),e.onDone('"'+o+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return e.optionalExtensions.forEach(i),{extensions:n,restore:function(){Object.keys(n).forEach(function(t){if(!i(t))throw new Error("(regl): error restoring extension "+t)})}}}(n,e);if(!l)return null;var c,u,f=(c={"":0},u=[""],{id:function(t){var e=c[t];return e||(e=c[t]=u.length,u.push(t),e)},str:function(t){return u[t]}}),h={bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},d=l.extensions,p=so(n,d),g=U(),m=n.drawingBufferWidth,v=n.drawingBufferHeight,b={tick:0,time:0,viewportWidth:m,viewportHeight:v,framebufferWidth:m,framebufferHeight:v,drawingBufferWidth:m,drawingBufferHeight:v,pixelRatio:e.pixelRatio},y=ot(n,d),_=function(t,e,n,i){for(var r=n.maxAttributes,o=new Array(r),a=0;a<r;++a)o[a]=new Wn;return{Record:Wn,scope:{},state:o}}(0,0,y),x=function(t,e,n,i){var o=0,a={};function s(e){this.id=o++,this.buffer=t.createBuffer(),this.type=e,this.usage=gt,this.byteLength=0,this.dimension=1,this.dtype=vt,this.persistentData=null,n.profile&&(this.stats={size:0})}s.prototype.bind=function(){t.bindBuffer(this.type,this.buffer)},s.prototype.destroy=function(){f(this)};var l=[];function c(e,n,i){e.byteLength=n.byteLength,t.bufferData(e.type,n,i)}function u(t,e,n,i,o,a){var s,l;if(t.usage=n,Array.isArray(e)){if(t.dtype=i||bt,e.length>0)if(Array.isArray(e[0])){s=pt(e);for(var u=1,f=1;f<s.length;++f)u*=s[f];t.dimension=u,c(t,l=dt(e,s,t.dtype),n),a?t.persistentData=l:rt.freeType(l)}else if("number"==typeof e[0]){t.dimension=o;var h=rt.allocType(t.dtype,e.length);xt(h,e),c(t,h,n),a?t.persistentData=h:rt.freeType(h)}else r(e[0])?(t.dimension=e[0].length,t.dtype=i||_t(e[0])||bt,c(t,l=dt(e,[e.length,e[0].length],t.dtype),n),a?t.persistentData=l:rt.freeType(l)):z.raise("invalid buffer data")}else if(r(e))t.dtype=i||_t(e),t.dimension=o,c(t,e,n),a&&(t.persistentData=new Uint8Array(new Uint8Array(e.buffer)));else if(at(e)){s=e.shape;var d=e.stride,p=e.offset,g=0,m=0,v=0,b=0;1===s.length?(g=s[0],m=1,v=d[0],b=0):2===s.length?(g=s[0],m=s[1],v=d[0],b=d[1]):z.raise("invalid shape"),t.dtype=i||_t(e.data)||bt,t.dimension=m;var y=rt.allocType(t.dtype,g*m);wt(y,e.data,g,m,v,b,p),c(t,y,n),a?t.persistentData=y:rt.freeType(y)}else z.raise("invalid buffer data")}function f(n){e.bufferCount--;for(var r=0;r<i.state.length;++r){var o=i.state[r];o.buffer===n&&(t.disableVertexAttribArray(r),o.buffer=null)}var s=n.buffer;z(s,"buffer must not be deleted already"),t.deleteBuffer(s),n.buffer=null,delete a[n.id]}return n.profile&&(e.getTotalBufferSize=function(){var t=0;return Object.keys(a).forEach(function(e){t+=a[e].stats.size}),t}),{create:function(i,o,l,c){e.bufferCount++;var h=new s(o);function d(e){var i=gt,o=null,a=0,s=0,l=1;return Array.isArray(e)||r(e)||at(e)?o=e:"number"==typeof e?a=0|e:e&&(z.type(e,"object","buffer arguments must be an object, a number or an array"),"data"in e&&(z(null===o||Array.isArray(o)||r(o)||at(o),"invalid data for buffer"),o=e.data),"usage"in e&&(z.parameter(e.usage,ht,"invalid buffer usage"),i=ht[e.usage]),"type"in e&&(z.parameter(e.type,ft,"invalid buffer type"),s=ft[e.type]),"dimension"in e&&(z.type(e.dimension,"number","invalid dimension"),l=0|e.dimension),"length"in e&&(z.nni(a,"buffer length must be a nonnegative integer"),a=0|e.length)),h.bind(),o?u(h,o,i,s,l,c):(a&&t.bufferData(h.type,a,i),h.dtype=s||vt,h.usage=i,h.dimension=l,h.byteLength=a),n.profile&&(h.stats.size=h.byteLength*yt[h.dtype]),d}function p(e,n){z(n+e.byteLength<=h.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+e.byteLength+" starting from offset "+n+" to a buffer of size "+h.byteLength),t.bufferSubData(h.type,n,e)}return a[h.id]=h,l||d(i),d._reglType="buffer",d._buffer=h,d.subdata=function(t,e){var n,i=0|(e||0);if(h.bind(),r(t))p(t,i);else if(Array.isArray(t)){if(t.length>0)if("number"==typeof t[0]){var o=rt.allocType(h.dtype,t.length);xt(o,t),p(o,i),rt.freeType(o)}else if(Array.isArray(t[0])||r(t[0])){n=pt(t);var a=dt(t,n,h.dtype);p(a,i),rt.freeType(a)}else z.raise("invalid buffer data")}else if(at(t)){n=t.shape;var s=t.stride,l=0,c=0,u=0,f=0;1===n.length?(l=n[0],c=1,u=s[0],f=0):2===n.length?(l=n[0],c=n[1],u=s[0],f=s[1]):z.raise("invalid shape");var g=Array.isArray(t.data)?h.dtype:_t(t.data),m=rt.allocType(g,l*c);wt(m,t.data,l,c,u,f,t.offset),p(m,i),rt.freeType(m)}else z.raise("invalid data for buffer subdata");return d},n.profile&&(d.stats=h.stats),d.destroy=function(){f(h)},d},createStream:function(t,e){var n=l.pop();return n||(n=new s(t)),n.bind(),u(n,e,mt,0,1,!1),n},destroyStream:function(t){l.push(t)},clear:function(){st(a).forEach(f),l.forEach(f)},getBuffer:function(t){return t&&t._buffer instanceof s?t._buffer:null},restore:function(){st(a).forEach(function(e){e.buffer=t.createBuffer(),t.bindBuffer(e.type,e.buffer),t.bufferData(e.type,e.persistentData||e.byteLength,e.usage)})},_initBuffer:u}}(n,h,e,_),w=function(t,e,n,i){var o={},a=0,s={uint8:Dt,uint16:Tt};function l(t){this.id=a++,o[this.id]=this,this.buffer=t,this.primType=At,this.vertCount=0,this.type=0}e.oes_element_index_uint&&(s.uint32=Pt),l.prototype.bind=function(){this.buffer.bind()};var c=[];function u(i,o,a,s,l,c,u){if(i.buffer.bind(),o){var f=u;u||r(o)&&(!at(o)||r(o.data))||(f=e.oes_element_index_uint?Pt:Tt),n._initBuffer(i.buffer,o,a,f,3)}else t.bufferData(It,c,a),i.buffer.dtype=h||Dt,i.buffer.usage=a,i.buffer.dimension=3,i.buffer.byteLength=c;var h=u;if(!u){switch(i.buffer.dtype){case Dt:case St:h=Dt;break;case Tt:case Mt:h=Tt;break;case Pt:case Et:h=Pt;break;default:z.raise("unsupported type for element array")}i.buffer.dtype=h}i.type=h,z(h!==Pt||!!e.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var d=l;d<0&&(d=i.buffer.byteLength,h===Tt?d>>=1:h===Pt&&(d>>=2)),i.vertCount=d;var p=s;if(s<0){p=At;var g=i.buffer.dimension;1===g&&(p=Ct),2===g&&(p=Ft),3===g&&(p=At)}i.primType=p}function f(t){i.elementsCount--,z(null!==t.buffer,"must not double destroy elements"),delete o[t.id],t.buffer.destroy(),t.buffer=null}return{create:function(t,e){var o=n.create(null,It,!0),a=new l(o._buffer);function c(t){if(t)if("number"==typeof t)o(t),a.primType=At,a.vertCount=0|t,a.type=Dt;else{var e=null,n=Nt,i=-1,l=-1,f=0,h=0;Array.isArray(t)||r(t)||at(t)?e=t:(z.type(t,"object","invalid arguments for elements"),"data"in t&&(e=t.data,z(Array.isArray(e)||r(e)||at(e),"invalid data for element buffer")),"usage"in t&&(z.parameter(t.usage,ht,"invalid element buffer usage"),n=ht[t.usage]),"primitive"in t&&(z.parameter(t.primitive,kt,"invalid element buffer primitive"),i=kt[t.primitive]),"count"in t&&(z("number"==typeof t.count&&t.count>=0,"invalid vertex count for elements"),l=0|t.count),"type"in t&&(z.parameter(t.type,s,"invalid buffer type"),h=s[t.type]),"length"in t?f=0|t.length:(f=l,h===Tt||h===Mt?f*=2:h!==Pt&&h!==Et||(f*=4))),u(a,e,n,i,l,f,h)}else o(),a.primType=At,a.vertCount=0,a.type=Dt;return c}return i.elementsCount++,c(t),c._reglType="elements",c._elements=a,c.subdata=function(t,e){return o.subdata(t,e),c},c.destroy=function(){f(a)},c},createStream:function(t){var e=c.pop();return e||(e=new l(n.create(null,It,!0,!1)._buffer)),u(e,t,Rt,-1,-1,0,0),e},destroyStream:function(t){c.push(t)},getElements:function(t){return"function"==typeof t&&t._elements instanceof l?t._elements:null},clear:function(){st(o).forEach(f)}}}(n,d,x,h),k=Gn(n,f,h,e),C=vn(n,d,y,function(){S.procs.poll()},b,h,e),F=wn(n,d,y,h,e),A=function(t,e,n,r,a,s){var l={cur:null,next:null,dirty:!1,setFBO:null},c=["rgba"],u=["rgba4","rgb565","rgb5 a1"];e.ext_srgb&&u.push("srgba"),e.ext_color_buffer_half_float&&u.push("rgba16f","rgb16f"),e.webgl_color_buffer_float&&u.push("rgba32f");var f=["uint8"];function h(t,e,n){this.target=t,this.texture=e,this.renderbuffer=n;var i=0,r=0;e?(i=e.width,r=e.height):n&&(i=n.width,r=n.height),this.width=i,this.height=r}function d(t){t&&(t.texture&&t.texture._texture.decRef(),t.renderbuffer&&t.renderbuffer._renderbuffer.decRef())}function p(t,e,n){if(t)if(t.texture){var i=t.texture._texture,r=Math.max(1,i.width),o=Math.max(1,i.height);z(r===e&&o===n,"inconsistent width/height for supplied texture"),i.refCount+=1}else{var a=t.renderbuffer._renderbuffer;z(a.width===e&&a.height===n,"inconsistent width/height for renderbuffer"),a.refCount+=1}}function g(e,n){n&&(n.texture?t.framebufferTexture2D(kn,e,n.target,n.texture._texture.texture,0):t.framebufferRenderbuffer(kn,e,Cn,n.renderbuffer._renderbuffer.renderbuffer))}function m(t){var e=Fn,n=null,r=null,o=t;"object"===(void 0===t?"undefined":i(t))&&(o=t.data,"target"in t&&(e=0|t.target)),z.type(o,"function","invalid attachment data");var a=o._reglType;return"texture2d"===a?(n=o,z(e===Fn)):"textureCube"===a?(n=o,z(e>=An&&e<An+6,"invalid cube map target")):"renderbuffer"===a?(r=o,e=Cn):z.raise("invalid regl object for attachment"),new h(e,n,r)}function v(t,e,n,i,o){if(n){var s=r.create2D({width:t,height:e,format:i,type:o});return s._texture.refCount=0,new h(Fn,s,null)}var l=a.create({width:t,height:e,format:i});return l._renderbuffer.refCount=0,new h(Cn,null,l)}function b(t){return t&&(t.texture||t.renderbuffer)}function y(t,e,n){t&&(t.texture?t.texture.resize(e,n):t.renderbuffer&&t.renderbuffer.resize(e,n))}e.oes_texture_half_float&&f.push("half float","float16"),e.oes_texture_float&&f.push("float","float32");var _=0,x={};function w(){this.id=_++,x[this.id]=this,this.framebuffer=t.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function k(t){t.colorAttachments.forEach(d),d(t.depthAttachment),d(t.stencilAttachment),d(t.depthStencilAttachment)}function C(e){var n=e.framebuffer;z(n,"must not double destroy framebuffer"),t.deleteFramebuffer(n),e.framebuffer=null,s.framebufferCount--,delete x[e.id]}function F(e){var i;t.bindFramebuffer(kn,e.framebuffer);var r=e.colorAttachments;for(i=0;i<r.length;++i)g(Sn+i,r[i]);for(i=r.length;i<n.maxColorAttachments;++i)t.framebufferTexture2D(kn,Sn+i,Fn,null,0);t.framebufferTexture2D(kn,Tn,Fn,null,0),t.framebufferTexture2D(kn,Dn,Fn,null,0),t.framebufferTexture2D(kn,Mn,Fn,null,0),g(Dn,e.depthAttachment),g(Mn,e.stencilAttachment),g(Tn,e.depthStencilAttachment);var o=t.checkFramebufferStatus(kn);o!==En&&z.raise("framebuffer configuration not supported, status = "+Hn[o]),t.bindFramebuffer(kn,l.next?l.next.framebuffer:null),l.cur=l.next,t.getError()}function A(t,i){var r=new w;function a(t,i){var o;z(l.next!==r,"can not update framebuffer which is currently in use");var s=e.webgl_draw_buffers,h=0,d=0,g=!0,y=!0,_=null,x=!0,w="rgba",C="uint8",A=1,S=null,D=null,M=null,T=!1;if("number"==typeof t)h=0|t,d=0|i||h;else if(t){z.type(t,"object","invalid arguments for framebuffer");var E=t;if("shape"in E){var P=E.shape;z(Array.isArray(P)&&P.length>=2,"invalid shape for framebuffer"),h=P[0],d=P[1]}else"radius"in E&&(h=d=E.radius),"width"in E&&(h=E.width),"height"in E&&(d=E.height);("color"in E||"colors"in E)&&(_=E.color||E.colors,Array.isArray(_)&&z(1===_.length||s,"multiple render targets not supported")),_||("colorCount"in E&&(A=0|E.colorCount,z(A>0,"invalid color buffer count")),"colorTexture"in E&&(x=!!E.colorTexture,w="rgba4"),"colorType"in E&&(C=E.colorType,x?(z(e.oes_texture_float||!("float"===C||"float32"===C),"you must enable OES_texture_float in order to use floating point framebuffer objects"),z(e.oes_texture_half_float||!("half float"===C||"float16"===C),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):"half float"===C||"float16"===C?(z(e.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),w="rgba16f"):"float"!==C&&"float32"!==C||(z(e.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),w="rgba32f"),z.oneOf(C,f,"invalid color type")),"colorFormat"in E&&(w=E.colorFormat,c.indexOf(w)>=0?x=!0:u.indexOf(w)>=0?x=!1:x?z.oneOf(E.colorFormat,c,"invalid color format for texture"):z.oneOf(E.colorFormat,u,"invalid color format for renderbuffer"))),("depthTexture"in E||"depthStencilTexture"in E)&&(T=!(!E.depthTexture&&!E.depthStencilTexture),z(!T||e.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in E&&("boolean"==typeof E.depth?g=E.depth:(S=E.depth,y=!1)),"stencil"in E&&("boolean"==typeof E.stencil?y=E.stencil:(D=E.stencil,g=!1)),"depthStencil"in E&&("boolean"==typeof E.depthStencil?g=y=E.depthStencil:(M=E.depthStencil,g=!1,y=!1))}else h=d=1;var I=null,R=null,N=null,O=null;if(Array.isArray(_))I=_.map(m);else if(_)I=[m(_)];else for(I=new Array(A),o=0;o<A;++o)I[o]=v(h,d,x,w,C);z(e.webgl_draw_buffers||I.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),z(I.length<=n.maxColorAttachments,"too many color attachments, not supported"),h=h||I[0].width,d=d||I[0].height,S?R=m(S):g&&!y&&(R=v(h,d,T,"depth","uint32")),D?N=m(D):y&&!g&&(N=v(h,d,!1,"stencil","uint8")),M?O=m(M):!S&&!D&&y&&g&&(O=v(h,d,T,"depth stencil","depth stencil")),z(!!S+!!D+!!M<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var L=null;for(o=0;o<I.length;++o)if(p(I[o],h,d),z(!I[o]||I[o].texture&&In.indexOf(I[o].texture._texture.format)>=0||I[o].renderbuffer&&jn.indexOf(I[o].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+o+" is invalid"),I[o]&&I[o].texture){var j=Rn[I[o].texture._texture.format]*Nn[I[o].texture._texture.type];null===L?L=j:z(L===j,"all color attachments much have the same number of bits per pixel.")}return p(R,h,d),z(!R||R.texture&&R.texture._texture.format===Pn||R.renderbuffer&&R.renderbuffer._renderbuffer.format===zn,"invalid depth attachment for framebuffer object"),p(N,h,d),z(!N||N.renderbuffer&&N.renderbuffer._renderbuffer.format===On,"invalid stencil attachment for framebuffer object"),p(O,h,d),z(!O||O.texture&&O.texture._texture.format===Ln||O.renderbuffer&&O.renderbuffer._renderbuffer.format===Ln,"invalid depth-stencil attachment for framebuffer object"),k(r),r.width=h,r.height=d,r.colorAttachments=I,r.depthAttachment=R,r.stencilAttachment=N,r.depthStencilAttachment=O,a.color=I.map(b),a.depth=b(R),a.stencil=b(N),a.depthStencil=b(O),a.width=r.width,a.height=r.height,F(r),a}return s.framebufferCount++,a(t,i),o(a,{resize:function(t,e){z(l.next!==r,"can not resize a framebuffer which is currently in use");var n=0|t,i=0|e||n;if(n===r.width&&i===r.height)return a;for(var o=r.colorAttachments,s=0;s<o.length;++s)y(o[s],n,i);return y(r.depthAttachment,n,i),y(r.stencilAttachment,n,i),y(r.depthStencilAttachment,n,i),r.width=a.width=n,r.height=a.height=i,F(r),a},_reglType:"framebuffer",_framebuffer:r,destroy:function(){C(r),k(r)},use:function(t){l.setFBO({framebuffer:a},t)}})}return o(l,{getFramebuffer:function(t){if("function"==typeof t&&"framebuffer"===t._reglType){var e=t._framebuffer;if(e instanceof w)return e}return null},create:A,createCube:function(t){var i=Array(6);function a(t){var n;z(i.indexOf(l.next)<0,"can not update framebuffer which is currently in use");var s,u=e.webgl_draw_buffers,h={color:null},d=0,p=null,g="rgba",m="uint8",v=1;if("number"==typeof t)d=0|t;else if(t){z.type(t,"object","invalid arguments for framebuffer");var b=t;if("shape"in b){var y=b.shape;z(Array.isArray(y)&&y.length>=2,"invalid shape for framebuffer"),z(y[0]===y[1],"cube framebuffer must be square"),d=y[0]}else"radius"in b&&(d=0|b.radius),"width"in b?(d=0|b.width,"height"in b&&z(b.height===d,"must be square")):"height"in b&&(d=0|b.height);("color"in b||"colors"in b)&&(p=b.color||b.colors,Array.isArray(p)&&z(1===p.length||u,"multiple render targets not supported")),p||("colorCount"in b&&(v=0|b.colorCount,z(v>0,"invalid color buffer count")),"colorType"in b&&(z.oneOf(b.colorType,f,"invalid color type"),m=b.colorType),"colorFormat"in b&&(g=b.colorFormat,z.oneOf(b.colorFormat,c,"invalid color format for texture"))),"depth"in b&&(h.depth=b.depth),"stencil"in b&&(h.stencil=b.stencil),"depthStencil"in b&&(h.depthStencil=b.depthStencil)}else d=1;if(p)if(Array.isArray(p))for(s=[],n=0;n<p.length;++n)s[n]=p[n];else s=[p];else{s=Array(v);var _={radius:d,format:g,type:m};for(n=0;n<v;++n)s[n]=r.createCube(_)}for(h.color=Array(s.length),n=0;n<s.length;++n){var x=s[n];z("function"==typeof x&&"textureCube"===x._reglType,"invalid cube map"),d=d||x.width,z(x.width===d&&x.height===d,"invalid cube map shape"),h.color[n]={target:An,data:s[n]}}for(n=0;n<6;++n){for(var w=0;w<s.length;++w)h.color[w].target=An+n;n>0&&(h.depth=i[0].depth,h.stencil=i[0].stencil,h.depthStencil=i[0].depthStencil),i[n]?i[n](h):i[n]=A(h)}return o(a,{width:d,height:d,color:s})}return a(t),o(a,{faces:i,resize:function(t){var e,r=0|t;if(z(r>0&&r<=n.maxCubeMapSize,"invalid radius for cube fbo"),r===a.width)return a;var o=a.color;for(e=0;e<o.length;++e)o[e].resize(r);for(e=0;e<6;++e)i[e].resize(r);return a.width=a.height=r,a},_reglType:"framebufferCube",destroy:function(){i.forEach(function(t){t.destroy()})}})},clear:function(){st(x).forEach(C)},restore:function(){st(x).forEach(function(e){e.framebuffer=t.createFramebuffer(),F(e)})}})}(n,d,y,C,F,h),S=io(n,f,d,y,x,w,0,A,{},_,k,{elements:null,primitive:4,count:-1,offset:0,instances:-1},b,p,e),D=Zn(n,A,S.procs.poll,b,a,d,y),M=S.next,T=n.canvas,E=[],P=[],I=[],R=[e.onDestroy],N=null;function O(){if(0===E.length)return p&&p.update(),void(N=null);N=q.next(O),Q();for(var t=E.length-1;t>=0;--t){var e=E[t];e&&e(b,null,0)}n.flush(),p&&p.update()}function L(){!N&&E.length>0&&(N=q.next(O))}function j(){N&&(q.cancel(O),N=null)}function H(t){t.preventDefault(),s=!0,j(),P.forEach(function(t){t()})}function B(t){n.getError(),s=!1,l.restore(),k.restore(),x.restore(),C.restore(),F.restore(),A.restore(),p&&p.restore(),S.procs.refresh(),L(),I.forEach(function(t){t()})}function $(t){function e(t){var e={},n={};return Object.keys(t).forEach(function(i){var r=t[i];W.isDynamic(r)?n[i]=W.unbox(r,i):e[i]=r}),{dynamic:n,static:e}}z(!!t,"invalid args to regl({...})"),z.type(t,"object","invalid args to regl({...})");var n=e(t.context||{}),i=e(t.uniforms||{}),r=e(t.attributes||{}),a=e(function(t){var e=o({},t);function n(t){if(t in e){var n=e[t];delete e[t],Object.keys(n).forEach(function(i){e[t+"."+i]=n[i]})}}return delete e.uniforms,delete e.attributes,delete e.context,"stencil"in e&&e.stencil.op&&(e.stencil.opBack=e.stencil.opFront=e.stencil.op,delete e.stencil.op),n("blend"),n("depth"),n("cull"),n("stencil"),n("polygonOffset"),n("scissor"),n("sample"),e}(t)),l={gpuTime:0,cpuTime:0,count:0},c=S.compile(a,r,i,n,l),u=c.draw,f=c.batch,h=c.scope,d=[];return o(function(t,e){var n;if(s&&z.raise("context lost"),"function"==typeof t)return h.call(this,null,t,0);if("function"==typeof e){if("number"==typeof t){for(n=0;n<t;++n)h.call(this,null,e,n);return}if(Array.isArray(t)){for(n=0;n<t.length;++n)h.call(this,t[n],e,n);return}return h.call(this,t,e,0)}if("number"==typeof t){if(t>0)return f.call(this,function(t){for(;d.length<t;)d.push(null);return d}(0|t),0|t)}else{if(!Array.isArray(t))return u.call(this,t);if(t.length)return f.call(this,t,t.length)}},{stats:l})}T&&(T.addEventListener(ho,H,!1),T.addEventListener(po,B,!1));var V=A.setFBO=$({framebuffer:W.define.call(null,go,"framebuffer")});function Y(t,e){var i=0;S.procs.poll();var r=e.color;r&&(n.clearColor(+r[0]||0,+r[1]||0,+r[2]||0,+r[3]||0),i|=lo),"depth"in e&&(n.clearDepth(+e.depth),i|=co),"stencil"in e&&(n.clearStencil(0|e.stencil),i|=uo),z(!!i,"called regl.clear with no buffer specified"),n.clear(i)}function X(t){return z.type(t,"function","regl.frame() callback must be a function"),E.push(t),L(),{cancel:function(){var e=bo(E,t);z(e>=0,"cannot cancel a frame twice"),E[e]=function t(){var e=bo(E,t);E[e]=E[E.length-1],E.length-=1,E.length<=0&&j()}}}}function K(){var t=M.viewport,e=M.scissor_box;t[0]=t[1]=e[0]=e[1]=0,b.viewportWidth=b.framebufferWidth=b.drawingBufferWidth=t[2]=e[2]=n.drawingBufferWidth,b.viewportHeight=b.framebufferHeight=b.drawingBufferHeight=t[3]=e[3]=n.drawingBufferHeight}function Q(){b.tick+=1,b.time=J(),K(),S.procs.poll()}function Z(){K(),S.procs.refresh(),p&&p.update()}function J(){return(U()-g)/1e3}Z();var tt=o($,{clear:function(t){if(z("object"===(void 0===t?"undefined":i(t))&&t,"regl.clear() takes an object as input"),"framebuffer"in t)if(t.framebuffer&&"framebufferCube"===t.framebuffer_reglType)for(var e=0;e<6;++e)V(o({framebuffer:t.framebuffer.faces[e]},t),Y);else V(t,Y);else Y(0,t)},prop:W.define.bind(null,go),context:W.define.bind(null,mo),this:W.define.bind(null,vo),draw:$({}),buffer:function(t){return x.create(t,fo,!1,!1)},elements:function(t){return w.create(t,!1)},texture:C.create2D,cube:C.createCube,renderbuffer:F.create,framebuffer:A.create,framebufferCube:A.createCube,attributes:a,frame:X,on:function(t,e){var n;switch(z.type(e,"function","listener callback must be a function"),t){case"frame":return X(e);case"lost":n=P;break;case"restore":n=I;break;case"destroy":n=R;break;default:z.raise("invalid event, must be one of frame,lost,restore,destroy")}return n.push(e),{cancel:function(){for(var t=0;t<n.length;++t)if(n[t]===e)return n[t]=n[n.length-1],void n.pop()}}},limits:y,hasExtension:function(t){return y.extensions.indexOf(t.toLowerCase())>=0},read:D,destroy:function(){E.length=0,j(),T&&(T.removeEventListener(ho,H),T.removeEventListener(po,B)),k.clear(),A.clear(),F.clear(),C.clear(),w.clear(),x.clear(),p&&p.clear(),R.forEach(function(t){t()})},_gl:n,_refresh:Z,poll:function(){Q(),p&&p.update()},now:J,stats:h});return e.onDone(null,tt),tt}},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.WGL2DI=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(25);function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var a=function(){function e(n,i,o,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),i=Math.round(i),o=Math.round(o);var s=this;for(var l in a||(a={}),this.config=a,null==a.circle_borders?this.circle_borders=!0:this.circle_borders=a.circle_borders,this.draw_options=a.draw_options?a.draw_options:{depth:{},blend:{}},this.regl=null,this.pick_buffer=null,this.objects=[],this.keys={},this.object_types=[],this.objects_in_view=0,this.div_container="string"==typeof n?t("#"+n):n,this.canvas=null,this.label_context,this.label_context=null,this.height=0,this.width=0,this._setUpDocument(i,o),this.images_to_load=0,this.is_filtered={},this.is_hidden={},this.handlers={object_clicked:{},object_over:{},object_out:{},brush_stopped:{},zoom_stopped:{},panning_stopped:{}},this.draw_labels=!1,this.circle_properties={position:1,color:1,pick_color:1,radius:1,start_angle:1,end_angle:1,opacity:1},this.circles_to_draw={},this.circles={},this.circle_properties)this.circles_to_draw[l]=[],this.circles[l]=[];for(var l in this.circles.count=0,this.object_types.push({data:this.circles,data_in_view:this.circles_to_draw,properties:this.circle_properties,vertices:1,primitive:"points"}),this.universal_circle_radius=0,this.line_properties={position:2,color:2,pick_color:2},this.lines_to_draw={},this.lines={},this.line_properties){var c=[];this.lines[l]=c,this.lines_to_draw[l]=c}for(var l in this.lines.count=0,this.object_types.push({data:this.lines,data_in_view:this.lines_to_draw,properties:this.line_properties,vertices:2,primitive:"lines"}),this.rect_properties={position:2,color:2,pick_color:2,opacity:2},this.rects_to_draw={},this.rects={},this.rect_properties)this.rects[l]=[],this.rects_to_draw[l]=[];for(var l in this.rects.count=0,this.object_types.push({data:this.rects,data_in_view:this.rects_to_draw,properties:this.rect_properties,vertices:6,primitive:"triangles"}),this.square_properties={position:1,color:1,pick_color:1,size:1,opacity:1},this.squares_to_draw={},this.squares={},this.square_properties)this.squares[l]=[],this.squares_to_draw[l]=[];for(var l in this.squares.count=0,this.object_types.push({data:this.squares,data_in_view:this.squares_to_draw,properties:this.square_properties,vertices:1,primitive:"points"}),this.scale=1,this.x_scale=1,this.y_scale=1,this.offset=[0,0],this.image_properties={position:2,pick_color:2,color:2,opacity:2},this.images_to_draw={},this.images={},this.image_properties)this.images[l]=[],this.images_to_draw[l]=[];for(var l in this.images.count=0,this.images.props=[],this.images.globals=[this.offset[0],this.offset[1],this.x_scale,this.y_scale],this.object_types.push({data:this.images,data_in_view:this.images_to_draw,properties:this.image_properties,vertices:6,primitive:"triangles"}),this.images.display_as_image=!0,this.imagetile_properties={position:2,pick_color:2,color:2,opacity:2,x_y:2,c_r:2},this.imagetiles_to_draw={},this.imagetiles={},this.imagetile_properties)this.imagetiles[l]=[],this.imagetiles_to_draw[l]=[];this.imagetiles.count=0,this.object_types.push({data:this.imagetiles,data_in_view:this.imagetiles_to_draw,properties:this.imagetile_properties,vertices:6,primitive:"triangles"}),this.mouse_position=null,this.object_clicked=null,this.dragging=!1,this.object_mouse_over=null,this.mouse_over_color=null,this.zoom_amount=0,(0,r.regl)({onDone:function(t,e){s.regl=e,e._refresh(),s.pickbuffer=e.framebuffer({colorFormat:"rgba",height:s.height,width:s.width}),s._initDrawMethods(),s._addHandlers()},canvas:s.canvas[0],attributes:{antialias:!1}})}return i(e,[{key:"animateTo",value:function(t,e,n){var i=t.offset?t.offset:a.offset,r=t.x_scale?t.x_scale:a.x_scale,o=t.y_scale?t.y_scale:a.y_scale;e||(e=50);var a=this,s=[Math.abs(i[0]-a.offset[0])/e,Math.abs(i[1]-a.offset[1])/e],l=Math.abs(r-a.x_scale)/e,c=Math.abs(o-a.y_scale)/e,u=a.regl.frame(function(){var t=!1;a.offset[1]<i[1]&&(a.offset[1]+=s[1],a.offset[1]>i[1]&&(a.offset[1]=i[1]),t=!0),a.offset[1]>i[1]&&(a.offset[1]-=s[1],a.offset[1]<i[1]&&(a.offset[1]=i[1]),t=!0),a.offset[0]<i[0]&&(a.offset[0]+=s[0],a.offset[0]>i[0]&&(a.offset[0]=i[0]),t=!0),a.offset[0]>i[0]&&(a.offset[0]-=s[0],a.offset[0]<i[0]&&(a.offset[0]=i[0]),t=!0),a.x_scale<r&&(a.x_scale+=l,a.x_scale>r&&(a.x_scale=r),t=!0),a.x_scale>r&&(a.x_scale-=l,a.x_scale<r&&(a.x_scale=r),t=!0),a.y_scale<o&&(a.y_scale+=c,a.y_scale>o&&(a.y_scale=o),t=!0),a.y_scale>o&&(a.y_scale-=c,a.y_scale<o&&(a.y_scale=o),t=!0),t?a._drawObjects(!1):(u.cancel(),u=null,a._drawPickBuffer(!1),a._getObjectsInView(),a.refresh(!0),n&&n(a.getRange()))})}},{key:"removeAllObjects",value:function(){var t=!0,e=!1,n=void 0;try{for(var i,r=this.object_types[Symbol.iterator]();!(t=(i=r.next()).done);t=!0){var o=i.value;for(var a in o.data)o.data[a]="count"!==a?[]:0;for(var s in o.data_in_view)o.data_in_view[s]="count"!==s?[]:0}}catch(t){e=!0,n=t}finally{try{!t&&r.return&&r.return()}finally{if(e)throw n}}this.objects=[],this.keys={}}},{key:"_setUpDocument",value:function(e,n){this.config.brush&&this.div_container.css("cursor","crosshair"),n?(this.height=n,this.width=e,this.div_container.height(n),this.div_container.width(e)):(this.height=n=this.div_container.height(),this.width=e=this.div_container.width()),this.canvas=t("<canvas>").attr({height:n,width:e}).css({position:"absolute",left:"0px",right:"0px"}),this.label_canvas=t("<canvas>").attr({height:n,width:e}).css({position:"absolute",left:"0px",right:"0px"}),this.label_context=this.label_canvas[0].getContext("2d"),this.div_container.append(this.canvas).append(this.label_canvas)}},{key:"resizeImage",value:function(t){this.imagetiles.image_scale=t,this.maintainImageDimensions()}},{key:"setImageSize",value:function(t,e){this.images.default_size=[t,e],this.images.scale_factor=1}},{key:"maintainImageDimensions",value:function(){if(0!==this.imagetiles.count){var t=this.imagetiles.width*this.imagetiles.image_scale,e=this.imagetiles.height*this.imagetiles.image_scale;this.y_scale,this.x_scale;this.x_scale>this.y_scale&&(t=this.imagetiles.ratio*e*this.y_scale/this.x_scale),this.y_scale>this.x_scale&&(e=this.imagetiles.ratio*t*this.x_scale/this.y_scale);for(var n=this.imagetiles.position,i=n.length-6,r=0;r<=i;r+=6){var o=this.imagetiles.x_y[r][0],a=this.imagetiles.x_y[r][1];n[r+1][1]=a+e,n[r+2][0]=o+t,n[r+2][1]=a+e,n[r+3][0]=o+t,n[r+3][1]=a+e,n[r+4][0]=o+t}this.imagetiles.i_w_h=[t,e],this.imagetiles.w_h=[t*this.imagetiles.sprite_dim[0],e*this.imagetiles.sprite_dim[1]]}}},{key:"remove",value:function(){this.pickbuffer.destroy(),this.regl.destroy(),this.canvas.attr({height:1,width:1}),this.canvas.remove()}},{key:"setSize",value:function(t,e){if(this.height!==e||this.width!==t){var n=this;t=Math.round(t),e=Math.round(e);var i=t/this.width,r=e/this.height;this.x_scale=this.x_scale*i,this.y_scale=this.y_scale*r,this.maintainImageDimensions(),this.height=e,this.width=t,this.div_container.height(e).width(t),this.canvas.attr({height:e,width:t}),this.label_canvas.attr({height:e,width:t}),this.pickbuffer.destroy(),this.pickbuffer=this.regl.framebuffer({colorFormat:"rgba",height:e,width:t});var o=this.regl.frame(function(){});setTimeout(function(){n.refresh(),o.cancel()},100)}}},{key:"_getMousePosition",value:function(t){var e=this.canvas[0].getBoundingClientRect();return[t.originalEvent.clientX-e.left,t.originalEvent.clientY-e.top]}},{key:"_getActualPosition",value:function(t){return[t[0]/this.x_scale-this.offset[0],t[1]/this.y_scale-this.offset[1]]}},{key:"getRange",value:function(){var t=this._getActualPosition([0,0]),e=this._getActualPosition([this.width,this.height]);return{x_range:[t[0],e[0]],y_range:[t[1],e[1]],offset:[this.offset[0],this.offset[1]],scale:[this.x_scale,this.y_scale]}}},{key:"highlightPoint",value:function(t){clearInterval(this.an_func);var e=this.keys[t];if(e){var n=this.circles.position[this.objects[e][0]];this.label_context.clearRect(0,0,this.width,this.height),this.highlight_point=n,n=this._getCanvasCoords(n);var i=this.label_context,r=this;r.highlight_pt_radius=.1,i.fillStyle="orange",r.an_func=setInterval(function(){i.beginPath(),i.arc(n[0],n[1],r.highlight_pt_radius,0,2*Math.PI),i.fill(),r.highlight_pt_radius+=.1,r.highlight_pt_radius>r.universal_circle_radius*r.x_scale&&clearInterval(r.an_func)},5)}}},{key:"removeHighlightPoint",value:function(){if(this.keys.__highlight__){var t=this.circles.count-1;for(var e in this.circle_properties)this.circles[e].splice(t,1);this.objects.splice(this.objects.length-1,1),delete this.keys.__highlight__,this.ciecles.count--}}},{key:"_getCanvasCoords",value:function(t){return[(t[0]+this.offset[0])*this.x_scale,(t[1]+this.offset[1])*this.y_scale]}},{key:"_drawLabels",value:function(){Date.now();if(!(this.objects_in_view>5e3))for(var t in this.label_context.font="14px Arial",this.object_types)for(var e=this.object_types[t].data_in_view.position,n=0;n<e.length;n++){var i=(e[n][0]+this.offset[0])*this.x_scale,r=(e[n][1]+this.offset[1])*this.y_scale;this.label_context.fillText("H1",i,r)}}},{key:"setObjectColor",value:function(t,e){var n=this.objects[this.keys[t]];if(n)for(var i=this.object_types[n[1]],r=n[0];r<n[0]+i.vertices;r++)i.data.color[r][0]=e[0]/255,i.data.color[r][1]=e[1]/255,i.data.color[r][2]=e[2]/255}},{key:"setObjectPosition",value:function(t,e,n){var i=this.objects[this.keys[t]];if(i)for(var r=this.object_types[i[1]],o=i[0];o<i[0]+r.vertices;o++)r.data.position[o][0]=e,r.data.position[o][1]=n}},{key:"setUniversalCircleRadius",value:function(t){t&&!isNaN(t)||(t=0),this.universal_circle_radius=t}},{key:"getUniversalCircleRadius",value:function(){return this.universal_circle_radius}},{key:"getObjectColor",value:function(t){var e=this.objects[this.keys[t]],n=this.object_types[e[1]].data.color[e[0]];return[255*n[0],255*n[1],255*n[2]]}},{key:"setLogPosition",value:function(t,e,n){var i=!1;n||(i=!0);var r=0;"y"===t&&(r=1),e&&(this.temp_vals={});var o=!0,a=!1,s=void 0;try{for(var l,c=this.objects[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var u=l.value,f=this.object_types[u[1]].data.position[u[0]];if(0!==f[r]){var h=Math.abs(f[r]),d=f[r]<0?-1:1;e?i&&h<1||!i&&-1===d?(f.temp=f[r],f[r]=0):f[r]=Math.log10(h)*d:i&&h<1||!i&&-1===d?(f[r]=f.temp,delete f.temp):f[r]=Math.pow(10,h)*d}}}catch(t){a=!0,s=t}finally{try{!o&&c.return&&c.return()}finally{if(a)throw s}}}},{key:"addLine",value:function(t,e,n,i){var r=this.objects.length;i&&!this.keys[i]?this.keys[i]=r:(i=r,this.keys[r]=r);var o=this.lines.position.length;this.lines.position.push(e),this.lines.position.push(t),this.lines.color.push([n[0]/255,n[1]/255,n[2]/255]),this.lines.color.push([n[0]/255,n[1]/255,n[2]/255]),this.lines.pick_color.push(this._getRGBFromIndex(r+1)),this.lines.pick_color.push(this._getRGBFromIndex(r+1)),this.objects.push([o,1,i]),this.lines.count++}},{key:"addThickLine",value:function(t,e,n,i,r){var o=this.objects.length;r&&!this.keys[r]?this.keys[r]=o:(r=o,this.keys[o]=o);var a=this.rects.position.length,s=t[0]-e[0],l=t[1]-e[1],c=.5*n/Math.sqrt(s*s+l*l),u=c*l,f=c*s;this.rects.position.push([t[0]+u,t[1]-f]),this.rects.position.push([e[0]+u,e[1]-f]),this.rects.position.push([e[0]-u,e[1]+f]),this.rects.position.push([e[0]-u,e[1]+f]),this.rects.position.push([t[0]-u,t[1]+f]),this.rects.position.push([t[0]+u,t[1]-f]);for(var h=[i[0]/255,i[1]/255,i[2]/255],d=this._getRGBFromIndex(o+1),p=0;p<6;p++)this.rects.color.push(h),this.rects.pick_color.push(d);return this.objects.push([a,2,r]),this.rects.count++,r}},{key:"addImageTile",value:function(t,e,n,i){var r=e.image_height,o=e.image_width;this.imagetiles.width=o,this.imagetiles.height=r,this.imagetiles.original_dim=[o,r],this.imagetiles.ratio=o/r,this.imagetiles.image_scale=1,this.imagetiles.w_h=[o*e.sprite_dim[0],r*e.sprite_dim[1]],this.imagetiles.i_w_h=[o,r],this.imagetiles.sprite_dim=e.sprite_dim;var a=!0,s=!1,l=void 0;try{for(var c,u=n[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var f=c.value,h=this.objects.length;this.keys[f.key]=h;var d=f.x,p=f.y,g=this.imagetiles.position.length;this.imagetiles.position.push([d,p]),this.imagetiles.position.push([d,p+r]),this.imagetiles.position.push([d+o,p+r]),this.imagetiles.position.push([d+o,p+r]),this.imagetiles.position.push([d+o,p]),this.imagetiles.position.push([d,p]);for(var m=this._getRGBFromIndex(h+1),v=[d,p],b=[f.sheet,f.col,f.row],y=0;y<6;y++)this.imagetiles.pick_color.push(m),this.imagetiles.color.push([1,1,1]),this.imagetiles.opacity.push(1),this.imagetiles.x_y.push(v),this.imagetiles.c_r.push(b);this.imagetiles.count++,this.objects.push([g,5,f.key])}}catch(t){s=!0,l=t}finally{try{!a&&u.return&&u.return()}finally{if(s)throw l}}for(var _=[],x=0;x<5;x++)t[x]?_.push(this.loadSpriteSheet(t[x],x)):this.imagetiles["text"+x]=this.regl.texture({shape:[1,1]});Promise.all(_).then(function(){i()})}},{key:"loadSpriteSheet",value:function(t,e){var n=this;return new Promise(function(i){var r=new Image;r.onload=function(){n.imagetiles["text"+e]=n.regl.texture({data:r,min:"linear"}),i()},r.src=t})}},{key:"addImage",value:function(t,e,n,i,r){var o=this,a=this.objects.length;r&&!this.keys[r]?this.keys[r]=a:(r=a,this.keys[a]=a);var s=t[0],l=t[1],c=this.images.position.length;this.images.position.push([s,l]),this.images.position.push([s,l+e]),this.images.position.push([s+n,l+e]),this.images.position.push([s+n,l+e]),this.images.position.push([s+n,l]),this.images.position.push([s,l]),this.image_position=[[-1,1],[-1,0],[0,0],[0,0],[0,1],[-1]];for(var u=this._getRGBFromIndex(a+1),f=0;f<6;f++)this.images.pick_color.push(u),this.images.color.push([1,1,1]),this.images.opacity.push(1);var h=this.images.props.length;this.images.props.push({count:6,is_buffer:0,x_y:[s-n,l-n],w_h:[3*n,3*e],opacity:this.images.opacity.slice(c,c+6),text:this.loading_image,text2:this.loading_image,position:this.images.position.slice(c,c+6),globals:this.images.globals,color:this.images.color.slice(c,c+6)});var d=new Image(128,128);d.src=i,d.width,this.images_to_load++,d.onload=function(){o.images.props[h].text=o.regl.texture({data:d,min:"linear",mipmap:!0,width:128,height:128}),o.images_to_load--},this.images.count++,this.objects.push([c,4,r,h])}},{key:"addRectangle",value:function(t,e,n,i,r){var o=this.objects.length;r&&!this.keys[r]?this.keys[r]=o:(r=o,this.keys[o]=o);var a=this.rects.position.length;this.rects.position.push(t),this.rects.position.push([t[0],t[1]+e]),this.rects.position.push([t[0]+n,t[1]+e]),this.rects.position.push([t[0]+n,t[1]+e]),this.rects.position.push([t[0]+n,t[1]]),this.rects.position.push([t[0],t[1]]);for(var s=0;s<6;s++)this.rects.opacity.push(1);var l=[i[0]/255,i[1]/255,i[2]/255],c=this._getRGBFromIndex(o+1);for(s=0;s<6;s++)this.rects.color.push(l),this.rects.pick_color.push(c);return this.objects.push([a,2,r]),this.rects.count++,r}},{key:"addArc",value:function(t,e,n,i,r,o){var a=this.objects.length;o&&!this.keys[o]?this.keys[o]=a:(o=a,this.keys[a]=a);var s=this.circles.position.length;this.circles.position.push(t),this.circles.radius.push(e),this.circles.color.push([n[0]/255,n[1]/255,n[2]/255]),this.circles.pick_color.push(this._getRGBFromIndex(a+1)),this.circles.start_angle.push(i),this.circles.end_angle.push(r),this.objects.push([s,0,o]),this.circles.count++}},{key:"addCircle",value:function(t,e,n,i,r){var o=this.objects.length;i&&!this.keys[i]?this.keys[i]=o:(i=o,this.keys[o]=o);var a=this.circles.position.length;this.circles.position.push(t),this.circles.radius.push(e),this.circles.opacity.push(r||1),this.circles.color.push([n[0]/255,n[1]/255,n[2]/255]),this.circles.pick_color.push(this._getRGBFromIndex(o+1)),this.circles.start_angle.push(10),this.circles.end_angle.push(0),this.objects.push([a,0,i]),this.circles.count++}},{key:"removeCircle",value:function(t){var e=this,n={};for(var i in this.circle_properties)n[i]=[];var r={},o=!0,a=!1,s=void 0;try{for(var l,c=t[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){r[l.value]=!0}}catch(t){a=!0,s=t}finally{try{!o&&c.return&&c.return()}finally{if(a)throw s}}var u={},f=!0,h=!1,d=void 0;try{for(var p,g=this.objects[Symbol.iterator]();!(f=(p=g.next()).done);f=!0){var m=p.value;r[m[2]]||(u[m[0]]=m)}}catch(t){h=!0,d=t}finally{try{!f&&g.return&&g.return()}finally{if(h)throw d}}for(var v=0,b=[],y=0;y<this.circles.count;y++){var _=u[y];if(_){for(var x in this.circle_properties)n[x].push(this.circles[x][y]);_[0]=v,v++,b.push(_)}}for(var w in this.circle_properties)this.circles[w]=n[w];this.circles.count=v,setTimeout(function(){return e.refresh()},0)}},{key:"addSquare",value:function(t,e,n,i){var r=this.objects.length;i&&!this.keys[i]?this.keys[i]=r:(i=r,this.keys[r]=r);var o=this.squares.position.length;this.squares.position.push(t),this.squares.color.push([e[0]/255,e[1]/255,e[2]/255]),this.squares.size.push(n),this.squares.opacity.push(1),this.squares.pick_color.push(this._getRGBFromIndex(r+1)),this.objects.push([o,3,i]),this.squares.count++}},{key:"_getRGBFromIndex",value:function(t){var e=Math.floor(t/65536),n=t%65536;return[n%256/255,Math.floor(n/256)/255,e/255]}},{key:"_getIndexFromRGB",value:function(t){return 65536*t[2]+256*t[1]+t[0]}},{key:"_drawPickBuffer",value:function(t){this.regl.clear({color:[0,0,0,0],depth:1,framebuffer:this.pickbuffer}),this._drawObjects(!0,t)}},{key:"refresh",value:function(t){this._drawObjects(!1,t),this._drawPickBuffer(t),this.label_context.font="30px Arial"}},{key:"zoom",value:function(t){this.x_scale*=t,this.y_scale*=t,this._drawObjects(!1)}},{key:"_drawObject",value:function(t,e){var n=this.object_types[t[1]],i={stage_width:this.width,stage_height:this.height,x_scale:this.x_scale,y_scale:this.y_scale,buffer:null,offset:this.offset,count:n.vertices,primitive:n.primitive,is_buffer:0,universal_radius:this.universal_circle_radius,circle_borders:this.circle_borders?1:0};for(var r in n.properties)if("pick_color"!==r){i[r]=[];for(var o=t[0],a=o+n.vertices,s=o;s<a;s++)"color"!==r?i[r].push(n.data[r][s]):i[r].push(e)}n.method(i)}},{key:"_drawObjects",value:function(t,e){this.images.globals[0]=this.offset[0],this.images.globals[1]=this.offset[1],this.images.globals[2]=this.x_scale,this.images.globals[3]=this.y_scale,this.images.display_as_image&&this.loading_image&&this.__drawImages(this.images.props);var n="data";for(var i in this.config.in_view_only&&(n=e?"data_in_view":"data"),this.object_types){var r=this.object_types[i];if(r[n].count&&((t=t?this.pickbuffer:null)||4!=i||!this.images.display_as_image)){var o={stage_width:this.width,stage_height:this.height,x_scale:this.x_scale,y_scale:this.y_scale,globals:this.images.globals,buffer:t,offset:this.offset,count:r[n].count*r.vertices,primitive:r.primitive,is_buffer:t?1:0,universal_radius:this.universal_circle_radius,circle_borders:this.circle_borders?1:0};for(var a in 4==i&&(o.w_h=[0,0],o.x_y=[0,0],o.text=this.loading_image,o.is_buffer=1),5==i&&(o.w_h=this.imagetiles.w_h,o.text0=this.imagetiles.text0,o.text1=this.imagetiles.text1,o.text2=this.imagetiles.text2,o.text3=this.imagetiles.text3,o.text4=this.imagetiles.text4,o.i_w_h=this.imagetiles.i_w_h),r.properties)if(t){if("pick_color"===a){o.color=r[n][a];continue}if("color"===a)continue;o[a]=r[n][a]}else{if("pick_color"===a)continue;o[a]=r[n][a]}r.method(o)}}}},{key:"orderColumns",value:function(t,e,n,i){for(var r=n*i,o=(this.object_types[2],this.rects.position),a=this.rects.opacity,s=0;s<r;s+=n)for(var l=2*t[e[s]],c=6*s,u=c+6*n,f=c;f<u;f+=6)o[f][0]=l,o[f+1][0]=l,o[f+2][0]=l+2,o[f+3][0]=l+2,o[f+4][0]=l+2,o[f+5][0]=l,a[f]=op,a[f+1]=op,a[f+2]=op,a[f+4]=op,a[f+5]=op}},{key:"moveAndHide",value:function(t,e,n){this.object_types[2];var i=this.rects.position,r=this.rects.opacity,o=0,a=!0,s=!1,l=void 0;try{for(var c,u=e[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var f=c.value,h=0;void 0!==t[f[0]]&&(h=1);for(var d=6*f[1],p=6*f[2],g=d;g<p;g+=6)i[g][0]=o,i[g+1][0]=o,i[g+2][0]=o+2,i[g+3][0]=o+2,i[g+4][0]=o+2,i[g+5][0]=o,r[g]=h,r[g+1]=h,r[g+2]=h,r[g+3]=h,r[g+4]=h,r[g+5]=h;1===h&&(o+=2)}}catch(t){s=!0,l=t}finally{try{!a&&u.return&&u.return()}finally{if(s)throw l}}}},{key:"filterObjects",value:function(t,e){e||(e=0);var n=this.object_types[e],i=n.vertices,r=!0,o=!1,a=void 0;try{for(var s,l=this.objects[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var c=s.value,u=c[2];if(!this.is_hidden[u]){var f=c[0],h=.6;t[u]&&(h=1);for(var d=0;d<i;d++)n.data.opacity[f+d]=h}}}catch(t){o=!0,a=t}finally{try{!r&&l.return&&l.return()}finally{if(o)throw a}}}},{key:"filterImages",value:function(t){this.object_types[4];var e=!0,n=!1,i=void 0;try{for(var r,o=this.objects[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var a=r.value,s=a[2];t[s]?this.images.props[a[3]].opacity=[1,1,1,1,1,1]:this.images.props[a[3]].opacity=[.6,.6,.6,.6,.6,.6],this.is_hidden[s]&&(this.images.props[a[3]].opacity=[0,0,0,0,0,0])}}catch(t){n=!0,i=t}finally{try{!e&&o.return&&o.return()}finally{if(n)throw i}}}},{key:"hideImages",value:function(t){this.is_hidden={};this.object_types[4];var e=!0,n=!1,i=void 0;try{for(var r,o=this.objects[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var a=r.value,s=a[2];t[s]?this.images.props[a[3]].opacity=[1,1,1,1,1,1]:(this.is_hidden[s]=!0,this.images.props[a[3]].opacity=[0,0,0,0,0,0])}}catch(t){n=!0,i=t}finally{try{!e&&o.return&&o.return()}finally{if(n)throw i}}}},{key:"hideObjects",value:function(t,e,n){e||(e=0),this.is_hidden={},n||(n=1);var i=this.object_types[e],r=i.vertices,o=!0,a=!1,s=void 0;try{for(var l,c=this.objects[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var u=l.value,f=u[2],h=n,d=u[0];t[f]||(this.is_hidden[f]=!0,h=0);for(var p=0;p<r;p++)i.data.opacity[d+p]=h}}catch(t){a=!0,s=t}finally{try{!o&&c.return&&c.return()}finally{if(a)throw s}}}},{key:"initialise",value:function(t,e){var n=this,i=new Image(128,128);i.onload=function(){n.loading_image=n.regl.texture({data:i,min:"linear",width:128,height:128}),t()},i.src=e||"loading.png"}},{key:"_getObjectAtPosition",value:function(t){if(0!==t[1]){var e=this.regl.read({x:t[0],y:this.height-t[1],width:1,height:1,data:new Uint8Array(6),framebuffer:this.pickbuffer}),n=this._getIndexFromRGB(e);return n>0?this.objects[n-1]:null}}},{key:"checkImagesLoaded",value:function(){var t=this;this.images_to_load>0&&setTimeout(function(){t.refresh(),t.checkImagesLoaded()},2e3)}},{key:"_getObjectsInView",value:function(){if(this.config.in_view_only){Date.now();var t=this.width*this.height*4,e=this.regl.read({x:0,y:0,width:this.width,height:this.height,data:new Uint8Array(t),framebuffer:this.pickbuffer}),n={};this._clearObjectsInView();for(var i=0;i<t-4;i+=4){var r=65536*e[i+2]+256*e[i+1]+e[i];if(r>0&&!n[r-1]&&(n[r-1]=!0,this.objects_in_view++,this.objects_in_view>1e5)){for(var o in this.object_types){var a=this.object_types[o];for(var s in a.properties)a.data_in_view[s]=a.data[s];a.data_in_view.count=a.data.count}return void(this.objects_in_view=this.objects.length)}}var l=-this.offset[0],c=l+this.width/this.x_scale,u=(o=-this.offset[1])+this.height/this.y_scale;for(i=0;i<this.objects.length;i++)if(n[i]){var f=this.objects[i];a=this.object_types[f[1]];0;var h=(g=f[0])+a.vertices;for(var s in a.properties)for(var d=g;d<h;d++)a.data_in_view[s].push(a.data[s][d]);a.data_in_view.count++}else{f=this.objects[i],a=this.object_types[f[1]];var p=this.object_types[f[1]].data.position[f[0]];if(p[0]>l&&p[0]<c&&p[1]>o&&p[1]<u){0;var g;h=(g=f[0])+a.vertices;for(var s in a.properties)for(d=g;d<h;d++)a.data_in_view[s].push(a.data[s][d]);a.data_in_view.count++}}}}},{key:"_clearObjectsInView",value:function(){for(var t in this.objects_in_view=0,this.object_types){var e=this.object_types[t];for(var n in e.properties)e.data_in_view[n]=[];e.data_in_view.count=0}}},{key:"addHandler",value:function(t,e,n){var i=this.handlers[t];if(!i)throw"Handler Not Supported";return n||(n=Object.keys(i).length),i[n]=e,n}},{key:"removeHandler",value:function(t,e){var n=this.handlers[t];if(!n)throw"Handler Not Supported";delete n.name}},{key:"_setUpBrush",value:function(e){var n=this,i=t("<div>").css({position:"absolute",left:e[0],top:e[1],height:"0px",width:"0px",cursor:"move","background-color":"gray",opacity:.2}).attr("class","wgl2d-brush").appendTo(this.div_container);i.draggable({start:function(t,e){n.brush.moving=!0},stop:function(t,e){n._brushingStopped()},containment:"parent"}).resizable({handles:"all",start:function(t,e){n.brush.moving=!0},stop:function(t,e){n._brushingStopped()}}),this.brush={origin:e,div:i,resizing:!0}}},{key:"_setUpPolyBrush",value:function(t){this.poly_brush={points:[t],active:!0};var e=this.label_context;e.beginPath(),e.moveTo(t[0],t[1])}},{key:"_extendPolyBrush",value:function(t,e){var n=this.label_context;if(n.lineTo(t[0],t[1]),n.stroke(),this.poly_brush.points.push(t),e){n.closePath(),n.fillStyle="lightgray",n.globalAlpha=.4,n.fill();var i=[],r=!0,o=!1,a=void 0;try{for(var s,l=this.poly_brush.points[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var c=s.value;i.push(this._getActualPosition(c))}}catch(t){o=!0,a=t}finally{try{!r&&l.return&&l.return()}finally{if(o)throw a}}for(var u in this.handlers.brush_stopped)this.handlers.brush_stopped[u](i,!0)}}},{key:"_finishPolyBrush",value:function(t){if(this.poly_brush.points.length<4)this.clearBrush();else{var e=this.label_context;e.closePath(),e.fillStyle="lightgray",e.globalAlpha=.2,e.fill(),e.globalAlpha=1;var n=[];this.poly_brush.active=!1;var i=!0,r=!1,o=void 0;try{for(var a,s=this.poly_brush.points[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;n.push(this._getActualPosition(l))}}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}for(var c in this.handlers.brush_stopped)this.handlers.brush_stopped[c](n,!0)}}},{key:"clearBrush",value:function(){this.brush&&(this.brush.div.remove(),this.brush=null),this.poly_brush&&(this.label_context.clearRect(0,0,this.width,this.height),this.poly_brush=null)}},{key:"_brushingStopped",value:function(){if(this.brush.resizing=!1,this.brush.div.width()<2)this.clearBrush();else{var t=this.brush.div.position(),e=this._getActualPosition([t.left,t.top]),n=this._getActualPosition([t.left+this.brush.div.width(),t.top+this.brush.div.height()]),i={x_min:e[0],x_max:n[0],y_min:e[1],y_max:n[1]};for(var r in this.handlers.brush_stopped)this.handlers.brush_stopped[r](i)}}},{key:"_addHandlers",value:function(){var e=this;this.div_container.mousemove(function(t){if(e.brush){if(e.brush.resizing){var n=e.brush.origin,i=e._getMousePosition(t),r=Math.round(n[0]<i[0]?n[0]:i[0])+"px",o=Math.round(n[1]<i[1]?n[1]:i[1])+"px",a=Math.abs(n[0]-i[0])+"px",s=Math.abs(n[1]-i[1])+"px";return void e.brush.div.css({top:o,left:r,height:s,width:a})}if(e.brush.moving)return void(e.dragging=!1)}if(e.poly_brush&&e.poly_brush.active){clearTimeout(e.poly_brush_tidmout);var l=e._getMousePosition(t);e.poly_brush_timeout=setTimeout(function(){e._extendPolyBrush(l)},150)}if(e.mouse_position&&!e.dragging){var c=t.pageX-e.mouse_position[0],u=t.pageY-e.mouse_position[1];(Math.abs(c)>3||Math.abs(u)>3)&&(e.dragging=!0)}if(e.dragging){c=(t.pageX-e.mouse_position[0])/e.x_scale,u=(t.pageY-e.mouse_position[1])/e.y_scale;if(e.object_clicked){for(var f=e.object_types[e.object_clicked[1]],h=e.object_clicked[0],d=h+f.vertices,p=h;p<d;p++)f.data.position[p][0]+=c,f.data.position[p][1]+=u;if(4==e.object_clicked[1]){var g=h/6;e.images.props[g].x_y=[f.data.position[h][0],f.data.position[h][1]]}if(5==e.object_clicked[1]){var m=f.data.position[h][0],v=f.data.position[h][1];for(p=h;p<d;p++)f.data.x_y[p][0]=m,f.data.x_y[p][1]=v}e.refresh(!0)}else e.config.lock_x_axis||(e.offset[0]+=c),e.offset[1]+=u,e.loop||(e.label_context.clearRect(0,0,e.width,e.height),e.loop=e.regl.frame(function(){e._drawObjects(!1)}));e.mouse_position[1]=t.pageY,e.mouse_position[0]=t.pageX}else{var b=e._getMousePosition(t),y=e._getObjectAtPosition(b);if(y&&!e.object_mouse_over){for(var _ in e.handlers.object_over)e.handlers.object_over[_](y[2],t);e.object_mouse_over=y,e.mouse_over_color&&(e.object_temp_color=e.getObjectColor(y[2]),e.setObjectColor(y[2],e.mouse_over_color),e.refresh(!0))}else if(!y&&e.object_mouse_over){for(var _ in e.handlers.object_out)e.handlers.object_out[_](e.object_mouse_over[2]);e.mouse_over_color&&(e.setObjectColor(e.object_mouse_over[2],e.object_temp_color),e.refresh(!0)),e.object_mouse_over=null}else if(y&&y[2]!==e.object_mouse_over[2]){for(var _ in e.handlers.object_over)e.handlers.object_over[_](y[2],t);e.mouse_over_color&&(e.setObjectColor(e.object_mouse_over[2],e.object_temp_color),e.object_temp_color=e.getObjectColor(y[2]),e.setObjectColor(y[2],e.mouse_over_color),e.refresh(!0)),e.object_mouse_over=y}}}),this.div_container.mouseleave(function(t){if(e.object_mouse_over){for(var n in e.handlers.object_out)e.handlers.object_out[n](e.object_mouse_over[2]);e.object_mouse_over=null}e.brush&&e.brush.resizing&&e._brushingStopped()}),this.div_container.mouseup(function(t){if(e.config.brush&&e.div_container.css("cursor","crosshair"),e.brush&&e.brush.resizing)e._brushingStopped();else{if(e.poly_brush&&e.poly_brush.active&&e._finishPolyBrush(),e.dragging){if(e.object_clicked)e.object_clicked=null,e.refresh(!0);else{var n=e.getRange();for(var i in e.handlers.panning_stopped)e.handlers.panning_stopped[i](n);e.loop.cancel(),e.loop=null,e._drawPickBuffer(),e._getObjectsInView(),e.brush&&e._brushingStopped(),e.refresh(!0)}e.dragging=!1}else if(e.object_clicked){var r=e._getMousePosition(t),o=e._getObjectAtPosition(r);if(o)for(var i in e.handlers.object_clicked)e.handlers.object_clicked[i](o[2])}e.object_clicked=null,e.mouse_position=null}}),this.div_container.bind("mousewheel DOMMouseScroll",function(n){var i=e._getActualPosition(e._getMousePosition(n));n.originalEvent.wheelDelta>0||n.originalEvent.detail<0?e.zoom_amount+=.01:e.zoom_amount-=.01,e.config.lock_x_axis||(e.x_scale*=1+e.zoom_amount),e.y_scale*=1+e.zoom_amount;var r=e._getActualPosition(e._getMousePosition(n));e.offset[0]+=r[0]-i[0],e.offset[1]+=r[1]-i[1],e.loop||(e.label_context.clearRect(0,0,e.width,e.height),e.loop=e.regl.frame(function(){e._drawObjects(!1)})),clearTimeout(t.data(this,"timer")),t.data(this,"timer",setTimeout(function(){e.zoom_amount=0,e.loop.cancel(),e.loop=null,e._drawPickBuffer(!1),e._getObjectsInView(),e.brush;var t=e.getRange();for(var n in e.handlers.zoom_stopped)e.handlers.zoom_stopped[n](t);e.refresh(!0)},350))}),this.div_container.mousedown(function(n){if(n.which,e.config.brush&&!n.shiftKey||!e.config.brush&&n.shiftKey){var i=e._getMousePosition(n);if("default"==e.config.brush){var r=t(n.target);if(r.hasClass("wgl2d-brush")||r.hasClass("ui-resizable-handle"))return;e.brush&&e.clearBrush();var o=e._getMousePosition(n);return void e._setUpBrush(o)}if("poly"===e.config.brush)return e.poly_brush&&e.clearBrush(),void e._setUpPolyBrush(i)}n.shiftKey&&e.div_container.css("cursor","move");var a=e._getMousePosition(n);e.mouse_position=[n.pageX,n.pageY];var s=e._getObjectAtPosition(a);s&&e.config.allow_object_drag&&(e.object_clicked=s)})}},{key:"_initDrawMethods",value:function(){var t;this.__drawCircles=this.regl({depth:this.draw_options.depth,blend:this.draw_options.blend,frag:"precision highp float;\n\t\t\tvarying vec3 fragColor;\n\t\t\tvarying float op;\n\t\t\tvarying float s_angle;\n\t\t\tvarying float e_angle;\n\t\t\tvarying float has_border;\n\t\t\tvoid main(){\n\t\t\t\t\t\t\tfloat r = 0.0;\n\t\t\t\t\t\t\tvec2 cxy = 2.0 * gl_PointCoord - 1.0;\n\t\t\t\t\t\t\tr = dot(cxy, cxy);\n\t\t\t\t\t\t\tif (r > 1.0) {\n\t\t\t\t\t\t\t\tdiscard;\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\tif (s_angle != 10.0){\n\t\t\t\t\t\t\t\t\tfloat angle=0.0;\n\t\t\t\t\t\t\t\t\tangle =atan(cxy[1],cxy[0]);\n\t\t\t\t\t\t\t\t\tif (angle>s_angle && angle < e_angle){\n\t\t\t\t\t\t\t\t\t\tif(r>0.75 && has_border==1.0){\n\t\t\t\t\t\t\t\t\t\t\tgl_FragColor=vec4(0.1,0.1,0.1,op);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\t\t\t\tgl_FragColor = vec4(fragColor,op);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\t\t\tdiscard;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\t\tif(r>0.75 && has_border==1.0){\n\t\t\t\t\t\t\t\t\t\tgl_FragColor=vec4(0.1,0.1,0.1,op);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\t\t\tgl_FragColor = vec4(fragColor,op);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t}\n",vert:"attribute vec2 position;\n\t\t\tattribute vec3 color;\n\t\t\tattribute float opacity;\n\t\t\tvarying vec3 fragColor;\n\t\t\tvarying float op;\n\t\t\tvarying float has_border;\n\t\t\tattribute float start_angle;\n\t\t\tvarying float s_angle;\n\t\t\tvarying float e_angle;\n\t\t\tattribute float end_angle;\n\t\t\tattribute float radius;\n\t\t\tuniform float x_scale;\n\t\t\tuniform float y_scale;\n\t\t\tuniform vec2 offset;\n\t\t\tuniform float stage_height;\n\t\t\tuniform float stage_width;\n\t\t\tuniform float universal_radius;\n\t\t\tuniform float circle_borders;\n\t\t\tvec2 normalizeCoords(vec2 position){\n\t\t\t\tfloat x = (position[0]+offset[0])*x_scale;\n\t\t\t\tfloat y = (position[1]+offset[1])*y_scale;\n\t\t\t\treturn vec2(2.0 * ((x / stage_width) - 0.5),-(2.0 * ((y / stage_height) - 0.5)));\n\t\t\t}\n\t\t\tvoid main() {\n\t\t\t   if (opacity==0.0){\n\t\t\t         return;\n\t\t\t\t}\n\t\t\t\tfloat r=radius;\n\t\t\t\tif (universal_radius!=0.0){\n\t\t\t\t\tr=universal_radius;\n\t\t\t\t}\n\t\t\t\tgl_PointSize = r*x_scale;\n\t\t\t\tfragColor = color;\n\t\t\t\top=opacity;\n\t\t\t\thas_border=circle_borders;\n\t\t\t\ts_angle=start_angle;\n\t\t\t\te_angle = end_angle;\n\t\t\t\tvec2 real_position = normalizeCoords(position);\n\t\t\t\tgl_Position = vec4(real_position, 0.0, 1.0);\n\t\t\t}\n",attributes:{position:this.regl.prop("position"),color:this.regl.prop("color"),radius:this.regl.prop("radius"),start_angle:this.regl.prop("start_angle"),end_angle:this.regl.prop("end_angle"),opacity:this.regl.prop("opacity")},uniforms:{x_scale:this.regl.prop("x_scale"),y_scale:this.regl.prop("y_scale"),stage_width:this.regl.prop("stage_width"),stage_height:this.regl.prop("stage_height"),offset:this.regl.prop("offset"),universal_radius:this.regl.prop("universal_radius"),circle_borders:this.regl.prop("circle_borders")},count:this.regl.prop("count"),primitive:this.regl.prop("primitive"),framebuffer:this.regl.prop("buffer")}),this.object_types[0].method=this.__drawCircles,this.__drawLines=this.regl({frag:" precision highp float;\n\t\t\t\t\t\tvarying vec3 fragColor;\n\t\t\t\t\t\tvoid main () {\n\t\t\t\t\t\t\t gl_FragColor = vec4(fragColor,1);\n\t\t\t\t\t\t}\n",vert:"\n\t\t\t\t\t\tattribute vec2 position;\n\t\t\t\t\t\tattribute vec3 color;\n\t\t\t\t\t\tattribute float opacity;\n\t\t\t\t\t\tuniform float x_scale;\n\t\t\t\t\t\tuniform float y_scale;\n\t\t\t\t\t\tuniform vec2 offset;\n\t\t\t\t\t\tuniform float stage_height;\n\t\t\t\t\t\tuniform float stage_width;\n\t\t\t\t\t\tvarying vec3 fragColor;\n\t\t\t\t\t\t//varying float op;\n\t\t\t\t\t\tvec2 normalizeCoords(vec2 position){\t    \n\t\t\t\t\t\t\tfloat x = (position[0]+offset[0])*x_scale;\n\t\t\t\t\t\t\tfloat y = (position[1]+offset[1])*y_scale;\n\t\t\t\t            return vec2(2.0 * ((x / stage_width) - 0.5),-(2.0 * ((y / stage_height) - 0.5)));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvoid main () {\n\t\t\t\t\t\t\tif (opacity==0.0){\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tfragColor=color;\n\t\t\t\t\t\t\tvec2 norm_pos =normalizeCoords(position);\n\t\t\t\t\t\t\tgl_Position = vec4(norm_pos, 0.0, 1.0);\n\t\t\t\t\t\t}",attributes:{position:this.regl.prop("position"),color:this.regl.prop("color"),opacity:this.regl.prop("opacity")},uniforms:{x_scale:this.regl.prop("x_scale"),y_scale:this.regl.prop("y_scale"),stage_width:this.regl.prop("stage_width"),stage_height:this.regl.prop("stage_height"),offset:this.regl.prop("offset")},primitive:this.regl.prop("primitive"),framebuffer:this.regl.prop("buffer"),count:this.regl.prop("count")}),this.object_types[1].method=this.__drawLines,this.object_types[2].method=this.__drawLines,this.__drawSquares=this.regl({frag:"precision highp float;\n\t\t\t\t  varying vec3 fragColor;\n\t\t\t\t  varying float op;\n\t\t\t\t  uniform int is_buffer;\n\t\t\t      void main(){\n\t\t\t\t      gl_FragColor = vec4(fragColor,op);\n\t\t\t\t\t\t\n\t\t\t\t   }",vert:"attribute vec2 position;\t\n\t\t\t\t   attribute vec3 color;\n\t\t\t\t   attribute float opacity;\n\t\t\t\t   attribute float size;\n\t\t\t\t   uniform float x_scale;\n\t\t\t\t   uniform float y_scale;\n\t\t\t\t   uniform vec2 offset;\n\t\t\t\t   uniform float stage_height;\n\t\t\t\t   uniform float stage_width;\n\t\t\t\t   uniform float universal_radius;\n\t\t\t\t   varying vec3 fragColor;\n\t\t\t\t   varying float op;\n\t\t\t       vec2 normalizeCoords(vec2 position){\n\t\t\t\t       float x = (position[0]+offset[0])*x_scale;\n\t\t\t\t\t   float y = (position[1]+offset[1])*y_scale;\n\t\t\t\t       return vec2(2.0 * ((x / stage_width) - 0.5),-(2.0 * ((y / stage_height) - 0.5)));\n\t\t\t\t\t}\n\t\t\t        void main() {\n\t\t\t           if (opacity==0.0){\n\t\t\t           \t   return;\n\t\t\t           }\n\t\t\t           float s=size;\n\t\t\t           if (universal_radius!=0.0){\n\t\t\t\t\t       s=universal_radius;\n\t\t\t\t       }\n\t\t\t\t       gl_PointSize = s*y_scale;\n\t\t\t\t\t   fragColor = color;\n\t\t\t\t\t   op=opacity;\n\t\t\t\t\t   vec2 real_position = normalizeCoords(position);\n\t\t\t\t\t   gl_Position = vec4(real_position, 0.0, 1.0);\n\t\t\t       }",attributes:{position:this.regl.prop("position"),color:this.regl.prop("color"),size:this.regl.prop("size"),opacity:this.regl.prop("opacity")},uniforms:{x_scale:this.regl.prop("x_scale"),y_scale:this.regl.prop("y_scale"),stage_width:this.regl.prop("stage_width"),stage_height:this.regl.prop("stage_height"),offset:this.regl.prop("offset"),universal_radius:this.regl.prop("universal_radius")},count:this.regl.prop("count"),primitive:this.regl.prop("primitive"),framebuffer:this.regl.prop("buffer")}),this.object_types[3].method=this.__drawSquares,this.__drawImages=this.regl({frag:"\n\t\t\t\tprecision mediump float;\n\t\t\t\tuniform sampler2D text;\n\t\t\t\tvarying vec2 uv;\n\t\t\t\tvarying vec3 fragColor;\n\t\t\t\tvarying float is_buff;\n\t\t\t\tvarying float op;\n\t\t\t\tvoid main () {\n\t\t\t\t\tif (is_buff==0.0){\n\t\t\t\t\t\tgl_FragColor = vec4(fragColor,op)*texture2D(text, uv);\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tgl_FragColor=vec4(fragColor,1.0);\n\t\t\t\t\t}\n\t\t\t\t}",vert:"\n\t\t\t\tprecision mediump float;\n\t\t\t\tattribute vec2 position;\n\t\t\t\tattribute vec3 color;\n\t\t\t\tattribute float opacity;\n\t\t\t\tuniform vec2 x_y;\n\t\t\t\tuniform vec2 w_h;\n\t\t\t\tuniform float stage_height;\n\t\t\t\tuniform float stage_width;\n\t\t\t\tuniform vec4 globals;\n\t\t\t\tuniform float is_buffer;\n\n\n\t\t\t\tvarying vec2 uv;\n\t\t\t\tvarying vec3 fragColor;\n\t\t\t\tvarying float is_buff;\n\t\t\t\tvarying float op;\n\n\n\t\t\t\n\t\t\t\t\n\t\t\t\tvec2 normalizeCoords(vec2 pos){\n\t\t\t\t\tfloat x = (pos[0]+globals[0])*globals[2];\n\t\t\t\t\tfloat y = (pos[1]+globals[1])*globals[3];\n\t\t\t\t\treturn vec2(2.0 * ((x / stage_width) - 0.5),-(2.0 * ((y / stage_height) - 0.5)));\n\t\t\t\t}\n\n\t\t\t\tvoid main () {\n\t\t\t\t\tif (opacity==0.0){\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\top=opacity;\n\t\t\t\t\tvec2 middle = vec2(0.5,0.5)*w_h;\n\t\t\t\t\tvec2 n_position=position;// - middle;\n\t\t\t\t\tvec2 n_x_y= x_y;// - middle;\n\n\t\t\t\t\tvec2 new_pos=normalizeCoords(n_position);\n\t\t\t\t\tis_buff=is_buffer;\n\t\t\t\t\tfragColor = color;\n\t\t\t\t\n\n\t\t\t\t\tif (is_buffer==0.0){\n\n\t\t\t\t\t\tfloat x_factor = 1.0/(((w_h[0]*globals[2])/stage_width)*2.0);\n\t\t\t\t\t\tfloat y_factor = 1.0/(((w_h[1]*globals[3])/stage_height)*2.0);\n\t\t\t\t\t\n\n\t\t\t\t\t\tfloat x_offset=(((n_x_y[0]+globals[0])*globals[2])/stage_width)*2.0*x_factor;\n\t\t\t\t\t\tfloat y_offset=(((n_x_y[1]+globals[1])*globals[3])/stage_height)*2.0*y_factor;\n\t\t\t\t\t\tuv = vec2((new_pos[0]*x_factor)+x_factor-x_offset,-(new_pos[1]*y_factor)+y_factor-y_offset);\n\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t\n\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\tgl_Position = vec4(new_pos, 0, 1);\n\n\t\t\t\t}",attributes:{position:this.regl.prop("position"),color:this.regl.prop("color"),opacity:this.regl.prop("opacity")},uniforms:{stage_height:this.regl.context("viewportHeight"),stage_width:this.regl.context("viewportWidth"),w_h:this.regl.prop("w_h"),x_y:this.regl.prop("x_y"),text:this.regl.prop("text"),globals:this.regl.prop("globals"),is_buffer:this.regl.prop("is_buffer")},count:this.regl.prop("count"),framebuffer:this.regl.prop("buffer")}),this.object_types[4].method=this.__drawImages,this.__drawImagetiles=this.regl({frag:"\n\t\t\t\tprecision mediump float;\n\t\t\t\tuniform sampler2D text0;\n\t\t\t\tuniform sampler2D text1;\n\t\t\t\tuniform sampler2D text2;\n\t\t\t\tuniform sampler2D text3;\n\t\t\t\tuniform sampler2D text4;\n\t\t\t\tvarying vec2 uv;\n\t\t\t\tvarying vec3 fragColor;\n\t\t\t\tvarying float is_buff;\n\t\t\t\tvarying float op;\n\t\t\t\tvarying float sheet;\n\t\t\t\tvoid main () {\n\t\t\t\t\tif (is_buff==0.0){\n\t\t\t\t\t\tif (sheet==0.0){\n\t\t\t\t\t\t\tgl_FragColor = vec4(fragColor,op)*texture2D(text0, uv);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (sheet==1.0){\n\t\t\t\t\t\t\tgl_FragColor = vec4(fragColor,op)*texture2D(text1, uv);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (sheet==2.0){\n\t\t\t\t\t\t\tgl_FragColor = vec4(fragColor,op)*texture2D(text2, uv);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (sheet==3.0){\n\t\t\t\t\t\t\tgl_FragColor = vec4(fragColor,op)*texture2D(text3, uv);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (sheet==4.0){\n\t\t\t\t\t\t\tgl_FragColor = vec4(fragColor,op)*texture2D(text3, uv);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tgl_FragColor=vec4(fragColor,1.0);\n\t\t\t\t\t}\n\t\t\t\t}",vert:"\n\t\t\t\tprecision mediump float;\n\t\t\t\tattribute vec2 position;\n\t\t\t\tattribute vec3 color;\n\t\t\t\tattribute float opacity;\n\t\t\t\tattribute vec2 x_y;\n\t\t\t\tattribute vec3 c_r;\n\t\t\t\tuniform vec2 w_h;\n\t\t\t\tuniform vec2 i_w_h;\n\t\t\t\tuniform float stage_height;\n\t\t\t\tuniform float stage_width;\n\t\t\t\tuniform float is_buffer;\n\t\t\t\tuniform float x_scale;\n\t\t\t\tuniform float y_scale;\n\t\t\t\tuniform vec2 offset;\n\n\n\t\t\t\tvarying vec2 uv;\n\t\t\t\tvarying vec3 fragColor;\n\t\t\t\tvarying float is_buff;\n\t\t\t\tvarying float op;\n\t\t\t\tvarying float sheet;\n\n\n\t\t\t\n\t\t\t\t\n\t\t\t\tvec2 normalizeCoords(vec2 pos){\n\t\t\t\t\tfloat x = (pos[0]+offset[0])*x_scale;\n\t\t\t\t\tfloat y = (pos[1]+offset[1])*y_scale;\n\t\t\t\t\treturn vec2(2.0 * ((x / stage_width) - 0.5),-(2.0 * ((y / stage_height) - 0.5)));\n\t\t\t\t}\n\n\t\t\t\tvoid main () {\n\t\t\t\t\tif (opacity==0.0){\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\top=opacity;\n\t\t\t\t\tvec2 middle = vec2(0.5,0.5)*i_w_h;\n\t\t\t\t\tvec2 n_position=position - middle;\n\t\t\t\t\tvec2 n_x_y = x_y - (vec2(c_r[1],c_r[2])*i_w_h) - middle;\n\t\t\t\t\t//vec2 n_x_y= x_y -middle\n\n\t\t\t\t\tvec2 new_pos=normalizeCoords(n_position);\n\t\t\t\t\tis_buff=is_buffer;\n\t\t\t\t\tfragColor = color;\n\t\t\t\t\tsheet=c_r[0];\n\t\t\t\t\n\n\t\t\t\t\tif (is_buffer==0.0){\n\n\n\t\t\t\t\t\tfloat x_factor = 1.0/(((w_h[0]*x_scale)/stage_width)*2.0);\n\t\t\t\t\t\tfloat y_factor = 1.0/(((w_h[1]*y_scale)/stage_height)*2.0);\n\t\t\t\t\t\n\n\t\t\t\t\t\tfloat x_offset=(((n_x_y[0]+offset[0])*x_scale)/stage_width)*2.0*x_factor;\n\t\t\t\t\t\tfloat y_offset=(((n_x_y[1]+offset[1])*y_scale)/stage_height)*2.0*y_factor;\n\t\t\t\t\t\tuv = vec2((new_pos[0]*x_factor)+x_factor-x_offset,-(new_pos[1]*y_factor)+y_factor-y_offset);\n\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t\n\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\tgl_Position = vec4(new_pos, 0, 1);\n\n\t\t\t\t}",attributes:{position:this.regl.prop("position"),color:this.regl.prop("color"),opacity:this.regl.prop("opacity"),x_y:this.regl.prop("x_y"),c_r:this.regl.prop("c_r")},uniforms:(t={stage_height:this.regl.context("viewportHeight"),stage_width:this.regl.context("viewportWidth"),w_h:this.regl.prop("w_h"),sprite_dim:this.regl.prop("sprite_dim"),text0:this.regl.prop("text0"),text1:this.regl.prop("text1"),text2:this.regl.prop("text2"),text3:this.regl.prop("text3")},o(t,"text3",this.regl.prop("text3")),o(t,"is_buffer",this.regl.prop("is_buffer")),o(t,"x_scale",this.regl.prop("x_scale")),o(t,"y_scale",this.regl.prop("y_scale")),o(t,"offset",this.regl.prop("offset")),o(t,"i_w_h",this.regl.prop("i_w_h")),t),count:this.regl.prop("count"),framebuffer:this.regl.prop("buffer")}),this.object_types[5].method=this.__drawImagetiles}}]),e}();e.WGL2DI=a}).call(this,n(0))},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i="Expected a function",r="__lodash_hash_undefined__",o=1/0,a="[object Function]",s="[object GeneratorFunction]",l="[object Symbol]",c=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,u=/^\w*$/,f=/^\./,h=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,d=/\\(\\)?/g,p=/^\[object .+?Constructor\]$/,g="object"==(void 0===t?"undefined":n(t))&&t&&t.Object===Object&&t,m="object"==("undefined"==typeof self?"undefined":n(self))&&self&&self.Object===Object&&self,v=g||m||Function("return this")();var b,y=Array.prototype,_=Function.prototype,x=Object.prototype,w=v["__core-js_shared__"],k=(b=/[^.]+$/.exec(w&&w.keys&&w.keys.IE_PROTO||""))?"Symbol(src)_1."+b:"",C=_.toString,F=x.hasOwnProperty,A=x.toString,S=RegExp("^"+C.call(F).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),D=v.Symbol,M=y.splice,T=H(v,"Map"),E=H(Object,"create"),P=D?D.prototype:void 0,I=P?P.toString:void 0;function R(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function N(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function z(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function O(t,e){for(var n,i,r=t.length;r--;)if((n=t[r][0])===(i=e)||n!=n&&i!=i)return r;return-1}function L(t){return!(!V(t)||k&&k in t)&&($(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t)?S:p).test(function(t){if(null!=t){try{return C.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t))}function j(t,e){var i,r,o=t.__data__;return("string"==(r=void 0===(i=e)?"undefined":n(i))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==i:null===i)?o["string"==typeof e?"string":"hash"]:o.map}function H(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return L(n)?n:void 0}R.prototype.clear=function(){this.__data__=E?E(null):{}},R.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},R.prototype.get=function(t){var e=this.__data__;if(E){var n=e[t];return n===r?void 0:n}return F.call(e,t)?e[t]:void 0},R.prototype.has=function(t){var e=this.__data__;return E?void 0!==e[t]:F.call(e,t)},R.prototype.set=function(t,e){return this.__data__[t]=E&&void 0===e?r:e,this},N.prototype.clear=function(){this.__data__=[]},N.prototype.delete=function(t){var e=this.__data__,n=O(e,t);return!(n<0||(n==e.length-1?e.pop():M.call(e,n,1),0))},N.prototype.get=function(t){var e=this.__data__,n=O(e,t);return n<0?void 0:e[n][1]},N.prototype.has=function(t){return O(this.__data__,t)>-1},N.prototype.set=function(t,e){var n=this.__data__,i=O(n,t);return i<0?n.push([t,e]):n[i][1]=e,this},z.prototype.clear=function(){this.__data__={hash:new R,map:new(T||N),string:new R}},z.prototype.delete=function(t){return j(this,t).delete(t)},z.prototype.get=function(t){return j(this,t).get(t)},z.prototype.has=function(t){return j(this,t).has(t)},z.prototype.set=function(t,e){return j(this,t).set(t,e),this};var B=q(function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(G(t))return I?I.call(t):"";var e=t+"";return"0"==e&&1/t==-o?"-0":e}(e);var n=[];return f.test(t)&&n.push(""),t.replace(h,function(t,e,i,r){n.push(i?r.replace(d,"$1"):e||t)}),n});function W(t){if("string"==typeof t||G(t))return t;var e=t+"";return"0"==e&&1/t==-o?"-0":e}function q(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(i);var n=function n(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var a=t.apply(this,i);return n.cache=o.set(r,a),a};return n.cache=new(q.Cache||z),n}q.Cache=z;var U=Array.isArray;function $(t){var e=V(t)?A.call(t):"";return e==a||e==s}function V(t){var e=void 0===t?"undefined":n(t);return!!t&&("object"==e||"function"==e)}function G(t){return"symbol"==(void 0===t?"undefined":n(t))||function(t){return!!t&&"object"==(void 0===t?"undefined":n(t))}(t)&&A.call(t)==l}e.result=function(t,e,i){var r=-1,o=(e=function(t,e){if(U(t))return!1;var i=void 0===t?"undefined":n(t);return!("number"!=i&&"symbol"!=i&&"boolean"!=i&&null!=t&&!G(t))||u.test(t)||!c.test(t)||null!=e&&t in Object(e)}(e,t)?[e]:function(t){return U(t)?t:B(t)}(e)).length;for(o||(t=void 0,o=1);++r<o;){var a=null==t?void 0:t[W(e[r])];void 0===a&&(r=o,a=i),t=$(a)?a.call(t):a}return t}}).call(this,n(8))},function(t,e,n){"use strict";if(Object.defineProperty(e,"__esModule",{value:!0}),"undefined"!=typeof Uint8Array)var i=function(t){return new Uint8Array(t)},r=function(t,e){if(t.length>=e)return t;var n=new t.constructor(e);return n.set(t),n},o=function(t,e){var n,i;switch(e){case 16:i=t.length,n=new Uint16Array(i);break;case 32:n=function(t){return new Uint32Array(t)}(t.length);break;default:throw new Error("invalid array width!")}return n.set(t),n};function a(t){for(var e=new Array(t),n=-1;++n<t;)e[n]=0;return e}function s(t){this.length=t,this.subarrays=1,this.width=8,this.masks={0:0},this[0]=i(t)}function l(t){return t}function c(t){function e(e,n,i,r){for(;i<r;){var o=i+r>>>1;n<t(e[o])?r=o:i=o+1}return i}return e.right=e,e.left=function(e,n,i,r){for(;i<r;){var o=i+r>>>1;t(e[o])<n?i=o+1:r=o}return i},e}s.prototype.lengthen=function(t){var e,n;for(e=0,n=this.subarrays;e<n;++e)this[e]=r(this[e],t);this.length=t},s.prototype.add=function(){var t,e,n,r,a;for(r=0,a=this.subarrays;r<a;++r)if(n=~(t=this.masks[r])&-~t,!((e=this.width-32*r)>=32)||n)return e<32&&n&1<<e&&(this[r]=o(this[r],e<<=1),this.width=32*r+e),this.masks[r]|=n,{offset:r,one:n};return this[this.subarrays]=i(this.length),this.masks[this.subarrays]=1,this.width+=8,{offset:this.subarrays++,one:1}},s.prototype.copy=function(t,e){var n,i;for(n=0,i=this.subarrays;n<i;++n)this[n][t]=this[n][e]},s.prototype.truncate=function(t){var e,n;for(e=0,n=this.subarrays;e<n;++e){for(var i=this.length-1;i>=t;i--)this[e][i]=0;this[e].length=t}this.length=t},s.prototype.zero=function(t){var e,n;for(e=0,n=this.subarrays;e<n;++e)if(this[e][t])return!1;return!0},s.prototype.zeroExcept=function(t,e,n){var i,r;for(i=0,r=this.subarrays;i<r;++i)if(i===e?this[i][t]&n:this[i][t])return!1;return!0},s.prototype.zeroExceptMask=function(t,e){var n,i;for(n=0,i=this.subarrays;n<i;++n)if(this[n][t]&e[n])return!1;return!0},s.prototype.only=function(t,e,n){var i,r;for(i=0,r=this.subarrays;i<r;++i)if(this[i][t]!=(i===e?n:0))return!1;return!0},s.prototype.onlyExcept=function(t,e,n,i,r){var o,a,s;for(a=0,s=this.subarrays;a<s;++a)if(o=this[a][t],a===e&&(o&=n),o!=(a===i?r:0))return!1;return!0};var u=c(l);function f(t){function e(t,e,i){for(var r=i-e,o=1+(r>>>1);--o>0;)n(t,o,r,e);return t}function n(e,n,i,r){for(var o,a=e[--r+n],s=t(a);(o=n<<1)<=i&&(o<i&&t(e[r+o])>t(e[r+o+1])&&o++,!(s<=t(e[r+o])));)e[r+n]=e[r+o],n=o;e[r+n]=a}return e.sort=function(t,e,i){for(var r,o=i-e;--o>0;)r=t[e],t[e]=t[e+o],t[e+o]=r,n(t,1,o,e);return t},e}u.by=c;var h=f(l);function d(t){var e=h.by(t);return function(n,i,r,o){var a,s,l,c=new Array(o=Math.min(r-i,o));for(s=0;s<o;++s)c[s]=n[i++];if(e(c,0,o),i<r){a=t(c[0]);do{t(l=n[i])>a&&(c[0]=l,a=t(e(c,0,o)[0]))}while(++i<r)}return c}}h.by=f;var p=d(l);function g(t){return function(e,n,i){for(var r=n+1;r<i;++r){for(var o=r,a=e[r],s=t(a);o>n&&t(e[o-1])>s;--o)e[o]=e[o-1];e[o]=a}return e}}p.by=d;var m=g(l);function v(t){var e=m.by(t);function n(i,r,o){return(o-r<b?e:function(e,i,r){var o,a=(r-i)/6|0,s=i+a,l=r-1-a,c=i+r-1>>1,u=c-a,f=c+a,h=e[s],d=t(h),p=e[u],g=t(p),m=e[c],v=t(m),b=e[f],y=t(b),_=e[l],x=t(_);d>g&&(o=h,h=p,p=o,o=d,d=g,g=o);y>x&&(o=b,b=_,_=o,o=y,y=x,x=o);d>v&&(o=h,h=m,m=o,o=d,d=v,v=o);g>v&&(o=p,p=m,m=o,o=g,g=v,v=o);d>y&&(o=h,h=b,b=o,o=d,d=y,y=o);v>y&&(o=m,m=b,b=o,o=v,v=y,y=o);g>x&&(o=p,p=_,_=o,o=g,g=x,x=o);g>v&&(o=p,p=m,m=o,o=g,g=v,v=o);y>x&&(o=b,b=_,_=o,o=y,y=x,x=o);var w=p,k=g,C=b,F=y;e[s]=h,e[u]=e[i],e[c]=m,e[f]=e[r-1],e[l]=_;var A=i+1,S=r-2,D=k<=F&&k>=F;if(D)for(var M=A;M<=S;++M){var T=e[M],E=t(T);if(E<k)M!==A&&(e[M]=e[A],e[A]=T),++A;else if(E>k)for(;;){var P=t(e[S]);if(!(P>k)){if(P<k){e[M]=e[A],e[A++]=e[S],e[S--]=T;break}e[M]=e[S],e[S--]=T;break}S--}}else!function(){for(var n=A;n<=S;n++){var i=e[n],r=t(i);if(r<k)n!==A&&(e[n]=e[A],e[A]=i),++A;else if(r>F)for(;;){var o=t(e[S]);if(!(o>F)){o<k?(e[n]=e[A],e[A++]=e[S],e[S--]=i):(e[n]=e[S],e[S--]=i);break}if(--S<n)break}}}();if(e[i]=e[A-1],e[A-1]=w,e[r-1]=e[S+1],e[S+1]=C,n(e,i,A-1),n(e,S+2,r),D)return e;A<s&&S>l&&function(){for(var n,i;(n=t(e[A]))<=k&&n>=k;)++A;for(;(i=t(e[S]))<=F&&i>=F;)--S;for(var r=A;r<=S;r++){var o=e[r],a=t(o);if(a<=k&&a>=k)r!==A&&(e[r]=e[A],e[A]=o),A++;else if(a<=F&&a>=F)for(;;){if(!((i=t(e[S]))<=F&&i>=F)){i<k?(e[r]=e[A],e[A++]=e[S],e[S--]=o):(e[r]=e[S],e[S--]=o);break}if(--S<r)break}}}();return n(e,A,S+1)})(i,r,o)}return n}m.by=g;var b=32,y=v(l);y.by=v;var _={reduceIncrement:function(t){return t+1},reduceDecrement:function(t){return t-1},reduceAdd:function(t){return function(e,n){return e+ +t(n)}},reduceSubtract:function(t){return function(e,n){return e-t(n)}}},x={filterExact:function(t,e){return function(n){var i=n.length;return[t.left(n,e,0,i),t.right(n,e,0,i)]}},filterRange:function(t,e){var n=e[0],i=e[1];return function(e){var r=e.length;return[t.left(e,n,0,r),t.left(e,i,0,r)]}},filterAll:function(t){return[0,t.length]}},w={array8:a,array16:a,array32:a,arrayLengthen:function(t,e){for(var n=t.length;n<e;)t[n++]=0;return t},arrayWiden:function(t,e){if(e>32)throw new Error("invalid array width!");return t},bitarray:s};e.xfilterArray=w,e.bisect=u,e.crossfilter_identity=l,e.xfilterFilter=x,e.crossfilter_null=function(){return null},e.crossfilter_zero=function(){return 0},e.xfilterHeapselect=p,e.xfilterHeap=h,e.insertionsort=m,e.permute=function(t,e,n){for(var i=0,r=e.length,o=n?JSON.parse(JSON.stringify(t)):new Array(r);i<r;++i)o[i]=t[e[i]];return o},e.quicksort=y,e.xfilterReduce=_},function(t,e,n){"use strict";(function(t){function e(t){var e=t.css("height");return e?parseInt(e.replace("px","")):0}t.fn.extend({dialogFix:function(){return this.each(function(){t(this).parent().find(".ui-dialog-titlebar-close").css("font-size","0px"),t(this).on("dialogresize dialogresizestop",function(e,n){t(this).resizeDialog()})})},resizeDialog:function(){return this.each(function(){var n=t(this),i=n.parent(),r=e(i.find(".ui-dialog-titlebar")),o=e(i.find(".ui-dialog-buttonpane")),a=e(i)-r-o-10+"px";n.css({width:"auto",height:a})})}})}).call(this,n(0))},function(t,e,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};r=[n(0)],void 0===(o="function"==typeof(i=function(t){function e(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.regional.en=t.extend(!0,{},this.regional[""]),this.regional["en-US"]=t.extend(!0,{},this.regional.en),this.dpDiv=n(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function n(e){var n="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.on("mouseout",n,function(){t(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).removeClass("ui-datepicker-next-hover")}).on("mouseover",n,i)}function i(){t.datepicker._isDisabledDatepicker(d.inline?d.dpDiv.parent()[0]:d.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).addClass("ui-datepicker-next-hover"))}function r(e,n){for(var i in t.extend(e,n),n)null==n[i]&&(e[i]=n[i]);return e}function o(t){return function(){var e=this.element.val();t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change")}}t.ui=t.ui||{},t.ui.version="1.12.1";var s=0,l=Array.prototype.slice;t.cleanData=function(e){return function(n){var i,r,o;for(o=0;null!=(r=n[o]);o++)try{(i=t._data(r,"events"))&&i.remove&&t(r).triggerHandler("remove")}catch(t){}e(n)}}(t.cleanData),t.widget=function(e,n,i){var r,o,a,s={},l=e.split(".")[0];e=e.split(".")[1];var c=l+"-"+e;return i||(i=n,n=t.Widget),t.isArray(i)&&(i=t.extend.apply(null,[{}].concat(i))),t.expr[":"][c.toLowerCase()]=function(e){return!!t.data(e,c)},t[l]=t[l]||{},r=t[l][e],o=t[l][e]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new o(t,e)},t.extend(o,r,{version:i.version,_proto:t.extend({},i),_childConstructors:[]}),(a=new n).options=t.widget.extend({},a.options),t.each(i,function(e,i){return t.isFunction(i)?void(s[e]=function(){function t(){return n.prototype[e].apply(this,arguments)}function r(t){return n.prototype[e].apply(this,t)}return function(){var e,n=this._super,o=this._superApply;return this._super=t,this._superApply=r,e=i.apply(this,arguments),this._super=n,this._superApply=o,e}}()):void(s[e]=i)}),o.prototype=t.widget.extend(a,{widgetEventPrefix:r&&a.widgetEventPrefix||e},s,{constructor:o,namespace:l,widgetName:e,widgetFullName:c}),r?(t.each(r._childConstructors,function(e,n){var i=n.prototype;t.widget(i.namespace+"."+i.widgetName,o,n._proto)}),delete r._childConstructors):n._childConstructors.push(o),t.widget.bridge(e,o),o},t.widget.extend=function(e){for(var n,i,r=l.call(arguments,1),o=0,a=r.length;a>o;o++)for(n in r[o])i=r[o][n],r[o].hasOwnProperty(n)&&void 0!==i&&(e[n]=t.isPlainObject(i)?t.isPlainObject(e[n])?t.widget.extend({},e[n],i):t.widget.extend({},i):i);return e},t.widget.bridge=function(e,n){var i=n.prototype.widgetFullName||e;t.fn[e]=function(r){var o="string"==typeof r,a=l.call(arguments,1),s=this;return o?this.length||"instance"!==r?this.each(function(){var n,o=t.data(this,i);return"instance"===r?(s=o,!1):o?t.isFunction(o[r])&&"_"!==r.charAt(0)?(n=o[r].apply(o,a))!==o&&void 0!==n?(s=n&&n.jquery?s.pushStack(n.get()):n,!1):void 0:t.error("no such method '"+r+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+r+"'")}):s=void 0:(a.length&&(r=t.widget.extend.apply(null,[r].concat(a))),this.each(function(){var e=t.data(this,i);e?(e.option(r||{}),e._init&&e._init()):t.data(this,i,new n(r,this))})),s}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,n){n=t(n||this.defaultElement||this)[0],this.element=t(n),this.uuid=s++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},n!==this&&(t.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===n&&this.destroy()}}),this.document=t(n.style?n.ownerDocument:n.document||n),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,function(t,n){e._removeClass(n,t)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,n){var i,r,o,a=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(a={},i=e.split("."),e=i.shift(),i.length){for(r=a[e]=t.widget.extend({},this.options[e]),o=0;i.length-1>o;o++)r[i[o]]=r[i[o]]||{},r=r[i[o]];if(e=i.pop(),1===arguments.length)return void 0===r[e]?null:r[e];r[e]=n}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];a[e]=n}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(e){var n,i,r;for(n in e)r=this.classesElementLookup[n],e[n]!==this.options.classes[n]&&r&&r.length&&(i=t(r.get()),this._removeClass(r,n),i.addClass(this._classes({element:i,keys:n,classes:e,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){function n(n,o){var a,s;for(s=0;n.length>s;s++)a=r.classesElementLookup[n[s]]||t(),a=e.add?t(t.unique(a.get().concat(e.element.get()))):t(a.not(e.element).get()),r.classesElementLookup[n[s]]=a,i.push(n[s]),o&&e.classes[n[s]]&&i.push(e.classes[n[s]])}var i=[],r=this;return e=t.extend({element:this.element,classes:this.options.classes||{}},e),this._on(e.element,{remove:"_untrackClassesElement"}),e.keys&&n(e.keys.match(/\S+/g)||[],!0),e.extra&&n(e.extra.match(/\S+/g)||[]),i.join(" ")},_untrackClassesElement:function(e){var n=this;t.each(n.classesElementLookup,function(i,r){-1!==t.inArray(e.target,r)&&(n.classesElementLookup[i]=t(r.not(e.target).get()))})},_removeClass:function(t,e,n){return this._toggleClass(t,e,n,!1)},_addClass:function(t,e,n){return this._toggleClass(t,e,n,!0)},_toggleClass:function(t,e,n,i){i="boolean"==typeof i?i:n;var r="string"==typeof t||null===t,o={extra:r?e:n,keys:r?t:e,element:r?this.element:t,add:i};return o.element.toggleClass(this._classes(o),i),this},_on:function(e,n,i){var r,o=this;"boolean"!=typeof e&&(i=n,n=e,e=!1),i?(n=r=t(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,r=this.widget()),t.each(i,function(i,a){function s(){return e||!0!==o.options.disabled&&!t(this).hasClass("ui-state-disabled")?("string"==typeof a?o[a]:a).apply(o,arguments):void 0}"string"!=typeof a&&(s.guid=a.guid=a.guid||s.guid||t.guid++);var l=i.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+o.eventNamespace,u=l[2];u?r.on(c,u,s):n.on(c,s)})},_off:function(e,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(n).off(n),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){var n=this;return setTimeout(function(){return("string"==typeof t?n[t]:t).apply(n,arguments)},e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,n,i){var r,o,a=this.options[e];if(i=i||{},(n=t.Event(n)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(r in o)r in n||(n[r]=o[r]);return this.element.trigger(n,i),!(t.isFunction(a)&&!1===a.apply(this.element[0],[n].concat(i))||n.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,n){t.Widget.prototype["_"+e]=function(i,r,o){"string"==typeof r&&(r={effect:r});var a,s=r?!0===r||"number"==typeof r?n:r.effect||n:e;"number"==typeof(r=r||{})&&(r={duration:r}),a=!t.isEmptyObject(r),r.complete=o,r.delay&&i.delay(r.delay),a&&t.effects&&t.effects.effect[s]?i[e](r):s!==e&&i[s]?i[s](r.duration,r.easing,o):i.queue(function(n){t(this)[e](),o&&o.call(i[0]),n()})}}),t.widget,function(){function e(t,e,n){return[parseFloat(t[0])*(u.test(t[0])?e/100:1),parseFloat(t[1])*(u.test(t[1])?n/100:1)]}function n(e,n){return parseInt(t.css(e,n),10)||0}var i,r=Math.max,o=Math.abs,a=/left|center|right/,s=/top|center|bottom/,l=/[\+\-]\d+(\.[\d]+)?%?/,c=/^\w+/,u=/%$/,f=t.fn.position;t.position={scrollbarWidth:function(){if(void 0!==i)return i;var e,n,r=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=r.children()[0];return t("body").append(r),e=o.offsetWidth,r.css("overflow","scroll"),n=o.offsetWidth,e===n&&(n=r[0].clientWidth),r.remove(),i=e-n},getScrollInfo:function(e){var n=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),i=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),r="scroll"===n||"auto"===n&&e.width<e.element[0].scrollWidth,o="scroll"===i||"auto"===i&&e.height<e.element[0].scrollHeight;return{width:o?t.position.scrollbarWidth():0,height:r?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var n=t(e||window),i=t.isWindow(n[0]),r=!!n[0]&&9===n[0].nodeType,o=!i&&!r;return{element:n,isWindow:i,isDocument:r,offset:o?t(e).offset():{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:n.outerWidth(),height:n.outerHeight()}}},t.fn.position=function(i){if(!i||!i.of)return f.apply(this,arguments);i=t.extend({},i);var u,h,d,p,g,m,v=t(i.of),b=t.position.getWithinInfo(i.within),y=t.position.getScrollInfo(b),_=(i.collision||"flip").split(" "),x={};return m=function(e){var n=e[0];return 9===n.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(n)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:n.preventDefault?{width:0,height:0,offset:{top:n.pageY,left:n.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}(v),v[0].preventDefault&&(i.at="left top"),h=m.width,d=m.height,p=m.offset,g=t.extend({},p),t.each(["my","at"],function(){var t,e,n=(i[this]||"").split(" ");1===n.length&&(n=a.test(n[0])?n.concat(["center"]):s.test(n[0])?["center"].concat(n):["center","center"]),n[0]=a.test(n[0])?n[0]:"center",n[1]=s.test(n[1])?n[1]:"center",t=l.exec(n[0]),e=l.exec(n[1]),x[this]=[t?t[0]:0,e?e[0]:0],i[this]=[c.exec(n[0])[0],c.exec(n[1])[0]]}),1===_.length&&(_[1]=_[0]),"right"===i.at[0]?g.left+=h:"center"===i.at[0]&&(g.left+=h/2),"bottom"===i.at[1]?g.top+=d:"center"===i.at[1]&&(g.top+=d/2),u=e(x.at,h,d),g.left+=u[0],g.top+=u[1],this.each(function(){var a,s,l=t(this),c=l.outerWidth(),f=l.outerHeight(),m=n(this,"marginLeft"),w=n(this,"marginTop"),k=c+m+n(this,"marginRight")+y.width,C=f+w+n(this,"marginBottom")+y.height,F=t.extend({},g),A=e(x.my,l.outerWidth(),l.outerHeight());"right"===i.my[0]?F.left-=c:"center"===i.my[0]&&(F.left-=c/2),"bottom"===i.my[1]?F.top-=f:"center"===i.my[1]&&(F.top-=f/2),F.left+=A[0],F.top+=A[1],a={marginLeft:m,marginTop:w},t.each(["left","top"],function(e,n){t.ui.position[_[e]]&&t.ui.position[_[e]][n](F,{targetWidth:h,targetHeight:d,elemWidth:c,elemHeight:f,collisionPosition:a,collisionWidth:k,collisionHeight:C,offset:[u[0]+A[0],u[1]+A[1]],my:i.my,at:i.at,within:b,elem:l})}),i.using&&(s=function(t){var e=p.left-F.left,n=e+h-c,a=p.top-F.top,s=a+d-f,u={target:{element:v,left:p.left,top:p.top,width:h,height:d},element:{element:l,left:F.left,top:F.top,width:c,height:f},horizontal:0>n?"left":e>0?"right":"center",vertical:0>s?"top":a>0?"bottom":"middle"};c>h&&h>o(e+n)&&(u.horizontal="center"),f>d&&d>o(a+s)&&(u.vertical="middle"),u.important=r(o(e),o(n))>r(o(a),o(s))?"horizontal":"vertical",i.using.call(this,t,u)}),l.offset(t.extend(F,{using:s}))})},t.ui.position={fit:{left:function(t,e){var n,i=e.within,o=i.isWindow?i.scrollLeft:i.offset.left,a=i.width,s=t.left-e.collisionPosition.marginLeft,l=o-s,c=s+e.collisionWidth-a-o;e.collisionWidth>a?l>0&&0>=c?(n=t.left+l+e.collisionWidth-a-o,t.left+=l-n):t.left=c>0&&0>=l?o:l>c?o+a-e.collisionWidth:o:l>0?t.left+=l:c>0?t.left-=c:t.left=r(t.left-s,t.left)},top:function(t,e){var n,i=e.within,o=i.isWindow?i.scrollTop:i.offset.top,a=e.within.height,s=t.top-e.collisionPosition.marginTop,l=o-s,c=s+e.collisionHeight-a-o;e.collisionHeight>a?l>0&&0>=c?(n=t.top+l+e.collisionHeight-a-o,t.top+=l-n):t.top=c>0&&0>=l?o:l>c?o+a-e.collisionHeight:o:l>0?t.top+=l:c>0?t.top-=c:t.top=r(t.top-s,t.top)}},flip:{left:function(t,e){var n,i,r=e.within,a=r.offset.left+r.scrollLeft,s=r.width,l=r.isWindow?r.scrollLeft:r.offset.left,c=t.left-e.collisionPosition.marginLeft,u=c-l,f=c+e.collisionWidth-s-l,h="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,d="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,p=-2*e.offset[0];0>u?(0>(n=t.left+h+d+p+e.collisionWidth-s-a)||o(u)>n)&&(t.left+=h+d+p):f>0&&((i=t.left-e.collisionPosition.marginLeft+h+d+p-l)>0||f>o(i))&&(t.left+=h+d+p)},top:function(t,e){var n,i,r=e.within,a=r.offset.top+r.scrollTop,s=r.height,l=r.isWindow?r.scrollTop:r.offset.top,c=t.top-e.collisionPosition.marginTop,u=c-l,f=c+e.collisionHeight-s-l,h="top"===e.my[1],d=h?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,p="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,g=-2*e.offset[1];0>u?(0>(i=t.top+d+p+g+e.collisionHeight-s-a)||o(u)>i)&&(t.top+=d+p+g):f>0&&((n=t.top-e.collisionPosition.marginTop+d+p+g-l)>0||f>o(n))&&(t.top+=d+p+g)}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}}}(),t.ui.position,t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(n){return!!t.data(n,e)}}):function(e,n,i){return!!t.data(e,i[3])}}),t.fn.extend({disableSelection:function(){var t="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(t+".ui-disableSelection",function(t){t.preventDefault()})}}(),enableSelection:function(){return this.off(".ui-disableSelection")}});var c="ui-effects-",u="ui-effects-style",f="ui-effects-animated",h=t;t.effects={effect:{}},function(t,e){function n(t,e,n){var i=u[e.type]||{};return null==t?n||!e.def?null:e.def:(t=i.floor?~~t:parseFloat(t),isNaN(t)?e.def:i.mod?(t+i.mod)%i.mod:0>t?0:t>i.max?i.max:t)}function i(n){var i=l(),r=i._rgba=[];return n=n.toLowerCase(),d(s,function(t,o){var a,s=o.re.exec(n),l=s&&o.parse(s),u=o.space||"rgba";return l?(a=i[u](l),i[c[u].cache]=a[c[u].cache],r=i._rgba=a._rgba,!1):e}),r.length?("0,0,0,0"===r.join()&&t.extend(r,o.transparent),i):o[n]}function r(t,e,n){return 1>6*(n=(n+1)%1)?t+6*(e-t)*n:1>2*n?e:2>3*n?t+6*(e-t)*(2/3-n):t}var o,a=/^([\-+])=\s*(\d+\.?\d*)/,s=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],l=t.Color=function(e,n,i,r){return new t.Color.fn.parse(e,n,i,r)},c={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},u={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},f=l.support={},h=t("<p>")[0],d=t.each;h.style.cssText="background-color:rgba(1,1,1,.5)",f.rgba=h.style.backgroundColor.indexOf("rgba")>-1,d(c,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),l.fn=t.extend(l.prototype,{parse:function(r,a,s,u){if(r===e)return this._rgba=[null,null,null,null],this;(r.jquery||r.nodeType)&&(r=t(r).css(a),a=e);var f=this,h=t.type(r),p=this._rgba=[];return a!==e&&(r=[r,a,s,u],h="array"),"string"===h?this.parse(i(r)||o._default):"array"===h?(d(c.rgba.props,function(t,e){p[e.idx]=n(r[e.idx],e)}),this):"object"===h?(d(c,r instanceof l?function(t,e){r[e.cache]&&(f[e.cache]=r[e.cache].slice())}:function(e,i){var o=i.cache;d(i.props,function(t,e){if(!f[o]&&i.to){if("alpha"===t||null==r[t])return;f[o]=i.to(f._rgba)}f[o][e.idx]=n(r[t],e,!0)}),f[o]&&0>t.inArray(null,f[o].slice(0,3))&&(f[o][3]=1,i.from&&(f._rgba=i.from(f[o])))}),this):e},is:function(t){var n=l(t),i=!0,r=this;return d(c,function(t,o){var a,s=n[o.cache];return s&&(a=r[o.cache]||o.to&&o.to(r._rgba)||[],d(o.props,function(t,n){return null!=s[n.idx]?i=s[n.idx]===a[n.idx]:e})),i}),i},_space:function(){var t=[],e=this;return d(c,function(n,i){e[i.cache]&&t.push(n)}),t.pop()},transition:function(t,e){var i=l(t),r=i._space(),o=c[r],a=0===this.alpha()?l("transparent"):this,s=a[o.cache]||o.to(a._rgba),f=s.slice();return i=i[o.cache],d(o.props,function(t,r){var o=r.idx,a=s[o],l=i[o],c=u[r.type]||{};null!==l&&(null===a?f[o]=l:(c.mod&&(l-a>c.mod/2?a+=c.mod:a-l>c.mod/2&&(a-=c.mod)),f[o]=n((l-a)*e+a,r)))}),this[r](f)},blend:function(e){if(1===this._rgba[3])return this;var n=this._rgba.slice(),i=n.pop(),r=l(e)._rgba;return l(t.map(n,function(t,e){return(1-i)*r[e]+i*t}))},toRgbaString:function(){var e="rgba(",n=t.map(this._rgba,function(t,e){return null==t?e>2?1:0:t});return 1===n[3]&&(n.pop(),e="rgb("),e+n.join()+")"},toHslaString:function(){var e="hsla(",n=t.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&3>e&&(t=Math.round(100*t)+"%"),t});return 1===n[3]&&(n.pop(),e="hsl("),e+n.join()+")"},toHexString:function(e){var n=this._rgba.slice(),i=n.pop();return e&&n.push(~~(255*i)),"#"+t.map(n,function(t){return 1===(t=(t||0).toString(16)).length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),l.fn.parse.prototype=l.fn,c.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,n,i=t[0]/255,r=t[1]/255,o=t[2]/255,a=t[3],s=Math.max(i,r,o),l=Math.min(i,r,o),c=s-l,u=s+l,f=.5*u;return e=l===s?0:i===s?60*(r-o)/c+360:r===s?60*(o-i)/c+120:60*(i-r)/c+240,n=0===c?0:.5>=f?c/u:c/(2-u),[Math.round(e)%360,n,f,null==a?1:a]},c.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,n=t[1],i=t[2],o=t[3],a=.5>=i?i*(1+n):i+n-i*n,s=2*i-a;return[Math.round(255*r(s,a,e+1/3)),Math.round(255*r(s,a,e)),Math.round(255*r(s,a,e-1/3)),o]},d(c,function(i,r){var o=r.props,s=r.cache,c=r.to,u=r.from;l.fn[i]=function(i){if(c&&!this[s]&&(this[s]=c(this._rgba)),i===e)return this[s].slice();var r,a=t.type(i),f="array"===a||"object"===a?i:arguments,h=this[s].slice();return d(o,function(t,e){var i=f["object"===a?t:e.idx];null==i&&(i=h[e.idx]),h[e.idx]=n(i,e)}),u?((r=l(u(h)))[s]=h,r):l(h)},d(o,function(e,n){l.fn[e]||(l.fn[e]=function(r){var o,s=t.type(r),l="alpha"===e?this._hsla?"hsla":"rgba":i,c=this[l](),u=c[n.idx];return"undefined"===s?u:("function"===s&&(r=r.call(this,u),s=t.type(r)),null==r&&n.empty?this:("string"===s&&(o=a.exec(r))&&(r=u+parseFloat(o[2])*("+"===o[1]?1:-1)),c[n.idx]=r,this[l](c)))})})}),l.hook=function(e){var n=e.split(" ");d(n,function(e,n){t.cssHooks[n]={set:function(e,r){var o,a,s="";if("transparent"!==r&&("string"!==t.type(r)||(o=i(r)))){if(r=l(o||r),!f.rgba&&1!==r._rgba[3]){for(a="backgroundColor"===n?e.parentNode:e;(""===s||"transparent"===s)&&a&&a.style;)try{s=t.css(a,"backgroundColor"),a=a.parentNode}catch(t){}r=r.blend(s&&"transparent"!==s?s:"_default")}r=r.toRgbaString()}try{e.style[n]=r}catch(t){}}},t.fx.step[n]=function(e){e.colorInit||(e.start=l(e.elem,n),e.end=l(e.end),e.colorInit=!0),t.cssHooks[n].set(e.elem,e.start.transition(e.end,e.pos))}})},l.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),t.cssHooks.borderColor={expand:function(t){var e={};return d(["Top","Right","Bottom","Left"],function(n,i){e["border"+i+"Color"]=t}),e}},o=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(h),function(){function e(e){var n,i,r=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,o={};if(r&&r.length&&r[0]&&r[r[0]])for(i=r.length;i--;)n=r[i],"string"==typeof r[n]&&(o[t.camelCase(n)]=r[n]);else for(n in r)"string"==typeof r[n]&&(o[n]=r[n]);return o}function n(e,n){var i,o,a={};for(i in n)o=n[i],e[i]!==o&&(r[i]||(t.fx.step[i]||!isNaN(parseFloat(o)))&&(a[i]=o));return a}var i=["add","remove","toggle"],r={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,n){t.fx.step[n]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(h.style(t.elem,n,t.end),t.setAttr=!0)}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(r,o,a,s){var l=t.speed(o,a,s);return this.queue(function(){var o,a=t(this),s=a.attr("class")||"",c=l.children?a.find("*").addBack():a;c=c.map(function(){var n=t(this);return{el:n,start:e(this)}}),(o=function(){t.each(i,function(t,e){r[e]&&a[e+"Class"](r[e])})})(),c=c.map(function(){return this.end=e(this.el[0]),this.diff=n(this.start,this.end),this}),a.attr("class",s),c=c.map(function(){var e=this,n=t.Deferred(),i=t.extend({},l,{queue:!1,complete:function(){n.resolve(e)}});return this.el.animate(this.diff,i),n.promise()}),t.when.apply(t,c.get()).done(function(){o(),t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,"")})}),l.complete.call(a[0])})})},t.fn.extend({addClass:function(e){return function(n,i,r,o){return i?t.effects.animateClass.call(this,{add:n},i,r,o):e.apply(this,arguments)}}(t.fn.addClass),removeClass:function(e){return function(n,i,r,o){return arguments.length>1?t.effects.animateClass.call(this,{remove:n},i,r,o):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(e){return function(n,i,r,o,a){return"boolean"==typeof i||void 0===i?r?t.effects.animateClass.call(this,i?{add:n}:{remove:n},r,o,a):e.apply(this,arguments):t.effects.animateClass.call(this,{toggle:n},i,r,o)}}(t.fn.toggleClass),switchClass:function(e,n,i,r,o){return t.effects.animateClass.call(this,{add:n,remove:e},i,r,o)}})}(),function(){function e(e,n,i,r){return t.isPlainObject(e)&&(n=e,e=e.effect),e={effect:e},null==n&&(n={}),t.isFunction(n)&&(r=n,i=null,n={}),("number"==typeof n||t.fx.speeds[n])&&(r=i,i=n,n={}),t.isFunction(i)&&(r=i,i=null),n&&t.extend(e,n),i=i||n.duration,e.duration=t.fx.off?0:"number"==typeof i?i:i in t.fx.speeds?t.fx.speeds[i]:t.fx.speeds._default,e.complete=r||n.complete,e}function n(e){return!(e&&"number"!=typeof e&&!t.fx.speeds[e])||"string"==typeof e&&!t.effects.effect[e]||!!t.isFunction(e)||"object"==(void 0===e?"undefined":a(e))&&!e.effect}function i(t,e){var n=e.outerWidth(),i=e.outerHeight(),r=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/.exec(t)||["",0,n,i,0];return{top:parseFloat(r[1])||0,right:"auto"===r[2]?n:parseFloat(r[2]),bottom:"auto"===r[3]?i:parseFloat(r[3]),left:parseFloat(r[4])||0}}t.expr&&t.expr.filters&&t.expr.filters.animated&&(t.expr.filters.animated=function(e){return function(n){return!!t(n).data(f)||e(n)}}(t.expr.filters.animated)),!1!==t.uiBackCompat&&t.extend(t.effects,{save:function(t,e){for(var n=0,i=e.length;i>n;n++)null!==e[n]&&t.data(c+e[n],t[0].style[e[n]])},restore:function(t,e){for(var n,i=0,r=e.length;r>i;i++)null!==e[i]&&(n=t.data(c+e[i]),t.css(e[i],n))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var n={width:e.outerWidth(!0),height:e.outerHeight(!0),float:e.css("float")},i=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),r={width:e.width(),height:e.height()},o=document.activeElement;try{o.id}catch(t){o=document.body}return e.wrap(i),(e[0]===o||t.contains(e[0],o))&&t(o).trigger("focus"),i=e.parent(),"static"===e.css("position")?(i.css({position:"relative"}),e.css({position:"relative"})):(t.extend(n,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,i){n[i]=e.css(i),isNaN(parseInt(n[i],10))&&(n[i]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(r),i.css(n).show()},removeWrapper:function(e){var n=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===n||t.contains(e[0],n))&&t(n).trigger("focus")),e}}),t.extend(t.effects,{version:"1.12.1",define:function(e,n,i){return i||(i=n,n="effect"),t.effects.effect[e]=i,t.effects.effect[e].mode=n,i},scaledDimensions:function(t,e,n){if(0===e)return{height:0,width:0,outerHeight:0,outerWidth:0};var i="horizontal"!==n?(e||100)/100:1,r="vertical"!==n?(e||100)/100:1;return{height:t.height()*r,width:t.width()*i,outerHeight:t.outerHeight()*r,outerWidth:t.outerWidth()*i}},clipToBox:function(t){return{width:t.clip.right-t.clip.left,height:t.clip.bottom-t.clip.top,left:t.clip.left,top:t.clip.top}},unshift:function(t,e,n){var i=t.queue();e>1&&i.splice.apply(i,[1,0].concat(i.splice(e,n))),t.dequeue()},saveStyle:function(t){t.data(u,t[0].style.cssText)},restoreStyle:function(t){t[0].style.cssText=t.data(u)||"",t.removeData(u)},mode:function(t,e){var n=t.is(":hidden");return"toggle"===e&&(e=n?"show":"hide"),(n?"hide"===e:"show"===e)&&(e="none"),e},getBaseline:function(t,e){var n,i;switch(t[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=t[0]/e.height}switch(t[1]){case"left":i=0;break;case"center":i=.5;break;case"right":i=1;break;default:i=t[1]/e.width}return{x:i,y:n}},createPlaceholder:function(e){var n,i=e.css("position"),r=e.position();return e.css({marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()),/^(static|relative)/.test(i)&&(i="absolute",n=t("<"+e[0].nodeName+">").insertAfter(e).css({display:/^(inline|ruby)/.test(e.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight"),float:e.css("float")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).addClass("ui-effects-placeholder"),e.data(c+"placeholder",n)),e.css({position:i,left:r.left,top:r.top}),n},removePlaceholder:function(t){var e=c+"placeholder",n=t.data(e);n&&(n.remove(),t.removeData(e))},cleanUp:function(e){t.effects.restoreStyle(e),t.effects.removePlaceholder(e)},setTransition:function(e,n,i,r){return r=r||{},t.each(n,function(t,n){var o=e.cssUnit(n);o[0]>0&&(r[n]=o[0]*i+o[1])}),r}}),t.fn.extend({effect:function(){function n(e){function n(){t.isFunction(l)&&l.call(a[0]),t.isFunction(e)&&e()}var a=t(this);i.mode=u.shift(),!1===t.uiBackCompat||o?"none"===i.mode?(a[c](),n()):r.call(a[0],i,function(){a.removeData(f),t.effects.cleanUp(a),"hide"===i.mode&&a.hide(),n()}):(a.is(":hidden")?"hide"===c:"show"===c)?(a[c](),n()):r.call(a[0],i,n)}var i=e.apply(this,arguments),r=t.effects.effect[i.effect],o=r.mode,a=i.queue,s=a||"fx",l=i.complete,c=i.mode,u=[],h=function(e){var n=t(this),i=t.effects.mode(n,c)||o;n.data(f,!0),u.push(i),o&&("show"===i||i===o&&"hide"===i)&&n.show(),o&&"none"===i||t.effects.saveStyle(n),t.isFunction(e)&&e()};return t.fx.off||!r?c?this[c](i.duration,l):this.each(function(){l&&l.call(this)}):!1===a?this.each(h).each(n):this.queue(s,h).queue(s,n)},show:function(t){return function(i){if(n(i))return t.apply(this,arguments);var r=e.apply(this,arguments);return r.mode="show",this.effect.call(this,r)}}(t.fn.show),hide:function(t){return function(i){if(n(i))return t.apply(this,arguments);var r=e.apply(this,arguments);return r.mode="hide",this.effect.call(this,r)}}(t.fn.hide),toggle:function(t){return function(i){if(n(i)||"boolean"==typeof i)return t.apply(this,arguments);var r=e.apply(this,arguments);return r.mode="toggle",this.effect.call(this,r)}}(t.fn.toggle),cssUnit:function(e){var n=this.css(e),i=[];return t.each(["em","px","%","pt"],function(t,e){n.indexOf(e)>0&&(i=[parseFloat(n),e])}),i},cssClip:function(t){return t?this.css("clip","rect("+t.top+"px "+t.right+"px "+t.bottom+"px "+t.left+"px)"):i(this.css("clip"),this)},transfer:function(e,n){var i=t(this),r=t(e.to),o="fixed"===r.css("position"),a=t("body"),s=o?a.scrollTop():0,l=o?a.scrollLeft():0,c=r.offset(),u={top:c.top-s,left:c.left-l,height:r.innerHeight(),width:r.innerWidth()},f=i.offset(),h=t("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(e.className).css({top:f.top-s,left:f.left-l,height:i.innerHeight(),width:i.innerWidth(),position:o?"fixed":"absolute"}).animate(u,e.duration,e.easing,function(){h.remove(),t.isFunction(n)&&n()})}}),t.fx.step.clip=function(e){e.clipInit||(e.start=t(e.elem).cssClip(),"string"==typeof e.end&&(e.end=i(e.end,e.elem)),e.clipInit=!0),t(e.elem).cssClip({top:e.pos*(e.end.top-e.start.top)+e.start.top,right:e.pos*(e.end.right-e.start.right)+e.start.right,bottom:e.pos*(e.end.bottom-e.start.bottom)+e.start.bottom,left:e.pos*(e.end.left-e.start.left)+e.start.left})}}(),function(){var e={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,n){e[n]=function(e){return Math.pow(e,t+2)}}),t.extend(e,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,n=4;((e=Math.pow(2,--n))-1)/11>t;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(e,function(e,n){t.easing["easeIn"+e]=n,t.easing["easeOut"+e]=function(t){return 1-n(1-t)},t.easing["easeInOut"+e]=function(t){return.5>t?n(2*t)/2:1-n(-2*t+2)/2}})}(),t.effects,t.effects.define("blind","hide",function(e,n){var i={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},r=t(this),o=e.direction||"up",a=r.cssClip(),s={clip:t.extend({},a)},l=t.effects.createPlaceholder(r);s.clip[i[o][0]]=s.clip[i[o][1]],"show"===e.mode&&(r.cssClip(s.clip),l&&l.css(t.effects.clipToBox(s)),s.clip=a),l&&l.animate(t.effects.clipToBox(s),e.duration,e.easing),r.animate(s,{queue:!1,duration:e.duration,easing:e.easing,complete:n})}),t.effects.define("bounce",function(e,n){var i,r,o,a=t(this),s=e.mode,l="hide"===s,c="show"===s,u=e.direction||"up",f=e.distance,h=e.times||5,d=2*h+(c||l?1:0),p=e.duration/d,g=e.easing,m="up"===u||"down"===u?"top":"left",v="up"===u||"left"===u,b=0,y=a.queue().length;for(t.effects.createPlaceholder(a),o=a.css(m),f||(f=a["top"===m?"outerHeight":"outerWidth"]()/3),c&&((r={opacity:1})[m]=o,a.css("opacity",0).css(m,v?2*-f:2*f).animate(r,p,g)),l&&(f/=Math.pow(2,h-1)),(r={})[m]=o;h>b;b++)(i={})[m]=(v?"-=":"+=")+f,a.animate(i,p,g).animate(r,p,g),f=l?2*f:f/2;l&&((i={opacity:0})[m]=(v?"-=":"+=")+f,a.animate(i,p,g)),a.queue(n),t.effects.unshift(a,y,d+1)}),t.effects.define("clip","hide",function(e,n){var i,r={},o=t(this),a=e.direction||"vertical",s="both"===a,l=s||"horizontal"===a,c=s||"vertical"===a;i=o.cssClip(),r.clip={top:c?(i.bottom-i.top)/2:i.top,right:l?(i.right-i.left)/2:i.right,bottom:c?(i.bottom-i.top)/2:i.bottom,left:l?(i.right-i.left)/2:i.left},t.effects.createPlaceholder(o),"show"===e.mode&&(o.cssClip(r.clip),r.clip=i),o.animate(r,{queue:!1,duration:e.duration,easing:e.easing,complete:n})}),t.effects.define("drop","hide",function(e,n){var i,r=t(this),o=e.mode,a="show"===o,s=e.direction||"left",l="up"===s||"down"===s?"top":"left",c="up"===s||"left"===s?"-=":"+=",u="+="===c?"-=":"+=",f={opacity:0};t.effects.createPlaceholder(r),i=e.distance||r["top"===l?"outerHeight":"outerWidth"](!0)/2,f[l]=c+i,a&&(r.css(f),f[l]=u+i,f.opacity=1),r.animate(f,{queue:!1,duration:e.duration,easing:e.easing,complete:n})}),t.effects.define("explode","hide",function(e,n){function i(){b.push(this),b.length===u*f&&(h.css({visibility:"visible"}),t(b).remove(),n())}var r,o,a,s,l,c,u=e.pieces?Math.round(Math.sqrt(e.pieces)):3,f=u,h=t(this),d=e.mode,p="show"===d,g=h.show().css("visibility","hidden").offset(),m=Math.ceil(h.outerWidth()/f),v=Math.ceil(h.outerHeight()/u),b=[];for(r=0;u>r;r++)for(s=g.top+r*v,c=r-(u-1)/2,o=0;f>o;o++)a=g.left+o*m,l=o-(f-1)/2,h.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-o*m,top:-r*v}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:m,height:v,left:a+(p?l*m:0),top:s+(p?c*v:0),opacity:p?0:1}).animate({left:a+(p?0:l*m),top:s+(p?0:c*v),opacity:p?1:0},e.duration||500,e.easing,i)}),t.effects.define("fade","toggle",function(e,n){var i="show"===e.mode;t(this).css("opacity",i?0:1).animate({opacity:i?1:0},{queue:!1,duration:e.duration,easing:e.easing,complete:n})}),t.effects.define("fold","hide",function(e,n){var i=t(this),r=e.mode,o="show"===r,a="hide"===r,s=e.size||15,l=/([0-9]+)%/.exec(s),c=!!e.horizFirst,u=c?["right","bottom"]:["bottom","right"],f=e.duration/2,h=t.effects.createPlaceholder(i),d=i.cssClip(),p={clip:t.extend({},d)},g={clip:t.extend({},d)},m=[d[u[0]],d[u[1]]],v=i.queue().length;l&&(s=parseInt(l[1],10)/100*m[a?0:1]),p.clip[u[0]]=s,g.clip[u[0]]=s,g.clip[u[1]]=0,o&&(i.cssClip(g.clip),h&&h.css(t.effects.clipToBox(g)),g.clip=d),i.queue(function(n){h&&h.animate(t.effects.clipToBox(p),f,e.easing).animate(t.effects.clipToBox(g),f,e.easing),n()}).animate(p,f,e.easing).animate(g,f,e.easing).queue(n),t.effects.unshift(i,v,4)}),t.effects.define("highlight","show",function(e,n){var i=t(this),r={backgroundColor:i.css("backgroundColor")};"hide"===e.mode&&(r.opacity=0),t.effects.saveStyle(i),i.css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(r,{queue:!1,duration:e.duration,easing:e.easing,complete:n})}),t.effects.define("size",function(e,n){var i,r,o,a=t(this),s=["fontSize"],l=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],c=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],u=e.mode,f="effect"!==u,h=e.scale||"both",d=e.origin||["middle","center"],p=a.css("position"),g=a.position(),m=t.effects.scaledDimensions(a),v=e.from||m,b=e.to||t.effects.scaledDimensions(a,0);t.effects.createPlaceholder(a),"show"===u&&(o=v,v=b,b=o),r={from:{y:v.height/m.height,x:v.width/m.width},to:{y:b.height/m.height,x:b.width/m.width}},("box"===h||"both"===h)&&(r.from.y!==r.to.y&&(v=t.effects.setTransition(a,l,r.from.y,v),b=t.effects.setTransition(a,l,r.to.y,b)),r.from.x!==r.to.x&&(v=t.effects.setTransition(a,c,r.from.x,v),b=t.effects.setTransition(a,c,r.to.x,b))),("content"===h||"both"===h)&&r.from.y!==r.to.y&&(v=t.effects.setTransition(a,s,r.from.y,v),b=t.effects.setTransition(a,s,r.to.y,b)),d&&(i=t.effects.getBaseline(d,m),v.top=(m.outerHeight-v.outerHeight)*i.y+g.top,v.left=(m.outerWidth-v.outerWidth)*i.x+g.left,b.top=(m.outerHeight-b.outerHeight)*i.y+g.top,b.left=(m.outerWidth-b.outerWidth)*i.x+g.left),a.css(v),("content"===h||"both"===h)&&(l=l.concat(["marginTop","marginBottom"]).concat(s),c=c.concat(["marginLeft","marginRight"]),a.find("*[width]").each(function(){var n=t(this),i=t.effects.scaledDimensions(n),o={height:i.height*r.from.y,width:i.width*r.from.x,outerHeight:i.outerHeight*r.from.y,outerWidth:i.outerWidth*r.from.x},a={height:i.height*r.to.y,width:i.width*r.to.x,outerHeight:i.height*r.to.y,outerWidth:i.width*r.to.x};r.from.y!==r.to.y&&(o=t.effects.setTransition(n,l,r.from.y,o),a=t.effects.setTransition(n,l,r.to.y,a)),r.from.x!==r.to.x&&(o=t.effects.setTransition(n,c,r.from.x,o),a=t.effects.setTransition(n,c,r.to.x,a)),f&&t.effects.saveStyle(n),n.css(o),n.animate(a,e.duration,e.easing,function(){f&&t.effects.restoreStyle(n)})})),a.animate(b,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){var e=a.offset();0===b.opacity&&a.css("opacity",v.opacity),f||(a.css("position","static"===p?"relative":p).offset(e),t.effects.saveStyle(a)),n()}})}),t.effects.define("scale",function(e,n){var i=t(this),r=e.mode,o=parseInt(e.percent,10)||(0===parseInt(e.percent,10)?0:"effect"!==r?0:100),a=t.extend(!0,{from:t.effects.scaledDimensions(i),to:t.effects.scaledDimensions(i,o,e.direction||"both"),origin:e.origin||["middle","center"]},e);e.fade&&(a.from.opacity=1,a.to.opacity=0),t.effects.effect.size.call(this,a,n)}),t.effects.define("puff","hide",function(e,n){var i=t.extend(!0,{},e,{fade:!0,percent:parseInt(e.percent,10)||150});t.effects.effect.scale.call(this,i,n)}),t.effects.define("pulsate","show",function(e,n){var i=t(this),r=e.mode,o="show"===r,a="hide"===r,s=o||a,l=2*(e.times||5)+(s?1:0),c=e.duration/l,u=0,f=1,h=i.queue().length;for((o||!i.is(":visible"))&&(i.css("opacity",0).show(),u=1);l>f;f++)i.animate({opacity:u},c,e.easing),u=1-u;i.animate({opacity:u},c,e.easing),i.queue(n),t.effects.unshift(i,h,l+1)}),t.effects.define("shake",function(e,n){var i=1,r=t(this),o=e.direction||"left",a=e.distance||20,s=e.times||3,l=2*s+1,c=Math.round(e.duration/l),u="up"===o||"down"===o?"top":"left",f="up"===o||"left"===o,h={},d={},p={},g=r.queue().length;for(t.effects.createPlaceholder(r),h[u]=(f?"-=":"+=")+a,d[u]=(f?"+=":"-=")+2*a,p[u]=(f?"-=":"+=")+2*a,r.animate(h,c,e.easing);s>i;i++)r.animate(d,c,e.easing).animate(p,c,e.easing);r.animate(d,c,e.easing).animate(h,c/2,e.easing).queue(n),t.effects.unshift(r,g,l+1)}),t.effects.define("slide","show",function(e,n){var i,r,o=t(this),a={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},s=e.mode,l=e.direction||"left",c="up"===l||"down"===l?"top":"left",u="up"===l||"left"===l,f=e.distance||o["top"===c?"outerHeight":"outerWidth"](!0),h={};t.effects.createPlaceholder(o),i=o.cssClip(),r=o.position()[c],h[c]=(u?-1:1)*f+r,h.clip=o.cssClip(),h.clip[a[l][1]]=h.clip[a[l][0]],"show"===s&&(o.cssClip(h.clip),o.css(c,h[c]),h.clip=i,h[c]=r),o.animate(h,{queue:!1,duration:e.duration,easing:e.easing,complete:n})}),!1!==t.uiBackCompat&&t.effects.define("transfer",function(e,n){t(this).transfer(e,n)}),t.ui.focusable=function(e,n){var i,r,o,a,s,l=e.nodeName.toLowerCase();return"area"===l?(i=e.parentNode,r=i.name,!(!e.href||!r||"map"!==i.nodeName.toLowerCase())&&(o=t("img[usemap='#"+r+"']")).length>0&&o.is(":visible")):(/^(input|select|textarea|button|object)$/.test(l)?(a=!e.disabled)&&(s=t(e).closest("fieldset")[0])&&(a=!s.disabled):a="a"===l&&e.href||n,a&&t(e).is(":visible")&&function(t){for(var e=t.css("visibility");"inherit"===e;)t=t.parent(),e=t.css("visibility");return"hidden"!==e}(t(e)))},t.extend(t.expr[":"],{focusable:function(e){return t.ui.focusable(e,null!=t.attr(e,"tabindex"))}}),t.ui.focusable,t.fn.form=function(){return"string"==typeof this[0].form?this.closest("form"):t(this[0].form)},t.ui.formResetMixin={_formResetHandler:function(){var e=t(this);setTimeout(function(){var n=e.data("ui-form-reset-instances");t.each(n,function(){this.refresh()})})},_bindFormResetHandler:function(){if(this.form=this.element.form(),this.form.length){var t=this.form.data("ui-form-reset-instances")||[];t.length||this.form.on("reset.ui-form-reset",this._formResetHandler),t.push(this),this.form.data("ui-form-reset-instances",t)}},_unbindFormResetHandler:function(){if(this.form.length){var e=this.form.data("ui-form-reset-instances");e.splice(t.inArray(this,e),1),e.length?this.form.data("ui-form-reset-instances",e):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}},"1.7"===t.fn.jquery.substring(0,3)&&(t.each(["Width","Height"],function(e,n){function i(e,n,i,o){return t.each(r,function(){n-=parseFloat(t.css(e,"padding"+this))||0,i&&(n-=parseFloat(t.css(e,"border"+this+"Width"))||0),o&&(n-=parseFloat(t.css(e,"margin"+this))||0)}),n}var r="Width"===n?["Left","Right"]:["Top","Bottom"],o=n.toLowerCase(),a={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+n]=function(e){return void 0===e?a["inner"+n].call(this):this.each(function(){t(this).css(o,i(this,e)+"px")})},t.fn["outer"+n]=function(e,r){return"number"!=typeof e?a["outer"+n].call(this,e):this.each(function(){t(this).css(o,i(this,e,!0,r)+"px")})}}),t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},t.ui.escapeSelector=function(){var t=/([!"#$%&'()*+,.\/:;<=>?@[\]^`{|}~])/g;return function(e){return e.replace(t,"\\$1")}}(),t.fn.labels=function(){var e,n,i,r,o;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(r=this.eq(0).parents("label"),(i=this.attr("id"))&&(e=this.eq(0).parents().last(),o=e.add(e.length?e.siblings():this.siblings()),n="label[for='"+t.ui.escapeSelector(i)+"']",r=r.add(o.find(n).addBack(n))),this.pushStack(r))},t.fn.scrollParent=function(e){var n=this.css("position"),i="absolute"===n,r=e?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var e=t(this);return(!i||"static"!==e.css("position"))&&r.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==n&&o.length?o:t(this[0].ownerDocument||document)},t.extend(t.expr[":"],{tabbable:function(e){var n=t.attr(e,"tabindex"),i=null!=n;return(!i||n>=0)&&t.ui.focusable(e,i)}}),t.fn.extend({uniqueId:function(){var t=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++t)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}}),t.widget("ui.accordion",{version:"1.12.1",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:"> li > :first-child, > :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var e=this.options;this.prevShow=this.prevHide=t(),this._addClass("ui-accordion","ui-widget ui-helper-reset"),this.element.attr("role","tablist"),e.collapsible||!1!==e.active&&null!=e.active||(e.active=0),this._processPanels(),0>e.active&&(e.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():t()}},_createIcons:function(){var e,n,i=this.options.icons;i&&(e=t("<span>"),this._addClass(e,"ui-accordion-header-icon","ui-icon "+i.header),e.prependTo(this.headers),n=this.active.children(".ui-accordion-header-icon"),this._removeClass(n,i.header)._addClass(n,null,i.activeHeader)._addClass(this.headers,"ui-accordion-icons"))},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons"),this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var t;this.element.removeAttr("role"),this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId(),this._destroyIcons(),t=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&t.css("height","")},_setOption:function(t,e){return"active"===t?void this._activate(e):("event"===t&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(t,e),"collapsible"!==t||e||!1!==this.options.active||this._activate(0),void("icons"===t&&(this._destroyIcons(),e&&this._createIcons())))},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t),this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!t)},_keydown:function(e){if(!e.altKey&&!e.ctrlKey){var n=t.ui.keyCode,i=this.headers.length,r=this.headers.index(e.target),o=!1;switch(e.keyCode){case n.RIGHT:case n.DOWN:o=this.headers[(r+1)%i];break;case n.LEFT:case n.UP:o=this.headers[(r-1+i)%i];break;case n.SPACE:case n.ENTER:this._eventHandler(e);break;case n.HOME:o=this.headers[0];break;case n.END:o=this.headers[i-1]}o&&(t(e.target).attr("tabIndex",-1),t(o).attr("tabIndex",0),t(o).trigger("focus"),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===t.ui.keyCode.UP&&e.ctrlKey&&t(e.currentTarget).prev().trigger("focus")},refresh:function(){var e=this.options;this._processPanels(),!1===e.active&&!0===e.collapsible||!this.headers.length?(e.active=!1,this.active=t()):!1===e.active?this._activate(0):this.active.length&&!t.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=t()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var t=this.headers,e=this.panels;this.headers=this.element.find(this.options.header),this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default"),this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide(),this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content"),e&&(this._off(t.not(this.headers)),this._off(e.not(this.panels)))},_refresh:function(){var e,n=this.options,i=n.heightStyle,r=this.element.parent();this.active=this._findActive(n.active),this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed"),this._addClass(this.active.next(),"ui-accordion-content-active"),this.active.next().show(),this.headers.attr("role","tab").each(function(){var e=t(this),n=e.uniqueId().attr("id"),i=e.next(),r=i.uniqueId().attr("id");e.attr("aria-controls",r),i.attr("aria-labelledby",n)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(n.event),"fill"===i?(e=r.height(),this.element.siblings(":visible").each(function(){var n=t(this),i=n.css("position");"absolute"!==i&&"fixed"!==i&&(e-=n.outerHeight(!0))}),this.headers.each(function(){e-=t(this).outerHeight(!0)}),this.headers.next().each(function(){t(this).height(Math.max(0,e-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===i&&(e=0,this.headers.next().each(function(){var n=t(this).is(":visible");n||t(this).show(),e=Math.max(e,t(this).css("height","").height()),n||t(this).hide()}).height(e))},_activate:function(e){var n=this._findActive(e)[0];n!==this.active[0]&&(n=n||this.active[0],this._eventHandler({target:n,currentTarget:n,preventDefault:t.noop}))},_findActive:function(e){return"number"==typeof e?this.headers.eq(e):t()},_setupEvents:function(e){var n={keydown:"_keydown"};e&&t.each(e.split(" "),function(t,e){n[e]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,n),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(e){var n,i,r=this.options,o=this.active,a=t(e.currentTarget),s=a[0]===o[0],l=s&&r.collapsible,c=l?t():a.next(),u=o.next(),f={oldHeader:o,oldPanel:u,newHeader:l?t():a,newPanel:c};e.preventDefault(),s&&!r.collapsible||!1===this._trigger("beforeActivate",e,f)||(r.active=!l&&this.headers.index(a),this.active=s?t():a,this._toggle(f),this._removeClass(o,"ui-accordion-header-active","ui-state-active"),r.icons&&(n=o.children(".ui-accordion-header-icon"),this._removeClass(n,null,r.icons.activeHeader)._addClass(n,null,r.icons.header)),s||(this._removeClass(a,"ui-accordion-header-collapsed")._addClass(a,"ui-accordion-header-active","ui-state-active"),r.icons&&(i=a.children(".ui-accordion-header-icon"),this._removeClass(i,null,r.icons.header)._addClass(i,null,r.icons.activeHeader)),this._addClass(a.next(),"ui-accordion-content-active")))},_toggle:function(e){var n=e.newPanel,i=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=n,this.prevHide=i,this.options.animate?this._animate(n,i,e):(i.hide(),n.show(),this._toggleComplete(e)),i.attr({"aria-hidden":"true"}),i.prev().attr({"aria-selected":"false","aria-expanded":"false"}),n.length&&i.length?i.prev().attr({tabIndex:-1,"aria-expanded":"false"}):n.length&&this.headers.filter(function(){return 0===parseInt(t(this).attr("tabIndex"),10)}).attr("tabIndex",-1),n.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(t,e,n){var i,r,o,a=this,s=0,l=t.css("box-sizing"),c=t.length&&(!e.length||t.index()<e.index()),u=this.options.animate||{},f=c&&u.down||u,h=function(){a._toggleComplete(n)};return"number"==typeof f&&(o=f),"string"==typeof f&&(r=f),r=r||f.easing||u.easing,o=o||f.duration||u.duration,e.length?t.length?(i=t.show().outerHeight(),e.animate(this.hideProps,{duration:o,easing:r,step:function(t,e){e.now=Math.round(t)}}),void t.hide().animate(this.showProps,{duration:o,easing:r,complete:h,step:function(t,n){n.now=Math.round(t),"height"!==n.prop?"content-box"===l&&(s+=n.now):"content"!==a.options.heightStyle&&(n.now=Math.round(i-e.outerHeight()-s),s=0)}})):e.animate(this.hideProps,o,r,h):t.animate(this.showProps,o,r,h)},_toggleComplete:function(t){var e=t.oldPanel,n=e.prev();this._removeClass(e,"ui-accordion-content-active"),this._removeClass(n,"ui-accordion-header-active")._addClass(n,"ui-accordion-header-collapsed"),e.length&&(e.parent()[0].className=e.parent()[0].className),this._trigger("activate",null,t)}}),t.ui.safeActiveElement=function(t){var e;try{e=t.activeElement}catch(n){e=t.body}return e||(e=t.body),e.nodeName||(e=t.body),e},t.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(t){t.preventDefault()},"click .ui-menu-item":function(e){var n=t(e.target),i=t(t.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&n.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),n.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&i.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){if(!this.previousFilter){var n=t(e.target).closest(".ui-menu-item"),i=t(e.currentTarget);n[0]===i[0]&&(this._removeClass(i.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(e,i))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var n=this.active||this.element.find(this.options.items).eq(0);e||this.focus(t,n)},blur:function(e){this._delay(function(){var n=!t.contains(this.element[0],t.ui.safeActiveElement(this.document[0]));n&&this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){this._closeOnDocumentClick(t)&&this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){var e=this.element.find(".ui-menu-item").removeAttr("role aria-disabled"),n=e.children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),n.children().each(function(){var e=t(this);e.data("ui-menu-submenu-caret")&&e.remove()})},_keydown:function(e){var n,i,r,o,a=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:a=!1,i=this.previousFilter||"",o=!1,r=e.keyCode>=96&&105>=e.keyCode?""+(e.keyCode-96):String.fromCharCode(e.keyCode),clearTimeout(this.filterTimer),r===i?o=!0:r=i+r,n=this._filterMenuItems(r),(n=o&&-1!==n.index(this.active.next())?this.active.nextAll(".ui-menu-item"):n).length||(r=String.fromCharCode(e.keyCode),n=this._filterMenuItems(r)),n.length?(this.focus(e,n),this.previousFilter=r,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}a&&e.preventDefault()},_activate:function(t){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(t):this.select(t))},refresh:function(){var e,n,i,r,o,a=this,s=this.options.icons.submenu,l=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),i=l.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),n=e.prev(),i=t("<span>").data("ui-menu-submenu-caret",!0);a._addClass(i,"ui-menu-icon","ui-icon "+s),n.attr("aria-haspopup","true").prepend(i),e.attr("aria-labelledby",n.attr("id"))}),this._addClass(i,"ui-menu","ui-widget ui-widget-content ui-front"),e=l.add(this.element),(n=e.find(this.options.items)).not(".ui-menu-item").each(function(){var e=t(this);a._isDivider(e)&&a._addClass(e,"ui-menu-divider","ui-widget-content")}),r=n.not(".ui-menu-item, .ui-menu-divider"),o=r.children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(r,"ui-menu-item")._addClass(o,"ui-menu-item-wrapper"),n.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){if("icons"===t){var n=this.element.find(".ui-menu-icon");this._removeClass(n,null,this.options.icons.submenu)._addClass(n,null,e.submenu)}this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t+""),this._toggleClass(null,"ui-state-disabled",!!t)},focus:function(t,e){var n,i,r;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),i=this.active.children(".ui-menu-item-wrapper"),this._addClass(i,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",i.attr("id")),r=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(r,null,"ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),(n=e.children(".ui-menu")).length&&t&&/^mouse/.test(t.type)&&this._startOpening(n),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var n,i,r,o,a,s;this._hasScroll()&&(n=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,i=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,r=e.offset().top-this.activeMenu.offset().top-n-i,o=this.activeMenu.scrollTop(),a=this.activeMenu.height(),s=e.outerHeight(),0>r?this.activeMenu.scrollTop(o+r):r+s>a&&this.activeMenu.scrollTop(o+r-a+s))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",t,{item:this.active}),this.active=null)},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var n=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(n)},collapseAll:function(e,n){clearTimeout(this.timer),this.timer=this._delay(function(){var i=n?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));i.length||(i=this.element),this._close(i),this.blur(e),this._removeClass(i.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=i},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(e){return!t(e.target).closest(".ui-menu").length},_isDivider:function(t){return!/[^\-\u2014\u2013\s]/.test(t.text())},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,n){var i;this.active&&(i="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),i&&i.length&&this.active||(i=this.activeMenu.find(this.options.items)[e]()),this.focus(n,i)},nextPage:function(e){var n,i,r;return this.active?void(this.isLastItem()||(this._hasScroll()?(i=this.active.offset().top,r=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return 0>(n=t(this)).offset().top-i-r}),this.focus(e,n)):this.focus(e,this.activeMenu.find(this.options.items)[this.active?"last":"first"]()))):void this.next(e)},previousPage:function(e){var n,i,r;return this.active?void(this.isFirstItem()||(this._hasScroll()?(i=this.active.offset().top,r=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return(n=t(this)).offset().top-i+r>0}),this.focus(e,n)):this.focus(e,this.activeMenu.find(this.options.items).first()))):void this.next(e)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var n={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,n)},_filterMenuItems:function(e){var n=e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),i=RegExp("^"+n,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return i.test(t.trim(t(this).children(".ui-menu-item-wrapper").text()))})}}),t.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var e,n,i,r=this.element[0].nodeName.toLowerCase(),o="textarea"===r,a="input"===r;this.isMultiLine=o||!a&&this._isContentEditable(this.element),this.valueMethod=this.element[o||a?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(r){if(this.element.prop("readOnly"))return e=!0,i=!0,void(n=!0);e=!1,i=!1,n=!1;var o=t.ui.keyCode;switch(r.keyCode){case o.PAGE_UP:e=!0,this._move("previousPage",r);break;case o.PAGE_DOWN:e=!0,this._move("nextPage",r);break;case o.UP:e=!0,this._keyEvent("previous",r);break;case o.DOWN:e=!0,this._keyEvent("next",r);break;case o.ENTER:this.menu.active&&(e=!0,r.preventDefault(),this.menu.select(r));break;case o.TAB:this.menu.active&&this.menu.select(r);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(r),r.preventDefault());break;default:n=!0,this._searchTimeout(r)}},keypress:function(i){if(e)return e=!1,void((!this.isMultiLine||this.menu.element.is(":visible"))&&i.preventDefault());if(!n){var r=t.ui.keyCode;switch(i.keyCode){case r.PAGE_UP:this._move("previousPage",i);break;case r.PAGE_DOWN:this._move("nextPage",i);break;case r.UP:this._keyEvent("previous",i);break;case r.DOWN:this._keyEvent("next",i)}}},input:function(t){return i?(i=!1,void t.preventDefault()):void this._searchTimeout(t)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(t),void this._change(t))}}),this._initSource(),this.menu=t("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,this.element[0]!==t.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")})},menufocus:function(e,n){var i,r;return this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type))?(this.menu.blur(),void this.document.one("mousemove",function(){t(e.target).trigger(e.originalEvent)})):(r=n.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",e,{item:r})&&e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(r.value),void((i=n.item.attr("aria-label")||r.value)&&t.trim(i).length&&(this.liveRegion.children().hide(),t("<div>").text(i).appendTo(this.liveRegion))))},menuselect:function(e,n){var i=n.item.data("ui-autocomplete-item"),r=this.previous;this.element[0]!==t.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=r,this._delay(function(){this.previous=r,this.selectedItem=i})),!1!==this._trigger("select",e,{item:i})&&this._value(i.value),this.term=this._value(),this.close(e),this.selectedItem=i}}),this.liveRegion=t("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(e){var n=this.menu.element[0];return e.target===this.element[0]||e.target===n||t.contains(n,e.target)},_closeOnClickOutside:function(t){this._isEventTargetInWidget(t)||this.close()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,n,i=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(n,i){i(t.ui.autocomplete.filter(e,n.term))}):"string"==typeof this.options.source?(n=this.options.source,this.source=function(e,r){i.xhr&&i.xhr.abort(),i.xhr=t.ajax({url:n,data:e,dataType:"json",success:function(t){r(t)},error:function(){r([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay(function(){var e=this.term===this._value(),n=this.menu.element.is(":visible"),i=t.altKey||t.ctrlKey||t.metaKey||t.shiftKey;(!e||e&&!n&&!i)&&(this.selectedItem=null,this.search(null,t))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):!1!==this._trigger("search",e)?this._search(t):void 0},_search:function(t){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var e=++this.requestIndex;return t.proxy(function(t){e===this.requestIndex&&this.__response(t),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")},this)},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return"string"==typeof e?{label:e,value:e}:t.extend({},e,{label:e.label||e.value,value:e.value||e.label})})},_suggest:function(e){var n=this.menu.element.empty();this._renderMenu(n,e),this.isNewMenu=!0,this.menu.refresh(),n.show(),this._resizeMenu(),n.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,n){var i=this;t.each(n,function(t,n){i._renderItemData(e,n)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,n){return t("<li>").append(t("<div>").text(n.label)).appendTo(e)},_move:function(t,e){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[t](e):void this.search(null,e)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(t,e),e.preventDefault())},_isContentEditable:function(t){if(!t.length)return!1;var e=t.prop("contentEditable");return"inherit"===e?this._isContentEditable(t.parent()):"true"===e}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,n){var i=RegExp(t.ui.autocomplete.escapeRegex(n),"i");return t.grep(e,function(t){return i.test(t.label||t.value||t)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var n;this._superApply(arguments),this.options.disabled||this.cancelSearch||(n=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.children().hide(),t("<div>").text(n).appendTo(this.liveRegion))}}),t.ui.autocomplete;var d,p=/ui-corner-([a-z]){2,6}/g;t.widget("ui.controlgroup",{version:"1.12.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var e=this,n=[];t.each(this.options.items,function(i,r){var o,a={};return r?"controlgroupLabel"===i?((o=e.element.find(r)).each(function(){var e=t(this);e.children(".ui-controlgroup-label-contents").length||e.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")}),e._addClass(o,null,"ui-widget ui-widget-content ui-state-default"),void(n=n.concat(o.get()))):void(t.fn[i]&&(a=e["_"+i+"Options"]?e["_"+i+"Options"]("middle"):{classes:{}},e.element.find(r).each(function(){var r=t(this),o=r[i]("instance"),s=t.widget.extend({},a);if("button"!==i||!r.parent(".ui-spinner").length){o||(o=r[i]()[i]("instance")),o&&(s.classes=e._resolveClassesValues(s.classes,o)),r[i](s);var l=r[i]("widget");t.data(l[0],"ui-controlgroup-data",o||r[i]("instance")),n.push(l[0])}}))):void 0}),this.childWidgets=t(t.unique(n)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(e){this.childWidgets.each(function(){var n=t(this),i=n.data("ui-controlgroup-data");i&&i[e]&&i[e]()})},_updateCornerClass:function(t,e){var n=this._buildSimpleOptions(e,"label").classes.label;this._removeClass(t,null,"ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all"),this._addClass(t,null,n)},_buildSimpleOptions:function(t,e){var n="vertical"===this.options.direction,i={classes:{}};return i.classes[e]={middle:"",first:"ui-corner-"+(n?"top":"left"),last:"ui-corner-"+(n?"bottom":"right"),only:"ui-corner-all"}[t],i},_spinnerOptions:function(t){var e=this._buildSimpleOptions(t,"ui-spinner");return e.classes["ui-spinner-up"]="",e.classes["ui-spinner-down"]="",e},_buttonOptions:function(t){return this._buildSimpleOptions(t,"ui-button")},_checkboxradioOptions:function(t){return this._buildSimpleOptions(t,"ui-checkboxradio-label")},_selectmenuOptions:function(t){var e="vertical"===this.options.direction;return{width:!!e&&"auto",classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(e?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(e?"top":"left")},last:{"ui-selectmenu-button-open":e?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(e?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[t]}},_resolveClassesValues:function(e,n){var i={};return t.each(e,function(r){var o=n.options.classes[r]||"";o=t.trim(o.replace(p,"")),i[r]=(o+" "+e[r]).replace(/\s+/g," ")}),i},_setOption:function(t,e){return"direction"===t&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(t,e),"disabled"===t?void this._callChildMethod(e?"disable":"enable"):void this.refresh()},refresh:function(){var e,n=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),e=this.childWidgets,this.options.onlyVisible&&(e=e.filter(":visible")),e.length&&(t.each(["first","last"],function(t,i){var r=e[i]().data("ui-controlgroup-data");if(r&&n["_"+r.widgetName+"Options"]){var o=n["_"+r.widgetName+"Options"](1===e.length?"only":i);o.classes=n._resolveClassesValues(o.classes,r),r.element[r.widgetName](o)}else n._updateCornerClass(e[i](),i)}),this._callChildMethod("refresh"))}}),t.widget("ui.checkboxradio",[t.ui.formResetMixin,{version:"1.12.1",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var e,n,i=this,r=this._super()||{};return this._readType(),n=this.element.labels(),this.label=t(n[n.length-1]),this.label.length||t.error("No label found for checkboxradio widget"),this.originalLabel="",this.label.contents().not(this.element[0]).each(function(){i.originalLabel+=3===this.nodeType?t(this).text():this.outerHTML}),this.originalLabel&&(r.label=this.originalLabel),null!=(e=this.element[0].disabled)&&(r.disabled=e),r},_create:function(){var t=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),t&&(this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this.icon&&this._addClass(this.icon,null,"ui-state-hover")),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var e=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,"input"===e&&/radio|checkbox/.test(this.type)||t.error("Can't create checkboxradio on element.nodeName="+e+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var e=this.element[0].name,n="input[name='"+t.ui.escapeSelector(e)+"']";return e?(this.form.length?t(this.form[0].elements).filter(n):t(n).filter(function(){return 0===t(this).form().length})).not(this.element):t([])},_toggleClasses:function(){var e=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",e)._toggleClass(this.icon,null,"ui-icon-blank",!e),"radio"===this.type&&this._getRadioGroup().each(function(){var e=t(this).checkboxradio("instance");e&&e._removeClass(e.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(t,e){return"label"!==t||e?(this._super(t,e),"disabled"===t?(this._toggleClass(this.label,null,"ui-state-disabled",e),void(this.element[0].disabled=e)):void this.refresh()):void 0},_updateIcon:function(e){var n="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=t("<span>"),this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(n+=e?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,e?"ui-icon-blank":"ui-icon-check")):n+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",n),e||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var t=this.label.contents().not(this.element[0]);this.icon&&(t=t.not(this.icon[0])),this.iconSpace&&(t=t.not(this.iconSpace[0])),t.remove(),this.label.append(this.options.label)},refresh:function(){var t=this.element[0].checked,e=this.element[0].disabled;this._updateIcon(t),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",t),null!==this.options.label&&this._updateLabel(),e!==this.options.disabled&&this._setOptions({disabled:e})}}]),t.ui.checkboxradio,t.widget("ui.button",{version:"1.12.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var t,e=this._super()||{};return this.isInput=this.element.is("input"),null!=(t=this.element[0].disabled)&&(e.disabled=t),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(e.label=this.originalLabel),e},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(e){e.keyCode===t.ui.keyCode.SPACE&&(e.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(e,n){var i="iconPosition"!==e,r=i?this.options.iconPosition:n,o="top"===r||"bottom"===r;this.icon?i&&this._removeClass(this.icon,null,this.options.icon):(this.icon=t("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),i&&this._addClass(this.icon,null,n),this._attachIcon(r),o?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(r))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(t){this.icon[/^(?:end|bottom)/.test(t)?"before":"after"](this.iconSpace)},_attachIcon:function(t){this.element[/^(?:end|bottom)/.test(t)?"append":"prepend"](this.icon)},_setOptions:function(t){var e=void 0===t.showLabel?this.options.showLabel:t.showLabel,n=void 0===t.icon?this.options.icon:t.icon;e||n||(t.showLabel=!0),this._super(t)},_setOption:function(t,e){"icon"===t&&(e?this._updateIcon(t,e):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===t&&this._updateIcon(t,e),"showLabel"===t&&(this._toggleClass("ui-button-icon-only",null,!e),this._updateTooltip()),"label"===t&&(this.isInput?this.element.val(e):(this.element.html(e),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(t,e),"disabled"===t&&(this._toggleClass(null,"ui-state-disabled",e),this.element[0].disabled=e,e&&this.element.blur())},refresh:function(){var t=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOptions({disabled:t}),this._updateTooltip()}}),!1!==t.uiBackCompat&&(t.widget("ui.button",t.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(t,e){return"text"===t?void this._super("showLabel",e):("showLabel"===t&&(this.options.text=e),"icon"===t&&(this.options.icons.primary=e),"icons"===t&&(e.primary?(this._super("icon",e.primary),this._super("iconPosition","beginning")):e.secondary&&(this._super("icon",e.secondary),this._super("iconPosition","end"))),void this._superApply(arguments))}}),t.fn.button=function(e){return function(){return!this.length||this.length&&"INPUT"!==this[0].tagName||this.length&&"INPUT"===this[0].tagName&&"checkbox"!==this.attr("type")&&"radio"!==this.attr("type")?e.apply(this,arguments):(t.ui.checkboxradio||t.error("Checkboxradio widget missing"),0===arguments.length?this.checkboxradio({icon:!1}):this.checkboxradio.apply(this,arguments))}}(t.fn.button),t.fn.buttonset=function(){return t.ui.controlgroup||t.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==a(arguments[0])&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))}),t.ui.button,t.extend(t.ui,{datepicker:{version:"1.12.1"}}),t.extend(e.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return r(this._defaults,t||{}),this},_attachDatepicker:function(e,n){var i,r,o;i=e.nodeName.toLowerCase(),r="div"===i||"span"===i,e.id||(this.uuid+=1,e.id="dp"+this.uuid),(o=this._newInst(t(e),r)).settings=t.extend({},n||{}),"input"===i?this._connectDatepicker(e,o):r&&this._inlineDatepicker(e,o)},_newInst:function(e,i){var r=e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:r,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?n(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,n){var i=t(e);n.append=t([]),n.trigger=t([]),i.hasClass(this.markerClassName)||(this._attachments(i,n),i.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(n),t.data(e,"datepicker",n),n.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,n){var i,r,o,a=this._get(n,"appendText"),s=this._get(n,"isRTL");n.append&&n.append.remove(),a&&(n.append=t("<span class='"+this._appendClass+"'>"+a+"</span>"),e[s?"before":"after"](n.append)),e.off("focus",this._showDatepicker),n.trigger&&n.trigger.remove(),("focus"===(i=this._get(n,"showOn"))||"both"===i)&&e.on("focus",this._showDatepicker),("button"===i||"both"===i)&&(r=this._get(n,"buttonText"),o=this._get(n,"buttonImage"),n.trigger=t(this._get(n,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:o,alt:r,title:r}):t("<button type='button'></button>").addClass(this._triggerClass).html(o?t("<img/>").attr({src:o,alt:r,title:r}):r)),e[s?"before":"after"](n.trigger),n.trigger.on("click",function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1}))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,n,i,r,o=new Date(2009,11,20),a=this._get(t,"dateFormat");a.match(/[DM]/)&&(e=function(t){for(n=0,i=0,r=0;t.length>r;r++)t[r].length>n&&(n=t[r].length,i=r);return i},o.setMonth(e(this._get(t,a.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(e(this._get(t,a.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),t.input.attr("size",this._formatDate(t,o).length)}},_inlineDatepicker:function(e,n){var i=t(e);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(n.dpDiv),t.data(e,"datepicker",n),this._setDate(n,this._getDefaultDate(n),!0),this._updateDatepicker(n),this._updateAlternate(n),n.settings.disabled&&this._disableDatepicker(e),n.dpDiv.css("display","block"))},_dialogDatepicker:function(e,n,i,o,a){var s,l,c,u,f,h=this._dialogInst;return h||(this.uuid+=1,s="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+s+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),t("body").append(this._dialogInput),(h=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},t.data(this._dialogInput[0],"datepicker",h)),r(h.settings,o||{}),n=n&&n.constructor===Date?this._formatDate(h,n):n,this._dialogInput.val(n),this._pos=a?a.length?a:[a.pageX,a.pageY]:null,this._pos||(l=document.documentElement.clientWidth,c=document.documentElement.clientHeight,u=document.documentElement.scrollLeft||document.body.scrollLeft,f=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[l/2-100+u,c/2-150+f]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),h.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],"datepicker",h),this},_destroyDatepicker:function(e){var n,i=t(e),r=t.data(e,"datepicker");i.hasClass(this.markerClassName)&&(n=e.nodeName.toLowerCase(),t.removeData(e,"datepicker"),"input"===n?(r.append.remove(),r.trigger.remove(),i.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):("div"===n||"span"===n)&&i.removeClass(this.markerClassName).empty(),d===r&&(d=null))},_enableDatepicker:function(e){var n,i,r=t(e),o=t.data(e,"datepicker");r.hasClass(this.markerClassName)&&("input"===(n=e.nodeName.toLowerCase())?(e.disabled=!1,o.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===n||"span"===n)&&((i=r.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var n,i,r=t(e),o=t.data(e,"datepicker");r.hasClass(this.markerClassName)&&("input"===(n=e.nodeName.toLowerCase())?(e.disabled=!0,o.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===n||"span"===n)&&((i=r.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;this._disabledInputs.length>e;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,"datepicker")}catch(t){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,n,i){var o,a,s,l,c=this._getInst(e);return 2===arguments.length&&"string"==typeof n?"defaults"===n?t.extend({},t.datepicker._defaults):c?"all"===n?t.extend({},c.settings):this._get(c,n):null:(o=n||{},"string"==typeof n&&((o={})[n]=i),void(c&&(this._curInst===c&&this._hideDatepicker(),a=this._getDateDatepicker(e,!0),s=this._getMinMaxDate(c,"min"),l=this._getMinMaxDate(c,"max"),r(c.settings,o),null!==s&&void 0!==o.dateFormat&&void 0===o.minDate&&(c.settings.minDate=this._formatDate(c,s)),null!==l&&void 0!==o.dateFormat&&void 0===o.maxDate&&(c.settings.maxDate=this._formatDate(c,l)),"disabled"in o&&(o.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(t(e),c),this._autoSize(c),this._setDate(c,a),this._updateAlternate(c),this._updateDatepicker(c))))},_changeDatepicker:function(t,e,n){this._optionDatepicker(t,e,n)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var n=this._getInst(t);n&&(this._setDate(n,e),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(t,e){var n=this._getInst(t);return n&&!n.inline&&this._setDateFromField(n,e),n?this._getDate(n):null},_doKeyDown:function(e){var n,i,r,o=t.datepicker._getInst(e.target),a=!0,s=o.dpDiv.is(".ui-datepicker-rtl");if(o._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),a=!1;break;case 13:return(r=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",o.dpDiv))[0]&&t.datepicker._selectDay(e.target,o.selectedMonth,o.selectedYear,r[0]),(n=t.datepicker._get(o,"onSelect"))?(i=t.datepicker._formatDate(o),n.apply(o.input?o.input[0]:null,[i,o])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),a=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),a=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,s?1:-1,"D"),a=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),a=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,s?-1:1,"D"),a=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),a=e.ctrlKey||e.metaKey;break;default:a=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):a=!1;a&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var n,i,r=t.datepicker._getInst(e.target);return t.datepicker._get(r,"constrainInput")?(n=t.datepicker._possibleChars(t.datepicker._get(r,"dateFormat")),i=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||" ">i||!n||n.indexOf(i)>-1):void 0},_doKeyUp:function(e){var n=t.datepicker._getInst(e.target);if(n.input.val()!==n.lastVal)try{t.datepicker.parseDate(t.datepicker._get(n,"dateFormat"),n.input?n.input.val():null,t.datepicker._getFormatConfig(n))&&(t.datepicker._setDateFromField(n),t.datepicker._updateAlternate(n),t.datepicker._updateDatepicker(n))}catch(t){}return!0},_showDatepicker:function(e){var n,i,o,a,s,l,c;"input"!==(e=e.target||e).nodeName.toLowerCase()&&(e=t("input",e.parentNode)[0]),t.datepicker._isDisabledDatepicker(e)||t.datepicker._lastInput===e||(n=t.datepicker._getInst(e),t.datepicker._curInst&&t.datepicker._curInst!==n&&(t.datepicker._curInst.dpDiv.stop(!0,!0),n&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),i=t.datepicker._get(n,"beforeShow"),!1!==(o=i?i.apply(e,[e,n]):{})&&(r(n.settings,o),n.lastVal=null,t.datepicker._lastInput=e,t.datepicker._setDateFromField(n),t.datepicker._inDialog&&(e.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(e),t.datepicker._pos[1]+=e.offsetHeight),a=!1,t(e).parents().each(function(){return!(a|="fixed"===t(this).css("position"))}),s={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,n.dpDiv.empty(),n.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(n),s=t.datepicker._checkOffset(n,s,a),n.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":a?"fixed":"absolute",display:"none",left:s.left+"px",top:s.top+"px"}),n.inline||(l=t.datepicker._get(n,"showAnim"),c=t.datepicker._get(n,"duration"),n.dpDiv.css("z-index",function(t){for(var e,n;t.length&&t[0]!==document;){if(("absolute"===(e=t.css("position"))||"relative"===e||"fixed"===e)&&(n=parseInt(t.css("zIndex"),10),!isNaN(n)&&0!==n))return n;t=t.parent()}return 0}(t(e))+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[l]?n.dpDiv.show(l,t.datepicker._get(n,"showOptions"),c):n.dpDiv[l||"show"](l?c:null),t.datepicker._shouldFocusInput(n)&&n.input.trigger("focus"),t.datepicker._curInst=n)))},_updateDatepicker:function(e){this.maxRows=4,d=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var n,r=this._getNumberOfMonths(e),o=r[1],a=e.dpDiv.find("."+this._dayOverClass+" a");a.length>0&&i.apply(a.get(0)),e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),o>1&&e.dpDiv.addClass("ui-datepicker-multi-"+o).css("width",17*o+"em"),e.dpDiv[(1!==r[0]||1!==r[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.trigger("focus"),e.yearshtml&&(n=e.yearshtml,setTimeout(function(){n===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),n=e.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,n,i){var r=e.dpDiv.outerWidth(),o=e.dpDiv.outerHeight(),a=e.input?e.input.outerWidth():0,s=e.input?e.input.outerHeight():0,l=document.documentElement.clientWidth+(i?0:t(document).scrollLeft()),c=document.documentElement.clientHeight+(i?0:t(document).scrollTop());return n.left-=this._get(e,"isRTL")?r-a:0,n.left-=i&&n.left===e.input.offset().left?t(document).scrollLeft():0,n.top-=i&&n.top===e.input.offset().top+s?t(document).scrollTop():0,n.left-=Math.min(n.left,n.left+r>l&&l>r?Math.abs(n.left+r-l):0),n.top-=Math.min(n.top,n.top+o>c&&c>o?Math.abs(o+s):0),n},_findPos:function(e){for(var n,i=this._getInst(e),r=this._get(i,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[r?"previousSibling":"nextSibling"];return[(n=t(e).offset()).left,n.top]},_hideDatepicker:function(e){var n,i,r,o,a=this._curInst;!a||e&&a!==t.data(e,"datepicker")||this._datepickerShowing&&(n=this._get(a,"showAnim"),i=this._get(a,"duration"),r=function(){t.datepicker._tidyDialog(a)},t.effects&&(t.effects.effect[n]||t.effects[n])?a.dpDiv.hide(n,t.datepicker._get(a,"showOptions"),i,r):a.dpDiv["slideDown"===n?"slideUp":"fadeIn"===n?"fadeOut":"hide"](n?i:null,r),n||r(),this._datepickerShowing=!1,(o=this._get(a,"onClose"))&&o.apply(a.input?a.input[0]:null,[a.input?a.input.val():"",a]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var n=t(e.target),i=t.datepicker._getInst(n[0]);(n[0].id!==t.datepicker._mainDivId&&0===n.parents("#"+t.datepicker._mainDivId).length&&!n.hasClass(t.datepicker.markerClassName)&&!n.closest("."+t.datepicker._triggerClass).length&&t.datepicker._datepickerShowing&&(!t.datepicker._inDialog||!t.blockUI)||n.hasClass(t.datepicker.markerClassName)&&t.datepicker._curInst!==i)&&t.datepicker._hideDatepicker()}},_adjustDate:function(e,n,i){var r=t(e),o=this._getInst(r[0]);this._isDisabledDatepicker(r[0])||(this._adjustInstDate(o,n+("M"===i?this._get(o,"showCurrentAtPos"):0),i),this._updateDatepicker(o))},_gotoToday:function(e){var n,i=t(e),r=this._getInst(i[0]);this._get(r,"gotoCurrent")&&r.currentDay?(r.selectedDay=r.currentDay,r.drawMonth=r.selectedMonth=r.currentMonth,r.drawYear=r.selectedYear=r.currentYear):(n=new Date,r.selectedDay=n.getDate(),r.drawMonth=r.selectedMonth=n.getMonth(),r.drawYear=r.selectedYear=n.getFullYear()),this._notifyChange(r),this._adjustDate(i)},_selectMonthYear:function(e,n,i){var r=t(e),o=this._getInst(r[0]);o["selected"+("M"===i?"Month":"Year")]=o["draw"+("M"===i?"Month":"Year")]=parseInt(n.options[n.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(r)},_selectDay:function(e,n,i,r){var o,a=t(e);t(r).hasClass(this._unselectableClass)||this._isDisabledDatepicker(a[0])||((o=this._getInst(a[0])).selectedDay=o.currentDay=t("a",r).html(),o.selectedMonth=o.currentMonth=n,o.selectedYear=o.currentYear=i,this._selectDate(e,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(e){var n=t(e);this._selectDate(n,"")},_selectDate:function(e,n){var i,r=t(e),o=this._getInst(r[0]);n=null!=n?n:this._formatDate(o),o.input&&o.input.val(n),this._updateAlternate(o),(i=this._get(o,"onSelect"))?i.apply(o.input?o.input[0]:null,[n,o]):o.input&&o.input.trigger("change"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],"object"!=a(o.input[0])&&o.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(e){var n,i,r,o=this._get(e,"altField");o&&(n=this._get(e,"altFormat")||this._get(e,"dateFormat"),i=this._getDate(e),r=this.formatDate(n,i,this._getFormatConfig(e)),t(o).val(r))},noWeekends:function(t){var e=t.getDay();return[e>0&&6>e,""]},iso8601Week:function(t){var e,n=new Date(t.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),e=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((e-n)/864e5)/7)+1},parseDate:function(e,n,i){if(null==e||null==n)throw"Invalid arguments";if(""==(n="object"==(void 0===n?"undefined":a(n))?""+n:n+""))return null;var r,o,s,l,c=0,u=(i?i.shortYearCutoff:null)||this._defaults.shortYearCutoff,f="string"!=typeof u?u:(new Date).getFullYear()%100+parseInt(u,10),h=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,d=(i?i.dayNames:null)||this._defaults.dayNames,p=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,g=(i?i.monthNames:null)||this._defaults.monthNames,m=-1,v=-1,b=-1,y=-1,_=!1,x=function(t){var n=e.length>r+1&&e.charAt(r+1)===t;return n&&r++,n},w=function(t){var e=x(t),i="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,r="y"===t?i:1,o=RegExp("^\\d{"+r+","+i+"}"),a=n.substring(c).match(o);if(!a)throw"Missing number at position "+c;return c+=a[0].length,parseInt(a[0],10)},k=function(e,i,r){var o=-1,a=t.map(x(e)?r:i,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(t.each(a,function(t,e){var i=e[1];return n.substr(c,i.length).toLowerCase()===i.toLowerCase()?(o=e[0],c+=i.length,!1):void 0}),-1!==o)return o+1;throw"Unknown name at position "+c},C=function(){if(n.charAt(c)!==e.charAt(r))throw"Unexpected literal at position "+c;c++};for(r=0;e.length>r;r++)if(_)"'"!==e.charAt(r)||x("'")?C():_=!1;else switch(e.charAt(r)){case"d":b=w("d");break;case"D":k("D",h,d);break;case"o":y=w("o");break;case"m":v=w("m");break;case"M":v=k("M",p,g);break;case"y":m=w("y");break;case"@":l=new Date(w("@")),m=l.getFullYear(),v=l.getMonth()+1,b=l.getDate();break;case"!":l=new Date((w("!")-this._ticksTo1970)/1e4),m=l.getFullYear(),v=l.getMonth()+1,b=l.getDate();break;case"'":x("'")?C():_=!0;break;default:C()}if(n.length>c&&(s=n.substr(c),!/^\s+/.test(s)))throw"Extra/unparsed characters found in date: "+s;if(-1===m?m=(new Date).getFullYear():100>m&&(m+=(new Date).getFullYear()-(new Date).getFullYear()%100+(f>=m?0:-100)),y>-1)for(v=1,b=y;!((o=this._getDaysInMonth(m,v-1))>=b);)v++,b-=o;if((l=this._daylightSavingAdjust(new Date(m,v-1,b))).getFullYear()!==m||l.getMonth()+1!==v||l.getDate()!==b)throw"Invalid date";return l},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864e9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(t,e,n){if(!e)return"";var i,r=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,o=(n?n.dayNames:null)||this._defaults.dayNames,a=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,s=(n?n.monthNames:null)||this._defaults.monthNames,l=function(e){var n=t.length>i+1&&t.charAt(i+1)===e;return n&&i++,n},c=function(t,e,n){var i=""+e;if(l(t))for(;n>i.length;)i="0"+i;return i},u=function(t,e,n,i){return l(t)?i[e]:n[e]},f="",h=!1;if(e)for(i=0;t.length>i;i++)if(h)"'"!==t.charAt(i)||l("'")?f+=t.charAt(i):h=!1;else switch(t.charAt(i)){case"d":f+=c("d",e.getDate(),2);break;case"D":f+=u("D",e.getDay(),r,o);break;case"o":f+=c("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":f+=c("m",e.getMonth()+1,2);break;case"M":f+=u("M",e.getMonth(),a,s);break;case"y":f+=l("y")?e.getFullYear():(10>e.getFullYear()%100?"0":"")+e.getFullYear()%100;break;case"@":f+=e.getTime();break;case"!":f+=1e4*e.getTime()+this._ticksTo1970;break;case"'":l("'")?f+="'":h=!0;break;default:f+=t.charAt(i)}return f},_possibleChars:function(t){var e,n="",i=!1,r=function(n){var i=t.length>e+1&&t.charAt(e+1)===n;return i&&e++,i};for(e=0;t.length>e;e++)if(i)"'"!==t.charAt(e)||r("'")?n+=t.charAt(e):i=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":n+="0123456789";break;case"D":case"M":return null;case"'":r("'")?n+="'":i=!0;break;default:n+=t.charAt(e)}return n},_get:function(t,e){return void 0!==t.settings[e]?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var n=this._get(t,"dateFormat"),i=t.lastVal=t.input?t.input.val():null,r=this._getDefaultDate(t),o=r,a=this._getFormatConfig(t);try{o=this.parseDate(n,i,a)||r}catch(t){i=e?"":i}t.selectedDay=o.getDate(),t.drawMonth=t.selectedMonth=o.getMonth(),t.drawYear=t.selectedYear=o.getFullYear(),t.currentDay=i?o.getDate():0,t.currentMonth=i?o.getMonth():0,t.currentYear=i?o.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,n,i){var r=null==n||""===n?i:"string"==typeof n?function(n){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),n,t.datepicker._getFormatConfig(e))}catch(t){}for(var i=(n.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,r=i.getFullYear(),o=i.getMonth(),a=i.getDate(),s=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=s.exec(n);l;){switch(l[2]||"d"){case"d":case"D":a+=parseInt(l[1],10);break;case"w":case"W":a+=7*parseInt(l[1],10);break;case"m":case"M":o+=parseInt(l[1],10),a=Math.min(a,t.datepicker._getDaysInMonth(r,o));break;case"y":case"Y":r+=parseInt(l[1],10),a=Math.min(a,t.datepicker._getDaysInMonth(r,o))}l=s.exec(n)}return new Date(r,o,a)}(n):"number"==typeof n?isNaN(n)?i:function(t){var e=new Date;return e.setDate(e.getDate()+t),e}(n):new Date(n.getTime());return(r=r&&"Invalid Date"==""+r?i:r)&&(r.setHours(0),r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0)),this._daylightSavingAdjust(r)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,n){var i=!e,r=t.selectedMonth,o=t.selectedYear,a=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=a.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=a.getMonth(),t.drawYear=t.selectedYear=t.currentYear=a.getFullYear(),r===t.selectedMonth&&o===t.selectedYear||n||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(i?"":this._formatDate(t))},_getDate:function(t){var e=!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return e},_attachHandlers:function(e){var n=this._get(e,"stepMonths"),i="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){t.datepicker._adjustDate(i,-n,"M")},next:function(){t.datepicker._adjustDate(i,+n,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(i)},selectDay:function(){return t.datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(i,this,"Y"),!1}};t(this).on(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,n,i,r,o,a,s,l,c,u,f,h,d,p,g,m,v,b,y,_,x,w,k,C,F,A,S,D,M,T,E,P,I,R,N,z,O,L,j,H=new Date,B=this._daylightSavingAdjust(new Date(H.getFullYear(),H.getMonth(),H.getDate())),W=this._get(t,"isRTL"),q=this._get(t,"showButtonPanel"),U=this._get(t,"hideIfNoPrevNext"),$=this._get(t,"navigationAsDateFormat"),V=this._getNumberOfMonths(t),G=this._get(t,"showCurrentAtPos"),Y=this._get(t,"stepMonths"),X=1!==V[0]||1!==V[1],K=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),Q=this._getMinMaxDate(t,"min"),Z=this._getMinMaxDate(t,"max"),J=t.drawMonth-G,tt=t.drawYear;if(0>J&&(J+=12,tt--),Z)for(e=this._daylightSavingAdjust(new Date(Z.getFullYear(),Z.getMonth()-V[0]*V[1]+1,Z.getDate())),e=Q&&Q>e?Q:e;this._daylightSavingAdjust(new Date(tt,J,1))>e;)0>--J&&(J=11,tt--);for(t.drawMonth=J,t.drawYear=tt,n=this._get(t,"prevText"),n=$?this.formatDate(n,this._daylightSavingAdjust(new Date(tt,J-Y,1)),this._getFormatConfig(t)):n,i=this._canAdjustMonth(t,-1,tt,J)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"e":"w")+"'>"+n+"</span></a>":U?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"e":"w")+"'>"+n+"</span></a>",r=this._get(t,"nextText"),r=$?this.formatDate(r,this._daylightSavingAdjust(new Date(tt,J+Y,1)),this._getFormatConfig(t)):r,o=this._canAdjustMonth(t,1,tt,J)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"w":"e")+"'>"+r+"</span></a>":U?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"w":"e")+"'>"+r+"</span></a>",a=this._get(t,"currentText"),s=this._get(t,"gotoCurrent")&&t.currentDay?K:B,a=$?this.formatDate(a,s,this._getFormatConfig(t)):a,l=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",c=q?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(W?l:"")+(this._isInRange(t,s)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+a+"</button>":"")+(W?"":l)+"</div>":"",u=parseInt(this._get(t,"firstDay"),10),u=isNaN(u)?0:u,f=this._get(t,"showWeek"),h=this._get(t,"dayNames"),d=this._get(t,"dayNamesMin"),p=this._get(t,"monthNames"),g=this._get(t,"monthNamesShort"),m=this._get(t,"beforeShowDay"),v=this._get(t,"showOtherMonths"),b=this._get(t,"selectOtherMonths"),y=this._getDefaultDate(t),_="",w=0;V[0]>w;w++){for(k="",this.maxRows=4,C=0;V[1]>C;C++){if(F=this._daylightSavingAdjust(new Date(tt,J,t.selectedDay)),A=" ui-corner-all",S="",X){if(S+="<div class='ui-datepicker-group",V[1]>1)switch(C){case 0:S+=" ui-datepicker-group-first",A=" ui-corner-"+(W?"right":"left");break;case V[1]-1:S+=" ui-datepicker-group-last",A=" ui-corner-"+(W?"left":"right");break;default:S+=" ui-datepicker-group-middle",A=""}S+="'>"}for(S+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+A+"'>"+(/all|left/.test(A)&&0===w?W?o:i:"")+(/all|right/.test(A)&&0===w?W?i:o:"")+this._generateMonthYearHeader(t,J,tt,Q,Z,w>0||C>0,p,g)+"</div><table class='ui-datepicker-calendar'><thead><tr>",D=f?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",x=0;7>x;x++)M=(x+u)%7,D+="<th scope='col'"+((x+u+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+h[M]+"'>"+d[M]+"</span></th>";for(S+=D+"</tr></thead><tbody>",T=this._getDaysInMonth(tt,J),tt===t.selectedYear&&J===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,T)),E=(this._getFirstDayOfMonth(tt,J)-u+7)%7,P=Math.ceil((E+T)/7),I=X&&this.maxRows>P?this.maxRows:P,this.maxRows=I,R=this._daylightSavingAdjust(new Date(tt,J,1-E)),N=0;I>N;N++){for(S+="<tr>",z=f?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(R)+"</td>":"",x=0;7>x;x++)O=m?m.apply(t.input?t.input[0]:null,[R]):[!0,""],L=R.getMonth()!==J,j=L&&!b||!O[0]||Q&&Q>R||Z&&R>Z,z+="<td class='"+((x+u+6)%7>=5?" ui-datepicker-week-end":"")+(L?" ui-datepicker-other-month":"")+(R.getTime()===F.getTime()&&J===t.selectedMonth&&t._keyEvent||y.getTime()===R.getTime()&&y.getTime()===F.getTime()?" "+this._dayOverClass:"")+(j?" "+this._unselectableClass+" ui-state-disabled":"")+(L&&!v?"":" "+O[1]+(R.getTime()===K.getTime()?" "+this._currentClass:"")+(R.getTime()===B.getTime()?" ui-datepicker-today":""))+"'"+(L&&!v||!O[2]?"":" title='"+O[2].replace(/'/g,"&#39;")+"'")+(j?"":" data-handler='selectDay' data-event='click' data-month='"+R.getMonth()+"' data-year='"+R.getFullYear()+"'")+">"+(L&&!v?"&#xa0;":j?"<span class='ui-state-default'>"+R.getDate()+"</span>":"<a class='ui-state-default"+(R.getTime()===B.getTime()?" ui-state-highlight":"")+(R.getTime()===K.getTime()?" ui-state-active":"")+(L?" ui-priority-secondary":"")+"' href='#'>"+R.getDate()+"</a>")+"</td>",R.setDate(R.getDate()+1),R=this._daylightSavingAdjust(R);S+=z+"</tr>"}++J>11&&(J=0,tt++),S+="</tbody></table>"+(X?"</div>"+(V[0]>0&&C===V[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),k+=S}_+=k}return _+=c,t._keyEvent=!1,_},_generateMonthYearHeader:function(t,e,n,i,r,o,a,s){var l,c,u,f,h,d,p,g,m=this._get(t,"changeMonth"),v=this._get(t,"changeYear"),b=this._get(t,"showMonthAfterYear"),y="<div class='ui-datepicker-title'>",_="";if(o||!m)_+="<span class='ui-datepicker-month'>"+a[e]+"</span>";else{for(l=i&&i.getFullYear()===n,c=r&&r.getFullYear()===n,_+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",u=0;12>u;u++)(!l||u>=i.getMonth())&&(!c||r.getMonth()>=u)&&(_+="<option value='"+u+"'"+(u===e?" selected='selected'":"")+">"+s[u]+"</option>");_+="</select>"}if(b||(y+=_+(!o&&m&&v?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",o||!v)y+="<span class='ui-datepicker-year'>"+n+"</span>";else{for(f=this._get(t,"yearRange").split(":"),h=(new Date).getFullYear(),p=(d=function(t){var e=t.match(/c[+\-].*/)?n+parseInt(t.substring(1),10):t.match(/[+\-].*/)?h+parseInt(t,10):parseInt(t,10);return isNaN(e)?h:e})(f[0]),g=Math.max(p,d(f[1]||"")),p=i?Math.max(p,i.getFullYear()):p,g=r?Math.min(g,r.getFullYear()):g,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";g>=p;p++)t.yearshtml+="<option value='"+p+"'"+(p===n?" selected='selected'":"")+">"+p+"</option>";t.yearshtml+="</select>",y+=t.yearshtml,t.yearshtml=null}return y+=this._get(t,"yearSuffix"),b&&(y+=(!o&&m&&v?"":"&#xa0;")+_),y+="</div>"},_adjustInstDate:function(t,e,n){var i=t.selectedYear+("Y"===n?e:0),r=t.selectedMonth+("M"===n?e:0),o=Math.min(t.selectedDay,this._getDaysInMonth(i,r))+("D"===n?e:0),a=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(i,r,o)));t.selectedDay=a.getDate(),t.drawMonth=t.selectedMonth=a.getMonth(),t.drawYear=t.selectedYear=a.getFullYear(),("M"===n||"Y"===n)&&this._notifyChange(t)},_restrictMinMax:function(t,e){var n=this._getMinMaxDate(t,"min"),i=this._getMinMaxDate(t,"max"),r=n&&n>e?n:e;return i&&r>i?i:r},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,n,i){var r=this._getNumberOfMonths(t),o=this._daylightSavingAdjust(new Date(n,i+(0>e?e:r[0]*r[1]),1));return 0>e&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(t,o)},_isInRange:function(t,e){var n,i,r=this._getMinMaxDate(t,"min"),o=this._getMinMaxDate(t,"max"),a=null,s=null,l=this._get(t,"yearRange");return l&&(n=l.split(":"),i=(new Date).getFullYear(),a=parseInt(n[0],10),s=parseInt(n[1],10),n[0].match(/[+\-].*/)&&(a+=i),n[1].match(/[+\-].*/)&&(s+=i)),(!r||e.getTime()>=r.getTime())&&(!o||e.getTime()<=o.getTime())&&(!a||e.getFullYear()>=a)&&(!s||s>=e.getFullYear())},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return{shortYearCutoff:e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,n,i){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var r=e?"object"==(void 0===e?"undefined":a(e))?e:this._daylightSavingAdjust(new Date(i,n,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),r,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).on("mousedown",t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var n=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(n)):this.each(function(){"string"==typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(n)):t.datepicker._attachDatepicker(this,e)}):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(n))},t.datepicker=new e,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.12.1",t.datepicker,t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var g=!1;t(document).on("mouseup",function(){g=!1}),t.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).on("click."+this.widgetName,function(n){return!0===t.data(n.target,e.widgetName+".preventClickEvent")?(t.removeData(n.target,e.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!g){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var n=this,i=1===e.which,r=!("string"!=typeof this.options.cancel||!e.target.nodeName)&&t(e.target).closest(this.options.cancel).length;return!(i&&!r&&this._mouseCapture(e)&&(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(e),!this._mouseStarted)?(e.preventDefault(),0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return n._mouseMove(t)},this._mouseUpDelegate=function(t){return n._mouseUp(t)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),g=!0,0)))}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||9>document.documentMode)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,g=!1,e.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),t.ui.plugin={add:function(e,n,i){var r,o=t.ui[e].prototype;for(r in i)o.plugins[r]=o.plugins[r]||[],o.plugins[r].push([n,i[r]])},call:function(t,e,n,i){var r,o=t.plugins[e];if(o&&(i||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(r=0;o.length>r;r++)t.options[o[r][0]]&&o[r][1].apply(t.element,n)}},t.ui.safeBlur=function(e){e&&"body"!==e.nodeName.toLowerCase()&&t(e).trigger("blur")},t.widget("ui.draggable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(e){var n=this.options;return!(this.helper||n.disabled||t(e.target).closest(".ui-resizable-handle").length>0||(this.handle=this._getHandle(e),!this.handle||(this._blurActiveElement(e),this._blockFrames(!0===n.iframeFix?"iframe":n.iframeFix),0)))},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var n=t.ui.safeActiveElement(this.document[0]),i=t(e.target);i.closest(n).length||t.ui.safeBlur(n)},_mouseStart:function(e){var n=this.options;return this.helper=this._createHelper(e),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===t(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this._setContainment(),!1===this._trigger("start",e)?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,n){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!n){var i=this._uiHash();if(!1===this._trigger("drag",e,i))return this._mouseUp(new t.Event("mouseup",e)),!1;this.position=i.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var n=this,i=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(i=t.ui.ddmanager.drop(this,e)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||!0===this.options.revert||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==n._trigger("stop",e)&&n._clear()}):!1!==this._trigger("stop",e)&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.trigger("focus"),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new t.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!t(e.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(e){var n=this.options,i=t.isFunction(n.helper),r=i?t(n.helper.apply(this.element[0],[e])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;return r.parents("body").length||r.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo),i&&r[0]===this.element[0]&&this._setPositionRelative(),r[0]===this.element[0]||/(fixed|absolute)/.test(r.css("position"))||r.css("position","absolute"),r},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),n=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==n&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,i,r=this.options,o=this.document[0];return this.relativeContainer=null,r.containment?"window"===r.containment?void(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===r.containment?void(this.containment=[0,0,t(o).width()-this.helperProportions.width-this.margins.left,(t(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):r.containment.constructor===Array?void(this.containment=r.containment):("parent"===r.containment&&(r.containment=this.helper[0].parentNode),n=t(r.containment),void((i=n[0])&&(e=/(scroll|auto)/.test(n.css("overflow")),this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(e?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=n))):void(this.containment=null)},_convertPositionTo:function(t,e){e||(e=this.position);var n="absolute"===t?1:-1,i=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.offset.scroll.top:i?0:this.offset.scroll.top)*n,left:e.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.offset.scroll.left:i?0:this.offset.scroll.left)*n}},_generatePosition:function(t,e){var n,i,r,o,a=this.options,s=this._isRootNode(this.scrollParent[0]),l=t.pageX,c=t.pageY;return s&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(i=this.relativeContainer.offset(),n=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):n=this.containment,t.pageX-this.offset.click.left<n[0]&&(l=n[0]+this.offset.click.left),t.pageY-this.offset.click.top<n[1]&&(c=n[1]+this.offset.click.top),t.pageX-this.offset.click.left>n[2]&&(l=n[2]+this.offset.click.left),t.pageY-this.offset.click.top>n[3]&&(c=n[3]+this.offset.click.top)),a.grid&&(r=a.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,c=n?r-this.offset.click.top>=n[1]||r-this.offset.click.top>n[3]?r:r-this.offset.click.top>=n[1]?r-a.grid[1]:r+a.grid[1]:r,o=a.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,l=n?o-this.offset.click.left>=n[0]||o-this.offset.click.left>n[2]?o:o-this.offset.click.left>=n[0]?o-a.grid[0]:o+a.grid[0]:o),"y"===a.axis&&(l=this.originalPageX),"x"===a.axis&&(c=this.originalPageY)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,n,i){return i=i||this._uiHash(),t.ui.plugin.call(this,e,[n,i,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),i.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,n,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,n,i){var r=t.extend({},n,{item:i.element});i.sortables=[],t(i.options.connectToSortable).each(function(){var n=t(this).sortable("instance");n&&!n.options.disabled&&(i.sortables.push(n),n.refreshPositions(),n._trigger("activate",e,r))})},stop:function(e,n,i){var r=t.extend({},n,{item:i.element});i.cancelHelperRemoval=!1,t.each(i.sortables,function(){var t=this;t.isOver?(t.isOver=0,i.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,r))})},drag:function(e,n,i){t.each(i.sortables,function(){var r=!1,o=this;o.positionAbs=i.positionAbs,o.helperProportions=i.helperProportions,o.offset.click=i.offset.click,o._intersectsWith(o.containerCache)&&(r=!0,t.each(i.sortables,function(){return this.positionAbs=i.positionAbs,this.helperProportions=i.helperProportions,this.offset.click=i.offset.click,this!==o&&this._intersectsWith(this.containerCache)&&t.contains(o.element[0],this.element[0])&&(r=!1),r})),r?(o.isOver||(o.isOver=1,i._parent=n.helper.parent(),o.currentItem=n.helper.appendTo(o.element).data("ui-sortable-item",!0),o.options._helper=o.options.helper,o.options.helper=function(){return n.helper[0]},e.target=o.currentItem[0],o._mouseCapture(e,!0),o._mouseStart(e,!0,!0),o.offset.click.top=i.offset.click.top,o.offset.click.left=i.offset.click.left,o.offset.parent.left-=i.offset.parent.left-o.offset.parent.left,o.offset.parent.top-=i.offset.parent.top-o.offset.parent.top,i._trigger("toSortable",e),i.dropped=o.element,t.each(i.sortables,function(){this.refreshPositions()}),i.currentItem=i.element,o.fromOutside=i),o.currentItem&&(o._mouseDrag(e),n.position=o.position)):o.isOver&&(o.isOver=0,o.cancelHelperRemoval=!0,o.options._revert=o.options.revert,o.options.revert=!1,o._trigger("out",e,o._uiHash(o)),o._mouseStop(e,!0),o.options.revert=o.options._revert,o.options.helper=o.options._helper,o.placeholder&&o.placeholder.remove(),n.helper.appendTo(i._parent),i._refreshOffsets(e),n.position=i._generatePosition(e,!0),i._trigger("fromSortable",e),i.dropped=!1,t.each(i.sortables,function(){this.refreshPositions()}))})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,n,i){var r=t("body"),o=i.options;r.css("cursor")&&(o._cursor=r.css("cursor")),r.css("cursor",o.cursor)},stop:function(e,n,i){var r=i.options;r._cursor&&t("body").css("cursor",r._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,n,i){var r=t(n.helper),o=i.options;r.css("opacity")&&(o._opacity=r.css("opacity")),r.css("opacity",o.opacity)},stop:function(e,n,i){var r=i.options;r._opacity&&t(n.helper).css("opacity",r._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1)),n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(e,n,i){var r=i.options,o=!1,a=i.scrollParentNotHidden[0],s=i.document[0];a!==s&&"HTML"!==a.tagName?(r.axis&&"x"===r.axis||(i.overflowOffset.top+a.offsetHeight-e.pageY<r.scrollSensitivity?a.scrollTop=o=a.scrollTop+r.scrollSpeed:e.pageY-i.overflowOffset.top<r.scrollSensitivity&&(a.scrollTop=o=a.scrollTop-r.scrollSpeed)),r.axis&&"y"===r.axis||(i.overflowOffset.left+a.offsetWidth-e.pageX<r.scrollSensitivity?a.scrollLeft=o=a.scrollLeft+r.scrollSpeed:e.pageX-i.overflowOffset.left<r.scrollSensitivity&&(a.scrollLeft=o=a.scrollLeft-r.scrollSpeed))):(r.axis&&"x"===r.axis||(e.pageY-t(s).scrollTop()<r.scrollSensitivity?o=t(s).scrollTop(t(s).scrollTop()-r.scrollSpeed):t(window).height()-(e.pageY-t(s).scrollTop())<r.scrollSensitivity&&(o=t(s).scrollTop(t(s).scrollTop()+r.scrollSpeed))),r.axis&&"y"===r.axis||(e.pageX-t(s).scrollLeft()<r.scrollSensitivity?o=t(s).scrollLeft(t(s).scrollLeft()-r.scrollSpeed):t(window).width()-(e.pageX-t(s).scrollLeft())<r.scrollSensitivity&&(o=t(s).scrollLeft(t(s).scrollLeft()+r.scrollSpeed)))),!1!==o&&t.ui.ddmanager&&!r.dropBehaviour&&t.ui.ddmanager.prepareOffsets(i,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,n,i){var r=i.options;i.snapElements=[],t(r.snap.constructor!==String?r.snap.items||":data(ui-draggable)":r.snap).each(function(){var e=t(this),n=e.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:n.top,left:n.left})})},drag:function(e,n,i){var r,o,a,s,l,c,u,f,h,d,p=i.options,g=p.snapTolerance,m=n.offset.left,v=m+i.helperProportions.width,b=n.offset.top,y=b+i.helperProportions.height;for(h=i.snapElements.length-1;h>=0;h--)l=i.snapElements[h].left-i.margins.left,c=l+i.snapElements[h].width,u=i.snapElements[h].top-i.margins.top,f=u+i.snapElements[h].height,l-g>v||m>c+g||u-g>y||b>f+g||!t.contains(i.snapElements[h].item.ownerDocument,i.snapElements[h].item)?(i.snapElements[h].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[h].item})),i.snapElements[h].snapping=!1):("inner"!==p.snapMode&&(r=g>=Math.abs(u-y),o=g>=Math.abs(f-b),a=g>=Math.abs(l-v),s=g>=Math.abs(c-m),r&&(n.position.top=i._convertPositionTo("relative",{top:u-i.helperProportions.height,left:0}).top),o&&(n.position.top=i._convertPositionTo("relative",{top:f,left:0}).top),a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l-i.helperProportions.width}).left),s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:c}).left)),d=r||o||a||s,"outer"!==p.snapMode&&(r=g>=Math.abs(u-b),o=g>=Math.abs(f-y),a=g>=Math.abs(l-m),s=g>=Math.abs(c-v),r&&(n.position.top=i._convertPositionTo("relative",{top:u,left:0}).top),o&&(n.position.top=i._convertPositionTo("relative",{top:f-i.helperProportions.height,left:0}).top),a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l}).left),s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:c-i.helperProportions.width}).left)),!i.snapElements[h].snapping&&(r||o||a||s||d)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[h].item})),i.snapElements[h].snapping=r||o||a||s||d)}}),t.ui.plugin.add("draggable","stack",{start:function(e,n,i){var r,o=i.options,a=t.makeArray(t(o.stack)).sort(function(e,n){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(n).css("zIndex"),10)||0)});a.length&&(r=parseInt(t(a[0]).css("zIndex"),10)||0,t(a).each(function(e){t(this).css("zIndex",r+e)}),this.css("zIndex",r+a.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,n,i){var r=t(n.helper),o=i.options;r.css("zIndex")&&(o._zIndex=r.css("zIndex")),r.css("zIndex",o.zIndex)},stop:function(e,n,i){var r=i.options;r._zIndex&&t(n.helper).css("zIndex",r._zIndex)}}),t.ui.draggable,t.widget("ui.resizable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseFloat(t)||0},_isNumber:function(t){return!isNaN(parseFloat(t))},_hasScroll:function(e,n){if("hidden"===t(e).css("overflow"))return!1;var i=n&&"left"===n?"scrollLeft":"scrollTop",r=!1;return e[i]>0||(e[i]=1,r=e[i]>0,e[i]=0,r)},_create:function(){var e,n=this.options,i=this;this._addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!n.aspectRatio,aspectRatio:n.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:n.helper||n.ghost||n.animate?n.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,e={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(e),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(e),this._proportionallyResize()),this._setupHandles(),n.autoHide&&t(this.element).on("mouseenter",function(){n.disabled||(i._removeClass("ui-resizable-autohide"),i._handles.show())}).on("mouseleave",function(){n.disabled||i.resizing||(i._addClass("ui-resizable-autohide"),i._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,n=function(e){t(e).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(n(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),n(this.originalElement),this},_setOption:function(t,e){switch(this._super(t,e),t){case"handles":this._removeHandles(),this._setupHandles()}},_setupHandles:function(){var e,n,i,r,o,a=this.options,s=this;if(this.handles=a.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=t(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),i=this.handles.split(","),this.handles={},n=0;i.length>n;n++)e=t.trim(i[n]),r="ui-resizable-"+e,o=t("<div>"),this._addClass(o,"ui-resizable-handle "+r),o.css({zIndex:a.zIndex}),this.handles[e]=".ui-resizable-"+e,this.element.append(o);this._renderAxis=function(e){var n,i,r,o;for(n in e=e||this.element,this.handles)this.handles[n].constructor===String?this.handles[n]=this.element.children(this.handles[n]).first().show():(this.handles[n].jquery||this.handles[n].nodeType)&&(this.handles[n]=t(this.handles[n]),this._on(this.handles[n],{mousedown:s._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(i=t(this.handles[n],this.element),o=/sw|ne|nw|se|n|s/.test(n)?i.outerHeight():i.outerWidth(),r=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join(""),e.css(r,o),this._proportionallyResize()),this._handles=this._handles.add(this.handles[n])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){s.resizing||(this.className&&(o=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),s.axis=o&&o[1]?o[1]:"se")}),a.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(e){var n,i,r=!1;for(n in this.handles)((i=t(this.handles[n])[0])===e.target||t.contains(i,e.target))&&(r=!0);return!this.options.disabled&&r},_mouseStart:function(e){var n,i,r,o=this.options,a=this.element;return this.resizing=!0,this._renderProxy(),n=this._num(this.helper.css("left")),i=this._num(this.helper.css("top")),o.containment&&(n+=t(o.containment).scrollLeft()||0,i+=t(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:i},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:a.width(),height:a.height()},this.originalSize=this._helper?{width:a.outerWidth(),height:a.outerHeight()}:{width:a.width(),height:a.height()},this.sizeDiff={width:a.outerWidth()-a.width(),height:a.outerHeight()-a.height()},this.originalPosition={left:n,top:i},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,r=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===r?this.axis+"-resize":r),this._addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var n,i,r=this.originalMousePosition,o=this.axis,a=e.pageX-r.left||0,s=e.pageY-r.top||0,l=this._change[o];return this._updatePrevProperties(),!!l&&(n=l.apply(this,[e,a,s]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(n=this._updateRatio(n,e)),n=this._respectSize(n,e),this._updateCache(n),this._propagate("resize",e),i=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(i)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges()),!1)},_mouseStop:function(e){this.resizing=!1;var n,i,r,o,a,s,l,c=this.options,u=this;return this._helper&&(n=this._proportionallyResizeElements,i=n.length&&/textarea/i.test(n[0].nodeName),r=i&&this._hasScroll(n[0],"left")?0:u.sizeDiff.height,o=i?0:u.sizeDiff.width,a={width:u.helper.width()-o,height:u.helper.height()-r},s=parseFloat(u.element.css("left"))+(u.position.left-u.originalPosition.left)||null,l=parseFloat(u.element.css("top"))+(u.position.top-u.originalPosition.top)||null,c.animate||this.element.css(t.extend(a,{top:l,left:s})),u.helper.height(u.size.height),u.helper.width(u.size.width),this._helper&&!c.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,n,i,r,o,a=this.options;o={minWidth:this._isNumber(a.minWidth)?a.minWidth:0,maxWidth:this._isNumber(a.maxWidth)?a.maxWidth:1/0,minHeight:this._isNumber(a.minHeight)?a.minHeight:0,maxHeight:this._isNumber(a.maxHeight)?a.maxHeight:1/0},(this._aspectRatio||t)&&(e=o.minHeight*this.aspectRatio,i=o.minWidth/this.aspectRatio,n=o.maxHeight*this.aspectRatio,r=o.maxWidth/this.aspectRatio,e>o.minWidth&&(o.minWidth=e),i>o.minHeight&&(o.minHeight=i),o.maxWidth>n&&(o.maxWidth=n),o.maxHeight>r&&(o.maxHeight=r)),this._vBoundaries=o},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,n=this.size,i=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===i&&(t.left=e.left+(n.width-t.width),t.top=null),"nw"===i&&(t.top=e.top+(n.height-t.height),t.left=e.left+(n.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,n=this.axis,i=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,r=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,o=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,a=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,s=this.originalPosition.left+this.originalSize.width,l=this.originalPosition.top+this.originalSize.height,c=/sw|nw|w/.test(n),u=/nw|ne|n/.test(n);return o&&(t.width=e.minWidth),a&&(t.height=e.minHeight),i&&(t.width=e.maxWidth),r&&(t.height=e.maxHeight),o&&c&&(t.left=s-e.minWidth),i&&c&&(t.left=s-e.maxWidth),a&&u&&(t.top=l-e.minHeight),r&&u&&(t.top=l-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,n=[],i=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],r=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];4>e;e++)n[e]=parseFloat(i[e])||0,n[e]+=parseFloat(r[e])||0;return{height:n[0]+n[2],width:n[1]+n[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,n=this.helper||this.element;this._proportionallyResizeElements.length>e;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:n.height()-this.outerDimensions.height||0,width:n.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.element,n=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++n.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var n=this.originalSize,i=this.originalPosition;return{left:i.left+e,width:n.width-e}},n:function(t,e,n){var i=this.originalSize,r=this.originalPosition;return{top:r.top+n,height:i.height-n}},s:function(t,e,n){return{height:this.originalSize.height+n}},se:function(e,n,i){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,n,i]))},sw:function(e,n,i){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,n,i]))},ne:function(e,n,i){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,n,i]))},nw:function(e,n,i){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,n,i]))}},_propagate:function(e,n){t.ui.plugin.call(this,e,[n,this.ui()]),"resize"!==e&&this._trigger(e,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var n=t(this).resizable("instance"),i=n.options,r=n._proportionallyResizeElements,o=r.length&&/textarea/i.test(r[0].nodeName),a=o&&n._hasScroll(r[0],"left")?0:n.sizeDiff.height,s=o?0:n.sizeDiff.width,l={width:n.size.width-s,height:n.size.height-a},c=parseFloat(n.element.css("left"))+(n.position.left-n.originalPosition.left)||null,u=parseFloat(n.element.css("top"))+(n.position.top-n.originalPosition.top)||null;n.element.animate(t.extend(l,u&&c?{top:u,left:c}:{}),{duration:i.animateDuration,easing:i.animateEasing,step:function(){var i={width:parseFloat(n.element.css("width")),height:parseFloat(n.element.css("height")),top:parseFloat(n.element.css("top")),left:parseFloat(n.element.css("left"))};r&&r.length&&t(r[0]).css({width:i.width,height:i.height}),n._updateCache(i),n._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var e,n,i,r,o,a,s,l=t(this).resizable("instance"),c=l.options,u=l.element,f=c.containment,h=f instanceof t?f.get(0):/parent/.test(f)?u.parent().get(0):f;h&&(l.containerElement=t(h),/document/.test(f)||f===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(h),n=[],t(["Top","Right","Left","Bottom"]).each(function(t,i){n[t]=l._num(e.css("padding"+i))}),l.containerOffset=e.offset(),l.containerPosition=e.position(),l.containerSize={height:e.innerHeight()-n[3],width:e.innerWidth()-n[1]},i=l.containerOffset,r=l.containerSize.height,o=l.containerSize.width,a=l._hasScroll(h,"left")?h.scrollWidth:o,s=l._hasScroll(h)?h.scrollHeight:r,l.parentData={element:h,left:i.left,top:i.top,width:a,height:s}))},resize:function(e){var n,i,r,o,a=t(this).resizable("instance"),s=a.options,l=a.containerOffset,c=a.position,u=a._aspectRatio||e.shiftKey,f={top:0,left:0},h=a.containerElement,d=!0;h[0]!==document&&/static/.test(h.css("position"))&&(f=l),c.left<(a._helper?l.left:0)&&(a.size.width=a.size.width+(a._helper?a.position.left-l.left:a.position.left-f.left),u&&(a.size.height=a.size.width/a.aspectRatio,d=!1),a.position.left=s.helper?l.left:0),c.top<(a._helper?l.top:0)&&(a.size.height=a.size.height+(a._helper?a.position.top-l.top:a.position.top),u&&(a.size.width=a.size.height*a.aspectRatio,d=!1),a.position.top=a._helper?l.top:0),r=a.containerElement.get(0)===a.element.parent().get(0),o=/relative|absolute/.test(a.containerElement.css("position")),r&&o?(a.offset.left=a.parentData.left+a.position.left,a.offset.top=a.parentData.top+a.position.top):(a.offset.left=a.element.offset().left,a.offset.top=a.element.offset().top),n=Math.abs(a.sizeDiff.width+(a._helper?a.offset.left-f.left:a.offset.left-l.left)),i=Math.abs(a.sizeDiff.height+(a._helper?a.offset.top-f.top:a.offset.top-l.top)),n+a.size.width>=a.parentData.width&&(a.size.width=a.parentData.width-n,u&&(a.size.height=a.size.width/a.aspectRatio,d=!1)),i+a.size.height>=a.parentData.height&&(a.size.height=a.parentData.height-i,u&&(a.size.width=a.size.height*a.aspectRatio,d=!1)),d||(a.position.left=a.prevPosition.left,a.position.top=a.prevPosition.top,a.size.width=a.prevSize.width,a.size.height=a.prevSize.height)},stop:function(){var e=t(this).resizable("instance"),n=e.options,i=e.containerOffset,r=e.containerPosition,o=e.containerElement,a=t(e.helper),s=a.offset(),l=a.outerWidth()-e.sizeDiff.width,c=a.outerHeight()-e.sizeDiff.height;e._helper&&!n.animate&&/relative/.test(o.css("position"))&&t(this).css({left:s.left-r.left-i.left,width:l,height:c}),e._helper&&!n.animate&&/static/.test(o.css("position"))&&t(this).css({left:s.left-r.left-i.left,width:l,height:c})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).resizable("instance"),n=e.options;t(n.alsoResize).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseFloat(e.width()),height:parseFloat(e.height()),left:parseFloat(e.css("left")),top:parseFloat(e.css("top"))})})},resize:function(e,n){var i=t(this).resizable("instance"),r=i.options,o=i.originalSize,a=i.originalPosition,s={height:i.size.height-o.height||0,width:i.size.width-o.width||0,top:i.position.top-a.top||0,left:i.position.left-a.left||0};t(r.alsoResize).each(function(){var e=t(this),i=t(this).data("ui-resizable-alsoresize"),r={},o=e.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(o,function(t,e){var n=(i[e]||0)+(s[e]||0);n&&n>=0&&(r[e]=n||null)}),e.css(r)})},stop:function(){t(this).removeData("ui-resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).resizable("instance"),n=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}),e._addClass(e.ghost,"ui-resizable-ghost"),!1!==t.uiBackCompat&&"string"==typeof e.options.ghost&&e.ghost.addClass(this.options.ghost),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e,n=t(this).resizable("instance"),i=n.options,r=n.size,o=n.originalSize,a=n.originalPosition,s=n.axis,l="number"==typeof i.grid?[i.grid,i.grid]:i.grid,c=l[0]||1,u=l[1]||1,f=Math.round((r.width-o.width)/c)*c,h=Math.round((r.height-o.height)/u)*u,d=o.width+f,p=o.height+h,g=i.maxWidth&&d>i.maxWidth,m=i.maxHeight&&p>i.maxHeight,v=i.minWidth&&i.minWidth>d,b=i.minHeight&&i.minHeight>p;i.grid=l,v&&(d+=c),b&&(p+=u),g&&(d-=c),m&&(p-=u),/^(se|s|e)$/.test(s)?(n.size.width=d,n.size.height=p):/^(ne)$/.test(s)?(n.size.width=d,n.size.height=p,n.position.top=a.top-h):/^(sw)$/.test(s)?(n.size.width=d,n.size.height=p,n.position.left=a.left-f):((0>=p-u||0>=d-c)&&(e=n._getPaddingPlusBorderDimensions(this)),p-u>0?(n.size.height=p,n.position.top=a.top-h):(p=u-e.height,n.size.height=p,n.position.top=a.top+o.height-p),d-c>0?(n.size.width=d,n.position.left=a.left-f):(d=c-e.width,n.size.width=d,n.position.left=a.left+o.width-d))}}),t.ui.resizable,t.widget("ui.dialog",{version:"1.12.1",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var n=t(this).css(e).offset().top;0>n&&t(this).css("top",e.top-n)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&t.fn.draggable&&this._makeDraggable(),this.options.resizable&&t.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?t(e):this.document.find(e||"body").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(t=e.parent.children().eq(e.index)).length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog},disable:t.noop,enable:t.noop,close:function(e){var n=this;this._isOpen&&!1!==this._trigger("beforeClose",e)&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||t.ui.safeBlur(t.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){n._trigger("close",e)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,n){var i=!1,r=this.uiDialog.siblings(".ui-front:visible").map(function(){return+t(this).css("z-index")}).get(),o=Math.max.apply(null,r);return o>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",o+1),i=!0),i&&!n&&this._trigger("focus",e),i},open:function(){var e=this;return this._isOpen?void(this._moveToTop()&&this._focusTabbable()):(this._isOpen=!0,this.opener=t(t.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger("focus")}),this._makeFocusTarget(),void this._trigger("open"))},_focusTabbable:function(){var t=this._focusedElement;t||(t=this.element.find("[autofocus]")),t.length||(t=this.element.find(":tabbable")),t.length||(t=this.uiDialogButtonPane.find(":tabbable")),t.length||(t=this.uiDialogTitlebarClose.filter(":tabbable")),t.length||(t=this.uiDialog),t.eq(0).trigger("focus")},_keepFocus:function(e){function n(){var e=t.ui.safeActiveElement(this.document[0]),n=this.uiDialog[0]===e||t.contains(this.uiDialog[0],e);n||this._focusTabbable()}e.preventDefault(),n.call(this),this._delay(n)},_createWrapper:function(){this.uiDialog=t("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===t.ui.keyCode.ESCAPE)return e.preventDefault(),void this.close(e);if(e.keyCode===t.ui.keyCode.TAB&&!e.isDefaultPrevented()){var n=this.uiDialog.find(":tabbable"),i=n.filter(":first"),r=n.filter(":last");e.target!==r[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==i[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(this._delay(function(){r.trigger("focus")}),e.preventDefault()):(this._delay(function(){i.trigger("focus")}),e.preventDefault())}},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=t("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(e){t(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=t("<button type='button'></button>").button({label:t("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t)}}),e=t("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(e,"ui-dialog-title"),this._title(e),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(t){this.options.title?t.text(this.options.title):t.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=t("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=t("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var e=this,n=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),t.isEmptyObject(n)||t.isArray(n)&&!n.length?void this._removeClass(this.uiDialog,"ui-dialog-buttons"):(t.each(n,function(n,i){var r,o;i=t.isFunction(i)?{click:i,text:n}:i,i=t.extend({type:"button"},i),r=i.click,o={icon:i.icon,iconPosition:i.iconPosition,showLabel:i.showLabel,icons:i.icons,text:i.text},delete i.click,delete i.icon,delete i.iconPosition,delete i.showLabel,delete i.icons,"boolean"==typeof i.text&&delete i.text,t("<button></button>",i).button(o).appendTo(e.uiButtonSet).on("click",function(){r.apply(e.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),void this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function e(t){return{position:t.position,offset:t.offset}}var n=this,i=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(i,r){n._addClass(t(this),"ui-dialog-dragging"),n._blockFrames(),n._trigger("dragStart",i,e(r))},drag:function(t,i){n._trigger("drag",t,e(i))},stop:function(r,o){var a=o.offset.left-n.document.scrollLeft(),s=o.offset.top-n.document.scrollTop();i.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" top"+(s>=0?"+":"")+s,of:n.window},n._removeClass(t(this),"ui-dialog-dragging"),n._unblockFrames(),n._trigger("dragStop",r,e(o))}})},_makeResizable:function(){function e(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}var n=this,i=this.options,r=i.resizable,o=this.uiDialog.css("position"),a="string"==typeof r?r:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:i.maxWidth,maxHeight:i.maxHeight,minWidth:i.minWidth,minHeight:this._minHeight(),handles:a,start:function(i,r){n._addClass(t(this),"ui-dialog-resizing"),n._blockFrames(),n._trigger("resizeStart",i,e(r))},resize:function(t,i){n._trigger("resize",t,e(i))},stop:function(r,o){var a=n.uiDialog.offset(),s=a.left-n.document.scrollLeft(),l=a.top-n.document.scrollTop();i.height=n.uiDialog.height(),i.width=n.uiDialog.width(),i.position={my:"left top",at:"left"+(s>=0?"+":"")+s+" top"+(l>=0?"+":"")+l,of:n.window},n._removeClass(t(this),"ui-dialog-resizing"),n._unblockFrames(),n._trigger("resizeStop",r,e(o))}}).css("position",o)},_trackFocus:function(){this._on(this.widget(),{focusin:function(e){this._makeFocusTarget(),this._focusedElement=t(e.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var e=this._trackingInstances(),n=t.inArray(this,e);-1!==n&&e.splice(n,1)},_trackingInstances:function(){var t=this.document.data("ui-dialog-instances");return t||(t=[],this.document.data("ui-dialog-instances",t)),t},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(":visible");t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide()},_setOptions:function(e){var n=this,i=!1,r={};t.each(e,function(t,e){n._setOption(t,e),t in n.sizeRelatedOptions&&(i=!0),t in n.resizableRelatedOptions&&(r[t]=e)}),i&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",r)},_setOption:function(e,n){var i,r,o=this.uiDialog;"disabled"!==e&&(this._super(e,n),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:t("<a>").text(""+this.options.closeText).html()}),"draggable"===e&&((i=o.is(":data(ui-draggable)"))&&!n&&o.draggable("destroy"),!i&&n&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&((r=o.is(":data(ui-resizable)"))&&!n&&o.resizable("destroy"),r&&"string"==typeof n&&o.resizable("option","handles",n),r||!1===n||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,e,n,i=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),i.minWidth>i.width&&(i.width=i.minWidth),t=this.uiDialog.css({height:"auto",width:i.width}).outerHeight(),e=Math.max(0,i.minHeight-t),n="number"==typeof i.maxHeight?Math.max(0,i.maxHeight-t):"none","auto"===i.height?this.element.css({minHeight:e,maxHeight:n,height:"auto"}):this.element.height(Math.max(0,i.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=t(this);return t("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return!!t(e.target).closest(".ui-dialog").length||!!t(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var e=!0;this._delay(function(){e=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(t){e||this._allowInteraction(t)||(t.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=t("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var t=this.document.data("ui-dialog-overlays")-1;t?this.document.data("ui-dialog-overlays",t):(this._off(this.document,"focusin"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null}}}),!1!==t.uiBackCompat&&t.widget("ui.dialog",t.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(t,e){"dialogClass"===t&&this.uiDialog.removeClass(this.options.dialogClass).addClass(e),this._superApply(arguments)}}),t.ui.dialog,t.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,n=this.options,i=n.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(i)?i:function(t){return t.is(i)},this.proportions=function(){return arguments.length?void(e=arguments[0]):e||(e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight})},this._addToManager(n.scope),n.addClasses&&this._addClass("ui-droppable")},_addToManager:function(e){t.ui.ddmanager.droppables[e]=t.ui.ddmanager.droppables[e]||[],t.ui.ddmanager.droppables[e].push(this)},_splice:function(t){for(var e=0;t.length>e;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){var e=t.ui.ddmanager.droppables[this.options.scope];this._splice(e)},_setOption:function(e,n){if("accept"===e)this.accept=t.isFunction(n)?n:function(t){return t.is(n)};else if("scope"===e){var i=t.ui.ddmanager.droppables[this.options.scope];this._splice(i),this._addToManager(n)}this._super(e,n)},_activate:function(e){var n=t.ui.ddmanager.current;this._addActiveClass(),n&&this._trigger("activate",e,this.ui(n))},_deactivate:function(e){var n=t.ui.ddmanager.current;this._removeActiveClass(),n&&this._trigger("deactivate",e,this.ui(n))},_over:function(e){var n=t.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this._addHoverClass(),this._trigger("over",e,this.ui(n)))},_out:function(e){var n=t.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this._removeHoverClass(),this._trigger("out",e,this.ui(n)))},_drop:function(e,n){var i=n||t.ui.ddmanager.current,r=!1;return!(!i||(i.currentItem||i.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var n=t(this).droppable("instance");return n.options.greedy&&!n.options.disabled&&n.options.scope===i.options.scope&&n.accept.call(n.element[0],i.currentItem||i.element)&&m(i,t.extend(n,{offset:n.element.offset()}),n.options.tolerance,e)?(r=!0,!1):void 0}),!r&&!!this.accept.call(this.element[0],i.currentItem||i.element)&&(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",e,this.ui(i)),this.element))},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var m=t.ui.intersect=function(){function t(t,e,n){return t>=e&&e+n>t}return function(e,n,i,r){if(!n.offset)return!1;var o=(e.positionAbs||e.position.absolute).left+e.margins.left,a=(e.positionAbs||e.position.absolute).top+e.margins.top,s=o+e.helperProportions.width,l=a+e.helperProportions.height,c=n.offset.left,u=n.offset.top,f=c+n.proportions().width,h=u+n.proportions().height;switch(i){case"fit":return o>=c&&f>=s&&a>=u&&h>=l;case"intersect":return o+e.helperProportions.width/2>c&&f>s-e.helperProportions.width/2&&a+e.helperProportions.height/2>u&&h>l-e.helperProportions.height/2;case"pointer":return t(r.pageY,u,n.proportions().height)&&t(r.pageX,c,n.proportions().width);case"touch":return(a>=u&&h>=a||l>=u&&h>=l||u>a&&l>h)&&(o>=c&&f>=o||s>=c&&f>=s||c>o&&s>f);default:return!1}}}();t.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(e,n){var i,r,o=t.ui.ddmanager.droppables[e.options.scope]||[],a=n?n.type:null,s=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(i=0;o.length>i;i++)if(!(o[i].options.disabled||e&&!o[i].accept.call(o[i].element[0],e.currentItem||e.element))){for(r=0;s.length>r;r++)if(s[r]===o[i].element[0]){o[i].proportions().height=0;continue t}o[i].visible="none"!==o[i].element.css("display"),o[i].visible&&("mousedown"===a&&o[i]._activate.call(o[i],n),o[i].offset=o[i].element.offset(),o[i].proportions({width:o[i].element[0].offsetWidth,height:o[i].element[0].offsetHeight}))}},drop:function(e,n){var i=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&m(e,this,this.options.tolerance,n)&&(i=this._drop.call(this,n)||i),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,n)))}),i},dragStart:function(e,n){e.element.parentsUntil("body").on("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,n)})},drag:function(e,n){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,n),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var i,r,o,a=m(e,this,this.options.tolerance,n),s=!a&&this.isover?"isout":a&&!this.isover?"isover":null;s&&(this.options.greedy&&(r=this.options.scope,(o=this.element.parents(":data(ui-droppable)").filter(function(){return t(this).droppable("instance").options.scope===r})).length&&((i=t(o[0]).droppable("instance")).greedyChild="isover"===s)),i&&"isover"===s&&(i.isover=!1,i.isout=!0,i._out.call(i,n)),this[s]=!0,this["isout"===s?"isover":"isout"]=!1,this["isover"===s?"_over":"_out"].call(this,n),i&&"isout"===s&&(i.isout=!1,i.isover=!0,i._over.call(i,n)))}})},dragStop:function(e,n){e.element.parentsUntil("body").off("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,n)}},!1!==t.uiBackCompat&&t.widget("ui.droppable",t.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}}),t.ui.droppable,t.widget("ui.progressbar",{version:"1.12.1",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.attr({role:"progressbar","aria-valuemin":this.min}),this._addClass("ui-progressbar","ui-widget ui-widget-content"),this.valueDiv=t("<div>").appendTo(this.element),this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header"),this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow"),this.valueDiv.remove()},value:function(t){return void 0===t?this.options.value:(this.options.value=this._constrainedValue(t),void this._refreshValue())},_constrainedValue:function(t){return void 0===t&&(t=this.options.value),this.indeterminate=!1===t,"number"!=typeof t&&(t=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue()},_setOption:function(t,e){"max"===t&&(e=Math.max(this.min,e)),this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,n=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).width(n.toFixed(0)+"%"),this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,e===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=t("<div>").appendTo(this.valueDiv),this._addClass(this.overlayDiv,"ui-progressbar-overlay"))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}}),t.widget("ui.selectable",t.ui.mouse,{version:"1.12.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){e.elementPos=t(e.element[0]).offset(),e.selectees=t(e.options.filter,e.element[0]),e._addClass(e.selectees,"ui-selectee"),e.selectees.each(function(){var n=t(this),i=n.offset(),r={left:i.left-e.elementPos.left,top:i.top-e.elementPos.top};t.data(this,"selectable-item",{element:this,$element:n,left:r.left,top:r.top,right:r.left+n.outerWidth(),bottom:r.top+n.outerHeight(),startselected:!1,selected:n.hasClass("ui-selected"),selecting:n.hasClass("ui-selecting"),unselecting:n.hasClass("ui-unselecting")})})},this.refresh(),this._mouseInit(),this.helper=t("<div>"),this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item"),this._mouseDestroy()},_mouseStart:function(e){var n=this,i=this.options;this.opos=[e.pageX,e.pageY],this.elementPos=t(this.element[0]).offset(),this.options.disabled||(this.selectees=t(i.filter,this.element[0]),this._trigger("start",e),t(i.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),i.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var i=t.data(this,"selectable-item");i.startselected=!0,e.metaKey||e.ctrlKey||(n._removeClass(i.$element,"ui-selected"),i.selected=!1,n._addClass(i.$element,"ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",e,{unselecting:i.element}))}),t(e.target).parents().addBack().each(function(){var i,r=t.data(this,"selectable-item");return r?(i=!e.metaKey&&!e.ctrlKey||!r.$element.hasClass("ui-selected"),n._removeClass(r.$element,i?"ui-unselecting":"ui-selected")._addClass(r.$element,i?"ui-selecting":"ui-unselecting"),r.unselecting=!i,r.selecting=i,r.selected=i,i?n._trigger("selecting",e,{selecting:r.element}):n._trigger("unselecting",e,{unselecting:r.element}),!1):void 0}))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var n,i=this,r=this.options,o=this.opos[0],a=this.opos[1],s=e.pageX,l=e.pageY;return o>s&&(n=s,s=o,o=n),a>l&&(n=l,l=a,a=n),this.helper.css({left:o,top:a,width:s-o,height:l-a}),this.selectees.each(function(){var n=t.data(this,"selectable-item"),c=!1,u={};n&&n.element!==i.element[0]&&(u.left=n.left+i.elementPos.left,u.right=n.right+i.elementPos.left,u.top=n.top+i.elementPos.top,u.bottom=n.bottom+i.elementPos.top,"touch"===r.tolerance?c=!(u.left>s||o>u.right||u.top>l||a>u.bottom):"fit"===r.tolerance&&(c=u.left>o&&s>u.right&&u.top>a&&l>u.bottom),c?(n.selected&&(i._removeClass(n.$element,"ui-selected"),n.selected=!1),n.unselecting&&(i._removeClass(n.$element,"ui-unselecting"),n.unselecting=!1),n.selecting||(i._addClass(n.$element,"ui-selecting"),n.selecting=!0,i._trigger("selecting",e,{selecting:n.element}))):(n.selecting&&((e.metaKey||e.ctrlKey)&&n.startselected?(i._removeClass(n.$element,"ui-selecting"),n.selecting=!1,i._addClass(n.$element,"ui-selected"),n.selected=!0):(i._removeClass(n.$element,"ui-selecting"),n.selecting=!1,n.startselected&&(i._addClass(n.$element,"ui-unselecting"),n.unselecting=!0),i._trigger("unselecting",e,{unselecting:n.element}))),n.selected&&(e.metaKey||e.ctrlKey||n.startselected||(i._removeClass(n.$element,"ui-selected"),n.selected=!1,i._addClass(n.$element,"ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",e,{unselecting:n.element})))))}),!1}},_mouseStop:function(e){var n=this;return this.dragged=!1,t(".ui-unselecting",this.element[0]).each(function(){var i=t.data(this,"selectable-item");n._removeClass(i.$element,"ui-unselecting"),i.unselecting=!1,i.startselected=!1,n._trigger("unselected",e,{unselected:i.element})}),t(".ui-selecting",this.element[0]).each(function(){var i=t.data(this,"selectable-item");n._removeClass(i.$element,"ui-selecting")._addClass(i.$element,"ui-selected"),i.selecting=!1,i.selected=!0,i.startselected=!0,n._trigger("selected",e,{selected:i.element})}),this._trigger("stop",e),this.helper.remove(),!1}}),t.widget("ui.selectmenu",[t.ui.formResetMixin,{version:"1.12.1",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:function(){var e=this.element.uniqueId().attr("id");this.ids={element:e,button:e+"-button",menu:e+"-menu"},this._drawButton(),this._drawMenu(),this._bindFormResetHandler(),this._rendered=!1,this.menuItems=t()},_drawButton:function(){var e,n=this,i=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button),this._on(this.labels,{click:function(t){this.button.focus(),t.preventDefault()}}),this.element.hide(),this.button=t("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element),this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget"),e=t("<span>").appendTo(this.button),this._addClass(e,"ui-selectmenu-icon","ui-icon "+this.options.icons.button),this.buttonItem=this._renderButtonItem(i).appendTo(this.button),!1!==this.options.width&&this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){n._rendered||n._refreshMenu()})},_drawMenu:function(){var e=this;this.menu=t("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=t("<div>").append(this.menu),this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front"),this.menuWrap.appendTo(this._appendTo()),this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(t,n){t.preventDefault(),e._setSelection(),e._select(n.item.data("ui-selectmenu-item"),t)},focus:function(t,n){var i=n.item.data("ui-selectmenu-item");null!=e.focusIndex&&i.index!==e.focusIndex&&(e._trigger("focus",t,{item:i}),e.isOpen||e._select(i,t)),e.focusIndex=i.index,e.button.attr("aria-activedescendant",e.menuItems.eq(i.index).attr("id"))}}).menu("instance"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{})),null===this.options.width&&this._resizeButton()},_refreshMenu:function(){var t,e=this.element.find("option");this.menu.empty(),this._parseOptions(e),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper"),this._rendered=!0,e.length&&(t=this._getSelectedItem(),this.menuInstance.focus(null,t),this._setAria(t.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(t){this.options.disabled||(this._rendered?(this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.menuItems.length&&(this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",t)))},_position:function(){this.menuWrap.position(t.extend({of:this.button},this.options.position))},close:function(t){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",t))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(e){var n=t("<span>");return this._setText(n,e.label),this._addClass(n,"ui-selectmenu-text"),n},_renderMenu:function(e,n){var i=this,r="";t.each(n,function(n,o){var a;o.optgroup!==r&&(a=t("<li>",{text:o.optgroup}),i._addClass(a,"ui-selectmenu-optgroup","ui-menu-divider"+(o.element.parent("optgroup").prop("disabled")?" ui-state-disabled":"")),a.appendTo(e),r=o.optgroup),i._renderItemData(e,o)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-selectmenu-item",e)},_renderItem:function(e,n){var i=t("<li>"),r=t("<div>",{title:n.element.attr("title")});return n.disabled&&this._addClass(i,null,"ui-state-disabled"),this._setText(r,n.label),i.append(r).appendTo(e)},_setText:function(t,e){e?t.text(e):t.html("&#160;")},_move:function(t,e){var n,i,r=".ui-menu-item";this.isOpen?n=this.menuItems.eq(this.focusIndex).parent("li"):(n=this.menuItems.eq(this.element[0].selectedIndex).parent("li"),r+=":not(.ui-state-disabled)"),(i="first"===t||"last"===t?n["first"===t?"prevAll":"nextAll"](r).eq(-1):n[t+"All"](r).eq(0)).length&&this.menuInstance.focus(e,i)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(t){this[this.isOpen?"close":"open"](t)},_setSelection:function(){var t;this.range&&(window.getSelection?((t=window.getSelection()).removeAllRanges(),t.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(e){this.isOpen&&(t(e.target).closest(".ui-selectmenu-menu, #"+t.ui.escapeSelector(this.ids.button)).length||this.close(e))}},_buttonEvents:{mousedown:function(){var t;window.getSelection?(t=window.getSelection()).rangeCount&&(this.range=t.getRangeAt(0)):this.range=document.selection.createRange()},click:function(t){this._setSelection(),this._toggle(t)},keydown:function(e){var n=!0;switch(e.keyCode){case t.ui.keyCode.TAB:case t.ui.keyCode.ESCAPE:this.close(e),n=!1;break;case t.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(e);break;case t.ui.keyCode.UP:e.altKey?this._toggle(e):this._move("prev",e);break;case t.ui.keyCode.DOWN:e.altKey?this._toggle(e):this._move("next",e);break;case t.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(e):this._toggle(e);break;case t.ui.keyCode.LEFT:this._move("prev",e);break;case t.ui.keyCode.RIGHT:this._move("next",e);break;case t.ui.keyCode.HOME:case t.ui.keyCode.PAGE_UP:this._move("first",e);break;case t.ui.keyCode.END:case t.ui.keyCode.PAGE_DOWN:this._move("last",e);break;default:this.menu.trigger(e),n=!1}n&&e.preventDefault()}},_selectFocusedItem:function(t){var e=this.menuItems.eq(this.focusIndex).parent("li");e.hasClass("ui-state-disabled")||this._select(e.data("ui-selectmenu-item"),t)},_select:function(t,e){var n=this.element[0].selectedIndex;this.element[0].selectedIndex=t.index,this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(t)),this._setAria(t),this._trigger("select",e,{item:t}),t.index!==n&&this._trigger("change",e,{item:t}),this.close(e)},_setAria:function(t){var e=this.menuItems.eq(t.index).attr("id");this.button.attr({"aria-labelledby":e,"aria-activedescendant":e}),this.menu.attr("aria-activedescendant",e)},_setOption:function(t,e){if("icons"===t){var n=this.button.find("span.ui-icon");this._removeClass(n,null,this.options.icons.button)._addClass(n,null,e.button)}this._super(t,e),"appendTo"===t&&this.menuWrap.appendTo(this._appendTo()),"width"===t&&this._resizeButton()},_setOptionDisabled:function(t){this._super(t),this.menuInstance.option("disabled",t),this.button.attr("aria-disabled",t),this._toggleClass(this.button,null,"ui-state-disabled",t),this.element.prop("disabled",t),t?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen),this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var t=this.options.width;return!1===t?void this.button.css("width",""):(null===t&&(t=this.element.show().outerWidth(),this.element.hide()),void this.button.outerWidth(t))},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var t=this._super();return t.disabled=this.element.prop("disabled"),t},_parseOptions:function(e){var n=this,i=[];e.each(function(e,r){i.push(n._parseOption(t(r),e))}),this.items=i},_parseOption:function(t,e){var n=t.parent("optgroup");return{element:t,index:e,value:t.val(),label:t.text(),optgroup:n.attr("label")||"",disabled:n.prop("disabled")||t.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler(),this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.labels.attr("for",this.ids.element)}}]),t.widget("ui.slider",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,n,i=this.options,r=this.element.find(".ui-slider-handle"),o=[];for(n=i.values&&i.values.length||1,r.length>n&&(r.slice(n).remove(),r=r.slice(0,n)),e=r.length;n>e;e++)o.push("<span tabindex='0'></span>");this.handles=r.add(t(o.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(e){t(this).data("ui-slider-handle-index",e).attr("tabIndex",0)})},_createRange:function(){var e=this.options;e.range?(!0===e.range&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=t("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),("min"===e.range||"max"===e.range)&&this._addClass(this.range,"ui-slider-range-"+e.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(e){var n,i,r,o,a,s,l,c=this,u=this.options;return!u.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),n={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(n),r=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var n=Math.abs(i-c.values(e));(r>n||r===n&&(e===c._lastChangedValue||c.values(e)===u.min))&&(r=n,o=t(this),a=e)}),!1!==this._start(e,a)&&(this._mouseSliding=!0,this._handleIndex=a,this._addClass(o,null,"ui-state-active"),o.trigger("focus"),s=o.offset(),l=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:e.pageX-s.left-o.width()/2,top:e.pageY-s.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,a,i),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},n=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,n),!1},_mouseStop:function(t){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,n,i,r,o;return"horizontal"===this.orientation?(e=this.elementSize.width,n=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,n=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),(i=n/e)>1&&(i=1),0>i&&(i=0),"vertical"===this.orientation&&(i=1-i),r=this._valueMax()-this._valueMin(),o=this._valueMin()+i*r,this._trimAlignValue(o)},_uiHash:function(t,e,n){var i={handle:this.handles[t],handleIndex:t,value:void 0!==e?e:this.value()};return this._hasMultipleValues()&&(i.value=void 0!==e?e:this.values(t),i.values=n||this.values()),i},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(t,e){return this._trigger("start",t,this._uiHash(e))},_slide:function(t,e,n){var i,r=this.value(),o=this.values();this._hasMultipleValues()&&(i=this.values(e?0:1),r=this.values(e),2===this.options.values.length&&!0===this.options.range&&(n=0===e?Math.min(i,n):Math.max(i,n)),o[e]=n),n!==r&&!1!==this._trigger("slide",t,this._uiHash(e,n,o))&&(this._hasMultipleValues()?this.values(e,n):this.value(n))},_stop:function(t,e){this._trigger("stop",t,this._uiHash(e))},_change:function(t,e){this._keySliding||this._mouseSliding||(this._lastChangedValue=e,this._trigger("change",t,this._uiHash(e)))},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,n){var i,r,o;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(n),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this._hasMultipleValues()?this._values(e):this.value();for(i=this.options.values,r=arguments[0],o=0;i.length>o;o+=1)i[o]=this._trimAlignValue(r[o]),this._change(null,o);this._refreshValue()},_setOption:function(e,n){var i,r=0;switch("range"===e&&!0===this.options.range&&("min"===n?(this.options.value=this._values(0),this.options.values=null):"max"===n&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(r=this.options.values.length),this._super(e,n),e){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(n),this.handles.css("horizontal"===n?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),i=r-1;i>=0;i--)this._change(null,i);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(t){this._super(t),this._toggleClass(null,"ui-state-disabled",!!t)},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,n,i;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this._hasMultipleValues()){for(n=this.options.values.slice(),i=0;n.length>i;i+=1)n[i]=this._trimAlignValue(n[i]);return n}return[]},_trimAlignValue:function(t){if(this._valueMin()>=t)return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,n=(t-this._valueMin())%e,i=t-n;return 2*Math.abs(n)>=e&&(i+=n>0?e:-e),parseFloat(i.toFixed(5))},_calculateNewMax:function(){var t=this.options.max,e=this._valueMin(),n=this.options.step,i=Math.round((t-e)/n)*n;(t=i+e)>this.options.max&&(t-=n),this.max=parseFloat(t.toFixed(this._precision()))},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=""+t,n=e.indexOf(".");return-1===n?0:e.length-n-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(t){"vertical"===t&&this.range.css({width:"",left:""}),"horizontal"===t&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var e,n,i,r,o,a=this.options.range,s=this.options,l=this,c=!this._animateOff&&s.animate,u={};this._hasMultipleValues()?this.handles.each(function(i){n=(l.values(i)-l._valueMin())/(l._valueMax()-l._valueMin())*100,u["horizontal"===l.orientation?"left":"bottom"]=n+"%",t(this).stop(1,1)[c?"animate":"css"](u,s.animate),!0===l.options.range&&("horizontal"===l.orientation?(0===i&&l.range.stop(1,1)[c?"animate":"css"]({left:n+"%"},s.animate),1===i&&l.range[c?"animate":"css"]({width:n-e+"%"},{queue:!1,duration:s.animate})):(0===i&&l.range.stop(1,1)[c?"animate":"css"]({bottom:n+"%"},s.animate),1===i&&l.range[c?"animate":"css"]({height:n-e+"%"},{queue:!1,duration:s.animate}))),e=n}):(i=this.value(),r=this._valueMin(),o=this._valueMax(),n=o!==r?(i-r)/(o-r)*100:0,u["horizontal"===this.orientation?"left":"bottom"]=n+"%",this.handle.stop(1,1)[c?"animate":"css"](u,s.animate),"min"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:n+"%"},s.animate),"max"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:100-n+"%"},s.animate),"min"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:n+"%"},s.animate),"max"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:100-n+"%"},s.animate))},_handleEvents:{keydown:function(e){var n,i,r,o=t(e.target).data("ui-slider-handle-index");switch(e.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(t(e.target),null,"ui-state-active"),!1===this._start(e,o)))return}switch(r=this.options.step,n=i=this._hasMultipleValues()?this.values(o):this.value(),e.keyCode){case t.ui.keyCode.HOME:i=this._valueMin();break;case t.ui.keyCode.END:i=this._valueMax();break;case t.ui.keyCode.PAGE_UP:i=this._trimAlignValue(n+(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.PAGE_DOWN:i=this._trimAlignValue(n-(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(n===this._valueMax())return;i=this._trimAlignValue(n+r);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(n===this._valueMin())return;i=this._trimAlignValue(n-r)}this._slide(e,o,i)},keyup:function(e){var n=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,n),this._change(e,n),this._removeClass(t(e.target),null,"ui-state-active"))}}}),t.widget("ui.sortable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,n){return t>=e&&e+n>t},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){var e=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),t.each(this.items,function(){e._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,n){var i=null,r=!1,o=this;return!(this.reverting||this.options.disabled||"static"===this.options.type||(this._refreshItems(e),t(e.target).parents().each(function(){return t.data(this,o.widgetName+"-item")===o?(i=t(this),!1):void 0}),t.data(e.target,o.widgetName+"-item")===o&&(i=t(e.target)),!i||this.options.handle&&!n&&(t(this.options.handle,i).find("*").addBack().each(function(){this===e.target&&(r=!0)}),!r)||(this.currentItem=i,this._removeCurrentsFromItems(),0)))},_mouseStart:function(e,n,i){var r,o,a=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),a.containment&&this._setContainment(),a.cursor&&"auto"!==a.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",a.cursor),this.storedStylesheet=t("<style>*{ cursor: "+a.cursor+" !important; }</style>").appendTo(o)),a.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",a.opacity)),a.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",a.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var n,i,r,o,a=this.options,s=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<a.scrollSensitivity?this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop+a.scrollSpeed:e.pageY-this.overflowOffset.top<a.scrollSensitivity&&(this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop-a.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<a.scrollSensitivity?this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft+a.scrollSpeed:e.pageX-this.overflowOffset.left<a.scrollSensitivity&&(this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft-a.scrollSpeed)):(e.pageY-this.document.scrollTop()<a.scrollSensitivity?s=this.document.scrollTop(this.document.scrollTop()-a.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<a.scrollSensitivity&&(s=this.document.scrollTop(this.document.scrollTop()+a.scrollSpeed)),e.pageX-this.document.scrollLeft()<a.scrollSensitivity?s=this.document.scrollLeft(this.document.scrollLeft()-a.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<a.scrollSensitivity&&(s=this.document.scrollLeft(this.document.scrollLeft()+a.scrollSpeed))),!1!==s&&t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(i=this.items[n],r=i.item[0],(o=this._intersectsWithPointer(i))&&i.instance===this.currentContainer&&r!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==r&&!t.contains(this.placeholder[0],r)&&("semi-dynamic"!==this.options.type||!t.contains(this.element[0],r))){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(e,i),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,n){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var i=this,r=this.placeholder.offset(),o=this.options.axis,a={};o&&"x"!==o||(a.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(a.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(a,parseInt(this.options.revert,10)||500,function(){i._clear(e)})}else this._clear(e,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new t.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},t(n).each(function(){var n=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);n&&i.push((e.key||n[1]+"[]")+"="+(e.key&&e.expression?n[1]:n[2]))}),!i.length&&e.key&&i.push(e.key+"="),i.join("&")},toArray:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},n.each(function(){i.push(t(e.item||this).attr(e.attribute||"id")||"")}),i},_intersectsWith:function(t){var e=this.positionAbs.left,n=e+this.helperProportions.width,i=this.positionAbs.top,r=i+this.helperProportions.height,o=t.left,a=o+t.width,s=t.top,l=s+t.height,c=this.offset.click.top,u=this.offset.click.left,f="x"===this.options.axis||i+c>s&&l>i+c,h="y"===this.options.axis||e+u>o&&a>e+u,d=f&&h;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?d:e+this.helperProportions.width/2>o&&a>n-this.helperProportions.width/2&&i+this.helperProportions.height/2>s&&l>r-this.helperProportions.height/2},_intersectsWithPointer:function(t){var e,n,i="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),r="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),o=i&&r;return!!o&&(e=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection(),this.floating?"right"===n||"down"===e?2:1:e&&("down"===e?2:1))},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),i=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"===r&&n||"left"===r&&!n:i&&("down"===i&&e||"up"===i&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){function n(){s.push(this)}var i,r,o,a,s=[],l=[],c=this._connectWith();if(c&&e)for(i=c.length-1;i>=0;i--)for(o=t(c[i],this.document[0]),r=o.length-1;r>=0;r--)(a=t.data(o[r],this.widgetFullName))&&a!==this&&!a.options.disabled&&l.push([t.isFunction(a.options.items)?a.options.items.call(a.element):t(a.options.items,a.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),a]);for(l.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=l.length-1;i>=0;i--)l[i][0].each(n);return t(s)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var n=0;e.length>n;n++)if(e[n]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var n,i,r,o,a,s,l,c,u=this.items,f=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],h=this._connectWith();if(h&&this.ready)for(n=h.length-1;n>=0;n--)for(r=t(h[n],this.document[0]),i=r.length-1;i>=0;i--)(o=t.data(r[i],this.widgetFullName))&&o!==this&&!o.options.disabled&&(f.push([t.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):t(o.options.items,o.element),o]),this.containers.push(o));for(n=f.length-1;n>=0;n--)for(a=f[n][1],s=f[n][0],i=0,c=s.length;c>i;i++)(l=t(s[i])).data(this.widgetName+"-item",a),u.push({item:l,instance:a,width:0,height:0,left:0,top:0})},refreshPositions:function(e){var n,i,r,o;for(this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),n=this.items.length-1;n>=0;n--)(i=this.items[n]).instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(r=this.options.toleranceElement?t(this.options.toleranceElement,i.item):i.item,e||(i.width=r.outerWidth(),i.height=r.outerHeight()),o=r.offset(),i.left=o.left,i.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)o=this.containers[n].element.offset(),this.containers[n].containerCache.left=o.left,this.containers[n].containerCache.top=o.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(e){var n,i=(e=e||this).options;i.placeholder&&i.placeholder.constructor!==String||(n=i.placeholder,i.placeholder={element:function(){var i=e.currentItem[0].nodeName.toLowerCase(),r=t("<"+i+">",e.document[0]);return e._addClass(r,"ui-sortable-placeholder",n||e.currentItem[0].className)._removeClass(r,"ui-sortable-helper"),"tbody"===i?e._createTrPlaceholder(e.currentItem.find("tr").eq(0),t("<tr>",e.document[0]).appendTo(r)):"tr"===i?e._createTrPlaceholder(e.currentItem,r):"img"===i&&r.attr("src",e.currentItem.attr("src")),n||r.css("visibility","hidden"),r},update:function(t,r){(!n||i.forcePlaceholderSize)&&(r.height()||r.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),r.width()||r.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(i.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),i.placeholder.update(e,e.placeholder)},_createTrPlaceholder:function(e,n){var i=this;e.children().each(function(){t("<td>&#160;</td>",i.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(n)})},_contactContainers:function(e){var n,i,r,o,a,s,l,c,u,f,h=null,d=null;for(n=this.containers.length-1;n>=0;n--)if(!t.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(h&&t.contains(this.containers[n].element[0],h.element[0]))continue;h=this.containers[n],d=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",e,this._uiHash(this)),this.containers[n].containerCache.over=0);if(h)if(1===this.containers.length)this.containers[d].containerCache.over||(this.containers[d]._trigger("over",e,this._uiHash(this)),this.containers[d].containerCache.over=1);else{for(r=1e4,o=null,u=h.floating||this._isFloating(this.currentItem),a=u?"left":"top",s=u?"width":"height",f=u?"pageX":"pageY",i=this.items.length-1;i>=0;i--)t.contains(this.containers[d].element[0],this.items[i].item[0])&&this.items[i].item[0]!==this.currentItem[0]&&(l=this.items[i].item.offset()[a],c=!1,e[f]-l>this.items[i][s]/2&&(c=!0),r>Math.abs(e[f]-l)&&(r=Math.abs(e[f]-l),o=this.items[i],this.direction=c?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[d])return void(this.currentContainer.containerCache.over||(this.containers[d]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1));o?this._rearrange(e,o,null,!0):this._rearrange(e,null,this.containers[d].element,!0),this._trigger("change",e,this._uiHash()),this.containers[d]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[d],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[d]._trigger("over",e,this._uiHash(this)),this.containers[d].containerCache.over=1}},_createHelper:function(e){var n=this.options,i=t.isFunction(n.helper)?t(n.helper.apply(this.element[0],[e,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||t("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!i[0].style.width||n.forceHelperSize)&&i.width(this.currentItem.width()),(!i[0].style.height||n.forceHelperSize)&&i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,i,r=this.options;"parent"===r.containment&&(r.containment=this.helper[0].parentNode),("document"===r.containment||"window"===r.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===r.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===r.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||(e=t(r.containment)[0],n=t(r.containment).offset(),i="hidden"!==t(e).css("overflow"),this.containment=[n.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,n.left+(i?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(i?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,n){n||(n=this.position);var i="absolute"===e?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(r[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:r.scrollTop())*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:r.scrollLeft())*i}},_generatePosition:function(e){var n,i,r=this.options,o=e.pageX,a=e.pageY,s="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(s[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),r.grid&&(n=this.originalPageY+Math.round((a-this.originalPageY)/r.grid[1])*r.grid[1],a=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-r.grid[1]:n+r.grid[1]:n,i=this.originalPageX+Math.round((o-this.originalPageX)/r.grid[0])*r.grid[0],o=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-r.grid[0]:i+r.grid[0]:i)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:s.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:s.scrollLeft())}},_rearrange:function(t,e,n,i){n?n[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!i)})},_clear:function(t,e){function n(t,e,n){return function(i){n._trigger(t,i,e._uiHash(e))}}this.reverting=!1;var i,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)("auto"===this._storedCSS[i]||"static"===this._storedCSS[i])&&(this._storedCSS[i]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&r.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||r.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(r.push(function(t){this._trigger("remove",t,this._uiHash())}),r.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)e||r.push(n("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(r.push(n("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(i=0;r.length>i;i++)r[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===t.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(e){var n=e||this;return{helper:n.helper,placeholder:n.placeholder||t([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:e?e.element:null}}}),t.widget("ui.spinner",{version:"1.12.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var e=this._super(),n=this.element;return t.each(["min","max","step"],function(t,i){var r=n.attr(i);null!=r&&r.length&&(e[i]=r)}),e},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){return this.cancelBlur?void delete this.cancelBlur:(this._stop(),this._refresh(),void(this.previous!==this.element.val()&&this._trigger("change",t)))},mousewheel:function(t,e){if(e){if(!this.spinning&&!this._start(t))return!1;this._spin((e>0?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100),t.preventDefault()}},"mousedown .ui-spinner-button":function(e){function n(){var e=this.element[0]===t.ui.safeActiveElement(this.document[0]);e||(this.element.trigger("focus"),this.previous=i,this._delay(function(){this.previous=i}))}var i;i=this.element[0]===t.ui.safeActiveElement(this.document[0])?this.previous:this.element.val(),e.preventDefault(),n.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,n.call(this)}),!1!==this._start(e)&&this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){return t(e.currentTarget).hasClass("ui-state-active")?!1!==this._start(e)&&void this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e):void 0},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance(),this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content"),this._addClass("ui-spinner-input"),this.element.attr("role","spinbutton"),this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}}),this._removeClass(this.buttons,"ui-corner-all"),this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up"),this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down"),this.buttons.first().button({icon:this.options.icons.up,showLabel:!1}),this.buttons.last().button({icon:this.options.icons.down,showLabel:!1}),this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&this.uiSpinner.height()>0&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(e){var n=this.options,i=t.ui.keyCode;switch(e.keyCode){case i.UP:return this._repeat(null,1,e),!0;case i.DOWN:return this._repeat(null,-1,e),!0;case i.PAGE_UP:return this._repeat(null,n.page,e),!0;case i.PAGE_DOWN:return this._repeat(null,-n.page,e),!0}return!1},_start:function(t){return!(!this.spinning&&!1===this._trigger("start",t)||(this.counter||(this.counter=1),this.spinning=!0,0))},_repeat:function(t,e,n){t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,e,n)},t),this._spin(e*this.options.step,n)},_spin:function(t,e){var n=this.value()||0;this.counter||(this.counter=1),n=this._adjustValue(n+t*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",e,{value:n})||(this._value(n),this.counter++)},_increment:function(e){var n=this.options.incremental;return n?t.isFunction(n)?n(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=""+t,n=e.indexOf(".");return-1===n?0:e.length-n-1},_adjustValue:function(t){var e,n,i=this.options;return e=null!==i.min?i.min:0,n=t-e,n=Math.round(n/i.step)*i.step,t=e+n,t=parseFloat(t.toFixed(this._precision())),null!==i.max&&t>i.max?i.max:null!==i.min&&i.min>t?i.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){var n,i,r;return"culture"===t||"numberFormat"===t?(n=this._parse(this.element.val()),this.options[t]=e,void this.element.val(this._format(n))):(("max"===t||"min"===t||"step"===t)&&"string"==typeof e&&(e=this._parse(e)),"icons"===t&&(i=this.buttons.first().find(".ui-icon"),this._removeClass(i,null,this.options.icons.up),this._addClass(i,null,e.up),r=this.buttons.last().find(".ui-icon"),this._removeClass(r,null,this.options.icons.down),this._addClass(r,null,e.down)),void this._super(t,e))},_setOptionDisabled:function(t){this._super(t),this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable")},_setOptions:o(function(t){this._super(t)}),_parse:function(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var t=this.value();return null!==t&&t===this._adjustValue(t)},_value:function(t,e){var n;""!==t&&null!==(n=this._parse(t))&&(e||(n=this._adjustValue(n)),t=this._format(n)),this.element.val(t),this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:o(function(t){this._stepUp(t)}),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:o(function(t){this._stepDown(t)}),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:o(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:o(function(t){this._stepDown((t||1)*this.options.page)}),value:function(t){return arguments.length?void o(this._value).call(this,t):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),!1!==t.uiBackCompat&&t.widget("ui.spinner",t.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}}),t.ui.spinner,t.widget("ui.tabs",{version:"1.12.1",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var t=/#.*$/;return function(e){var n,i;n=e.href.replace(t,""),i=location.href.replace(t,"");try{n=decodeURIComponent(n)}catch(t){}try{i=decodeURIComponent(i)}catch(t){}return e.hash.length>1&&n===i}}(),_create:function(){var e=this,n=this.options;this.running=!1,this._addClass("ui-tabs","ui-widget ui-widget-content"),this._toggleClass("ui-tabs-collapsible",null,n.collapsible),this._processTabs(),n.active=this._initialActive(),t.isArray(n.disabled)&&(n.disabled=t.unique(n.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),function(t){return e.tabs.index(t)}))).sort()),this.active=!1!==this.options.active&&this.anchors.length?this._findActive(n.active):t(),this._refresh(),this.active.length&&this.load(n.active)},_initialActive:function(){var e=this.options.active,n=this.options.collapsible,i=location.hash.substring(1);return null===e&&(i&&this.tabs.each(function(n,r){return t(r).attr("aria-controls")===i?(e=n,!1):void 0}),null===e&&(e=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===e||-1===e)&&(e=!!this.tabs.length&&0)),!1!==e&&-1===(e=this.tabs.index(this.tabs.eq(e)))&&(e=!n&&0),!n&&!1===e&&this.anchors.length&&(e=0),e},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()}},_tabKeydown:function(e){var n=t(t.ui.safeActiveElement(this.document[0])).closest("li"),i=this.tabs.index(n),r=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:i++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:r=!1,i--;break;case t.ui.keyCode.END:i=this.anchors.length-1;break;case t.ui.keyCode.HOME:i=0;break;case t.ui.keyCode.SPACE:return e.preventDefault(),clearTimeout(this.activating),void this._activate(i);case t.ui.keyCode.ENTER:return e.preventDefault(),clearTimeout(this.activating),void this._activate(i!==this.options.active&&i);default:return}e.preventDefault(),clearTimeout(this.activating),i=this._focusNextTab(i,r),e.ctrlKey||e.metaKey||(n.attr("aria-selected","false"),this.tabs.eq(i).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",i)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===t.ui.keyCode.UP&&(e.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(e){return e.altKey&&e.keyCode===t.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):e.altKey&&e.keyCode===t.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(e,n){for(var i=this.tabs.length-1;-1!==t.inArray((e>i&&(e=0),0>e&&(e=i),e),this.options.disabled);)e=n?e+1:e-1;return e},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).trigger("focus"),t},_setOption:function(t,e){return"active"===t?void this._activate(e):(this._super(t,e),"collapsible"===t&&(this._toggleClass("ui-tabs-collapsible",null,e),e||!1!==this.options.active||this._activate(0)),"event"===t&&this._setupEvents(e),void("heightStyle"===t&&this._setupHeightStyle(e)))},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,n=this.tablist.children(":has(a[href])");e.disabled=t.map(n.filter(".ui-state-disabled"),function(t){return n.index(t)}),this._processTabs(),!1!==e.active&&this.anchors.length?this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=t()),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this,n=this.tabs,i=this.anchors,r=this.panels;this.tablist=this._getList().attr("role","tablist"),this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header"),this.tablist.on("mousedown"+this.eventNamespace,"> li",function(e){t(this).is(".ui-state-disabled")&&e.preventDefault()}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){t(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1}),this._addClass(this.tabs,"ui-tabs-tab","ui-state-default"),this.anchors=this.tabs.map(function(){return t("a",this)[0]}).attr({role:"presentation",tabIndex:-1}),this._addClass(this.anchors,"ui-tabs-anchor"),this.panels=t(),this.anchors.each(function(n,i){var r,o,a,s=t(i).uniqueId().attr("id"),l=t(i).closest("li"),c=l.attr("aria-controls");e._isLocal(i)?(r=i.hash,a=r.substring(1),o=e.element.find(e._sanitizeSelector(r))):(a=l.attr("aria-controls")||t({}).uniqueId()[0].id,r="#"+a,(o=e.element.find(r)).length||(o=e._createPanel(a)).insertAfter(e.panels[n-1]||e.tablist),o.attr("aria-live","polite")),o.length&&(e.panels=e.panels.add(o)),c&&l.data("ui-tabs-aria-controls",c),l.attr({"aria-controls":a,"aria-labelledby":s}),o.attr("aria-labelledby",s)}),this.panels.attr("role","tabpanel"),this._addClass(this.panels,"ui-tabs-panel","ui-widget-content"),n&&(this._off(n.not(this.tabs)),this._off(i.not(this.anchors)),this._off(r.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(e){return t("<div>").attr("id",e).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(e){var n,i,r;for(t.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1),r=0;i=this.tabs[r];r++)n=t(i),!0===e||-1!==t.inArray(r,e)?(n.attr("aria-disabled","true"),this._addClass(n,null,"ui-state-disabled")):(n.removeAttr("aria-disabled"),this._removeClass(n,null,"ui-state-disabled"));this.options.disabled=e,this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!0===e)},_setupEvents:function(e){var n={};e&&t.each(e.split(" "),function(t,e){n[e]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(t){t.preventDefault()}}),this._on(this.anchors,n),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var n,i=this.element.parent();"fill"===e?(n=i.height(),n-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var e=t(this),i=e.css("position");"absolute"!==i&&"fixed"!==i&&(n-=e.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){n-=t(this).outerHeight(!0)}),this.panels.each(function(){t(this).height(Math.max(0,n-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===e&&(n=0,this.panels.each(function(){n=Math.max(n,t(this).height("").height())}).height(n))},_eventHandler:function(e){var n=this.options,i=this.active,r=t(e.currentTarget),o=r.closest("li"),a=o[0]===i[0],s=a&&n.collapsible,l=s?t():this._getPanelForTab(o),c=i.length?this._getPanelForTab(i):t(),u={oldTab:i,oldPanel:c,newTab:s?t():o,newPanel:l};e.preventDefault(),o.hasClass("ui-state-disabled")||o.hasClass("ui-tabs-loading")||this.running||a&&!n.collapsible||!1===this._trigger("beforeActivate",e,u)||(n.active=!s&&this.tabs.index(o),this.active=a?t():o,this.xhr&&this.xhr.abort(),c.length||l.length||t.error("jQuery UI Tabs: Mismatching fragment identifier."),l.length&&this.load(this.tabs.index(o),e),this._toggle(e,u))},_toggle:function(e,n){function i(){o.running=!1,o._trigger("activate",e,n)}function r(){o._addClass(n.newTab.closest("li"),"ui-tabs-active","ui-state-active"),a.length&&o.options.show?o._show(a,o.options.show,i):(a.show(),i())}var o=this,a=n.newPanel,s=n.oldPanel;this.running=!0,s.length&&this.options.hide?this._hide(s,this.options.hide,function(){o._removeClass(n.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),r()}):(this._removeClass(n.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),s.hide(),r()),s.attr("aria-hidden","true"),n.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),a.length&&s.length?n.oldTab.attr("tabIndex",-1):a.length&&this.tabs.filter(function(){return 0===t(this).attr("tabIndex")}).attr("tabIndex",-1),a.attr("aria-hidden","false"),n.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(e){var n,i=this._findActive(e);i[0]!==this.active[0]&&(i.length||(i=this.active),n=i.find(".ui-tabs-anchor")[0],this._eventHandler({target:n,currentTarget:n,preventDefault:t.noop}))},_findActive:function(e){return!1===e?t():this.tabs.eq(e)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+t.ui.escapeSelector(e)+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr("role").off(this.eventNamespace),this.anchors.removeAttr("role tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){t.data(this,"ui-tabs-destroy")?t(this).remove():t(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")}),this.tabs.each(function(){var e=t(this),n=e.data("ui-tabs-aria-controls");n?e.attr("aria-controls",n).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(e){var n=this.options.disabled;!1!==n&&(void 0===e?n=!1:(e=this._getIndex(e),n=t.isArray(n)?t.map(n,function(t){return t!==e?t:null}):t.map(this.tabs,function(t,n){return n!==e?n:null})),this._setOptionDisabled(n))},disable:function(e){var n=this.options.disabled;if(!0!==n){if(void 0===e)n=!0;else{if(e=this._getIndex(e),-1!==t.inArray(e,n))return;n=t.isArray(n)?t.merge([e],n).sort():[e]}this._setOptionDisabled(n)}},load:function(e,n){e=this._getIndex(e);var i=this,r=this.tabs.eq(e),o=r.find(".ui-tabs-anchor"),a=this._getPanelForTab(r),s={tab:r,panel:a},l=function(t,e){"abort"===e&&i.panels.stop(!1,!0),i._removeClass(r,"ui-tabs-loading"),a.removeAttr("aria-busy"),t===i.xhr&&delete i.xhr};this._isLocal(o[0])||(this.xhr=t.ajax(this._ajaxSettings(o,n,s)),this.xhr&&"canceled"!==this.xhr.statusText&&(this._addClass(r,"ui-tabs-loading"),a.attr("aria-busy","true"),this.xhr.done(function(t,e,r){setTimeout(function(){a.html(t),i._trigger("load",n,s),l(r,e)},1)}).fail(function(t,e){setTimeout(function(){l(t,e)},1)})))},_ajaxSettings:function(e,n,i){var r=this;return{url:e.attr("href").replace(/#.*$/,""),beforeSend:function(e,o){return r._trigger("beforeLoad",n,t.extend({jqXHR:e,ajaxSettings:o},i))}}},_getPanelForTab:function(e){var n=t(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+n))}}),!1!==t.uiBackCompat&&t.widget("ui.tabs",t.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,"ui-tab")}}),t.ui.tabs,t.widget("ui.tooltip",{version:"1.12.1",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var e=t(this).attr("title")||"";return t("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(e,n){var i=(e.attr("aria-describedby")||"").split(/\s+/);i.push(n),e.data("ui-tooltip-id",n).attr("aria-describedby",t.trim(i.join(" ")))},_removeDescribedBy:function(e){var n=e.data("ui-tooltip-id"),i=(e.attr("aria-describedby")||"").split(/\s+/),r=t.inArray(n,i);-1!==r&&i.splice(r,1),e.removeData("ui-tooltip-id"),(i=t.trim(i.join(" ")))?e.attr("aria-describedby",i):e.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.liveRegion=t("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this.disabledTitles=t([])},_setOption:function(e,n){var i=this;this._super(e,n),"content"===e&&t.each(this.tooltips,function(t,e){i._updateContent(e.element)})},_setOptionDisabled:function(t){this[t?"_disable":"_enable"]()},_disable:function(){var e=this;t.each(this.tooltips,function(n,i){var r=t.Event("blur");r.target=r.currentTarget=i.element[0],e.close(r,!0)}),this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var e=t(this);return e.is("[title]")?e.data("ui-tooltip-title",e.attr("title")).removeAttr("title"):void 0}))},_enable:function(){this.disabledTitles.each(function(){var e=t(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))}),this.disabledTitles=t([])},open:function(e){var n=this,i=t(e?e.target:this.element).closest(this.options.items);i.length&&!i.data("ui-tooltip-id")&&(i.attr("title")&&i.data("ui-tooltip-title",i.attr("title")),i.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&i.parents().each(function(){var e,i=t(this);i.data("ui-tooltip-open")&&((e=t.Event("blur")).target=e.currentTarget=this,n.close(e,!0)),i.attr("title")&&(i.uniqueId(),n.parents[this.id]={element:this,title:i.attr("title")},i.attr("title",""))}),this._registerCloseHandlers(e,i),this._updateContent(i,e))},_updateContent:function(t,e){var n,i=this.options.content,r=this,o=e?e.type:null;return"string"==typeof i||i.nodeType||i.jquery?this._open(e,t,i):void((n=i.call(t[0],function(n){r._delay(function(){t.data("ui-tooltip-open")&&(e&&(e.type=o),this._open(e,t,n))})}))&&this._open(e,t,n))},_open:function(e,n,i){function r(t){c.of=t,a.is(":hidden")||a.position(c)}var o,a,s,l,c=t.extend({},this.options.position);if(i){if(o=this._find(n))return void o.tooltip.find(".ui-tooltip-content").html(i);n.is("[title]")&&(e&&"mouseover"===e.type?n.attr("title",""):n.removeAttr("title")),o=this._tooltip(n),a=o.tooltip,this._addDescribedBy(n,a.attr("id")),a.find(".ui-tooltip-content").html(i),this.liveRegion.children().hide(),(l=t("<div>").html(a.find(".ui-tooltip-content").html())).removeAttr("name").find("[name]").removeAttr("name"),l.removeAttr("id").find("[id]").removeAttr("id"),l.appendTo(this.liveRegion),this.options.track&&e&&/^mouse/.test(e.type)?(this._on(this.document,{mousemove:r}),r(e)):a.position(t.extend({of:n},this.options.position)),a.hide(),this._show(a,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(s=this.delayedShow=setInterval(function(){a.is(":visible")&&(r(c.of),clearInterval(s))},t.fx.interval)),this._trigger("open",e,{tooltip:a})}},_registerCloseHandlers:function(e,n){var i={keyup:function(e){if(e.keyCode===t.ui.keyCode.ESCAPE){var i=t.Event(e);i.currentTarget=n[0],this.close(i,!0)}}};n[0]!==this.element[0]&&(i.remove=function(){this._removeTooltip(this._find(n).tooltip)}),e&&"mouseover"!==e.type||(i.mouseleave="close"),e&&"focusin"!==e.type||(i.focusout="close"),this._on(!0,n,i)},close:function(e){var n,i=this,r=t(e?e.currentTarget:this.element),o=this._find(r);return o?(n=o.tooltip,void(o.closing||(clearInterval(this.delayedShow),r.data("ui-tooltip-title")&&!r.attr("title")&&r.attr("title",r.data("ui-tooltip-title")),this._removeDescribedBy(r),o.hiding=!0,n.stop(!0),this._hide(n,this.options.hide,function(){i._removeTooltip(t(this))}),r.removeData("ui-tooltip-open"),this._off(r,"mouseleave focusout keyup"),r[0]!==this.element[0]&&this._off(r,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&t.each(this.parents,function(e,n){t(n.element).attr("title",n.title),delete i.parents[e]}),o.closing=!0,this._trigger("close",e,{tooltip:n}),o.hiding||(o.closing=!1)))):void r.removeData("ui-tooltip-open")},_tooltip:function(e){var n=t("<div>").attr("role","tooltip"),i=t("<div>").appendTo(n),r=n.uniqueId().attr("id");return this._addClass(i,"ui-tooltip-content"),this._addClass(n,"ui-tooltip","ui-widget ui-widget-content"),n.appendTo(this._appendTo(e)),this.tooltips[r]={element:e,tooltip:n}},_find:function(t){var e=t.data("ui-tooltip-id");return e?this.tooltips[e]:null},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr("id")]},_appendTo:function(t){var e=t.closest(".ui-front, dialog");return e.length||(e=this.document[0].body),e},_destroy:function(){var e=this;t.each(this.tooltips,function(n,i){var r=t.Event("blur"),o=i.element;r.target=r.currentTarget=o[0],e.close(r,!0),t("#"+n).remove(),o.data("ui-tooltip-title")&&(o.attr("title")||o.attr("title",o.data("ui-tooltip-title")),o.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}}),!1!==t.uiBackCompat&&t.widget("ui.tooltip",t.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var t=this._superApply(arguments);return this.options.tooltipClass&&t.tooltip.addClass(this.options.tooltipClass),t}}),t.ui.tooltip})?i.apply(e,r):i)||(t.exports=o)},function(t,e,n){(t.exports=n(2)(!1)).push([t.i,"*, ::after, ::before {\r\n    box-sizing: border-box;\r\n}\r\n\r\n\r\n.image-table-selected {\r\n\tborder: 6px solid yellow !important;\r\n}\r\n\r\n.mlv-hm-label{\r\n\tcursor:pointer\r\n}\r\n\r\n .mlv-hm-label:hover{\r\n\tcolor:red;\r\n}\r\n\r\n\r\n\r\n.image-table-info-box {\r\n  height: 200px;\r\n  width: 0;\r\n  position: absolute;\r\n  z-index: 1;\r\n  top: 0;\r\n  right: 0;\r\n  background-color:lightgrey;\r\n  overflow-x: hidden;\r\n  transition: 0.5s;\r\n  padding-top: 12px;\r\n  border: solid 1px gray;\r\n}\r\n\r\n.image-table-info-box .closebtn {\r\n  position: absolute;\r\n  top: 3px;\r\n  right: 25px;\r\n  font-size: 12px;\r\n  margin-left: 50px;\r\n}\r\n\r\n.info-text .info-heading {\r\n\tmargin:3px;\r\n\tpadding:2px;\r\n\tbackground-color:white;\r\n}\r\n\r\n.image-table-info-box .info-text {\r\n\tdisplay:flex;\r\n\tflex-direction:column;\r\n\theight:100%;\r\n\toverflow-y:auto;\r\n\r\n\r\n}\r\n\r\n.info-text::-webkit-scrollbar {\r\n    width: 5px;\r\n}\r\n\r\n.info-text::-webkit-scrollbar-thumb {\r\n    background: #E0E0E0;\r\n}\r\n\r\n\r\n\r\n.grid-stack-item-content {\r\n  background: white;\r\n  color: #2c3e50;\r\n  right:5px !important;\r\n  left:5px !important;\r\n  -webkit-user-select: none;\r\n  -khtml-user-select: none;\r\n  -moz-user-select: -moz-none;\r\n  -o-user-select: none;\r\n  user-select: none;\r\n\r\n}\r\n\r\n\r\n.mlv-chart-label{\r\n\tcursor:move;\r\n}\r\n\r\n.ui-menu{\r\n\tbackground:#ffffff;\r\n\tbox-sizing: border-box;\r\n\tfont-size:14px;\r\n\r\n}\r\n\r\n.mlv-cm-icon{\r\n\tpadding-top:3px;\r\n\tfloat:left;\r\n\twidth:20px;\r\n}\r\n\r\n.ui-menu-item .ui-state-active{\r\n\tborder:1px solid #003eff;\r\n\tbackground:#007fff;\r\n\tfont-weight:normal;\r\n\tcolor:#ffffff;\r\n}\r\n\r\n.ui-menu-item-wrapper {\r\n\tbox-sizing: border-box;\r\n\tborder:1px solid #ffffff;\r\n\tcursor:pointer;\r\n}\r\n\r\n\r\n.max-min-slider .ui-slider{\r\n\tdisplay:inline-block;\r\n\twidth:calc(100% - 100px);\r\n\tmargin-left:10px;\r\n\tmargin-right:10px;\r\n\r\n}\r\n\r\n.dc-chart g.row text{\r\n   fill:black !important;\t\r\n}\r\n\r\n\r\n.civ-main-panel{\r\n\theight:calc(100% - 30px) !important;\r\n\t\r\n}\r\n\r\n.civ-filter-panel{\r\n\toverflow-y:scroll;\r\n\tscrollbar-width:thin;\r\n\toverflow-x:hidden;\r\n\r\n}\r\n\r\n.civ-filter-panel::-webkit-scrollbar {\r\n  width: 5px;\r\n}\r\n\r\n/* Track */\r\n.civ-filter-panel::-webkit-scrollbar-track {\r\n  background:white; \r\n}\r\n \r\n/* Handle */\r\n.civ-filter-panel::-webkit-scrollbar-thumb {\r\n  background: #E0E0E0\r\n}\r\n\r\n/* Handle on hover */\r\n.civ-filter-panel::-webkit-scrollbar-thumb:hover {\r\n  background: #555; \r\n}\r\n\r\n\r\n\r\n\r\n.civ-menu-bar{\r\n\theight:30px;\r\n\twidth:100%;\r\n}\r\n\r\n.civ-menu-bar button{\r\n\tpadding-top:2px;\r\n\tpadding-bottom:2px;\r\n\tmargin-left:2px;\r\n\tmargin-right:2px;\r\n}\r\n\r\n.civ-chart-dialog label {\r\n\tfont-weight:bold;\r\n\tmargin-bottom: 1px;\r\n\tmargin-top: 3px;\r\n\tdisplay: block;\r\n}\r\n\r\n.civ-chart-dialog hr {\r\n\tmargin-top:0.5rem;\r\n\tmargin-bottom:0.5rem\r\n}\r\n\r\n.add-chart-dialog label{\r\n\tfont-weight:bold;\r\n\tmargin-bottom: 1px;\r\n\tmargin-top:3px;\r\n}\r\n\r\n.tagging-dialog label{\r\n\tfont-weight:bold;\r\n\tmargin-bottom: 1px;\r\n\tmargin-top:3px;\r\n}\r\n\r\n.civ-chart-dialog input[type=checkbox]{\r\n\t\r\n    vertical-align: middle;\r\n\twidth:18px;\r\n\theight:18px;\r\n}\r\n\r\n.civ-chart-dialog .ui-spinner{\r\n\twidth:60px;\r\n\t\r\n}\r\n\r\n.mlv-reset-btn{\r\n\theight:20px;\r\n\tpadding-left:2px;\r\n\tpadding-right:2px;\r\n\tpadding-top:0px;\r\n\tpadding-bottom:3px;\r\n\tmargin-left:5px;\r\n}\r\n\r\n.civ-chart-dialog button{\r\n\tmargin-top:3px;\r\n\tmargin-bottom:3px;\r\n}\r\n\r\n.civ-field-dialog label {\r\n\tfont-weight:bold;\r\n\tmargin-bottom:1px;\r\n\tmargin-top:3px;\r\n\tdisplay:block;\r\n}\r\n\r\n.civ-field-dialog button{\r\n\tmargin-left:2px;\r\n\tpadding-top:2px;\r\n\tpadding-bottom:2px;\r\n}\r\n\r\n\r\n\r\n.civ-field-dialog select{\r\n\tmargin-right:5px;\r\n}\r\n\r\n\r\n.max-min-slider input{\r\n\twidth: 40px;\r\n\theight:20px;\r\n\tborder-radius:6px;\r\n}\r\n\r\n.control-bar .fas,.fa{\r\n\tfont-size:18px;\r\n\tmargin-left:3px;\r\n\tmargin-right:3px;\r\n\tcursor:pointer;\r\n}\r\n\r\n.mlv-chart-option-menu{\r\n\tdisplay:none;\r\n\tposition:absolute;\r\n\tright:0px;\r\n\tcursor:pointer;\r\n}",""])},function(t,e,n){var i=n(31);"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,r);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(2)(!1)).push([t.i,":root .grid-stack-item > .ui-resizable-handle {\n  filter: none;\n}\n\n.grid-stack {\n  position: relative;\n}\n\n.grid-stack.grid-stack-rtl {\n  direction: ltr;\n}\n\n.grid-stack.grid-stack-rtl > .grid-stack-item {\n  direction: rtl;\n}\n\n.grid-stack .grid-stack-placeholder > .placeholder-content {\n  border: 1px dashed lightgray;\n  margin: 0;\n  position: absolute;\n  top: 0;\n  left: 10px;\n  right: 10px;\n  bottom: 0;\n  width: auto;\n  z-index: 0 !important;\n  text-align: center;\n}\n\n.grid-stack > .grid-stack-item {\n  min-width: 8.3333333333%;\n  position: absolute;\n  padding: 0;\n}\n\n.grid-stack > .grid-stack-item > .grid-stack-item-content {\n  margin: 0;\n  position: absolute;\n  top: 0;\n  left: 10px;\n  right: 10px;\n  bottom: 0;\n  width: auto;\n  z-index: 0 !important;\n  overflow-x: hidden;\n  overflow-y: hidden;\n}\n\n.grid-stack > .grid-stack-item > .ui-resizable-handle {\n  position: absolute;\n  font-size: 0.1px;\n  display: block;\n  -ms-touch-action: none;\n  touch-action: none;\n}\n\n.grid-stack > .grid-stack-item.ui-resizable-disabled > .ui-resizable-handle,\n.grid-stack > .grid-stack-item.ui-resizable-autohide > .ui-resizable-handle {\n  display: none;\n}\n\n.grid-stack > .grid-stack-item.ui-draggable-dragging, .grid-stack > .grid-stack-item.ui-resizable-resizing {\n  z-index: 100;\n}\n\n.grid-stack > .grid-stack-item.ui-draggable-dragging > .grid-stack-item-content,\n.grid-stack > .grid-stack-item.ui-draggable-dragging > .grid-stack-item-content, .grid-stack > .grid-stack-item.ui-resizable-resizing > .grid-stack-item-content,\n.grid-stack > .grid-stack-item.ui-resizable-resizing > .grid-stack-item-content {\n  box-shadow: 1px 4px 6px rgba(0, 0, 0, 0.2);\n  opacity: 0.8;\n}\n\n.grid-stack > .grid-stack-item > .ui-resizable-se,\n.grid-stack > .grid-stack-item > .ui-resizable-sw {\n  background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTYuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCIgdmlld0JveD0iMCAwIDUxMS42MjYgNTExLjYyNyIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNTExLjYyNiA1MTEuNjI3OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxnPgoJPHBhdGggZD0iTTMyOC45MDYsNDAxLjk5NGgtMzYuNTUzVjEwOS42MzZoMzYuNTUzYzQuOTQ4LDAsOS4yMzYtMS44MDksMTIuODQ3LTUuNDI2YzMuNjEzLTMuNjE1LDUuNDIxLTcuODk4LDUuNDIxLTEyLjg0NSAgIGMwLTQuOTQ5LTEuODAxLTkuMjMxLTUuNDI4LTEyLjg1MWwtNzMuMDg3LTczLjA5QzI2NS4wNDQsMS44MDksMjYwLjc2LDAsMjU1LjgxMywwYy00Ljk0OCwwLTkuMjI5LDEuODA5LTEyLjg0Nyw1LjQyNCAgIGwtNzMuMDg4LDczLjA5Yy0zLjYxOCwzLjYxOS01LjQyNCw3LjkwMi01LjQyNCwxMi44NTFjMCw0Ljk0NiwxLjgwNyw5LjIyOSw1LjQyNCwxMi44NDVjMy42MTksMy42MTcsNy45MDEsNS40MjYsMTIuODUsNS40MjYgICBoMzYuNTQ1djI5Mi4zNThoLTM2LjU0MmMtNC45NTIsMC05LjIzNSwxLjgwOC0xMi44NSw1LjQyMWMtMy42MTcsMy42MjEtNS40MjQsNy45MDUtNS40MjQsMTIuODU0ICAgYzAsNC45NDUsMS44MDcsOS4yMjcsNS40MjQsMTIuODQ3bDczLjA4OSw3My4wODhjMy42MTcsMy42MTcsNy44OTgsNS40MjQsMTIuODQ3LDUuNDI0YzQuOTUsMCw5LjIzNC0xLjgwNywxMi44NDktNS40MjQgICBsNzMuMDg3LTczLjA4OGMzLjYxMy0zLjYyLDUuNDIxLTcuOTAxLDUuNDIxLTEyLjg0N2MwLTQuOTQ4LTEuODA4LTkuMjMyLTUuNDIxLTEyLjg1NCAgIEMzMzguMTQyLDQwMy44MDIsMzMzLjg1Nyw0MDEuOTk0LDMyOC45MDYsNDAxLjk5NHoiIGZpbGw9IiM2NjY2NjYiLz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8L3N2Zz4K);\n  background-repeat: no-repeat;\n  background-position: center;\n  -webkit-transform: rotate(45deg);\n  -moz-transform: rotate(45deg);\n  -ms-transform: rotate(45deg);\n  -o-transform: rotate(45deg);\n  transform: rotate(45deg);\n}\n\n.grid-stack > .grid-stack-item > .ui-resizable-se {\n  -webkit-transform: rotate(-45deg);\n  -moz-transform: rotate(-45deg);\n  -ms-transform: rotate(-45deg);\n  -o-transform: rotate(-45deg);\n  transform: rotate(-45deg);\n}\n\n.grid-stack > .grid-stack-item > .ui-resizable-nw {\n  cursor: nw-resize;\n  width: 20px;\n  height: 20px;\n  left: 10px;\n  top: 0;\n}\n\n.grid-stack > .grid-stack-item > .ui-resizable-n {\n  cursor: n-resize;\n  height: 10px;\n  top: 0;\n  left: 25px;\n  right: 25px;\n}\n\n.grid-stack > .grid-stack-item > .ui-resizable-ne {\n  cursor: ne-resize;\n  width: 20px;\n  height: 20px;\n  right: 10px;\n  top: 0;\n}\n\n.grid-stack > .grid-stack-item > .ui-resizable-e {\n  cursor: e-resize;\n  width: 10px;\n  right: 10px;\n  top: 15px;\n  bottom: 15px;\n}\n\n.grid-stack > .grid-stack-item > .ui-resizable-se {\n  cursor: se-resize;\n  width: 20px;\n  height: 20px;\n  right: 5px;\n  bottom: 0;\n}\n\n.grid-stack > .grid-stack-item > .ui-resizable-s {\n  cursor: s-resize;\n  height: 10px;\n  left: 25px;\n  bottom: 0;\n  right: 25px;\n}\n\n.grid-stack > .grid-stack-item > .ui-resizable-sw {\n  cursor: sw-resize;\n  width: 20px;\n  height: 20px;\n  left: 10px;\n  bottom: 0;\n}\n\n.grid-stack > .grid-stack-item > .ui-resizable-w {\n  cursor: w-resize;\n  width: 10px;\n  left: 10px;\n  top: 15px;\n  bottom: 15px;\n}\n\n.grid-stack > .grid-stack-item.ui-draggable-dragging > .ui-resizable-handle {\n  display: none !important;\n}\n\n.grid-stack > .grid-stack-item[data-gs-width='1'] {\n  width: 8.3333333333%;\n}\n\n.grid-stack > .grid-stack-item[data-gs-x='1'] {\n  left: 8.3333333333%;\n}\n\n.grid-stack > .grid-stack-item[data-gs-min-width='1'] {\n  min-width: 8.3333333333%;\n}\n\n.grid-stack > .grid-stack-item[data-gs-max-width='1'] {\n  max-width: 8.3333333333%;\n}\n\n.grid-stack > .grid-stack-item[data-gs-width='2'] {\n  width: 16.6666666667%;\n}\n\n.grid-stack > .grid-stack-item[data-gs-x='2'] {\n  left: 16.6666666667%;\n}\n\n.grid-stack > .grid-stack-item[data-gs-min-width='2'] {\n  min-width: 16.6666666667%;\n}\n\n.grid-stack > .grid-stack-item[data-gs-max-width='2'] {\n  max-width: 16.6666666667%;\n}\n\n.grid-stack > .grid-stack-item[data-gs-width='3'] {\n  width: 25%;\n}\n\n.grid-stack > .grid-stack-item[data-gs-x='3'] {\n  left: 25%;\n}\n\n.grid-stack > .grid-stack-item[data-gs-min-width='3'] {\n  min-width: 25%;\n}\n\n.grid-stack > .grid-stack-item[data-gs-max-width='3'] {\n  max-width: 25%;\n}\n\n.grid-stack > .grid-stack-item[data-gs-width='4'] {\n  width: 33.3333333333%;\n}\n\n.grid-stack > .grid-stack-item[data-gs-x='4'] {\n  left: 33.3333333333%;\n}\n\n.grid-stack > .grid-stack-item[data-gs-min-width='4'] {\n  min-width: 33.3333333333%;\n}\n\n.grid-stack > .grid-stack-item[data-gs-max-width='4'] {\n  max-width: 33.3333333333%;\n}\n\n.grid-stack > .grid-stack-item[data-gs-width='5'] {\n  width: 41.6666666667%;\n}\n\n.grid-stack > .grid-stack-item[data-gs-x='5'] {\n  left: 41.6666666667%;\n}\n\n.grid-stack > .grid-stack-item[data-gs-min-width='5'] {\n  min-width: 41.6666666667%;\n}\n\n.grid-stack > .grid-stack-item[data-gs-max-width='5'] {\n  max-width: 41.6666666667%;\n}\n\n.grid-stack > .grid-stack-item[data-gs-width='6'] {\n  width: 50%;\n}\n\n.grid-stack > .grid-stack-item[data-gs-x='6'] {\n  left: 50%;\n}\n\n.grid-stack > .grid-stack-item[data-gs-min-width='6'] {\n  min-width: 50%;\n}\n\n.grid-stack > .grid-stack-item[data-gs-max-width='6'] {\n  max-width: 50%;\n}\n\n.grid-stack > .grid-stack-item[data-gs-width='7'] {\n  width: 58.3333333333%;\n}\n\n.grid-stack > .grid-stack-item[data-gs-x='7'] {\n  left: 58.3333333333%;\n}\n\n.grid-stack > .grid-stack-item[data-gs-min-width='7'] {\n  min-width: 58.3333333333%;\n}\n\n.grid-stack > .grid-stack-item[data-gs-max-width='7'] {\n  max-width: 58.3333333333%;\n}\n\n.grid-stack > .grid-stack-item[data-gs-width='8'] {\n  width: 66.6666666667%;\n}\n\n.grid-stack > .grid-stack-item[data-gs-x='8'] {\n  left: 66.6666666667%;\n}\n\n.grid-stack > .grid-stack-item[data-gs-min-width='8'] {\n  min-width: 66.6666666667%;\n}\n\n.grid-stack > .grid-stack-item[data-gs-max-width='8'] {\n  max-width: 66.6666666667%;\n}\n\n.grid-stack > .grid-stack-item[data-gs-width='9'] {\n  width: 75%;\n}\n\n.grid-stack > .grid-stack-item[data-gs-x='9'] {\n  left: 75%;\n}\n\n.grid-stack > .grid-stack-item[data-gs-min-width='9'] {\n  min-width: 75%;\n}\n\n.grid-stack > .grid-stack-item[data-gs-max-width='9'] {\n  max-width: 75%;\n}\n\n.grid-stack > .grid-stack-item[data-gs-width='10'] {\n  width: 83.3333333333%;\n}\n\n.grid-stack > .grid-stack-item[data-gs-x='10'] {\n  left: 83.3333333333%;\n}\n\n.grid-stack > .grid-stack-item[data-gs-min-width='10'] {\n  min-width: 83.3333333333%;\n}\n\n.grid-stack > .grid-stack-item[data-gs-max-width='10'] {\n  max-width: 83.3333333333%;\n}\n\n.grid-stack > .grid-stack-item[data-gs-width='11'] {\n  width: 91.6666666667%;\n}\n\n.grid-stack > .grid-stack-item[data-gs-x='11'] {\n  left: 91.6666666667%;\n}\n\n.grid-stack > .grid-stack-item[data-gs-min-width='11'] {\n  min-width: 91.6666666667%;\n}\n\n.grid-stack > .grid-stack-item[data-gs-max-width='11'] {\n  max-width: 91.6666666667%;\n}\n\n.grid-stack > .grid-stack-item[data-gs-width='12'] {\n  width: 100%;\n}\n\n.grid-stack > .grid-stack-item[data-gs-x='12'] {\n  left: 100%;\n}\n\n.grid-stack > .grid-stack-item[data-gs-min-width='12'] {\n  min-width: 100%;\n}\n\n.grid-stack > .grid-stack-item[data-gs-max-width='12'] {\n  max-width: 100%;\n}\n\n.grid-stack.grid-stack-animate,\n.grid-stack.grid-stack-animate .grid-stack-item {\n  -webkit-transition: left 0.3s, top 0.3s, height 0.3s, width 0.3s;\n  -moz-transition: left 0.3s, top 0.3s, height 0.3s, width 0.3s;\n  -ms-transition: left 0.3s, top 0.3s, height 0.3s, width 0.3s;\n  -o-transition: left 0.3s, top 0.3s, height 0.3s, width 0.3s;\n  transition: left 0.3s, top 0.3s, height 0.3s, width 0.3s;\n}\n\n.grid-stack.grid-stack-animate .grid-stack-item.ui-draggable-dragging,\n.grid-stack.grid-stack-animate .grid-stack-item.ui-resizable-resizing,\n.grid-stack.grid-stack-animate .grid-stack-item.grid-stack-placeholder {\n  -webkit-transition: left 0s, top 0s, height 0s, width 0s;\n  -moz-transition: left 0s, top 0s, height 0s, width 0s;\n  -ms-transition: left 0s, top 0s, height 0s, width 0s;\n  -o-transition: left 0s, top 0s, height 0s, width 0s;\n  transition: left 0s, top 0s, height 0s, width 0s;\n}\n\n.grid-stack.grid-stack-one-column-mode {\n  height: auto !important;\n}\n\n.grid-stack.grid-stack-one-column-mode > .grid-stack-item {\n  position: relative !important;\n  width: auto !important;\n  left: 0 !important;\n  top: auto !important;\n  margin-bottom: 20px;\n  max-width: none !important;\n}\n\n.grid-stack.grid-stack-one-column-mode > .grid-stack-item > .ui-resizable-handle {\n  display: none;\n}\n",""])},function(t,e,n){var i=n(33);"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,r);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(2)(!1)).push([t.i,".dc-chart path.dc-symbol,.dc-legend g.dc-legend-item.fadeout{fill-opacity:.5;stroke-opacity:.5}div.dc-chart{float:left}.dc-chart rect.bar{stroke:none;cursor:pointer}.dc-chart rect.bar:hover{fill-opacity:.5}.dc-chart rect.deselected{stroke:none;fill:#ccc}.dc-chart .pie-slice{fill:#fff;font-size:12px;cursor:pointer}.dc-chart .pie-slice.external{fill:#000}.dc-chart .pie-slice :hover,.dc-chart .pie-slice.highlight{fill-opacity:.8}.dc-chart .pie-path{fill:none;stroke-width:2px;stroke:#000;opacity:.4}.dc-chart .selected circle,.dc-chart .selected path{stroke-width:3;stroke:#ccc;fill-opacity:1}.dc-chart .deselected circle,.dc-chart .deselected path{stroke:none;fill-opacity:.5;fill:#ccc}.dc-chart .axis line,.dc-chart .axis path{fill:none;stroke:#000;shape-rendering:crispEdges}.dc-chart .axis text{font:10px sans-serif}.dc-chart .axis .grid-line,.dc-chart .axis .grid-line line,.dc-chart .grid-line,.dc-chart .grid-line line{fill:none;stroke:#ccc;opacity:.5;shape-rendering:crispEdges}.dc-chart .brush rect.selection{fill:#4682b4;fill-opacity:.125}.dc-chart .brush .custom-brush-handle{fill:#eee;stroke:#666;cursor:ew-resize}.dc-chart path.line{fill:none;stroke-width:1.5px}.dc-chart path.area{fill-opacity:.3;stroke:none}.dc-chart path.highlight{stroke-width:3;fill-opacity:1;stroke-opacity:1}.dc-chart g.state{cursor:pointer}.dc-chart g.state :hover{fill-opacity:.8}.dc-chart g.state path{stroke:#fff}.dc-chart g.deselected path{fill:grey}.dc-chart g.deselected text{display:none}.dc-chart g.row rect{fill-opacity:.8;cursor:pointer}.dc-chart g.row rect:hover{fill-opacity:.6}.dc-chart g.row text{fill:#fff;font-size:12px;cursor:pointer}.dc-chart g.dc-tooltip path{fill:none;stroke:grey;stroke-opacity:.8}.dc-chart g.county path{stroke:#fff;fill:none}.dc-chart g.debug rect{fill:#00f;fill-opacity:.2}.dc-chart g.axis text{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none}.dc-chart .node{font-size:.7em;cursor:pointer}.dc-chart .node :hover{fill-opacity:.8}.dc-chart .bubble{stroke:none;fill-opacity:.6}.dc-chart .highlight{fill-opacity:1;stroke-opacity:1}.dc-chart .fadeout{fill-opacity:.2;stroke-opacity:.2}.dc-chart .box text{font:10px sans-serif;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none}.dc-chart .box line{fill:#fff}.dc-chart .box circle,.dc-chart .box line,.dc-chart .box rect{stroke:#000;stroke-width:1.5px}.dc-chart .box .center{stroke-dasharray:3,3}.dc-chart .box .data{stroke:none;stroke-width:0}.dc-chart .box .outlier{fill:none;stroke:#ccc}.dc-chart .box .outlierBold{fill:red;stroke:none}.dc-chart .box.deselected{opacity:.5}.dc-chart .box.deselected .box{fill:#ccc}.dc-chart .symbol{stroke:none}.dc-chart .heatmap .box-group.deselected rect{stroke:none;fill-opacity:.5;fill:#ccc}.dc-chart .heatmap g.axis text{pointer-events:all;cursor:pointer}.dc-chart .empty-chart .pie-slice{cursor:default}.dc-chart .empty-chart .pie-slice path{fill:#fee;cursor:default}.dc-data-count{float:right;margin-top:15px;margin-right:15px}.dc-data-count .filter-count,.dc-data-count .total-count{color:#3182bd;font-weight:700}.dc-legend{font-size:11px}.dc-legend .dc-legend-item{cursor:pointer}.dc-hard .number-display{float:none}div.dc-html-legend{overflow-y:auto;overflow-x:hidden;height:inherit;float:right;padding-right:2px}div.dc-html-legend .dc-legend-item-horizontal{display:inline-block;margin-left:5px;margin-right:5px;cursor:pointer}div.dc-html-legend .dc-legend-item-horizontal.selected{background-color:#3182bd;color:#fff}div.dc-html-legend .dc-legend-item-vertical{display:block;margin-top:5px;padding-top:1px;padding-bottom:1px;cursor:pointer}div.dc-html-legend .dc-legend-item-vertical.selected{background-color:#3182bd;color:#fff}div.dc-html-legend .dc-legend-item-color{display:table-cell;width:12px;height:12px}div.dc-html-legend .dc-legend-item-label{line-height:12px;display:table-cell;vertical-align:middle;padding-left:3px;padding-right:3px;font-size:.75em}.dc-html-legend-container{height:inherit}",""])},function(t,e,n){var i=n(35);"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,r);i.locals&&(t.exports=i.locals)},function(t,e){t.exports="images/fa-solid-900.svg"},function(t,e){t.exports="images/fa-solid-900.ttf"},function(t,e){t.exports="images/fa-solid-900.woff"},function(t,e){t.exports="images/fa-solid-900.woff2"},function(t,e){t.exports="images/fa-regular-400.svg"},function(t,e){t.exports="images/fa-regular-400.ttf"},function(t,e){t.exports="images/fa-regular-400.woff"},function(t,e){t.exports="images/fa-regular-400.woff2"},function(t,e){t.exports="images/fa-brands-400.svg"},function(t,e){t.exports="images/fa-brands-400.ttf"},function(t,e){t.exports="images/fa-brands-400.woff"},function(t,e){t.exports="images/fa-brands-400.woff2"},function(t,e,n){var i=n(3);(t.exports=n(2)(!1)).push([t.i,'/*!\n * Font Awesome Free 5.5.0 by @fontawesome - https://fontawesome.com\n * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)\n */\n.fa,\n.fas,\n.far,\n.fal,\n.fab {\n  -moz-osx-font-smoothing: grayscale;\n  -webkit-font-smoothing: antialiased;\n  display: inline-block;\n  font-style: normal;\n  font-variant: normal;\n  text-rendering: auto;\n  line-height: 1; }\n\n.fa-lg {\n  font-size: 1.33333em;\n  line-height: 0.75em;\n  vertical-align: -.0667em; }\n\n.fa-xs {\n  font-size: .75em; }\n\n.fa-sm {\n  font-size: .875em; }\n\n.fa-1x {\n  font-size: 1em; }\n\n.fa-2x {\n  font-size: 2em; }\n\n.fa-3x {\n  font-size: 3em; }\n\n.fa-4x {\n  font-size: 4em; }\n\n.fa-5x {\n  font-size: 5em; }\n\n.fa-6x {\n  font-size: 6em; }\n\n.fa-7x {\n  font-size: 7em; }\n\n.fa-8x {\n  font-size: 8em; }\n\n.fa-9x {\n  font-size: 9em; }\n\n.fa-10x {\n  font-size: 10em; }\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em; }\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: 2.5em;\n  padding-left: 0; }\n  .fa-ul > li {\n    position: relative; }\n\n.fa-li {\n  left: -2em;\n  position: absolute;\n  text-align: center;\n  width: 2em;\n  line-height: inherit; }\n\n.fa-border {\n  border: solid 0.08em #eee;\n  border-radius: .1em;\n  padding: .2em .25em .15em; }\n\n.fa-pull-left {\n  float: left; }\n\n.fa-pull-right {\n  float: right; }\n\n.fa.fa-pull-left,\n.fas.fa-pull-left,\n.far.fa-pull-left,\n.fal.fa-pull-left,\n.fab.fa-pull-left {\n  margin-right: .3em; }\n\n.fa.fa-pull-right,\n.fas.fa-pull-right,\n.far.fa-pull-right,\n.fal.fa-pull-right,\n.fab.fa-pull-right {\n  margin-left: .3em; }\n\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n          animation: fa-spin 2s infinite linear; }\n\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n          animation: fa-spin 1s infinite steps(8); }\n\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg); }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg); } }\n\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg); }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg); } }\n\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg); }\n\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg); }\n\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg); }\n\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1); }\n\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1); }\n\n.fa-flip-horizontal.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1); }\n\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical {\n  -webkit-filter: none;\n          filter: none; }\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  line-height: 2em;\n  position: relative;\n  vertical-align: middle;\n  width: 2.5em; }\n\n.fa-stack-1x,\n.fa-stack-2x {\n  left: 0;\n  position: absolute;\n  text-align: center;\n  width: 100%; }\n\n.fa-stack-1x {\n  line-height: inherit; }\n\n.fa-stack-2x {\n  font-size: 2em; }\n\n.fa-inverse {\n  color: #fff; }\n\n/* Font Awesome uses the Unicode Private Use Area (PUA) to ensure screen\nreaders do not read off random characters that represent icons */\n.fa-500px:before {\n  content: "\\F26E"; }\n\n.fa-accessible-icon:before {\n  content: "\\F368"; }\n\n.fa-accusoft:before {\n  content: "\\F369"; }\n\n.fa-acquisitions-incorporated:before {\n  content: "\\F6AF"; }\n\n.fa-ad:before {\n  content: "\\F641"; }\n\n.fa-address-book:before {\n  content: "\\F2B9"; }\n\n.fa-address-card:before {\n  content: "\\F2BB"; }\n\n.fa-adjust:before {\n  content: "\\F042"; }\n\n.fa-adn:before {\n  content: "\\F170"; }\n\n.fa-adversal:before {\n  content: "\\F36A"; }\n\n.fa-affiliatetheme:before {\n  content: "\\F36B"; }\n\n.fa-air-freshener:before {\n  content: "\\F5D0"; }\n\n.fa-algolia:before {\n  content: "\\F36C"; }\n\n.fa-align-center:before {\n  content: "\\F037"; }\n\n.fa-align-justify:before {\n  content: "\\F039"; }\n\n.fa-align-left:before {\n  content: "\\F036"; }\n\n.fa-align-right:before {\n  content: "\\F038"; }\n\n.fa-alipay:before {\n  content: "\\F642"; }\n\n.fa-allergies:before {\n  content: "\\F461"; }\n\n.fa-amazon:before {\n  content: "\\F270"; }\n\n.fa-amazon-pay:before {\n  content: "\\F42C"; }\n\n.fa-ambulance:before {\n  content: "\\F0F9"; }\n\n.fa-american-sign-language-interpreting:before {\n  content: "\\F2A3"; }\n\n.fa-amilia:before {\n  content: "\\F36D"; }\n\n.fa-anchor:before {\n  content: "\\F13D"; }\n\n.fa-android:before {\n  content: "\\F17B"; }\n\n.fa-angellist:before {\n  content: "\\F209"; }\n\n.fa-angle-double-down:before {\n  content: "\\F103"; }\n\n.fa-angle-double-left:before {\n  content: "\\F100"; }\n\n.fa-angle-double-right:before {\n  content: "\\F101"; }\n\n.fa-angle-double-up:before {\n  content: "\\F102"; }\n\n.fa-angle-down:before {\n  content: "\\F107"; }\n\n.fa-angle-left:before {\n  content: "\\F104"; }\n\n.fa-angle-right:before {\n  content: "\\F105"; }\n\n.fa-angle-up:before {\n  content: "\\F106"; }\n\n.fa-angry:before {\n  content: "\\F556"; }\n\n.fa-angrycreative:before {\n  content: "\\F36E"; }\n\n.fa-angular:before {\n  content: "\\F420"; }\n\n.fa-ankh:before {\n  content: "\\F644"; }\n\n.fa-app-store:before {\n  content: "\\F36F"; }\n\n.fa-app-store-ios:before {\n  content: "\\F370"; }\n\n.fa-apper:before {\n  content: "\\F371"; }\n\n.fa-apple:before {\n  content: "\\F179"; }\n\n.fa-apple-alt:before {\n  content: "\\F5D1"; }\n\n.fa-apple-pay:before {\n  content: "\\F415"; }\n\n.fa-archive:before {\n  content: "\\F187"; }\n\n.fa-archway:before {\n  content: "\\F557"; }\n\n.fa-arrow-alt-circle-down:before {\n  content: "\\F358"; }\n\n.fa-arrow-alt-circle-left:before {\n  content: "\\F359"; }\n\n.fa-arrow-alt-circle-right:before {\n  content: "\\F35A"; }\n\n.fa-arrow-alt-circle-up:before {\n  content: "\\F35B"; }\n\n.fa-arrow-circle-down:before {\n  content: "\\F0AB"; }\n\n.fa-arrow-circle-left:before {\n  content: "\\F0A8"; }\n\n.fa-arrow-circle-right:before {\n  content: "\\F0A9"; }\n\n.fa-arrow-circle-up:before {\n  content: "\\F0AA"; }\n\n.fa-arrow-down:before {\n  content: "\\F063"; }\n\n.fa-arrow-left:before {\n  content: "\\F060"; }\n\n.fa-arrow-right:before {\n  content: "\\F061"; }\n\n.fa-arrow-up:before {\n  content: "\\F062"; }\n\n.fa-arrows-alt:before {\n  content: "\\F0B2"; }\n\n.fa-arrows-alt-h:before {\n  content: "\\F337"; }\n\n.fa-arrows-alt-v:before {\n  content: "\\F338"; }\n\n.fa-assistive-listening-systems:before {\n  content: "\\F2A2"; }\n\n.fa-asterisk:before {\n  content: "\\F069"; }\n\n.fa-asymmetrik:before {\n  content: "\\F372"; }\n\n.fa-at:before {\n  content: "\\F1FA"; }\n\n.fa-atlas:before {\n  content: "\\F558"; }\n\n.fa-atom:before {\n  content: "\\F5D2"; }\n\n.fa-audible:before {\n  content: "\\F373"; }\n\n.fa-audio-description:before {\n  content: "\\F29E"; }\n\n.fa-autoprefixer:before {\n  content: "\\F41C"; }\n\n.fa-avianex:before {\n  content: "\\F374"; }\n\n.fa-aviato:before {\n  content: "\\F421"; }\n\n.fa-award:before {\n  content: "\\F559"; }\n\n.fa-aws:before {\n  content: "\\F375"; }\n\n.fa-backspace:before {\n  content: "\\F55A"; }\n\n.fa-backward:before {\n  content: "\\F04A"; }\n\n.fa-balance-scale:before {\n  content: "\\F24E"; }\n\n.fa-ban:before {\n  content: "\\F05E"; }\n\n.fa-band-aid:before {\n  content: "\\F462"; }\n\n.fa-bandcamp:before {\n  content: "\\F2D5"; }\n\n.fa-barcode:before {\n  content: "\\F02A"; }\n\n.fa-bars:before {\n  content: "\\F0C9"; }\n\n.fa-baseball-ball:before {\n  content: "\\F433"; }\n\n.fa-basketball-ball:before {\n  content: "\\F434"; }\n\n.fa-bath:before {\n  content: "\\F2CD"; }\n\n.fa-battery-empty:before {\n  content: "\\F244"; }\n\n.fa-battery-full:before {\n  content: "\\F240"; }\n\n.fa-battery-half:before {\n  content: "\\F242"; }\n\n.fa-battery-quarter:before {\n  content: "\\F243"; }\n\n.fa-battery-three-quarters:before {\n  content: "\\F241"; }\n\n.fa-bed:before {\n  content: "\\F236"; }\n\n.fa-beer:before {\n  content: "\\F0FC"; }\n\n.fa-behance:before {\n  content: "\\F1B4"; }\n\n.fa-behance-square:before {\n  content: "\\F1B5"; }\n\n.fa-bell:before {\n  content: "\\F0F3"; }\n\n.fa-bell-slash:before {\n  content: "\\F1F6"; }\n\n.fa-bezier-curve:before {\n  content: "\\F55B"; }\n\n.fa-bible:before {\n  content: "\\F647"; }\n\n.fa-bicycle:before {\n  content: "\\F206"; }\n\n.fa-bimobject:before {\n  content: "\\F378"; }\n\n.fa-binoculars:before {\n  content: "\\F1E5"; }\n\n.fa-birthday-cake:before {\n  content: "\\F1FD"; }\n\n.fa-bitbucket:before {\n  content: "\\F171"; }\n\n.fa-bitcoin:before {\n  content: "\\F379"; }\n\n.fa-bity:before {\n  content: "\\F37A"; }\n\n.fa-black-tie:before {\n  content: "\\F27E"; }\n\n.fa-blackberry:before {\n  content: "\\F37B"; }\n\n.fa-blender:before {\n  content: "\\F517"; }\n\n.fa-blender-phone:before {\n  content: "\\F6B6"; }\n\n.fa-blind:before {\n  content: "\\F29D"; }\n\n.fa-blogger:before {\n  content: "\\F37C"; }\n\n.fa-blogger-b:before {\n  content: "\\F37D"; }\n\n.fa-bluetooth:before {\n  content: "\\F293"; }\n\n.fa-bluetooth-b:before {\n  content: "\\F294"; }\n\n.fa-bold:before {\n  content: "\\F032"; }\n\n.fa-bolt:before {\n  content: "\\F0E7"; }\n\n.fa-bomb:before {\n  content: "\\F1E2"; }\n\n.fa-bone:before {\n  content: "\\F5D7"; }\n\n.fa-bong:before {\n  content: "\\F55C"; }\n\n.fa-book:before {\n  content: "\\F02D"; }\n\n.fa-book-dead:before {\n  content: "\\F6B7"; }\n\n.fa-book-open:before {\n  content: "\\F518"; }\n\n.fa-book-reader:before {\n  content: "\\F5DA"; }\n\n.fa-bookmark:before {\n  content: "\\F02E"; }\n\n.fa-bowling-ball:before {\n  content: "\\F436"; }\n\n.fa-box:before {\n  content: "\\F466"; }\n\n.fa-box-open:before {\n  content: "\\F49E"; }\n\n.fa-boxes:before {\n  content: "\\F468"; }\n\n.fa-braille:before {\n  content: "\\F2A1"; }\n\n.fa-brain:before {\n  content: "\\F5DC"; }\n\n.fa-briefcase:before {\n  content: "\\F0B1"; }\n\n.fa-briefcase-medical:before {\n  content: "\\F469"; }\n\n.fa-broadcast-tower:before {\n  content: "\\F519"; }\n\n.fa-broom:before {\n  content: "\\F51A"; }\n\n.fa-brush:before {\n  content: "\\F55D"; }\n\n.fa-btc:before {\n  content: "\\F15A"; }\n\n.fa-bug:before {\n  content: "\\F188"; }\n\n.fa-building:before {\n  content: "\\F1AD"; }\n\n.fa-bullhorn:before {\n  content: "\\F0A1"; }\n\n.fa-bullseye:before {\n  content: "\\F140"; }\n\n.fa-burn:before {\n  content: "\\F46A"; }\n\n.fa-buromobelexperte:before {\n  content: "\\F37F"; }\n\n.fa-bus:before {\n  content: "\\F207"; }\n\n.fa-bus-alt:before {\n  content: "\\F55E"; }\n\n.fa-business-time:before {\n  content: "\\F64A"; }\n\n.fa-buysellads:before {\n  content: "\\F20D"; }\n\n.fa-calculator:before {\n  content: "\\F1EC"; }\n\n.fa-calendar:before {\n  content: "\\F133"; }\n\n.fa-calendar-alt:before {\n  content: "\\F073"; }\n\n.fa-calendar-check:before {\n  content: "\\F274"; }\n\n.fa-calendar-minus:before {\n  content: "\\F272"; }\n\n.fa-calendar-plus:before {\n  content: "\\F271"; }\n\n.fa-calendar-times:before {\n  content: "\\F273"; }\n\n.fa-camera:before {\n  content: "\\F030"; }\n\n.fa-camera-retro:before {\n  content: "\\F083"; }\n\n.fa-campground:before {\n  content: "\\F6BB"; }\n\n.fa-cannabis:before {\n  content: "\\F55F"; }\n\n.fa-capsules:before {\n  content: "\\F46B"; }\n\n.fa-car:before {\n  content: "\\F1B9"; }\n\n.fa-car-alt:before {\n  content: "\\F5DE"; }\n\n.fa-car-battery:before {\n  content: "\\F5DF"; }\n\n.fa-car-crash:before {\n  content: "\\F5E1"; }\n\n.fa-car-side:before {\n  content: "\\F5E4"; }\n\n.fa-caret-down:before {\n  content: "\\F0D7"; }\n\n.fa-caret-left:before {\n  content: "\\F0D9"; }\n\n.fa-caret-right:before {\n  content: "\\F0DA"; }\n\n.fa-caret-square-down:before {\n  content: "\\F150"; }\n\n.fa-caret-square-left:before {\n  content: "\\F191"; }\n\n.fa-caret-square-right:before {\n  content: "\\F152"; }\n\n.fa-caret-square-up:before {\n  content: "\\F151"; }\n\n.fa-caret-up:before {\n  content: "\\F0D8"; }\n\n.fa-cart-arrow-down:before {\n  content: "\\F218"; }\n\n.fa-cart-plus:before {\n  content: "\\F217"; }\n\n.fa-cat:before {\n  content: "\\F6BE"; }\n\n.fa-cc-amazon-pay:before {\n  content: "\\F42D"; }\n\n.fa-cc-amex:before {\n  content: "\\F1F3"; }\n\n.fa-cc-apple-pay:before {\n  content: "\\F416"; }\n\n.fa-cc-diners-club:before {\n  content: "\\F24C"; }\n\n.fa-cc-discover:before {\n  content: "\\F1F2"; }\n\n.fa-cc-jcb:before {\n  content: "\\F24B"; }\n\n.fa-cc-mastercard:before {\n  content: "\\F1F1"; }\n\n.fa-cc-paypal:before {\n  content: "\\F1F4"; }\n\n.fa-cc-stripe:before {\n  content: "\\F1F5"; }\n\n.fa-cc-visa:before {\n  content: "\\F1F0"; }\n\n.fa-centercode:before {\n  content: "\\F380"; }\n\n.fa-certificate:before {\n  content: "\\F0A3"; }\n\n.fa-chair:before {\n  content: "\\F6C0"; }\n\n.fa-chalkboard:before {\n  content: "\\F51B"; }\n\n.fa-chalkboard-teacher:before {\n  content: "\\F51C"; }\n\n.fa-charging-station:before {\n  content: "\\F5E7"; }\n\n.fa-chart-area:before {\n  content: "\\F1FE"; }\n\n.fa-chart-bar:before {\n  content: "\\F080"; }\n\n.fa-chart-line:before {\n  content: "\\F201"; }\n\n.fa-chart-pie:before {\n  content: "\\F200"; }\n\n.fa-check:before {\n  content: "\\F00C"; }\n\n.fa-check-circle:before {\n  content: "\\F058"; }\n\n.fa-check-double:before {\n  content: "\\F560"; }\n\n.fa-check-square:before {\n  content: "\\F14A"; }\n\n.fa-chess:before {\n  content: "\\F439"; }\n\n.fa-chess-bishop:before {\n  content: "\\F43A"; }\n\n.fa-chess-board:before {\n  content: "\\F43C"; }\n\n.fa-chess-king:before {\n  content: "\\F43F"; }\n\n.fa-chess-knight:before {\n  content: "\\F441"; }\n\n.fa-chess-pawn:before {\n  content: "\\F443"; }\n\n.fa-chess-queen:before {\n  content: "\\F445"; }\n\n.fa-chess-rook:before {\n  content: "\\F447"; }\n\n.fa-chevron-circle-down:before {\n  content: "\\F13A"; }\n\n.fa-chevron-circle-left:before {\n  content: "\\F137"; }\n\n.fa-chevron-circle-right:before {\n  content: "\\F138"; }\n\n.fa-chevron-circle-up:before {\n  content: "\\F139"; }\n\n.fa-chevron-down:before {\n  content: "\\F078"; }\n\n.fa-chevron-left:before {\n  content: "\\F053"; }\n\n.fa-chevron-right:before {\n  content: "\\F054"; }\n\n.fa-chevron-up:before {\n  content: "\\F077"; }\n\n.fa-child:before {\n  content: "\\F1AE"; }\n\n.fa-chrome:before {\n  content: "\\F268"; }\n\n.fa-church:before {\n  content: "\\F51D"; }\n\n.fa-circle:before {\n  content: "\\F111"; }\n\n.fa-circle-notch:before {\n  content: "\\F1CE"; }\n\n.fa-city:before {\n  content: "\\F64F"; }\n\n.fa-clipboard:before {\n  content: "\\F328"; }\n\n.fa-clipboard-check:before {\n  content: "\\F46C"; }\n\n.fa-clipboard-list:before {\n  content: "\\F46D"; }\n\n.fa-clock:before {\n  content: "\\F017"; }\n\n.fa-clone:before {\n  content: "\\F24D"; }\n\n.fa-closed-captioning:before {\n  content: "\\F20A"; }\n\n.fa-cloud:before {\n  content: "\\F0C2"; }\n\n.fa-cloud-download-alt:before {\n  content: "\\F381"; }\n\n.fa-cloud-meatball:before {\n  content: "\\F73B"; }\n\n.fa-cloud-moon:before {\n  content: "\\F6C3"; }\n\n.fa-cloud-moon-rain:before {\n  content: "\\F73C"; }\n\n.fa-cloud-rain:before {\n  content: "\\F73D"; }\n\n.fa-cloud-showers-heavy:before {\n  content: "\\F740"; }\n\n.fa-cloud-sun:before {\n  content: "\\F6C4"; }\n\n.fa-cloud-sun-rain:before {\n  content: "\\F743"; }\n\n.fa-cloud-upload-alt:before {\n  content: "\\F382"; }\n\n.fa-cloudscale:before {\n  content: "\\F383"; }\n\n.fa-cloudsmith:before {\n  content: "\\F384"; }\n\n.fa-cloudversify:before {\n  content: "\\F385"; }\n\n.fa-cocktail:before {\n  content: "\\F561"; }\n\n.fa-code:before {\n  content: "\\F121"; }\n\n.fa-code-branch:before {\n  content: "\\F126"; }\n\n.fa-codepen:before {\n  content: "\\F1CB"; }\n\n.fa-codiepie:before {\n  content: "\\F284"; }\n\n.fa-coffee:before {\n  content: "\\F0F4"; }\n\n.fa-cog:before {\n  content: "\\F013"; }\n\n.fa-cogs:before {\n  content: "\\F085"; }\n\n.fa-coins:before {\n  content: "\\F51E"; }\n\n.fa-columns:before {\n  content: "\\F0DB"; }\n\n.fa-comment:before {\n  content: "\\F075"; }\n\n.fa-comment-alt:before {\n  content: "\\F27A"; }\n\n.fa-comment-dollar:before {\n  content: "\\F651"; }\n\n.fa-comment-dots:before {\n  content: "\\F4AD"; }\n\n.fa-comment-slash:before {\n  content: "\\F4B3"; }\n\n.fa-comments:before {\n  content: "\\F086"; }\n\n.fa-comments-dollar:before {\n  content: "\\F653"; }\n\n.fa-compact-disc:before {\n  content: "\\F51F"; }\n\n.fa-compass:before {\n  content: "\\F14E"; }\n\n.fa-compress:before {\n  content: "\\F066"; }\n\n.fa-concierge-bell:before {\n  content: "\\F562"; }\n\n.fa-connectdevelop:before {\n  content: "\\F20E"; }\n\n.fa-contao:before {\n  content: "\\F26D"; }\n\n.fa-cookie:before {\n  content: "\\F563"; }\n\n.fa-cookie-bite:before {\n  content: "\\F564"; }\n\n.fa-copy:before {\n  content: "\\F0C5"; }\n\n.fa-copyright:before {\n  content: "\\F1F9"; }\n\n.fa-couch:before {\n  content: "\\F4B8"; }\n\n.fa-cpanel:before {\n  content: "\\F388"; }\n\n.fa-creative-commons:before {\n  content: "\\F25E"; }\n\n.fa-creative-commons-by:before {\n  content: "\\F4E7"; }\n\n.fa-creative-commons-nc:before {\n  content: "\\F4E8"; }\n\n.fa-creative-commons-nc-eu:before {\n  content: "\\F4E9"; }\n\n.fa-creative-commons-nc-jp:before {\n  content: "\\F4EA"; }\n\n.fa-creative-commons-nd:before {\n  content: "\\F4EB"; }\n\n.fa-creative-commons-pd:before {\n  content: "\\F4EC"; }\n\n.fa-creative-commons-pd-alt:before {\n  content: "\\F4ED"; }\n\n.fa-creative-commons-remix:before {\n  content: "\\F4EE"; }\n\n.fa-creative-commons-sa:before {\n  content: "\\F4EF"; }\n\n.fa-creative-commons-sampling:before {\n  content: "\\F4F0"; }\n\n.fa-creative-commons-sampling-plus:before {\n  content: "\\F4F1"; }\n\n.fa-creative-commons-share:before {\n  content: "\\F4F2"; }\n\n.fa-creative-commons-zero:before {\n  content: "\\F4F3"; }\n\n.fa-credit-card:before {\n  content: "\\F09D"; }\n\n.fa-critical-role:before {\n  content: "\\F6C9"; }\n\n.fa-crop:before {\n  content: "\\F125"; }\n\n.fa-crop-alt:before {\n  content: "\\F565"; }\n\n.fa-cross:before {\n  content: "\\F654"; }\n\n.fa-crosshairs:before {\n  content: "\\F05B"; }\n\n.fa-crow:before {\n  content: "\\F520"; }\n\n.fa-crown:before {\n  content: "\\F521"; }\n\n.fa-css3:before {\n  content: "\\F13C"; }\n\n.fa-css3-alt:before {\n  content: "\\F38B"; }\n\n.fa-cube:before {\n  content: "\\F1B2"; }\n\n.fa-cubes:before {\n  content: "\\F1B3"; }\n\n.fa-cut:before {\n  content: "\\F0C4"; }\n\n.fa-cuttlefish:before {\n  content: "\\F38C"; }\n\n.fa-d-and-d:before {\n  content: "\\F38D"; }\n\n.fa-d-and-d-beyond:before {\n  content: "\\F6CA"; }\n\n.fa-dashcube:before {\n  content: "\\F210"; }\n\n.fa-database:before {\n  content: "\\F1C0"; }\n\n.fa-deaf:before {\n  content: "\\F2A4"; }\n\n.fa-delicious:before {\n  content: "\\F1A5"; }\n\n.fa-democrat:before {\n  content: "\\F747"; }\n\n.fa-deploydog:before {\n  content: "\\F38E"; }\n\n.fa-deskpro:before {\n  content: "\\F38F"; }\n\n.fa-desktop:before {\n  content: "\\F108"; }\n\n.fa-dev:before {\n  content: "\\F6CC"; }\n\n.fa-deviantart:before {\n  content: "\\F1BD"; }\n\n.fa-dharmachakra:before {\n  content: "\\F655"; }\n\n.fa-diagnoses:before {\n  content: "\\F470"; }\n\n.fa-dice:before {\n  content: "\\F522"; }\n\n.fa-dice-d20:before {\n  content: "\\F6CF"; }\n\n.fa-dice-d6:before {\n  content: "\\F6D1"; }\n\n.fa-dice-five:before {\n  content: "\\F523"; }\n\n.fa-dice-four:before {\n  content: "\\F524"; }\n\n.fa-dice-one:before {\n  content: "\\F525"; }\n\n.fa-dice-six:before {\n  content: "\\F526"; }\n\n.fa-dice-three:before {\n  content: "\\F527"; }\n\n.fa-dice-two:before {\n  content: "\\F528"; }\n\n.fa-digg:before {\n  content: "\\F1A6"; }\n\n.fa-digital-ocean:before {\n  content: "\\F391"; }\n\n.fa-digital-tachograph:before {\n  content: "\\F566"; }\n\n.fa-directions:before {\n  content: "\\F5EB"; }\n\n.fa-discord:before {\n  content: "\\F392"; }\n\n.fa-discourse:before {\n  content: "\\F393"; }\n\n.fa-divide:before {\n  content: "\\F529"; }\n\n.fa-dizzy:before {\n  content: "\\F567"; }\n\n.fa-dna:before {\n  content: "\\F471"; }\n\n.fa-dochub:before {\n  content: "\\F394"; }\n\n.fa-docker:before {\n  content: "\\F395"; }\n\n.fa-dog:before {\n  content: "\\F6D3"; }\n\n.fa-dollar-sign:before {\n  content: "\\F155"; }\n\n.fa-dolly:before {\n  content: "\\F472"; }\n\n.fa-dolly-flatbed:before {\n  content: "\\F474"; }\n\n.fa-donate:before {\n  content: "\\F4B9"; }\n\n.fa-door-closed:before {\n  content: "\\F52A"; }\n\n.fa-door-open:before {\n  content: "\\F52B"; }\n\n.fa-dot-circle:before {\n  content: "\\F192"; }\n\n.fa-dove:before {\n  content: "\\F4BA"; }\n\n.fa-download:before {\n  content: "\\F019"; }\n\n.fa-draft2digital:before {\n  content: "\\F396"; }\n\n.fa-drafting-compass:before {\n  content: "\\F568"; }\n\n.fa-dragon:before {\n  content: "\\F6D5"; }\n\n.fa-draw-polygon:before {\n  content: "\\F5EE"; }\n\n.fa-dribbble:before {\n  content: "\\F17D"; }\n\n.fa-dribbble-square:before {\n  content: "\\F397"; }\n\n.fa-dropbox:before {\n  content: "\\F16B"; }\n\n.fa-drum:before {\n  content: "\\F569"; }\n\n.fa-drum-steelpan:before {\n  content: "\\F56A"; }\n\n.fa-drumstick-bite:before {\n  content: "\\F6D7"; }\n\n.fa-drupal:before {\n  content: "\\F1A9"; }\n\n.fa-dumbbell:before {\n  content: "\\F44B"; }\n\n.fa-dungeon:before {\n  content: "\\F6D9"; }\n\n.fa-dyalog:before {\n  content: "\\F399"; }\n\n.fa-earlybirds:before {\n  content: "\\F39A"; }\n\n.fa-ebay:before {\n  content: "\\F4F4"; }\n\n.fa-edge:before {\n  content: "\\F282"; }\n\n.fa-edit:before {\n  content: "\\F044"; }\n\n.fa-eject:before {\n  content: "\\F052"; }\n\n.fa-elementor:before {\n  content: "\\F430"; }\n\n.fa-ellipsis-h:before {\n  content: "\\F141"; }\n\n.fa-ellipsis-v:before {\n  content: "\\F142"; }\n\n.fa-ello:before {\n  content: "\\F5F1"; }\n\n.fa-ember:before {\n  content: "\\F423"; }\n\n.fa-empire:before {\n  content: "\\F1D1"; }\n\n.fa-envelope:before {\n  content: "\\F0E0"; }\n\n.fa-envelope-open:before {\n  content: "\\F2B6"; }\n\n.fa-envelope-open-text:before {\n  content: "\\F658"; }\n\n.fa-envelope-square:before {\n  content: "\\F199"; }\n\n.fa-envira:before {\n  content: "\\F299"; }\n\n.fa-equals:before {\n  content: "\\F52C"; }\n\n.fa-eraser:before {\n  content: "\\F12D"; }\n\n.fa-erlang:before {\n  content: "\\F39D"; }\n\n.fa-ethereum:before {\n  content: "\\F42E"; }\n\n.fa-etsy:before {\n  content: "\\F2D7"; }\n\n.fa-euro-sign:before {\n  content: "\\F153"; }\n\n.fa-exchange-alt:before {\n  content: "\\F362"; }\n\n.fa-exclamation:before {\n  content: "\\F12A"; }\n\n.fa-exclamation-circle:before {\n  content: "\\F06A"; }\n\n.fa-exclamation-triangle:before {\n  content: "\\F071"; }\n\n.fa-expand:before {\n  content: "\\F065"; }\n\n.fa-expand-arrows-alt:before {\n  content: "\\F31E"; }\n\n.fa-expeditedssl:before {\n  content: "\\F23E"; }\n\n.fa-external-link-alt:before {\n  content: "\\F35D"; }\n\n.fa-external-link-square-alt:before {\n  content: "\\F360"; }\n\n.fa-eye:before {\n  content: "\\F06E"; }\n\n.fa-eye-dropper:before {\n  content: "\\F1FB"; }\n\n.fa-eye-slash:before {\n  content: "\\F070"; }\n\n.fa-facebook:before {\n  content: "\\F09A"; }\n\n.fa-facebook-f:before {\n  content: "\\F39E"; }\n\n.fa-facebook-messenger:before {\n  content: "\\F39F"; }\n\n.fa-facebook-square:before {\n  content: "\\F082"; }\n\n.fa-fantasy-flight-games:before {\n  content: "\\F6DC"; }\n\n.fa-fast-backward:before {\n  content: "\\F049"; }\n\n.fa-fast-forward:before {\n  content: "\\F050"; }\n\n.fa-fax:before {\n  content: "\\F1AC"; }\n\n.fa-feather:before {\n  content: "\\F52D"; }\n\n.fa-feather-alt:before {\n  content: "\\F56B"; }\n\n.fa-female:before {\n  content: "\\F182"; }\n\n.fa-fighter-jet:before {\n  content: "\\F0FB"; }\n\n.fa-file:before {\n  content: "\\F15B"; }\n\n.fa-file-alt:before {\n  content: "\\F15C"; }\n\n.fa-file-archive:before {\n  content: "\\F1C6"; }\n\n.fa-file-audio:before {\n  content: "\\F1C7"; }\n\n.fa-file-code:before {\n  content: "\\F1C9"; }\n\n.fa-file-contract:before {\n  content: "\\F56C"; }\n\n.fa-file-csv:before {\n  content: "\\F6DD"; }\n\n.fa-file-download:before {\n  content: "\\F56D"; }\n\n.fa-file-excel:before {\n  content: "\\F1C3"; }\n\n.fa-file-export:before {\n  content: "\\F56E"; }\n\n.fa-file-image:before {\n  content: "\\F1C5"; }\n\n.fa-file-import:before {\n  content: "\\F56F"; }\n\n.fa-file-invoice:before {\n  content: "\\F570"; }\n\n.fa-file-invoice-dollar:before {\n  content: "\\F571"; }\n\n.fa-file-medical:before {\n  content: "\\F477"; }\n\n.fa-file-medical-alt:before {\n  content: "\\F478"; }\n\n.fa-file-pdf:before {\n  content: "\\F1C1"; }\n\n.fa-file-powerpoint:before {\n  content: "\\F1C4"; }\n\n.fa-file-prescription:before {\n  content: "\\F572"; }\n\n.fa-file-signature:before {\n  content: "\\F573"; }\n\n.fa-file-upload:before {\n  content: "\\F574"; }\n\n.fa-file-video:before {\n  content: "\\F1C8"; }\n\n.fa-file-word:before {\n  content: "\\F1C2"; }\n\n.fa-fill:before {\n  content: "\\F575"; }\n\n.fa-fill-drip:before {\n  content: "\\F576"; }\n\n.fa-film:before {\n  content: "\\F008"; }\n\n.fa-filter:before {\n  content: "\\F0B0"; }\n\n.fa-fingerprint:before {\n  content: "\\F577"; }\n\n.fa-fire:before {\n  content: "\\F06D"; }\n\n.fa-fire-extinguisher:before {\n  content: "\\F134"; }\n\n.fa-firefox:before {\n  content: "\\F269"; }\n\n.fa-first-aid:before {\n  content: "\\F479"; }\n\n.fa-first-order:before {\n  content: "\\F2B0"; }\n\n.fa-first-order-alt:before {\n  content: "\\F50A"; }\n\n.fa-firstdraft:before {\n  content: "\\F3A1"; }\n\n.fa-fish:before {\n  content: "\\F578"; }\n\n.fa-fist-raised:before {\n  content: "\\F6DE"; }\n\n.fa-flag:before {\n  content: "\\F024"; }\n\n.fa-flag-checkered:before {\n  content: "\\F11E"; }\n\n.fa-flag-usa:before {\n  content: "\\F74D"; }\n\n.fa-flask:before {\n  content: "\\F0C3"; }\n\n.fa-flickr:before {\n  content: "\\F16E"; }\n\n.fa-flipboard:before {\n  content: "\\F44D"; }\n\n.fa-flushed:before {\n  content: "\\F579"; }\n\n.fa-fly:before {\n  content: "\\F417"; }\n\n.fa-folder:before {\n  content: "\\F07B"; }\n\n.fa-folder-minus:before {\n  content: "\\F65D"; }\n\n.fa-folder-open:before {\n  content: "\\F07C"; }\n\n.fa-folder-plus:before {\n  content: "\\F65E"; }\n\n.fa-font:before {\n  content: "\\F031"; }\n\n.fa-font-awesome:before {\n  content: "\\F2B4"; }\n\n.fa-font-awesome-alt:before {\n  content: "\\F35C"; }\n\n.fa-font-awesome-flag:before {\n  content: "\\F425"; }\n\n.fa-font-awesome-logo-full:before {\n  content: "\\F4E6"; }\n\n.fa-fonticons:before {\n  content: "\\F280"; }\n\n.fa-fonticons-fi:before {\n  content: "\\F3A2"; }\n\n.fa-football-ball:before {\n  content: "\\F44E"; }\n\n.fa-fort-awesome:before {\n  content: "\\F286"; }\n\n.fa-fort-awesome-alt:before {\n  content: "\\F3A3"; }\n\n.fa-forumbee:before {\n  content: "\\F211"; }\n\n.fa-forward:before {\n  content: "\\F04E"; }\n\n.fa-foursquare:before {\n  content: "\\F180"; }\n\n.fa-free-code-camp:before {\n  content: "\\F2C5"; }\n\n.fa-freebsd:before {\n  content: "\\F3A4"; }\n\n.fa-frog:before {\n  content: "\\F52E"; }\n\n.fa-frown:before {\n  content: "\\F119"; }\n\n.fa-frown-open:before {\n  content: "\\F57A"; }\n\n.fa-fulcrum:before {\n  content: "\\F50B"; }\n\n.fa-funnel-dollar:before {\n  content: "\\F662"; }\n\n.fa-futbol:before {\n  content: "\\F1E3"; }\n\n.fa-galactic-republic:before {\n  content: "\\F50C"; }\n\n.fa-galactic-senate:before {\n  content: "\\F50D"; }\n\n.fa-gamepad:before {\n  content: "\\F11B"; }\n\n.fa-gas-pump:before {\n  content: "\\F52F"; }\n\n.fa-gavel:before {\n  content: "\\F0E3"; }\n\n.fa-gem:before {\n  content: "\\F3A5"; }\n\n.fa-genderless:before {\n  content: "\\F22D"; }\n\n.fa-get-pocket:before {\n  content: "\\F265"; }\n\n.fa-gg:before {\n  content: "\\F260"; }\n\n.fa-gg-circle:before {\n  content: "\\F261"; }\n\n.fa-ghost:before {\n  content: "\\F6E2"; }\n\n.fa-gift:before {\n  content: "\\F06B"; }\n\n.fa-git:before {\n  content: "\\F1D3"; }\n\n.fa-git-square:before {\n  content: "\\F1D2"; }\n\n.fa-github:before {\n  content: "\\F09B"; }\n\n.fa-github-alt:before {\n  content: "\\F113"; }\n\n.fa-github-square:before {\n  content: "\\F092"; }\n\n.fa-gitkraken:before {\n  content: "\\F3A6"; }\n\n.fa-gitlab:before {\n  content: "\\F296"; }\n\n.fa-gitter:before {\n  content: "\\F426"; }\n\n.fa-glass-martini:before {\n  content: "\\F000"; }\n\n.fa-glass-martini-alt:before {\n  content: "\\F57B"; }\n\n.fa-glasses:before {\n  content: "\\F530"; }\n\n.fa-glide:before {\n  content: "\\F2A5"; }\n\n.fa-glide-g:before {\n  content: "\\F2A6"; }\n\n.fa-globe:before {\n  content: "\\F0AC"; }\n\n.fa-globe-africa:before {\n  content: "\\F57C"; }\n\n.fa-globe-americas:before {\n  content: "\\F57D"; }\n\n.fa-globe-asia:before {\n  content: "\\F57E"; }\n\n.fa-gofore:before {\n  content: "\\F3A7"; }\n\n.fa-golf-ball:before {\n  content: "\\F450"; }\n\n.fa-goodreads:before {\n  content: "\\F3A8"; }\n\n.fa-goodreads-g:before {\n  content: "\\F3A9"; }\n\n.fa-google:before {\n  content: "\\F1A0"; }\n\n.fa-google-drive:before {\n  content: "\\F3AA"; }\n\n.fa-google-play:before {\n  content: "\\F3AB"; }\n\n.fa-google-plus:before {\n  content: "\\F2B3"; }\n\n.fa-google-plus-g:before {\n  content: "\\F0D5"; }\n\n.fa-google-plus-square:before {\n  content: "\\F0D4"; }\n\n.fa-google-wallet:before {\n  content: "\\F1EE"; }\n\n.fa-gopuram:before {\n  content: "\\F664"; }\n\n.fa-graduation-cap:before {\n  content: "\\F19D"; }\n\n.fa-gratipay:before {\n  content: "\\F184"; }\n\n.fa-grav:before {\n  content: "\\F2D6"; }\n\n.fa-greater-than:before {\n  content: "\\F531"; }\n\n.fa-greater-than-equal:before {\n  content: "\\F532"; }\n\n.fa-grimace:before {\n  content: "\\F57F"; }\n\n.fa-grin:before {\n  content: "\\F580"; }\n\n.fa-grin-alt:before {\n  content: "\\F581"; }\n\n.fa-grin-beam:before {\n  content: "\\F582"; }\n\n.fa-grin-beam-sweat:before {\n  content: "\\F583"; }\n\n.fa-grin-hearts:before {\n  content: "\\F584"; }\n\n.fa-grin-squint:before {\n  content: "\\F585"; }\n\n.fa-grin-squint-tears:before {\n  content: "\\F586"; }\n\n.fa-grin-stars:before {\n  content: "\\F587"; }\n\n.fa-grin-tears:before {\n  content: "\\F588"; }\n\n.fa-grin-tongue:before {\n  content: "\\F589"; }\n\n.fa-grin-tongue-squint:before {\n  content: "\\F58A"; }\n\n.fa-grin-tongue-wink:before {\n  content: "\\F58B"; }\n\n.fa-grin-wink:before {\n  content: "\\F58C"; }\n\n.fa-grip-horizontal:before {\n  content: "\\F58D"; }\n\n.fa-grip-vertical:before {\n  content: "\\F58E"; }\n\n.fa-gripfire:before {\n  content: "\\F3AC"; }\n\n.fa-grunt:before {\n  content: "\\F3AD"; }\n\n.fa-gulp:before {\n  content: "\\F3AE"; }\n\n.fa-h-square:before {\n  content: "\\F0FD"; }\n\n.fa-hacker-news:before {\n  content: "\\F1D4"; }\n\n.fa-hacker-news-square:before {\n  content: "\\F3AF"; }\n\n.fa-hackerrank:before {\n  content: "\\F5F7"; }\n\n.fa-hammer:before {\n  content: "\\F6E3"; }\n\n.fa-hamsa:before {\n  content: "\\F665"; }\n\n.fa-hand-holding:before {\n  content: "\\F4BD"; }\n\n.fa-hand-holding-heart:before {\n  content: "\\F4BE"; }\n\n.fa-hand-holding-usd:before {\n  content: "\\F4C0"; }\n\n.fa-hand-lizard:before {\n  content: "\\F258"; }\n\n.fa-hand-paper:before {\n  content: "\\F256"; }\n\n.fa-hand-peace:before {\n  content: "\\F25B"; }\n\n.fa-hand-point-down:before {\n  content: "\\F0A7"; }\n\n.fa-hand-point-left:before {\n  content: "\\F0A5"; }\n\n.fa-hand-point-right:before {\n  content: "\\F0A4"; }\n\n.fa-hand-point-up:before {\n  content: "\\F0A6"; }\n\n.fa-hand-pointer:before {\n  content: "\\F25A"; }\n\n.fa-hand-rock:before {\n  content: "\\F255"; }\n\n.fa-hand-scissors:before {\n  content: "\\F257"; }\n\n.fa-hand-spock:before {\n  content: "\\F259"; }\n\n.fa-hands:before {\n  content: "\\F4C2"; }\n\n.fa-hands-helping:before {\n  content: "\\F4C4"; }\n\n.fa-handshake:before {\n  content: "\\F2B5"; }\n\n.fa-hanukiah:before {\n  content: "\\F6E6"; }\n\n.fa-hashtag:before {\n  content: "\\F292"; }\n\n.fa-hat-wizard:before {\n  content: "\\F6E8"; }\n\n.fa-haykal:before {\n  content: "\\F666"; }\n\n.fa-hdd:before {\n  content: "\\F0A0"; }\n\n.fa-heading:before {\n  content: "\\F1DC"; }\n\n.fa-headphones:before {\n  content: "\\F025"; }\n\n.fa-headphones-alt:before {\n  content: "\\F58F"; }\n\n.fa-headset:before {\n  content: "\\F590"; }\n\n.fa-heart:before {\n  content: "\\F004"; }\n\n.fa-heartbeat:before {\n  content: "\\F21E"; }\n\n.fa-helicopter:before {\n  content: "\\F533"; }\n\n.fa-highlighter:before {\n  content: "\\F591"; }\n\n.fa-hiking:before {\n  content: "\\F6EC"; }\n\n.fa-hippo:before {\n  content: "\\F6ED"; }\n\n.fa-hips:before {\n  content: "\\F452"; }\n\n.fa-hire-a-helper:before {\n  content: "\\F3B0"; }\n\n.fa-history:before {\n  content: "\\F1DA"; }\n\n.fa-hockey-puck:before {\n  content: "\\F453"; }\n\n.fa-home:before {\n  content: "\\F015"; }\n\n.fa-hooli:before {\n  content: "\\F427"; }\n\n.fa-hornbill:before {\n  content: "\\F592"; }\n\n.fa-horse:before {\n  content: "\\F6F0"; }\n\n.fa-hospital:before {\n  content: "\\F0F8"; }\n\n.fa-hospital-alt:before {\n  content: "\\F47D"; }\n\n.fa-hospital-symbol:before {\n  content: "\\F47E"; }\n\n.fa-hot-tub:before {\n  content: "\\F593"; }\n\n.fa-hotel:before {\n  content: "\\F594"; }\n\n.fa-hotjar:before {\n  content: "\\F3B1"; }\n\n.fa-hourglass:before {\n  content: "\\F254"; }\n\n.fa-hourglass-end:before {\n  content: "\\F253"; }\n\n.fa-hourglass-half:before {\n  content: "\\F252"; }\n\n.fa-hourglass-start:before {\n  content: "\\F251"; }\n\n.fa-house-damage:before {\n  content: "\\F6F1"; }\n\n.fa-houzz:before {\n  content: "\\F27C"; }\n\n.fa-hryvnia:before {\n  content: "\\F6F2"; }\n\n.fa-html5:before {\n  content: "\\F13B"; }\n\n.fa-hubspot:before {\n  content: "\\F3B2"; }\n\n.fa-i-cursor:before {\n  content: "\\F246"; }\n\n.fa-id-badge:before {\n  content: "\\F2C1"; }\n\n.fa-id-card:before {\n  content: "\\F2C2"; }\n\n.fa-id-card-alt:before {\n  content: "\\F47F"; }\n\n.fa-image:before {\n  content: "\\F03E"; }\n\n.fa-images:before {\n  content: "\\F302"; }\n\n.fa-imdb:before {\n  content: "\\F2D8"; }\n\n.fa-inbox:before {\n  content: "\\F01C"; }\n\n.fa-indent:before {\n  content: "\\F03C"; }\n\n.fa-industry:before {\n  content: "\\F275"; }\n\n.fa-infinity:before {\n  content: "\\F534"; }\n\n.fa-info:before {\n  content: "\\F129"; }\n\n.fa-info-circle:before {\n  content: "\\F05A"; }\n\n.fa-instagram:before {\n  content: "\\F16D"; }\n\n.fa-internet-explorer:before {\n  content: "\\F26B"; }\n\n.fa-ioxhost:before {\n  content: "\\F208"; }\n\n.fa-italic:before {\n  content: "\\F033"; }\n\n.fa-itunes:before {\n  content: "\\F3B4"; }\n\n.fa-itunes-note:before {\n  content: "\\F3B5"; }\n\n.fa-java:before {\n  content: "\\F4E4"; }\n\n.fa-jedi:before {\n  content: "\\F669"; }\n\n.fa-jedi-order:before {\n  content: "\\F50E"; }\n\n.fa-jenkins:before {\n  content: "\\F3B6"; }\n\n.fa-joget:before {\n  content: "\\F3B7"; }\n\n.fa-joint:before {\n  content: "\\F595"; }\n\n.fa-joomla:before {\n  content: "\\F1AA"; }\n\n.fa-journal-whills:before {\n  content: "\\F66A"; }\n\n.fa-js:before {\n  content: "\\F3B8"; }\n\n.fa-js-square:before {\n  content: "\\F3B9"; }\n\n.fa-jsfiddle:before {\n  content: "\\F1CC"; }\n\n.fa-kaaba:before {\n  content: "\\F66B"; }\n\n.fa-kaggle:before {\n  content: "\\F5FA"; }\n\n.fa-key:before {\n  content: "\\F084"; }\n\n.fa-keybase:before {\n  content: "\\F4F5"; }\n\n.fa-keyboard:before {\n  content: "\\F11C"; }\n\n.fa-keycdn:before {\n  content: "\\F3BA"; }\n\n.fa-khanda:before {\n  content: "\\F66D"; }\n\n.fa-kickstarter:before {\n  content: "\\F3BB"; }\n\n.fa-kickstarter-k:before {\n  content: "\\F3BC"; }\n\n.fa-kiss:before {\n  content: "\\F596"; }\n\n.fa-kiss-beam:before {\n  content: "\\F597"; }\n\n.fa-kiss-wink-heart:before {\n  content: "\\F598"; }\n\n.fa-kiwi-bird:before {\n  content: "\\F535"; }\n\n.fa-korvue:before {\n  content: "\\F42F"; }\n\n.fa-landmark:before {\n  content: "\\F66F"; }\n\n.fa-language:before {\n  content: "\\F1AB"; }\n\n.fa-laptop:before {\n  content: "\\F109"; }\n\n.fa-laptop-code:before {\n  content: "\\F5FC"; }\n\n.fa-laravel:before {\n  content: "\\F3BD"; }\n\n.fa-lastfm:before {\n  content: "\\F202"; }\n\n.fa-lastfm-square:before {\n  content: "\\F203"; }\n\n.fa-laugh:before {\n  content: "\\F599"; }\n\n.fa-laugh-beam:before {\n  content: "\\F59A"; }\n\n.fa-laugh-squint:before {\n  content: "\\F59B"; }\n\n.fa-laugh-wink:before {\n  content: "\\F59C"; }\n\n.fa-layer-group:before {\n  content: "\\F5FD"; }\n\n.fa-leaf:before {\n  content: "\\F06C"; }\n\n.fa-leanpub:before {\n  content: "\\F212"; }\n\n.fa-lemon:before {\n  content: "\\F094"; }\n\n.fa-less:before {\n  content: "\\F41D"; }\n\n.fa-less-than:before {\n  content: "\\F536"; }\n\n.fa-less-than-equal:before {\n  content: "\\F537"; }\n\n.fa-level-down-alt:before {\n  content: "\\F3BE"; }\n\n.fa-level-up-alt:before {\n  content: "\\F3BF"; }\n\n.fa-life-ring:before {\n  content: "\\F1CD"; }\n\n.fa-lightbulb:before {\n  content: "\\F0EB"; }\n\n.fa-line:before {\n  content: "\\F3C0"; }\n\n.fa-link:before {\n  content: "\\F0C1"; }\n\n.fa-linkedin:before {\n  content: "\\F08C"; }\n\n.fa-linkedin-in:before {\n  content: "\\F0E1"; }\n\n.fa-linode:before {\n  content: "\\F2B8"; }\n\n.fa-linux:before {\n  content: "\\F17C"; }\n\n.fa-lira-sign:before {\n  content: "\\F195"; }\n\n.fa-list:before {\n  content: "\\F03A"; }\n\n.fa-list-alt:before {\n  content: "\\F022"; }\n\n.fa-list-ol:before {\n  content: "\\F0CB"; }\n\n.fa-list-ul:before {\n  content: "\\F0CA"; }\n\n.fa-location-arrow:before {\n  content: "\\F124"; }\n\n.fa-lock:before {\n  content: "\\F023"; }\n\n.fa-lock-open:before {\n  content: "\\F3C1"; }\n\n.fa-long-arrow-alt-down:before {\n  content: "\\F309"; }\n\n.fa-long-arrow-alt-left:before {\n  content: "\\F30A"; }\n\n.fa-long-arrow-alt-right:before {\n  content: "\\F30B"; }\n\n.fa-long-arrow-alt-up:before {\n  content: "\\F30C"; }\n\n.fa-low-vision:before {\n  content: "\\F2A8"; }\n\n.fa-luggage-cart:before {\n  content: "\\F59D"; }\n\n.fa-lyft:before {\n  content: "\\F3C3"; }\n\n.fa-magento:before {\n  content: "\\F3C4"; }\n\n.fa-magic:before {\n  content: "\\F0D0"; }\n\n.fa-magnet:before {\n  content: "\\F076"; }\n\n.fa-mail-bulk:before {\n  content: "\\F674"; }\n\n.fa-mailchimp:before {\n  content: "\\F59E"; }\n\n.fa-male:before {\n  content: "\\F183"; }\n\n.fa-mandalorian:before {\n  content: "\\F50F"; }\n\n.fa-map:before {\n  content: "\\F279"; }\n\n.fa-map-marked:before {\n  content: "\\F59F"; }\n\n.fa-map-marked-alt:before {\n  content: "\\F5A0"; }\n\n.fa-map-marker:before {\n  content: "\\F041"; }\n\n.fa-map-marker-alt:before {\n  content: "\\F3C5"; }\n\n.fa-map-pin:before {\n  content: "\\F276"; }\n\n.fa-map-signs:before {\n  content: "\\F277"; }\n\n.fa-markdown:before {\n  content: "\\F60F"; }\n\n.fa-marker:before {\n  content: "\\F5A1"; }\n\n.fa-mars:before {\n  content: "\\F222"; }\n\n.fa-mars-double:before {\n  content: "\\F227"; }\n\n.fa-mars-stroke:before {\n  content: "\\F229"; }\n\n.fa-mars-stroke-h:before {\n  content: "\\F22B"; }\n\n.fa-mars-stroke-v:before {\n  content: "\\F22A"; }\n\n.fa-mask:before {\n  content: "\\F6FA"; }\n\n.fa-mastodon:before {\n  content: "\\F4F6"; }\n\n.fa-maxcdn:before {\n  content: "\\F136"; }\n\n.fa-medal:before {\n  content: "\\F5A2"; }\n\n.fa-medapps:before {\n  content: "\\F3C6"; }\n\n.fa-medium:before {\n  content: "\\F23A"; }\n\n.fa-medium-m:before {\n  content: "\\F3C7"; }\n\n.fa-medkit:before {\n  content: "\\F0FA"; }\n\n.fa-medrt:before {\n  content: "\\F3C8"; }\n\n.fa-meetup:before {\n  content: "\\F2E0"; }\n\n.fa-megaport:before {\n  content: "\\F5A3"; }\n\n.fa-meh:before {\n  content: "\\F11A"; }\n\n.fa-meh-blank:before {\n  content: "\\F5A4"; }\n\n.fa-meh-rolling-eyes:before {\n  content: "\\F5A5"; }\n\n.fa-memory:before {\n  content: "\\F538"; }\n\n.fa-menorah:before {\n  content: "\\F676"; }\n\n.fa-mercury:before {\n  content: "\\F223"; }\n\n.fa-meteor:before {\n  content: "\\F753"; }\n\n.fa-microchip:before {\n  content: "\\F2DB"; }\n\n.fa-microphone:before {\n  content: "\\F130"; }\n\n.fa-microphone-alt:before {\n  content: "\\F3C9"; }\n\n.fa-microphone-alt-slash:before {\n  content: "\\F539"; }\n\n.fa-microphone-slash:before {\n  content: "\\F131"; }\n\n.fa-microscope:before {\n  content: "\\F610"; }\n\n.fa-microsoft:before {\n  content: "\\F3CA"; }\n\n.fa-minus:before {\n  content: "\\F068"; }\n\n.fa-minus-circle:before {\n  content: "\\F056"; }\n\n.fa-minus-square:before {\n  content: "\\F146"; }\n\n.fa-mix:before {\n  content: "\\F3CB"; }\n\n.fa-mixcloud:before {\n  content: "\\F289"; }\n\n.fa-mizuni:before {\n  content: "\\F3CC"; }\n\n.fa-mobile:before {\n  content: "\\F10B"; }\n\n.fa-mobile-alt:before {\n  content: "\\F3CD"; }\n\n.fa-modx:before {\n  content: "\\F285"; }\n\n.fa-monero:before {\n  content: "\\F3D0"; }\n\n.fa-money-bill:before {\n  content: "\\F0D6"; }\n\n.fa-money-bill-alt:before {\n  content: "\\F3D1"; }\n\n.fa-money-bill-wave:before {\n  content: "\\F53A"; }\n\n.fa-money-bill-wave-alt:before {\n  content: "\\F53B"; }\n\n.fa-money-check:before {\n  content: "\\F53C"; }\n\n.fa-money-check-alt:before {\n  content: "\\F53D"; }\n\n.fa-monument:before {\n  content: "\\F5A6"; }\n\n.fa-moon:before {\n  content: "\\F186"; }\n\n.fa-mortar-pestle:before {\n  content: "\\F5A7"; }\n\n.fa-mosque:before {\n  content: "\\F678"; }\n\n.fa-motorcycle:before {\n  content: "\\F21C"; }\n\n.fa-mountain:before {\n  content: "\\F6FC"; }\n\n.fa-mouse-pointer:before {\n  content: "\\F245"; }\n\n.fa-music:before {\n  content: "\\F001"; }\n\n.fa-napster:before {\n  content: "\\F3D2"; }\n\n.fa-neos:before {\n  content: "\\F612"; }\n\n.fa-network-wired:before {\n  content: "\\F6FF"; }\n\n.fa-neuter:before {\n  content: "\\F22C"; }\n\n.fa-newspaper:before {\n  content: "\\F1EA"; }\n\n.fa-nimblr:before {\n  content: "\\F5A8"; }\n\n.fa-nintendo-switch:before {\n  content: "\\F418"; }\n\n.fa-node:before {\n  content: "\\F419"; }\n\n.fa-node-js:before {\n  content: "\\F3D3"; }\n\n.fa-not-equal:before {\n  content: "\\F53E"; }\n\n.fa-notes-medical:before {\n  content: "\\F481"; }\n\n.fa-npm:before {\n  content: "\\F3D4"; }\n\n.fa-ns8:before {\n  content: "\\F3D5"; }\n\n.fa-nutritionix:before {\n  content: "\\F3D6"; }\n\n.fa-object-group:before {\n  content: "\\F247"; }\n\n.fa-object-ungroup:before {\n  content: "\\F248"; }\n\n.fa-odnoklassniki:before {\n  content: "\\F263"; }\n\n.fa-odnoklassniki-square:before {\n  content: "\\F264"; }\n\n.fa-oil-can:before {\n  content: "\\F613"; }\n\n.fa-old-republic:before {\n  content: "\\F510"; }\n\n.fa-om:before {\n  content: "\\F679"; }\n\n.fa-opencart:before {\n  content: "\\F23D"; }\n\n.fa-openid:before {\n  content: "\\F19B"; }\n\n.fa-opera:before {\n  content: "\\F26A"; }\n\n.fa-optin-monster:before {\n  content: "\\F23C"; }\n\n.fa-osi:before {\n  content: "\\F41A"; }\n\n.fa-otter:before {\n  content: "\\F700"; }\n\n.fa-outdent:before {\n  content: "\\F03B"; }\n\n.fa-page4:before {\n  content: "\\F3D7"; }\n\n.fa-pagelines:before {\n  content: "\\F18C"; }\n\n.fa-paint-brush:before {\n  content: "\\F1FC"; }\n\n.fa-paint-roller:before {\n  content: "\\F5AA"; }\n\n.fa-palette:before {\n  content: "\\F53F"; }\n\n.fa-palfed:before {\n  content: "\\F3D8"; }\n\n.fa-pallet:before {\n  content: "\\F482"; }\n\n.fa-paper-plane:before {\n  content: "\\F1D8"; }\n\n.fa-paperclip:before {\n  content: "\\F0C6"; }\n\n.fa-parachute-box:before {\n  content: "\\F4CD"; }\n\n.fa-paragraph:before {\n  content: "\\F1DD"; }\n\n.fa-parking:before {\n  content: "\\F540"; }\n\n.fa-passport:before {\n  content: "\\F5AB"; }\n\n.fa-pastafarianism:before {\n  content: "\\F67B"; }\n\n.fa-paste:before {\n  content: "\\F0EA"; }\n\n.fa-patreon:before {\n  content: "\\F3D9"; }\n\n.fa-pause:before {\n  content: "\\F04C"; }\n\n.fa-pause-circle:before {\n  content: "\\F28B"; }\n\n.fa-paw:before {\n  content: "\\F1B0"; }\n\n.fa-paypal:before {\n  content: "\\F1ED"; }\n\n.fa-peace:before {\n  content: "\\F67C"; }\n\n.fa-pen:before {\n  content: "\\F304"; }\n\n.fa-pen-alt:before {\n  content: "\\F305"; }\n\n.fa-pen-fancy:before {\n  content: "\\F5AC"; }\n\n.fa-pen-nib:before {\n  content: "\\F5AD"; }\n\n.fa-pen-square:before {\n  content: "\\F14B"; }\n\n.fa-pencil-alt:before {\n  content: "\\F303"; }\n\n.fa-pencil-ruler:before {\n  content: "\\F5AE"; }\n\n.fa-penny-arcade:before {\n  content: "\\F704"; }\n\n.fa-people-carry:before {\n  content: "\\F4CE"; }\n\n.fa-percent:before {\n  content: "\\F295"; }\n\n.fa-percentage:before {\n  content: "\\F541"; }\n\n.fa-periscope:before {\n  content: "\\F3DA"; }\n\n.fa-person-booth:before {\n  content: "\\F756"; }\n\n.fa-phabricator:before {\n  content: "\\F3DB"; }\n\n.fa-phoenix-framework:before {\n  content: "\\F3DC"; }\n\n.fa-phoenix-squadron:before {\n  content: "\\F511"; }\n\n.fa-phone:before {\n  content: "\\F095"; }\n\n.fa-phone-slash:before {\n  content: "\\F3DD"; }\n\n.fa-phone-square:before {\n  content: "\\F098"; }\n\n.fa-phone-volume:before {\n  content: "\\F2A0"; }\n\n.fa-php:before {\n  content: "\\F457"; }\n\n.fa-pied-piper:before {\n  content: "\\F2AE"; }\n\n.fa-pied-piper-alt:before {\n  content: "\\F1A8"; }\n\n.fa-pied-piper-hat:before {\n  content: "\\F4E5"; }\n\n.fa-pied-piper-pp:before {\n  content: "\\F1A7"; }\n\n.fa-piggy-bank:before {\n  content: "\\F4D3"; }\n\n.fa-pills:before {\n  content: "\\F484"; }\n\n.fa-pinterest:before {\n  content: "\\F0D2"; }\n\n.fa-pinterest-p:before {\n  content: "\\F231"; }\n\n.fa-pinterest-square:before {\n  content: "\\F0D3"; }\n\n.fa-place-of-worship:before {\n  content: "\\F67F"; }\n\n.fa-plane:before {\n  content: "\\F072"; }\n\n.fa-plane-arrival:before {\n  content: "\\F5AF"; }\n\n.fa-plane-departure:before {\n  content: "\\F5B0"; }\n\n.fa-play:before {\n  content: "\\F04B"; }\n\n.fa-play-circle:before {\n  content: "\\F144"; }\n\n.fa-playstation:before {\n  content: "\\F3DF"; }\n\n.fa-plug:before {\n  content: "\\F1E6"; }\n\n.fa-plus:before {\n  content: "\\F067"; }\n\n.fa-plus-circle:before {\n  content: "\\F055"; }\n\n.fa-plus-square:before {\n  content: "\\F0FE"; }\n\n.fa-podcast:before {\n  content: "\\F2CE"; }\n\n.fa-poll:before {\n  content: "\\F681"; }\n\n.fa-poll-h:before {\n  content: "\\F682"; }\n\n.fa-poo:before {\n  content: "\\F2FE"; }\n\n.fa-poo-storm:before {\n  content: "\\F75A"; }\n\n.fa-poop:before {\n  content: "\\F619"; }\n\n.fa-portrait:before {\n  content: "\\F3E0"; }\n\n.fa-pound-sign:before {\n  content: "\\F154"; }\n\n.fa-power-off:before {\n  content: "\\F011"; }\n\n.fa-pray:before {\n  content: "\\F683"; }\n\n.fa-praying-hands:before {\n  content: "\\F684"; }\n\n.fa-prescription:before {\n  content: "\\F5B1"; }\n\n.fa-prescription-bottle:before {\n  content: "\\F485"; }\n\n.fa-prescription-bottle-alt:before {\n  content: "\\F486"; }\n\n.fa-print:before {\n  content: "\\F02F"; }\n\n.fa-procedures:before {\n  content: "\\F487"; }\n\n.fa-product-hunt:before {\n  content: "\\F288"; }\n\n.fa-project-diagram:before {\n  content: "\\F542"; }\n\n.fa-pushed:before {\n  content: "\\F3E1"; }\n\n.fa-puzzle-piece:before {\n  content: "\\F12E"; }\n\n.fa-python:before {\n  content: "\\F3E2"; }\n\n.fa-qq:before {\n  content: "\\F1D6"; }\n\n.fa-qrcode:before {\n  content: "\\F029"; }\n\n.fa-question:before {\n  content: "\\F128"; }\n\n.fa-question-circle:before {\n  content: "\\F059"; }\n\n.fa-quidditch:before {\n  content: "\\F458"; }\n\n.fa-quinscape:before {\n  content: "\\F459"; }\n\n.fa-quora:before {\n  content: "\\F2C4"; }\n\n.fa-quote-left:before {\n  content: "\\F10D"; }\n\n.fa-quote-right:before {\n  content: "\\F10E"; }\n\n.fa-quran:before {\n  content: "\\F687"; }\n\n.fa-r-project:before {\n  content: "\\F4F7"; }\n\n.fa-rainbow:before {\n  content: "\\F75B"; }\n\n.fa-random:before {\n  content: "\\F074"; }\n\n.fa-ravelry:before {\n  content: "\\F2D9"; }\n\n.fa-react:before {\n  content: "\\F41B"; }\n\n.fa-reacteurope:before {\n  content: "\\F75D"; }\n\n.fa-readme:before {\n  content: "\\F4D5"; }\n\n.fa-rebel:before {\n  content: "\\F1D0"; }\n\n.fa-receipt:before {\n  content: "\\F543"; }\n\n.fa-recycle:before {\n  content: "\\F1B8"; }\n\n.fa-red-river:before {\n  content: "\\F3E3"; }\n\n.fa-reddit:before {\n  content: "\\F1A1"; }\n\n.fa-reddit-alien:before {\n  content: "\\F281"; }\n\n.fa-reddit-square:before {\n  content: "\\F1A2"; }\n\n.fa-redo:before {\n  content: "\\F01E"; }\n\n.fa-redo-alt:before {\n  content: "\\F2F9"; }\n\n.fa-registered:before {\n  content: "\\F25D"; }\n\n.fa-renren:before {\n  content: "\\F18B"; }\n\n.fa-reply:before {\n  content: "\\F3E5"; }\n\n.fa-reply-all:before {\n  content: "\\F122"; }\n\n.fa-replyd:before {\n  content: "\\F3E6"; }\n\n.fa-republican:before {\n  content: "\\F75E"; }\n\n.fa-researchgate:before {\n  content: "\\F4F8"; }\n\n.fa-resolving:before {\n  content: "\\F3E7"; }\n\n.fa-retweet:before {\n  content: "\\F079"; }\n\n.fa-rev:before {\n  content: "\\F5B2"; }\n\n.fa-ribbon:before {\n  content: "\\F4D6"; }\n\n.fa-ring:before {\n  content: "\\F70B"; }\n\n.fa-road:before {\n  content: "\\F018"; }\n\n.fa-robot:before {\n  content: "\\F544"; }\n\n.fa-rocket:before {\n  content: "\\F135"; }\n\n.fa-rocketchat:before {\n  content: "\\F3E8"; }\n\n.fa-rockrms:before {\n  content: "\\F3E9"; }\n\n.fa-route:before {\n  content: "\\F4D7"; }\n\n.fa-rss:before {\n  content: "\\F09E"; }\n\n.fa-rss-square:before {\n  content: "\\F143"; }\n\n.fa-ruble-sign:before {\n  content: "\\F158"; }\n\n.fa-ruler:before {\n  content: "\\F545"; }\n\n.fa-ruler-combined:before {\n  content: "\\F546"; }\n\n.fa-ruler-horizontal:before {\n  content: "\\F547"; }\n\n.fa-ruler-vertical:before {\n  content: "\\F548"; }\n\n.fa-running:before {\n  content: "\\F70C"; }\n\n.fa-rupee-sign:before {\n  content: "\\F156"; }\n\n.fa-sad-cry:before {\n  content: "\\F5B3"; }\n\n.fa-sad-tear:before {\n  content: "\\F5B4"; }\n\n.fa-safari:before {\n  content: "\\F267"; }\n\n.fa-sass:before {\n  content: "\\F41E"; }\n\n.fa-save:before {\n  content: "\\F0C7"; }\n\n.fa-schlix:before {\n  content: "\\F3EA"; }\n\n.fa-school:before {\n  content: "\\F549"; }\n\n.fa-screwdriver:before {\n  content: "\\F54A"; }\n\n.fa-scribd:before {\n  content: "\\F28A"; }\n\n.fa-scroll:before {\n  content: "\\F70E"; }\n\n.fa-search:before {\n  content: "\\F002"; }\n\n.fa-search-dollar:before {\n  content: "\\F688"; }\n\n.fa-search-location:before {\n  content: "\\F689"; }\n\n.fa-search-minus:before {\n  content: "\\F010"; }\n\n.fa-search-plus:before {\n  content: "\\F00E"; }\n\n.fa-searchengin:before {\n  content: "\\F3EB"; }\n\n.fa-seedling:before {\n  content: "\\F4D8"; }\n\n.fa-sellcast:before {\n  content: "\\F2DA"; }\n\n.fa-sellsy:before {\n  content: "\\F213"; }\n\n.fa-server:before {\n  content: "\\F233"; }\n\n.fa-servicestack:before {\n  content: "\\F3EC"; }\n\n.fa-shapes:before {\n  content: "\\F61F"; }\n\n.fa-share:before {\n  content: "\\F064"; }\n\n.fa-share-alt:before {\n  content: "\\F1E0"; }\n\n.fa-share-alt-square:before {\n  content: "\\F1E1"; }\n\n.fa-share-square:before {\n  content: "\\F14D"; }\n\n.fa-shekel-sign:before {\n  content: "\\F20B"; }\n\n.fa-shield-alt:before {\n  content: "\\F3ED"; }\n\n.fa-ship:before {\n  content: "\\F21A"; }\n\n.fa-shipping-fast:before {\n  content: "\\F48B"; }\n\n.fa-shirtsinbulk:before {\n  content: "\\F214"; }\n\n.fa-shoe-prints:before {\n  content: "\\F54B"; }\n\n.fa-shopping-bag:before {\n  content: "\\F290"; }\n\n.fa-shopping-basket:before {\n  content: "\\F291"; }\n\n.fa-shopping-cart:before {\n  content: "\\F07A"; }\n\n.fa-shopware:before {\n  content: "\\F5B5"; }\n\n.fa-shower:before {\n  content: "\\F2CC"; }\n\n.fa-shuttle-van:before {\n  content: "\\F5B6"; }\n\n.fa-sign:before {\n  content: "\\F4D9"; }\n\n.fa-sign-in-alt:before {\n  content: "\\F2F6"; }\n\n.fa-sign-language:before {\n  content: "\\F2A7"; }\n\n.fa-sign-out-alt:before {\n  content: "\\F2F5"; }\n\n.fa-signal:before {\n  content: "\\F012"; }\n\n.fa-signature:before {\n  content: "\\F5B7"; }\n\n.fa-simplybuilt:before {\n  content: "\\F215"; }\n\n.fa-sistrix:before {\n  content: "\\F3EE"; }\n\n.fa-sitemap:before {\n  content: "\\F0E8"; }\n\n.fa-sith:before {\n  content: "\\F512"; }\n\n.fa-skull:before {\n  content: "\\F54C"; }\n\n.fa-skull-crossbones:before {\n  content: "\\F714"; }\n\n.fa-skyatlas:before {\n  content: "\\F216"; }\n\n.fa-skype:before {\n  content: "\\F17E"; }\n\n.fa-slack:before {\n  content: "\\F198"; }\n\n.fa-slack-hash:before {\n  content: "\\F3EF"; }\n\n.fa-slash:before {\n  content: "\\F715"; }\n\n.fa-sliders-h:before {\n  content: "\\F1DE"; }\n\n.fa-slideshare:before {\n  content: "\\F1E7"; }\n\n.fa-smile:before {\n  content: "\\F118"; }\n\n.fa-smile-beam:before {\n  content: "\\F5B8"; }\n\n.fa-smile-wink:before {\n  content: "\\F4DA"; }\n\n.fa-smog:before {\n  content: "\\F75F"; }\n\n.fa-smoking:before {\n  content: "\\F48D"; }\n\n.fa-smoking-ban:before {\n  content: "\\F54D"; }\n\n.fa-snapchat:before {\n  content: "\\F2AB"; }\n\n.fa-snapchat-ghost:before {\n  content: "\\F2AC"; }\n\n.fa-snapchat-square:before {\n  content: "\\F2AD"; }\n\n.fa-snowflake:before {\n  content: "\\F2DC"; }\n\n.fa-socks:before {\n  content: "\\F696"; }\n\n.fa-solar-panel:before {\n  content: "\\F5BA"; }\n\n.fa-sort:before {\n  content: "\\F0DC"; }\n\n.fa-sort-alpha-down:before {\n  content: "\\F15D"; }\n\n.fa-sort-alpha-up:before {\n  content: "\\F15E"; }\n\n.fa-sort-amount-down:before {\n  content: "\\F160"; }\n\n.fa-sort-amount-up:before {\n  content: "\\F161"; }\n\n.fa-sort-down:before {\n  content: "\\F0DD"; }\n\n.fa-sort-numeric-down:before {\n  content: "\\F162"; }\n\n.fa-sort-numeric-up:before {\n  content: "\\F163"; }\n\n.fa-sort-up:before {\n  content: "\\F0DE"; }\n\n.fa-soundcloud:before {\n  content: "\\F1BE"; }\n\n.fa-spa:before {\n  content: "\\F5BB"; }\n\n.fa-space-shuttle:before {\n  content: "\\F197"; }\n\n.fa-speakap:before {\n  content: "\\F3F3"; }\n\n.fa-spider:before {\n  content: "\\F717"; }\n\n.fa-spinner:before {\n  content: "\\F110"; }\n\n.fa-splotch:before {\n  content: "\\F5BC"; }\n\n.fa-spotify:before {\n  content: "\\F1BC"; }\n\n.fa-spray-can:before {\n  content: "\\F5BD"; }\n\n.fa-square:before {\n  content: "\\F0C8"; }\n\n.fa-square-full:before {\n  content: "\\F45C"; }\n\n.fa-square-root-alt:before {\n  content: "\\F698"; }\n\n.fa-squarespace:before {\n  content: "\\F5BE"; }\n\n.fa-stack-exchange:before {\n  content: "\\F18D"; }\n\n.fa-stack-overflow:before {\n  content: "\\F16C"; }\n\n.fa-stamp:before {\n  content: "\\F5BF"; }\n\n.fa-star:before {\n  content: "\\F005"; }\n\n.fa-star-and-crescent:before {\n  content: "\\F699"; }\n\n.fa-star-half:before {\n  content: "\\F089"; }\n\n.fa-star-half-alt:before {\n  content: "\\F5C0"; }\n\n.fa-star-of-david:before {\n  content: "\\F69A"; }\n\n.fa-star-of-life:before {\n  content: "\\F621"; }\n\n.fa-staylinked:before {\n  content: "\\F3F5"; }\n\n.fa-steam:before {\n  content: "\\F1B6"; }\n\n.fa-steam-square:before {\n  content: "\\F1B7"; }\n\n.fa-steam-symbol:before {\n  content: "\\F3F6"; }\n\n.fa-step-backward:before {\n  content: "\\F048"; }\n\n.fa-step-forward:before {\n  content: "\\F051"; }\n\n.fa-stethoscope:before {\n  content: "\\F0F1"; }\n\n.fa-sticker-mule:before {\n  content: "\\F3F7"; }\n\n.fa-sticky-note:before {\n  content: "\\F249"; }\n\n.fa-stop:before {\n  content: "\\F04D"; }\n\n.fa-stop-circle:before {\n  content: "\\F28D"; }\n\n.fa-stopwatch:before {\n  content: "\\F2F2"; }\n\n.fa-store:before {\n  content: "\\F54E"; }\n\n.fa-store-alt:before {\n  content: "\\F54F"; }\n\n.fa-strava:before {\n  content: "\\F428"; }\n\n.fa-stream:before {\n  content: "\\F550"; }\n\n.fa-street-view:before {\n  content: "\\F21D"; }\n\n.fa-strikethrough:before {\n  content: "\\F0CC"; }\n\n.fa-stripe:before {\n  content: "\\F429"; }\n\n.fa-stripe-s:before {\n  content: "\\F42A"; }\n\n.fa-stroopwafel:before {\n  content: "\\F551"; }\n\n.fa-studiovinari:before {\n  content: "\\F3F8"; }\n\n.fa-stumbleupon:before {\n  content: "\\F1A4"; }\n\n.fa-stumbleupon-circle:before {\n  content: "\\F1A3"; }\n\n.fa-subscript:before {\n  content: "\\F12C"; }\n\n.fa-subway:before {\n  content: "\\F239"; }\n\n.fa-suitcase:before {\n  content: "\\F0F2"; }\n\n.fa-suitcase-rolling:before {\n  content: "\\F5C1"; }\n\n.fa-sun:before {\n  content: "\\F185"; }\n\n.fa-superpowers:before {\n  content: "\\F2DD"; }\n\n.fa-superscript:before {\n  content: "\\F12B"; }\n\n.fa-supple:before {\n  content: "\\F3F9"; }\n\n.fa-surprise:before {\n  content: "\\F5C2"; }\n\n.fa-swatchbook:before {\n  content: "\\F5C3"; }\n\n.fa-swimmer:before {\n  content: "\\F5C4"; }\n\n.fa-swimming-pool:before {\n  content: "\\F5C5"; }\n\n.fa-synagogue:before {\n  content: "\\F69B"; }\n\n.fa-sync:before {\n  content: "\\F021"; }\n\n.fa-sync-alt:before {\n  content: "\\F2F1"; }\n\n.fa-syringe:before {\n  content: "\\F48E"; }\n\n.fa-table:before {\n  content: "\\F0CE"; }\n\n.fa-table-tennis:before {\n  content: "\\F45D"; }\n\n.fa-tablet:before {\n  content: "\\F10A"; }\n\n.fa-tablet-alt:before {\n  content: "\\F3FA"; }\n\n.fa-tablets:before {\n  content: "\\F490"; }\n\n.fa-tachometer-alt:before {\n  content: "\\F3FD"; }\n\n.fa-tag:before {\n  content: "\\F02B"; }\n\n.fa-tags:before {\n  content: "\\F02C"; }\n\n.fa-tape:before {\n  content: "\\F4DB"; }\n\n.fa-tasks:before {\n  content: "\\F0AE"; }\n\n.fa-taxi:before {\n  content: "\\F1BA"; }\n\n.fa-teamspeak:before {\n  content: "\\F4F9"; }\n\n.fa-teeth:before {\n  content: "\\F62E"; }\n\n.fa-teeth-open:before {\n  content: "\\F62F"; }\n\n.fa-telegram:before {\n  content: "\\F2C6"; }\n\n.fa-telegram-plane:before {\n  content: "\\F3FE"; }\n\n.fa-temperature-high:before {\n  content: "\\F769"; }\n\n.fa-temperature-low:before {\n  content: "\\F76B"; }\n\n.fa-tencent-weibo:before {\n  content: "\\F1D5"; }\n\n.fa-terminal:before {\n  content: "\\F120"; }\n\n.fa-text-height:before {\n  content: "\\F034"; }\n\n.fa-text-width:before {\n  content: "\\F035"; }\n\n.fa-th:before {\n  content: "\\F00A"; }\n\n.fa-th-large:before {\n  content: "\\F009"; }\n\n.fa-th-list:before {\n  content: "\\F00B"; }\n\n.fa-the-red-yeti:before {\n  content: "\\F69D"; }\n\n.fa-theater-masks:before {\n  content: "\\F630"; }\n\n.fa-themeco:before {\n  content: "\\F5C6"; }\n\n.fa-themeisle:before {\n  content: "\\F2B2"; }\n\n.fa-thermometer:before {\n  content: "\\F491"; }\n\n.fa-thermometer-empty:before {\n  content: "\\F2CB"; }\n\n.fa-thermometer-full:before {\n  content: "\\F2C7"; }\n\n.fa-thermometer-half:before {\n  content: "\\F2C9"; }\n\n.fa-thermometer-quarter:before {\n  content: "\\F2CA"; }\n\n.fa-thermometer-three-quarters:before {\n  content: "\\F2C8"; }\n\n.fa-think-peaks:before {\n  content: "\\F731"; }\n\n.fa-thumbs-down:before {\n  content: "\\F165"; }\n\n.fa-thumbs-up:before {\n  content: "\\F164"; }\n\n.fa-thumbtack:before {\n  content: "\\F08D"; }\n\n.fa-ticket-alt:before {\n  content: "\\F3FF"; }\n\n.fa-times:before {\n  content: "\\F00D"; }\n\n.fa-times-circle:before {\n  content: "\\F057"; }\n\n.fa-tint:before {\n  content: "\\F043"; }\n\n.fa-tint-slash:before {\n  content: "\\F5C7"; }\n\n.fa-tired:before {\n  content: "\\F5C8"; }\n\n.fa-toggle-off:before {\n  content: "\\F204"; }\n\n.fa-toggle-on:before {\n  content: "\\F205"; }\n\n.fa-toilet-paper:before {\n  content: "\\F71E"; }\n\n.fa-toolbox:before {\n  content: "\\F552"; }\n\n.fa-tooth:before {\n  content: "\\F5C9"; }\n\n.fa-torah:before {\n  content: "\\F6A0"; }\n\n.fa-torii-gate:before {\n  content: "\\F6A1"; }\n\n.fa-tractor:before {\n  content: "\\F722"; }\n\n.fa-trade-federation:before {\n  content: "\\F513"; }\n\n.fa-trademark:before {\n  content: "\\F25C"; }\n\n.fa-traffic-light:before {\n  content: "\\F637"; }\n\n.fa-train:before {\n  content: "\\F238"; }\n\n.fa-transgender:before {\n  content: "\\F224"; }\n\n.fa-transgender-alt:before {\n  content: "\\F225"; }\n\n.fa-trash:before {\n  content: "\\F1F8"; }\n\n.fa-trash-alt:before {\n  content: "\\F2ED"; }\n\n.fa-tree:before {\n  content: "\\F1BB"; }\n\n.fa-trello:before {\n  content: "\\F181"; }\n\n.fa-tripadvisor:before {\n  content: "\\F262"; }\n\n.fa-trophy:before {\n  content: "\\F091"; }\n\n.fa-truck:before {\n  content: "\\F0D1"; }\n\n.fa-truck-loading:before {\n  content: "\\F4DE"; }\n\n.fa-truck-monster:before {\n  content: "\\F63B"; }\n\n.fa-truck-moving:before {\n  content: "\\F4DF"; }\n\n.fa-truck-pickup:before {\n  content: "\\F63C"; }\n\n.fa-tshirt:before {\n  content: "\\F553"; }\n\n.fa-tty:before {\n  content: "\\F1E4"; }\n\n.fa-tumblr:before {\n  content: "\\F173"; }\n\n.fa-tumblr-square:before {\n  content: "\\F174"; }\n\n.fa-tv:before {\n  content: "\\F26C"; }\n\n.fa-twitch:before {\n  content: "\\F1E8"; }\n\n.fa-twitter:before {\n  content: "\\F099"; }\n\n.fa-twitter-square:before {\n  content: "\\F081"; }\n\n.fa-typo3:before {\n  content: "\\F42B"; }\n\n.fa-uber:before {\n  content: "\\F402"; }\n\n.fa-uikit:before {\n  content: "\\F403"; }\n\n.fa-umbrella:before {\n  content: "\\F0E9"; }\n\n.fa-umbrella-beach:before {\n  content: "\\F5CA"; }\n\n.fa-underline:before {\n  content: "\\F0CD"; }\n\n.fa-undo:before {\n  content: "\\F0E2"; }\n\n.fa-undo-alt:before {\n  content: "\\F2EA"; }\n\n.fa-uniregistry:before {\n  content: "\\F404"; }\n\n.fa-universal-access:before {\n  content: "\\F29A"; }\n\n.fa-university:before {\n  content: "\\F19C"; }\n\n.fa-unlink:before {\n  content: "\\F127"; }\n\n.fa-unlock:before {\n  content: "\\F09C"; }\n\n.fa-unlock-alt:before {\n  content: "\\F13E"; }\n\n.fa-untappd:before {\n  content: "\\F405"; }\n\n.fa-upload:before {\n  content: "\\F093"; }\n\n.fa-usb:before {\n  content: "\\F287"; }\n\n.fa-user:before {\n  content: "\\F007"; }\n\n.fa-user-alt:before {\n  content: "\\F406"; }\n\n.fa-user-alt-slash:before {\n  content: "\\F4FA"; }\n\n.fa-user-astronaut:before {\n  content: "\\F4FB"; }\n\n.fa-user-check:before {\n  content: "\\F4FC"; }\n\n.fa-user-circle:before {\n  content: "\\F2BD"; }\n\n.fa-user-clock:before {\n  content: "\\F4FD"; }\n\n.fa-user-cog:before {\n  content: "\\F4FE"; }\n\n.fa-user-edit:before {\n  content: "\\F4FF"; }\n\n.fa-user-friends:before {\n  content: "\\F500"; }\n\n.fa-user-graduate:before {\n  content: "\\F501"; }\n\n.fa-user-injured:before {\n  content: "\\F728"; }\n\n.fa-user-lock:before {\n  content: "\\F502"; }\n\n.fa-user-md:before {\n  content: "\\F0F0"; }\n\n.fa-user-minus:before {\n  content: "\\F503"; }\n\n.fa-user-ninja:before {\n  content: "\\F504"; }\n\n.fa-user-plus:before {\n  content: "\\F234"; }\n\n.fa-user-secret:before {\n  content: "\\F21B"; }\n\n.fa-user-shield:before {\n  content: "\\F505"; }\n\n.fa-user-slash:before {\n  content: "\\F506"; }\n\n.fa-user-tag:before {\n  content: "\\F507"; }\n\n.fa-user-tie:before {\n  content: "\\F508"; }\n\n.fa-user-times:before {\n  content: "\\F235"; }\n\n.fa-users:before {\n  content: "\\F0C0"; }\n\n.fa-users-cog:before {\n  content: "\\F509"; }\n\n.fa-ussunnah:before {\n  content: "\\F407"; }\n\n.fa-utensil-spoon:before {\n  content: "\\F2E5"; }\n\n.fa-utensils:before {\n  content: "\\F2E7"; }\n\n.fa-vaadin:before {\n  content: "\\F408"; }\n\n.fa-vector-square:before {\n  content: "\\F5CB"; }\n\n.fa-venus:before {\n  content: "\\F221"; }\n\n.fa-venus-double:before {\n  content: "\\F226"; }\n\n.fa-venus-mars:before {\n  content: "\\F228"; }\n\n.fa-viacoin:before {\n  content: "\\F237"; }\n\n.fa-viadeo:before {\n  content: "\\F2A9"; }\n\n.fa-viadeo-square:before {\n  content: "\\F2AA"; }\n\n.fa-vial:before {\n  content: "\\F492"; }\n\n.fa-vials:before {\n  content: "\\F493"; }\n\n.fa-viber:before {\n  content: "\\F409"; }\n\n.fa-video:before {\n  content: "\\F03D"; }\n\n.fa-video-slash:before {\n  content: "\\F4E2"; }\n\n.fa-vihara:before {\n  content: "\\F6A7"; }\n\n.fa-vimeo:before {\n  content: "\\F40A"; }\n\n.fa-vimeo-square:before {\n  content: "\\F194"; }\n\n.fa-vimeo-v:before {\n  content: "\\F27D"; }\n\n.fa-vine:before {\n  content: "\\F1CA"; }\n\n.fa-vk:before {\n  content: "\\F189"; }\n\n.fa-vnv:before {\n  content: "\\F40B"; }\n\n.fa-volleyball-ball:before {\n  content: "\\F45F"; }\n\n.fa-volume-down:before {\n  content: "\\F027"; }\n\n.fa-volume-mute:before {\n  content: "\\F6A9"; }\n\n.fa-volume-off:before {\n  content: "\\F026"; }\n\n.fa-volume-up:before {\n  content: "\\F028"; }\n\n.fa-vote-yea:before {\n  content: "\\F772"; }\n\n.fa-vr-cardboard:before {\n  content: "\\F729"; }\n\n.fa-vuejs:before {\n  content: "\\F41F"; }\n\n.fa-walking:before {\n  content: "\\F554"; }\n\n.fa-wallet:before {\n  content: "\\F555"; }\n\n.fa-warehouse:before {\n  content: "\\F494"; }\n\n.fa-water:before {\n  content: "\\F773"; }\n\n.fa-weebly:before {\n  content: "\\F5CC"; }\n\n.fa-weibo:before {\n  content: "\\F18A"; }\n\n.fa-weight:before {\n  content: "\\F496"; }\n\n.fa-weight-hanging:before {\n  content: "\\F5CD"; }\n\n.fa-weixin:before {\n  content: "\\F1D7"; }\n\n.fa-whatsapp:before {\n  content: "\\F232"; }\n\n.fa-whatsapp-square:before {\n  content: "\\F40C"; }\n\n.fa-wheelchair:before {\n  content: "\\F193"; }\n\n.fa-whmcs:before {\n  content: "\\F40D"; }\n\n.fa-wifi:before {\n  content: "\\F1EB"; }\n\n.fa-wikipedia-w:before {\n  content: "\\F266"; }\n\n.fa-wind:before {\n  content: "\\F72E"; }\n\n.fa-window-close:before {\n  content: "\\F410"; }\n\n.fa-window-maximize:before {\n  content: "\\F2D0"; }\n\n.fa-window-minimize:before {\n  content: "\\F2D1"; }\n\n.fa-window-restore:before {\n  content: "\\F2D2"; }\n\n.fa-windows:before {\n  content: "\\F17A"; }\n\n.fa-wine-bottle:before {\n  content: "\\F72F"; }\n\n.fa-wine-glass:before {\n  content: "\\F4E3"; }\n\n.fa-wine-glass-alt:before {\n  content: "\\F5CE"; }\n\n.fa-wix:before {\n  content: "\\F5CF"; }\n\n.fa-wizards-of-the-coast:before {\n  content: "\\F730"; }\n\n.fa-wolf-pack-battalion:before {\n  content: "\\F514"; }\n\n.fa-won-sign:before {\n  content: "\\F159"; }\n\n.fa-wordpress:before {\n  content: "\\F19A"; }\n\n.fa-wordpress-simple:before {\n  content: "\\F411"; }\n\n.fa-wpbeginner:before {\n  content: "\\F297"; }\n\n.fa-wpexplorer:before {\n  content: "\\F2DE"; }\n\n.fa-wpforms:before {\n  content: "\\F298"; }\n\n.fa-wpressr:before {\n  content: "\\F3E4"; }\n\n.fa-wrench:before {\n  content: "\\F0AD"; }\n\n.fa-x-ray:before {\n  content: "\\F497"; }\n\n.fa-xbox:before {\n  content: "\\F412"; }\n\n.fa-xing:before {\n  content: "\\F168"; }\n\n.fa-xing-square:before {\n  content: "\\F169"; }\n\n.fa-y-combinator:before {\n  content: "\\F23B"; }\n\n.fa-yahoo:before {\n  content: "\\F19E"; }\n\n.fa-yandex:before {\n  content: "\\F413"; }\n\n.fa-yandex-international:before {\n  content: "\\F414"; }\n\n.fa-yelp:before {\n  content: "\\F1E9"; }\n\n.fa-yen-sign:before {\n  content: "\\F157"; }\n\n.fa-yin-yang:before {\n  content: "\\F6AD"; }\n\n.fa-yoast:before {\n  content: "\\F2B1"; }\n\n.fa-youtube:before {\n  content: "\\F167"; }\n\n.fa-youtube-square:before {\n  content: "\\F431"; }\n\n.fa-zhihu:before {\n  content: "\\F63F"; }\n\n.sr-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px; }\n\n.sr-only-focusable:active, .sr-only-focusable:focus {\n  clip: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  position: static;\n  width: auto; }\n@font-face {\n  font-family: \'Font Awesome 5 Brands\';\n  font-style: normal;\n  font-weight: normal;\n  src: url('+i(n(14))+");\n  src: url("+i(n(14))+'?#iefix) format("embedded-opentype"), url('+i(n(48))+') format("woff2"), url('+i(n(47))+') format("woff"), url('+i(n(46))+') format("truetype"), url('+i(n(45))+"#fontawesome) format(\"svg\"); }\n\n.fab {\n  font-family: 'Font Awesome 5 Brands'; }\n@font-face {\n  font-family: 'Font Awesome 5 Free';\n  font-style: normal;\n  font-weight: 400;\n  src: url("+i(n(13))+");\n  src: url("+i(n(13))+'?#iefix) format("embedded-opentype"), url('+i(n(44))+') format("woff2"), url('+i(n(43))+') format("woff"), url('+i(n(42))+') format("truetype"), url('+i(n(41))+"#fontawesome) format(\"svg\"); }\n\n.far {\n  font-family: 'Font Awesome 5 Free';\n  font-weight: 400; }\n@font-face {\n  font-family: 'Font Awesome 5 Free';\n  font-style: normal;\n  font-weight: 900;\n  src: url("+i(n(12))+");\n  src: url("+i(n(12))+'?#iefix) format("embedded-opentype"), url('+i(n(40))+') format("woff2"), url('+i(n(39))+') format("woff"), url('+i(n(38))+') format("truetype"), url('+i(n(37))+"#fontawesome) format(\"svg\"); }\n\n.fa,\n.fas {\n  font-family: 'Font Awesome 5 Free';\n  font-weight: 900; }\n",""])},function(t,e,n){var i=n(49);"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,r);i.locals&&(t.exports=i.locals)},function(t,e){t.exports="images/GrpCheckboxN.png"},function(t,e){t.exports="images/GrpCheckboxY.png"},function(t,e){t.exports="images/expand.gif"},function(t,e){t.exports="images/collapse.gif"},function(t,e){t.exports="images/header-columns-over-bg.gif"},function(t,e,n){var i=n(3);(t.exports=n(2)(!1)).push([t.i,"/*\nTo change this license header, choose License Headers in Project Properties.\nTo change this template file, choose Tools | Templates\nand open the template in the editor.\n*/\n/* \n    Created on : 31-Mar-2018, 11:22:27\n    Author     : Isaac\n*/\n.slick-header-columns {\n  background: url("+i(n(15))+") repeat-x center bottom;\n  border-bottom: 1px solid silver;\n}\n\n.slick-header-column {\n  background: url("+i(n(15))+") repeat-x center bottom;\n  border-right: 1px solid silver;\n}\n\n.slick-header-column:hover, .slick-header-column-active {\n  background: white url("+i(n(55))+") repeat-x center bottom;\n}\n\n.slick-headerrow {\n  background: #fafafa;\n}\n\n.slick-headerrow-column {\n  background: #fafafa;\n  border-bottom: 0;\n  height: 100%;\n}\n\n.slick-row.ui-state-active {\n  background: #F5F7D7;\n}\n\n.slick-row {\n  position: absolute;\n  background: white;\n  border: 0px;\n  line-height: 20px;\n}\n\n.slick-row.selected {\n  z-index: 10;\n  background: #DFE8F6;\n}\n\n.slick-cell {\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n.slick-group {\n  border-bottom: 2px solid silver;\n}\n\n.slick-group-toggle {\n  width: 9px;\n  height: 9px;\n  margin-right: 5px;\n}\n\n.slick-group-toggle.expanded {\n  background: url("+i(n(54))+") no-repeat center center;\n}\n\n.slick-group-toggle.collapsed {\n  background: url("+i(n(53))+") no-repeat center center;\n}\n\n.slick-group-totals {\n  color: gray;\n  background: white;\n}\n\n.slick-group-select-checkbox {\n  width: 13px;\n  height: 13px;\n  margin: 3px 10px 0 0;\n  display: inline-block;\n}\n.slick-group-select-checkbox.checked {\n  background: url("+i(n(52))+") no-repeat center center;\n}\n\n.slick-group-select-checkbox.unchecked {\n  background: url("+i(n(51))+") no-repeat center center;\n}\n\n.slick-cell.selected {\n  background-color: beige;\n}\n\n.slick-cell.active {\n  border-color: gray;\n  border-style: solid;\n}\n\n.slick-sortable-placeholder {\n  background: silver !important;\n}\n\n.slick-row.odd {\n  background: #fafafa;\n}\n\n.slick-row.ui-state-active {\n  background: #F5F7D7;\n}\n\n.slick-row.loading {\n  opacity: 0.5;\n  filter: alpha(opacity = 50);\n}\n\n.slick-cell.invalid {\n  border-color: red;\n  -moz-animation-duration: 0.2s;\n  -webkit-animation-duration: 0.2s;\n  -moz-animation-name: slickgrid-invalid-hilite;\n  -webkit-animation-name: slickgrid-invalid-hilite;  \n}\n\n@-moz-keyframes slickgrid-invalid-hilite {\n  from { box-shadow: 0 0 6px red; }\n  to { box-shadow: none; }\n}\n\n@-webkit-keyframes slickgrid-invalid-hilite {\n  from { box-shadow: 0 0 6px red; }\n  to { box-shadow: none; }\n}\n\n\n\n.slick-grid-danger {\n\tbackground-color:#f8d7da !important;\n}\n\n.slick-grid-success {\n\tbackground-color:#d4edda !important;\n}\n\n\ninput.editor-text {\n    width: 100%;\n    height: 100%;\n    border: 0;\n    margin: 0;\n    background: transparent;\n    outline: 0;\n    padding: 0;\n}\n\n.mlv-filter-dialog ul {\n\tlist-style-type:none;\n\tpadding:0px;\n\tdisplay:inline-block;\n}\n\n.mlv-filter-dialog .ui-slider{\n\tmargin-top:3px;\n\tmargin-bottom:18px;\n}\n\n.mlv-filter-dialog input[type=checkbox]{\n\theight:16px;\n\twidth:16px;\n\tvertical-align:middle;\n}\n\n.mlv-filter-dialog label{\n    font-weight:bold;\n    /* margin-top:4px; */\n    display:inline-block;\n}\n\n.mlv-filter-dialog input[type=text]{\n   height:20px;\n}\n\n.mlv-filter-dialog select{\n\tmargin-left:auto;\n\tmax-width:80px;\n\tmargin-right:20px;\n\tpadding-bottom:5px;\n\tborder-radius:6px;\n\theight:20px;\n}\n\n.mlv-filter-dialog div{\n   display:flex;\n}\n\n.mlv-filter-dialog span{\n\tmargin-left:auto;\n\twhite-space:nowrap;\n}\n\n\n.mlv-sort-dialog .fas{\n\tfont-size:16px;\n\tcursor:pointer;\n\tmargin-left:5px;\n}\n\n.mlv-sort-dialog span{\n\n\tfont-weight:550;\n}\n\n.mlv-sort-dialog select{\n\tpadding-top:3px\n\n}\n\n.mlv-sort-dialog li{\n\tmargin-bottom:4px\n\n}\n\n.mlv-sort-dialog label{\n\tfont-weight:bold;\n\tfont-size:14px;\n\tdisplay:block;\n\tmargin-bottom:2px\n\t\n}\n\n.mlv-save-dialog label{\n\tfont-weight:bold;\n\tdisplay:block;\n\tmargin-top:10px;\n\tmargin-bottom:2px;\n\t\n}\n\n.mlv-save-dialog span{\n\tmargin-right:5px;\n}\n\n\n",""])},function(t,e,n){var i=n(56);"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,r);i.locals&&(t.exports=i.locals)},function(t,e){t.exports="images/sort-asc.gif"},function(t,e){t.exports="images/sort-desc.gif"},function(t,e,n){var i=n(3);(t.exports=n(2)(!1)).push([t.i,"/*\nIMPORTANT:\nIn order to preserve the uniform grid appearance, all cell styles need to have padding, margin and border sizes.\nNo built-in (selected, editable, highlight, flashing, invalid, loading, :focus) or user-specified CSS\nclasses should alter those!\n*/\n\n\n.grid-filter-icon-off{\n    color:#D8D8D8;\n}\n\n.grid-filter-icon-on{\n    color:black;\n}\n\n.grid-filter-icon{\n    float:left;\n}\n\n.grid-filter-icon:hover{\n    color:black;\n}\n\n.slick-preheader-panel .fas{\n  cursor:pointer;\n}\n\n.slick-header.ui-state-default, .slick-headerrow.ui-state-default, .slick-footerrow.ui-state-default, .slick-top-panel-scroller.ui-state-default {\n  width: 100%;\n  overflow: auto;\n  position: relative;\n  border-left: 0px !important;\n  -webkit-box-sizing:content-box;\n  -moz-box-sizing: content-box;\n  box-sizing: content-box;\n}\n\n.slick-header.ui-state-default {\n  overflow: inherit;\n}\n\n.slick-header::-webkit-scrollbar,  .slick-headerrow::-webkit-scrollbar, .slick-footerrow::-webkit-scrollbar {\n  display: none\n}\n\n.slick-header-columns, .slick-headerrow-columns, .slick-footerrow-columns {\n  position: relative;\n  white-space: nowrap;\n  cursor: default;\n  overflow: hidden;\n}\n\n.slick-header-column.ui-state-default {\n  position: relative;\n  display: inline-block;\n  box-sizing: content-box !important;\n  overflow: hidden;\n  -o-text-overflow: ellipsis;\n  text-overflow: ellipsis;\n  height: 18px;\n  line-height: 16px;\n  margin: 0;\n  padding: 4px;\n  border-right: 1px solid silver;\n  border-left: 0px !important;\n  border-top: 0px !important;\n  border-bottom: 0px !important;\n  float: left;\n}\n\n.slick-cell-text-center{\n  width:100%;\n  text-align:center;\n}\n\n\n.slick-headerrow-column.ui-state-default, .slick-footerrow-column.ui-state-default {\n  padding: 4px;\n}\n\n.slick-header-column-sorted {\n  font-style: italic;\n}\n\n.slick-sort-indicator {\n  display: inline-block;\n  width: 8px;\n  height: 5px;\n  margin-left: 4px;\n  margin-top: 6px;\n  float: left;\n}\n\n.slick-sort-indicator-numbered {\n  display: inline-block;\n  width: 8px;\n  height: 5px;\n  margin-left: 4px;\n  margin-top: 0;\n  padding-left: 1px;\n  line-height: 20px;\n  float: left;\n  font-family: Arial;\n  font-style: normal;\n  font-weight: bold;\n  color: #6190CD;\n}\n\n.slick-sort-indicator-desc {\n  background: url("+i(n(59))+");\n}\n\n.slick-sort-indicator-asc {\n  background: url("+i(n(58))+");\n}\n\n.slick-resizable-handle {\n  position: absolute;\n  font-size: 0.1px;\n  display: block;\n  cursor: col-resize;\n  width: 9px;\n  right: -5px;\n  top: 0;\n  height: 100%;\n  z-index: 1;\n}\n\n.slick-sortable-placeholder {\n  background: silver;\n}\n\n.grid-canvas {\n  position: relative;\n  outline: 0;\n}\n\n.slick-row.ui-widget-content, .slick-row.ui-state-active {\n  position: absolute;\n  border: 0px;\n  width: 100%;\n}\n\n.slick-cell, .slick-headerrow-column , .slick-footerrow-column{\n  position: absolute;\n  border: 1px solid transparent;\n  border-right: 1px dotted silver;\n  border-bottom-color: silver;\n  overflow: hidden;\n  -o-text-overflow: ellipsis;\n  text-overflow: ellipsis;\n  vertical-align: middle;\n  z-index: 1;\n  padding: 1px 2px 2px 1px;\n  margin: 0;\n  white-space: nowrap;\n  cursor: default;\n}\n.slick-cell, .slick-headerrow-column{\n  border-bottom-color: silver;\n}\n.slick-footerrow-column {\n  border-top-color: silver;\n}\n \n.slick-group {\n}\n\n.slick-group-toggle {\n  display: inline-block;\n}\n\n.slick-cell.highlighted {\n  background: lightskyblue;\n  background: rgba(0, 0, 255, 0.2);\n  -webkit-transition: all 0.5s;\n  -moz-transition: all 0.5s;\n  -o-transition: all 0.5s;\n  transition: all 0.5s;\n}\n\n.slick-cell.flashing {\n  border: 1px solid red !important;\n}\n\n.slick-cell.editable {\n  z-index: 11;\n  overflow: visible;\n  background: white;\n  border-color: black;\n  border-style: solid;\n}\n\n.slick-cell:focus {\n  outline: none;\n}\n\n.slick-reorder-proxy {\n  display: inline-block;\n  background: blue;\n  opacity: 0.15;\n  filter: alpha(opacity = 15);\n  cursor: move;\n}\n\n.slick-reorder-guide {\n  display: inline-block;\n  height: 2px;\n  background: blue;\n  opacity: 0.7;\n  filter: alpha(opacity = 70);\n}\n\n.slick-selection {\n  z-index: 10;\n  position: absolute;\n  border: 2px dashed black;\n}\n",""])},function(t,e,n){var i=n(60);"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,r);i.locals&&(t.exports=i.locals)},function(t,e,n){"use strict";t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,i=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var r,o=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?t:(r=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:i+o.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")})}},function(t,e){t.exports="images/ui-icons_f6cf3b_256x240.png"},function(t,e){t.exports="images/ui-icons_2e83ff_256x240.png"},function(t,e){t.exports="images/ui-icons_888888_256x240.png"},function(t,e,n){var i=n(3);(t.exports=n(2)(!1)).push([t.i,'/*!\r\n * jQuery UI Bootstrap (1.0 alpha)\r\n * http://addyosmani.github.io/jquery-ui-bootstrap/\r\n *\r\n * Copyright 2012 - 2013, Addy Osmani\r\n * Dual licensed under the MIT or GPL Version 2 licenses.\r\n *\r\n * Portions copyright jQuery UI & Twitter, Inc.\r\n */\r\n\r\n/********** VJ - Move to Less - Start *************/\r\n\r\n/* Layout helpers\r\n----------------------------------*/\r\n.ui-helper-hidden {\r\n\tdisplay: none;\r\n}\r\n\r\n.ui-helper-hidden-accessible {\r\n\tborder: 0;\r\n\tclip: rect(0 0 0 0);\r\n\theight: 1px;\r\n\tmargin: -1px;\r\n\toverflow: hidden;\r\n\tpadding: 0;\r\n\tposition: absolute;\r\n\twidth: 1px;\r\n}\r\n\r\n.ui-helper-reset {\r\n\tmargin: 0;\r\n\tpadding: 0;\r\n\tborder: 0;\r\n\toutline: 0;\r\n\tline-height: 1.3;\r\n\ttext-decoration: none;\r\n\tfont-size: 100%;\r\n\tlist-style: none;\r\n}\r\n\r\n.ui-helper-clearfix:before,\r\n.ui-helper-clearfix:after {\r\n\tcontent: "";\r\n\tdisplay: table;\r\n\tborder-collapse: collapse;\r\n}\r\n\r\n.ui-helper-clearfix:after {\r\n\tcontent: ".";\r\n\tdisplay: block;\r\n\theight: 0;\r\n\tclear: both;\r\n\tvisibility: hidden;\r\n}\r\n\r\n.ui-helper-clearfix {\r\n\t/*display: inline-block; */\r\n\tdisplay: block;\r\n\tmin-height: 0; /* support: IE7 */\r\n}\r\n\r\n/* required comment for clearfix to work in Opera \\*/\r\n* html .ui-helper-clearfix {\r\n\theight:1%;\r\n}\r\n\r\n/* end clearfix */\r\n.ui-helper-zfix {\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\tposition: absolute;\r\n\topacity: 0;\r\n\tfilter:Alpha(Opacity=0);\r\n}\r\n.ui-front {\r\n\tz-index: 100;\r\n}\r\n\r\n\r\n/* Interaction Cues\r\n----------------------------------*/\r\n.ui-state-disabled {\r\n\tcursor: default !important;\r\n}\r\n\r\n\r\n/* Icons\r\n----------------------------------*/\r\n\r\n/* states and images */\r\n.ui-icon {\r\n\tdisplay: block;\r\n\ttext-indent: -99999px;\r\n\toverflow: hidden;\r\n\tbackground-repeat: no-repeat;\r\n}\r\n\r\n\r\n/* Misc visuals\r\n----------------------------------*/\r\n\r\n/* Overlays */\r\n\r\n.ui-widget-overlay {\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n}\r\n\r\n\r\n/*\r\n * jQuery UI Resizable 1.10.3\r\n *\r\n * Copyright 2013, AUTHORS.txt (http://jqueryui.com/about)\r\n * Dual licensed under the MIT or GPL Version 2 licenses.\r\n * http://jquery.org/license\r\n *\r\n * http://api.jqueryui.com/resizable/\r\n */\r\n\r\n.ui-resizable {\r\n\tposition: relative;\r\n}\r\n\r\n.ui-resizable-handle {\r\n\tposition: absolute;\r\n\tfont-size: 0.1px;\r\n\tz-index: 99999;\r\n\tdisplay: block;\r\n}\r\n\r\n.ui-resizable-disabled .ui-resizable-handle,\r\n.ui-resizable-autohide .ui-resizable-handle {\r\n\tdisplay: none;\r\n}\r\n\r\n.ui-resizable-n {\r\n\tcursor: n-resize;\r\n\theight: 7px;\r\n\twidth: 100%;\r\n\ttop: -5px;\r\n\tleft: 0;\r\n}\r\n\r\n.ui-resizable-s {\r\n\tcursor: s-resize;\r\n\theight: 7px;\r\n\twidth: 100%;\r\n\tbottom: -5px;\r\n\tleft: 0;\r\n}\r\n\r\n.ui-resizable-e {\r\n\tcursor: e-resize;\r\n\twidth: 7px;\r\n\tright: -5px;\r\n\ttop: 0;\r\n\theight: 100%;\r\n}\r\n\r\n.ui-resizable-w {\r\n\tcursor: w-resize;\r\n\twidth: 7px;\r\n\tleft: -5px;\r\n\ttop: 0;\r\n\theight: 100%;\r\n}\r\n\r\n.ui-resizable-se {\r\n\tcursor: se-resize;\r\n\twidth: 12px;\r\n\theight: 12px;\r\n\tright: 1px;\r\n\tbottom: 1px;\r\n}\r\n\r\n.ui-resizable-sw {\r\n\tcursor: sw-resize;\r\n\twidth: 9px;\r\n\theight: 9px;\r\n\tleft: -5px;\r\n\tbottom: -5px;\r\n}\r\n\r\n.ui-resizable-nw {\r\n\tcursor: nw-resize;\r\n\twidth: 9px;\r\n\theight: 9px;\r\n\tleft: -5px;\r\n\ttop: -5px;\r\n}\r\n\r\n.ui-resizable-ne {\r\n\tcursor: ne-resize;\r\n\twidth: 9px;\r\n\theight: 9px;\r\n\tright: -5px;\r\n\ttop: -5px;\r\n}\r\n\r\n/*\r\n * jQuery UI Selectable 1.10.3\r\n *\r\n * Copyright 2013, AUTHORS.txt (http://jqueryui.com/about)\r\n * Dual licensed under the MIT or GPL Version 2 licenses.\r\n * http://jquery.org/license\r\n *\r\n * http://jqueryui.com/selectable/\r\n */\r\n\r\n.ui-selectable-helper {\r\n\tposition: absolute;\r\n\tz-index: 100;\r\n\tborder: 1px dotted black;\r\n}\r\n\r\n\r\n/*\r\n * jQuery UI CSS Framework 1.10.3\r\n *\r\n * Copyright 2013, AUTHORS.txt (http://jqueryui.com/about)\r\n * Dual licensed under the MIT or GPL Version 2 licenses.\r\n * http://jquery.org/license\r\n *\r\n * \r\n *\r\n * To view and modify this theme, visit http://jqueryui.com/themeroller/\r\n */\r\n\r\n/* Component containers\r\n----------------------------------*/\r\n\r\n.ui-widget {\r\n\tfont-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\r\n\tfont-size: 13px;\r\n}\r\n\r\n.ui-widget .ui-widget {\r\n\tfont-size: 13px;\r\n}\r\n\r\n.ui-widget input,\r\n.ui-widget select,\r\n.ui-widget textarea,\r\n.ui-widget button {\r\n\tfont-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\r\n\tfont-size: inherit;\r\n}\r\n\r\n.ui-widget-content {\r\n\tborder: 1px solid #aaaaaa;\r\n\t/* background: #ffffff url("images/ui-bg_glass_75_ffffff_1x400.png") 50% 50% repeat-x; */\r\n\tcolor: #404040;\r\n}\r\n\r\n.ui-widget-header {\r\n\tfont-weight: bold;\r\n    background-color: #F5F5F5;\r\n    border-color: #DDDDDD;\r\n    color: #333333;\r\n\r\n}\r\n\r\n.ui-widget-header a {\r\n\tcolor: #222222;\r\n}\r\n\r\n/* Interaction states\r\n----------------------------------*/\r\n\r\n.ui-state-default,\r\n.ui-widget-content .ui-state-default,\r\n.ui-widget-header .ui-state-default {\r\n   color: #333333;\r\n   background-color: #ffffff;\r\n   font-weight: normal;\r\n   border: 1px solid #cccccc;\r\n}\r\n\r\n.ui-state-default a,\r\n.ui-state-default a:link,\r\n.ui-state-default a:visited {\r\n\tcolor: #555555;\r\n\ttext-decoration: none;\r\n}\r\n\r\n.ui-state-hover,\r\n.ui-widget-content .ui-state-hover,\r\n.ui-widget-header .ui-state-hover,\r\n.ui-state-focus,\r\n.ui-widget-content .ui-state-focus,\r\n.ui-widget-header .ui-state-focus {\r\n\tcolor: #333333;\r\n    background-color: #ebebeb;\r\n    border-color: #adadad;\r\n\ttext-decoration: none;\r\n}\r\n\r\n.ui-state-hover a,\r\n.ui-state-hover a:hover,\r\n.ui-state-hover a:link,\r\n.ui-state-hover a:visited {\r\n\tcolor: #333333;\r\n\ttext-decoration: none;\r\n}\r\n.ui-state-active,\r\n.ui-widget-content .ui-state-active,\r\n.ui-widget-header .ui-state-active {\r\n\tborder: 1px solid #adadad;\r\n\tfont-weight: normal;\r\n\tcolor: #333333;\r\n}\r\n\r\n.ui-state-active a,\r\n.ui-state-active a:link,\r\n.ui-state-active a:visited {\r\n\tcolor: #333333;\r\n\ttext-decoration: none;\r\n}\r\n\r\n.ui-widget :active {\r\n\toutline: none;\r\n}\r\n\r\n/* Interaction Cues\r\n----------------------------------*/\r\n\r\n.ui-state-highlight,\r\n.ui-state-error,\r\n.ui-state-default {\r\n\tposition: relative;\r\n\tborder-width: 1px;\r\n\tborder-style: solid;\r\n}\r\n\r\n.ui-state-highlight p,\r\n.ui-state-error p,\r\n.ui-state-default p {\r\n\tfont-size: 13px;\r\n\tfont-weight: normal;\r\n\tline-height: 18px;\r\n\tmargin:7px 15px;\r\n}\r\n\r\n.ui-state-highlight,\r\n.ui-widget-content .ui-state-highlight,\r\n.ui-widget-header .ui-state-highlight {\r\n\tcolor: #3a87ad;\r\n    background-color: #d9edf7;\r\n    border-color: #bce8f1;\r\n}\r\n\r\n.ui-state-highlight a,\r\n.ui-widget-content .ui-state-highlight a,\r\n.ui-widget-header .ui-state-highlight a {\r\n\tcolor: #2d6987;\r\n}\r\n\r\n.ui-state-error,\r\n.ui-widget-content .ui-state-error,\r\n.ui-widget-header .ui-state-error {\r\n\tcolor: #b94a48;\r\n    background-color: #f2dede;\r\n    border-color: #eed3d7;\r\n}\r\n\r\n.ui-state-error a,\r\n.ui-widget-content .ui-state-error a,\r\n.ui-widget-header .ui-state-error a {\r\n\tcolor: #953b39;\r\n}\r\n\r\n.ui-state-error-text,\r\n.ui-widget-content .ui-state-error-text,\r\n.ui-widget-header .ui-state-error-text {\r\n\tcolor: #953b39;\r\n}\r\n\r\n.ui-priority-primary,\r\n.ui-widget-content .ui-priority-primary,\r\n.ui-widget-header .ui-priority-primary {\r\n\tfont-weight: bold;\r\n}\r\n\r\n.ui-priority-secondary,\r\n.ui-widget-content .ui-priority-secondary,\r\n.ui-widget-header .ui-priority-secondary {\r\n\topacity: .7;\r\n\tfilter:Alpha(Opacity=70);\r\n\tfont-weight: normal;\r\n}\r\n\r\n.ui-state-disabled,\r\n.ui-widget-content .ui-state-disabled,\r\n.ui-widget-header .ui-state-disabled {\r\n\topacity: .35;\r\n\tfilter:Alpha(Opacity=35);\r\n\tbackground-image: none;\r\n}\r\n\r\n.ui-state-disabled .ui-icon {\r\n\tfilter:Alpha(Opacity=35); /* For IE8 - See #6059 */\r\n}\r\n\r\n/* Icons\r\n----------------------------------*/\r\n\r\n/* states and images */\r\n\r\n.ui-icon {\r\n\twidth: 16px;\r\n\theight: 16px;\r\n\tbackground-image: url('+i(n(6))+");\r\n}\r\n\r\n.ui-widget-content .ui-icon {\r\n\tbackground-image: url("+i(n(6))+");\r\n}\r\n\r\n.ui-widget-header .ui-icon {\r\n\tbackground-image: url("+i(n(6))+");\r\n}\r\n\r\n.ui-state-default .ui-icon {\r\n\tbackground-image: url("+i(n(65))+");\r\n}\r\n\r\n.ui-state-hover .ui-icon,\r\n.ui-state-focus .ui-icon {\r\n\tbackground-image: url("+i(n(17))+");\r\n}\r\n\r\n.ui-state-active .ui-icon {\r\n\tbackground-image: url("+i(n(17))+");\r\n}\r\n\r\n.ui-state-highlight .ui-icon {\r\n\tbackground-image: url("+i(n(64))+");\r\n}\r\n\r\n.ui-state-error .ui-icon,\r\n.ui-state-error-text .ui-icon {\r\n\tbackground-image: url("+i(n(63))+");\r\n}\r\n\r\n/* positioning */\r\n\r\n.ui-icon-carat-1-n { background-position: 0 0; }\r\n.ui-icon-carat-1-ne { background-position: -16px 0; }\r\n.ui-icon-carat-1-e { background-position: -32px 0; }\r\n.ui-icon-carat-1-se { background-position: -48px 0; }\r\n.ui-icon-carat-1-s { background-position: -64px 0; }\r\n.ui-icon-carat-1-sw { background-position: -80px 0; }\r\n.ui-icon-carat-1-w { background-position: -96px 0; }\r\n.ui-icon-carat-1-nw { background-position: -112px 0; }\r\n.ui-icon-carat-2-n-s { background-position: -128px 0; }\r\n.ui-icon-carat-2-e-w { background-position: -144px 0; }\r\n\r\n.ui-icon-triangle-1-n { background-position: 0 -16px; }\r\n.ui-icon-triangle-1-ne { background-position: -16px -16px; }\r\n.ui-icon-triangle-1-e { background-position: -32px -16px; }\r\n.ui-icon-triangle-1-se { background-position: -48px -16px; }\r\n.ui-icon-triangle-1-s { background-position: -64px -16px; }\r\n.ui-icon-triangle-1-sw { background-position: -80px -16px; }\r\n.ui-icon-triangle-1-w { background-position: -96px -16px; }\r\n.ui-icon-triangle-1-nw { background-position: -112px -16px; }\r\n.ui-icon-triangle-2-n-s { background-position: -128px -16px; }\r\n.ui-icon-triangle-2-e-w { background-position: -144px -16px; }\r\n\r\n.ui-icon-arrow-1-n { background-position: 0 -32px; }\r\n.ui-icon-arrow-1-ne { background-position: -16px -32px; }\r\n.ui-icon-arrow-1-e { background-position: -32px -32px; }\r\n.ui-icon-arrow-1-se { background-position: -48px -32px; }\r\n.ui-icon-arrow-1-s { background-position: -64px -32px; }\r\n.ui-icon-arrow-1-sw { background-position: -80px -32px; }\r\n.ui-icon-arrow-1-w { background-position: -96px -32px; }\r\n.ui-icon-arrow-1-nw { background-position: -112px -32px; }\r\n.ui-icon-arrow-2-n-s { background-position: -128px -32px; }\r\n.ui-icon-arrow-2-ne-sw { background-position: -144px -32px; }\r\n.ui-icon-arrow-2-e-w { background-position: -160px -32px; }\r\n.ui-icon-arrow-2-se-nw { background-position: -176px -32px; }\r\n.ui-icon-arrowstop-1-n { background-position: -192px -32px; }\r\n.ui-icon-arrowstop-1-e { background-position: -208px -32px; }\r\n.ui-icon-arrowstop-1-s { background-position: -224px -32px; }\r\n.ui-icon-arrowstop-1-w { background-position: -240px -32px; }\r\n\r\n.ui-icon-arrowthick-1-n { background-position: 0 -48px; }\r\n.ui-icon-arrowthick-1-ne { background-position: -16px -48px; }\r\n.ui-icon-arrowthick-1-e { background-position: -32px -48px; }\r\n.ui-icon-arrowthick-1-se { background-position: -48px -48px; }\r\n.ui-icon-arrowthick-1-s { background-position: -64px -48px; }\r\n.ui-icon-arrowthick-1-sw { background-position: -80px -48px; }\r\n.ui-icon-arrowthick-1-w { background-position: -96px -48px; }\r\n.ui-icon-arrowthick-1-nw { background-position: -112px -48px; }\r\n.ui-icon-arrowthick-2-n-s { background-position: -128px -48px; }\r\n.ui-icon-arrowthick-2-ne-sw { background-position: -144px -48px; }\r\n.ui-icon-arrowthick-2-e-w { background-position: -160px -48px; }\r\n.ui-icon-arrowthick-2-se-nw { background-position: -176px -48px; }\r\n.ui-icon-arrowthickstop-1-n { background-position: -192px -48px; }\r\n.ui-icon-arrowthickstop-1-e { background-position: -208px -48px; }\r\n.ui-icon-arrowthickstop-1-s { background-position: -224px -48px; }\r\n.ui-icon-arrowthickstop-1-w { background-position: -240px -48px; }\r\n\r\n.ui-icon-arrowreturnthick-1-w { background-position: 0 -64px; }\r\n.ui-icon-arrowreturnthick-1-n { background-position: -16px -64px; }\r\n.ui-icon-arrowreturnthick-1-e { background-position: -32px -64px; }\r\n.ui-icon-arrowreturnthick-1-s { background-position: -48px -64px; }\r\n.ui-icon-arrowreturn-1-w { background-position: -64px -64px; }\r\n.ui-icon-arrowreturn-1-n { background-position: -80px -64px; }\r\n.ui-icon-arrowreturn-1-e { background-position: -96px -64px; }\r\n.ui-icon-arrowreturn-1-s { background-position: -112px -64px; }\r\n.ui-icon-arrowrefresh-1-w { background-position: -128px -64px; }\r\n.ui-icon-arrowrefresh-1-n { background-position: -144px -64px; }\r\n.ui-icon-arrowrefresh-1-e { background-position: -160px -64px; }\r\n.ui-icon-arrowrefresh-1-s { background-position: -176px -64px; }\r\n\r\n.ui-icon-arrow-4 { background-position: 0 -80px; }\r\n.ui-icon-arrow-4-diag { background-position: -16px -80px; }\r\n.ui-icon-extlink { background-position: -32px -80px; }\r\n.ui-icon-newwin { background-position: -48px -80px; }\r\n.ui-icon-refresh { background-position: -64px -80px; }\r\n.ui-icon-shuffle { background-position: -80px -80px; }\r\n.ui-icon-transfer-e-w { background-position: -96px -80px; }\r\n.ui-icon-transferthick-e-w { background-position: -112px -80px; }\r\n\r\n.ui-icon-folder-collapsed { background-position: 0 -96px; }\r\n.ui-icon-folder-open { background-position: -16px -96px; }\r\n.ui-icon-document { background-position: -32px -96px; }\r\n.ui-icon-document-b { background-position: -48px -96px; }\r\n.ui-icon-note { background-position: -64px -96px; }\r\n.ui-icon-mail-closed { background-position: -80px -96px; }\r\n.ui-icon-mail-open { background-position: -96px -96px; }\r\n.ui-icon-suitcase { background-position: -112px -96px; }\r\n.ui-icon-comment { background-position: -128px -96px; }\r\n.ui-icon-person { background-position: -144px -96px; }\r\n.ui-icon-print { background-position: -160px -96px; }\r\n.ui-icon-trash { background-position: -176px -96px; }\r\n.ui-icon-locked { background-position: -192px -96px; }\r\n.ui-icon-unlocked { background-position: -208px -96px; }\r\n.ui-icon-bookmark { background-position: -224px -96px; }\r\n.ui-icon-tag { background-position: -240px -96px; }\r\n\r\n.ui-icon-home { background-position: 0 -112px; }\r\n.ui-icon-flag { background-position: -16px -112px; }\r\n.ui-icon-calendar { background-position: -32px -112px; }\r\n.ui-icon-cart { background-position: -48px -112px; }\r\n.ui-icon-pencil { background-position: -64px -112px; }\r\n.ui-icon-clock { background-position: -80px -112px; }\r\n.ui-icon-disk { background-position: -96px -112px; }\r\n.ui-icon-calculator { background-position: -112px -112px; }\r\n.ui-icon-zoomin { background-position: -128px -112px; }\r\n.ui-icon-zoomout { background-position: -144px -112px; }\r\n.ui-icon-search { background-position: -160px -112px; }\r\n.ui-icon-wrench { background-position: -176px -112px; }\r\n.ui-icon-gear { background-position: -192px -112px; }\r\n.ui-icon-heart { background-position: -208px -112px; }\r\n.ui-icon-star { background-position: -224px -112px; }\r\n.ui-icon-link { background-position: -240px -112px; }\r\n\r\n.ui-icon-cancel { background-position: 0 -128px; }\r\n.ui-icon-plus { background-position: -16px -128px; }\r\n.ui-icon-plusthick { background-position: -32px -128px; }\r\n.ui-icon-minus { background-position: -48px -128px; }\r\n.ui-icon-minusthick { background-position: -64px -128px; }\r\n.ui-icon-close { background-position: -80px -128px; }\r\n.ui-icon-closethick { background-position: -96px -128px; }\r\n.ui-icon-key { background-position: -112px -128px; }\r\n.ui-icon-lightbulb { background-position: -128px -128px; }\r\n.ui-icon-scissors { background-position: -144px -128px; }\r\n.ui-icon-clipboard { background-position: -160px -128px; }\r\n.ui-icon-copy { background-position: -176px -128px; }\r\n.ui-icon-contact { background-position: -192px -128px; }\r\n.ui-icon-image { background-position: -208px -128px; }\r\n.ui-icon-video { background-position: -224px -128px; }\r\n.ui-icon-script { background-position: -240px -128px; }\r\n\r\n.ui-icon-alert { background-position: 0 -144px; }\r\n.ui-icon-info { background-position: -16px -144px; }\r\n.ui-icon-notice { background-position: -32px -144px; }\r\n.ui-icon-help { background-position: -48px -144px; }\r\n.ui-icon-check { background-position: -64px -144px; }\r\n.ui-icon-bullet { background-position: -80px -144px; }\r\n.ui-icon-radio-on { background-position: -96px -144px; }\r\n.ui-icon-radio-off { background-position: -112px -144px; }\r\n.ui-icon-pin-w { background-position: -128px -144px; }\r\n.ui-icon-pin-s { background-position: -144px -144px; }\r\n\r\n.ui-icon-play { background-position: 0 -160px; }\r\n.ui-icon-pause { background-position: -16px -160px; }\r\n.ui-icon-seek-next { background-position: -32px -160px; }\r\n.ui-icon-seek-prev { background-position: -48px -160px; }\r\n.ui-icon-seek-end { background-position: -64px -160px; }\r\n.ui-icon-seek-first { background-position: -80px -160px; }\r\n.ui-icon-seek-start { background-position: -80px -160px; }\r\n.ui-icon-stop { background-position: -96px -160px; }\r\n.ui-icon-eject { background-position: -112px -160px; }\r\n.ui-icon-volume-off { background-position: -128px -160px; }\r\n.ui-icon-volume-on { background-position: -144px -160px; }\r\n\r\n.ui-icon-power { background-position: 0 -176px; }\r\n.ui-icon-signal-diag { background-position: -16px -176px; }\r\n.ui-icon-signal { background-position: -32px -176px; }\r\n.ui-icon-battery-0 { background-position: -48px -176px; }\r\n.ui-icon-battery-1 { background-position: -64px -176px; }\r\n.ui-icon-battery-2 { background-position: -80px -176px; }\r\n.ui-icon-battery-3 { background-position: -96px -176px; }\r\n\r\n.ui-icon-circle-plus { background-position: 0 -192px; }\r\n.ui-icon-circle-minus { background-position: -16px -192px; }\r\n.ui-icon-circle-close { background-position: -32px -192px; }\r\n.ui-icon-circle-triangle-e { background-position: -48px -192px; }\r\n.ui-icon-circle-triangle-s { background-position: -64px -192px; }\r\n.ui-icon-circle-triangle-w { background-position: -80px -192px; }\r\n.ui-icon-circle-triangle-n { background-position: -96px -192px; }\r\n.ui-icon-circle-arrow-e { background-position: -112px -192px; }\r\n.ui-icon-circle-arrow-s { background-position: -128px -192px; }\r\n.ui-icon-circle-arrow-w { background-position: -144px -192px; }\r\n.ui-icon-circle-arrow-n { background-position: -160px -192px; }\r\n.ui-icon-circle-zoomin { background-position: -176px -192px; }\r\n.ui-icon-circle-zoomout { background-position: -192px -192px; }\r\n.ui-icon-circle-check { background-position: -208px -192px; }\r\n\r\n.ui-icon-circlesmall-plus { background-position: 0 -208px; }\r\n.ui-icon-circlesmall-minus { background-position: -16px -208px; }\r\n.ui-icon-circlesmall-close { background-position: -32px -208px; }\r\n.ui-icon-squaresmall-plus { background-position: -48px -208px; }\r\n.ui-icon-squaresmall-minus { background-position: -64px -208px; }\r\n.ui-icon-squaresmall-close { background-position: -80px -208px; }\r\n\r\n.ui-icon-grip-dotted-vertical { background-position: 0 -224px; }\r\n.ui-icon-grip-dotted-horizontal { background-position: -16px -224px; }\r\n.ui-icon-grip-solid-vertical { background-position: -32px -224px; }\r\n.ui-icon-grip-solid-horizontal { background-position: -48px -224px; }\r\n.ui-icon-gripsmall-diagonal-se { background-position: -64px -224px; }\r\n.ui-icon-grip-diagonal-se { background-position: -80px -224px; }\r\n\r\n/* Misc visuals\r\n----------------------------------*/\r\n\r\n/* Corner radius */\r\n\r\n.ui-corner-all {\r\n\t-webkit-border-radius: 4px; /* Safari 4 */\r\n\t-moz-border-radius: 4px; /* Firefox 3.6 */\r\n\tborder-radius: 4px;\r\n}\r\n\r\n.ui-corner-top,\r\n.ui-corner-left,\r\n.ui-corner-tl {\r\n\t-webkit-border-top-left-radius: 4px; /* Safari 4 */\r\n\t-moz-border-radius-topleft: 4px; /* Firefox 3.6 */\r\n\tborder-top-left-radius: 4px;\r\n}\r\n\r\n.ui-corner-top,\r\n.ui-corner-right,\r\n.ui-corner-tr {\r\n\t-webkit-border-top-right-radius: 4px; /* Safari 4 */\r\n\t-moz-border-radius-topright: 4px; /* Firefox 3.6 */\r\n\tborder-top-right-radius: 4px;\r\n}\r\n\r\n.ui-corner-bottom,\r\n.ui-corner-left,\r\n.ui-corner-bl {\r\n\t-webkit-border-bottom-left-radius: 4px; /* Safari 4 */\r\n\t-moz-border-radius-bottomleft: 4px; /* Firefox 3.6 */\r\n\tborder-bottom-left-radius: 4px;\r\n}\r\n\r\n.ui-corner-bottom,\r\n.ui-corner-right,\r\n.ui-corner-br {\r\n\t-webkit-border-bottom-right-radius: 4px; /* Safari 4 */\r\n\t-moz-border-radius-bottomright: 4px; /* Firefox 3.6 */\r\n\tborder-bottom-right-radius: 4px;\r\n}\r\n\r\n/* Overlays */\r\n\r\n.ui-widget-overlay {\r\n\tbackground: #aaaaaa url("+i(n(16))+") 50% 50% repeat-x;\r\n\topacity: .30;\r\n\tfilter:Alpha(Opacity=30);\r\n}\r\n\r\n.ui-widget-shadow {\r\n\tmargin: -8px 0 0 -8px;\r\n\tpadding: 8px;\r\n\tbackground: #aaaaaa url("+i(n(16))+') 50% 50% repeat-x;\r\n\topacity: .30;\r\n\tfilter:Alpha(Opacity=30);\r\n\t-webkit-border-radius: 8px; /* Safari 4 */\r\n\t-moz-border-radius: 8px; /* Firefox 3.6 */\r\n\tborder-radius: 8px;\r\n}\r\n\r\n/*\r\n * jQuery UI Accordion 1.10.3\r\n *\r\n * Copyright 2013, AUTHORS.txt (http://jqueryui.com/about)\r\n * Dual licensed under the MIT or GPL Version 2 licenses.\r\n * http://jquery.org/license\r\n *\r\n * http://jqueryui.com/accordion/\r\n */\r\n\r\n/* IE/Win - Fix animation bug - #4615 */\r\n.ui-accordion {\r\n\twidth: 100%;\r\n}\r\n\r\n.ui-accordion .ui-accordion-li-fix {\r\n\tdisplay: inline;\r\n}\r\n\r\n.ui-accordion .ui-accordion-header-active {\r\n\tborder-bottom: 0 !important;\r\n}\r\n\r\n.ui-accordion .ui-accordion-header {\r\n\tdisplay: block;\r\n\tcursor: pointer;\r\n\tposition: relative;\r\n\tmargin-top: 2px;\r\n\tpadding: .5em .5em .5em .7em;\r\n\tmin-height: 0; /* support: IE7 */\r\n}\r\n\r\n.ui-accordion .ui-accordion-icons {\r\n\tpadding-left: 2.2em;\r\n}\r\n.ui-accordion .ui-accordion-noicons {\r\n\tpadding-left: .7em;\r\n}\r\n.ui-accordion .ui-accordion-icons .ui-accordion-icons {\r\n\tpadding-left: 2.2em;\r\n}\r\n.ui-accordion .ui-accordion-header .ui-accordion-header-icon {\r\n\tposition: absolute;\r\n\tleft: .5em;\r\n\ttop: 50%;\r\n\tmargin-top: -8px;\r\n}\r\n\r\n.ui-accordion .ui-accordion-content {\r\n\tpadding: 1em 2.2em;\r\n    border-top: 0 none;\r\n\tmargin-top: -3px;\r\n\tposition: relative;\r\n\ttop: 1px;\r\n\tmargin-bottom: 2px;\r\n\toverflow: auto;\r\n\tdisplay: none;\r\n}\r\n\r\n.ui-accordion .ui-accordion-content-active {\r\n\tdisplay: block;\r\n}\r\n\r\n\r\n/*\r\n * jQuery UI Autocomplete 1.10.3\r\n *\r\n * Copyright 2013, AUTHORS.txt (http://jqueryui.com/about)\r\n * Dual licensed under the MIT or GPL Version 2 licenses.\r\n * http://jquery.org/license\r\n *\r\n * http://jqueryui.com/autocomplete/\r\n */\r\n\r\n.ui-autocomplete {\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\tcursor: default;\r\n\tbackground-color: white;\r\n}\r\n\r\n\r\n/*\r\n * jQuery UI Button 1.10.3\r\n *\r\n * Copyright 2013, AUTHORS.txt (http://jqueryui.com/about)\r\n * Dual licensed under the MIT or GPL Version 2 licenses.\r\n * http://jquery.org/license\r\n *\r\n * http://docs.jquery.com/UI/Button#theming\r\n */\r\n\r\n.ui-button {\r\n\tcursor: pointer;\r\n\tdisplay: inline-block;\r\n\tpadding: 4px 12px;\r\n\tmargin-bottom: 0;\r\n\tfont-size: 14px;\r\n\tfont-weight: normal;\r\n\tline-height: 1.428571429;\r\n\ttext-align: center;\r\n\twhite-space: nowrap;\r\n\tvertical-align: middle;\r\n\tcursor: pointer;\r\n\tborder: 1px solid #ccc;\r\n\t-webkit-user-select: none;\r\n\t-moz-user-select: none;\r\n\t-ms-user-select: none;\r\n\t-o-user-select: none;\r\n\tuser-select: none;\r\n}\r\n\r\n.ui-button:focus {\r\n  outline: thin dotted #333;\r\n  outline: 5px auto -webkit-focus-ring-color;\r\n  outline-offset: -2px;\r\n}\r\n\r\n.ui-button:focus,\r\n.ui-button:hover {\r\n\tcolor: #333333;\r\n    background-color: #ebebeb;\r\n    border-color: #adadad;\r\n    text-decoration: none;\r\n}\r\n\r\nui-button.disabled,\r\nui-button[disabled],\r\nfieldset[disabled] ui-button,\r\nui-button.disabled:hover,\r\nui-button[disabled]:hover,\r\nfieldset[disabled] ui-button:hover,\r\nui-button.disabled:focus,\r\nui-button[disabled]:focus,\r\nfieldset[disabled] ui-button:focus,\r\nui-button.disabled:active,\r\nui-button[disabled]:active,\r\nfieldset[disabled] ui-button:active,\r\nui-button.disabled.active,\r\nui-button[disabled].active,\r\nfieldset[disabled] ui-button.ui-state-active {\r\n  background-color: #ffffff;\r\n  border-color: #cccccc;\r\n}\r\n\r\n.ui-btn-lg{\r\n\tpadding: 10px 16px;\r\n  font-size: 18px;\r\n  line-height: 1.33;\r\n  border-radius: 6px;\r\n}\r\n\r\n.ui-btn-sm,\r\n.ui-btn-xs {\r\n  padding: 5px 10px;\r\n  font-size: 12px;\r\n  line-height: 1.5;\r\n  border-radius: 3px;\r\n}\r\n\r\n.ui-btn-xs {\r\n  padding: 1px 5px;\r\n}\r\n\r\n.ui-btn-block {\r\n  display: block;\r\n  width: 100%;\r\n  padding-right: 0;\r\n  padding-left: 0;\r\n}\r\n\r\n.ui-btn-block + .ui-btn-block {\r\n  margin-top: 5px;\r\n}\r\n\r\ninput[type="submit"].ui-btn-block,\r\ninput[type="reset"].ui-btn-block,\r\ninput[type="button"].ui-btn-block {\r\n  width: 100%;\r\n}\r\n\r\n.ui-button-text-icon-primary \r\n.ui-button-icon-primary {\r\n    float:left;\r\n}\r\n\r\n.ui-button-text-icon-primary {\r\n    padding:2px 7px 3px;\r\n}\r\n\r\n.ui-button-primary {\r\n\tcolor: #ffffff;\r\n    background-color: #428bca;\r\n    border-color: #357ebd;\r\n}\r\n\r\n.ui-button-warning {\r\n\tcolor: #ffffff;\r\n\tbackground-color: #f0ad4e;\r\n\tborder-color: #eea236;\r\n}\r\n\r\n.ui-button-info {\r\n  color: #ffffff;\r\n  background-color: #5bc0de;\r\n  border-color: #46b8da;\r\n}\r\n.ui-button-danger {\r\n\tcolor: #ffffff;\r\n\tbackground-color: #d9534f;\r\n\tborder-color: #d43f3a;\r\n}\r\n\r\n.ui-button-inverse {\r\n\tcolor: #ffffff;\r\n\tbackground-color: #222222;\r\n    border-color: #080808;\r\n}\r\n\r\n.ui-button-success {\r\n  color: #ffffff;\r\n  background-color: #5cb85c;\r\n  border-color: #4cae4c;\r\n}\r\n\r\n.ui-button-error {\r\n\tcolor: #ffffff;\r\n\tbackground-color: #c43c35;\r\n\tborder-color: #882a25;\r\n}\r\n\r\n.ui-button-primary:hover,\r\n.ui-button-success:hover,\r\n.ui-button-info:hover,\r\n.ui-button-danger:hover, \r\n.ui-button-warning:hover,\r\n.ui-button-inverse:hover{\r\n\tcolor: #ffffff;\r\n\ttext-decoration: none;\r\n}\r\n\r\n.ui-button-primary:hover,\r\n.ui-button-primary:focus {\r\n\tcolor: #ffffff;\r\n\tbackground-color: #3276b1;\r\n\tborder-color: #285e8e;\r\n}\r\n.ui-button-success:hover{\r\n  color: #ffffff;\r\n  background-color: #47a447;\r\n  border-color: #398439;\r\n}\r\n\r\n.ui-button-info:hover{\r\n  color: #ffffff;\r\n  background-color: #39b3d7;\r\n  border-color: #269abc;\r\n}\r\n\r\n.ui-button-danger:hover{\r\n  color: #ffffff;\r\n  background-color: #d2322d;\r\n  border-color: #ac2925;\r\n}\r\n\r\n.ui-button-warning:hover{\r\n\tcolor: #ffffff;\r\n\tbackground-color: #ed9c28;\r\n\tborder-color: #d58512;\r\n}\r\n\r\n.ui-button-inverse:hover{\r\n\tcolor: #ffffff;\r\n\tbackground-color: #363636;\r\n\tborder-color: #000000;\r\n}\r\n\r\n/* to make room for the icon, a width needs to be set here */\r\n.ui-button-icon-only {\r\n\twidth: 2.2em;\r\n}\r\n\r\n/* button elements seem to need a little more width */\r\n.ui-button-icons-only {\r\n\twidth: 3.4em;\r\n}\r\n\r\nbutton.ui-button-icons-only {\r\n\twidth: 3.7em;\r\n}\r\n\r\n.ui-button-text-icon-primary .ui-button-icon-primary.ui-icon {\r\n    margin-top:5px;\r\n}\r\n/*button text element */\r\n\r\n.ui-button .ui-button-text {\r\n\tdisplay: block;\r\n\tline-height: normal;\r\n}\r\n\r\n.ui-button-icon-only .ui-button-text,\r\n.ui-button-icons-only .ui-button-text {\r\n\tpadding: .4em;\r\n\ttext-indent: -9999px;\r\n\tdisplay:none; /*tempfix*/\r\n}\r\n\r\n.ui-button-text-icon-primary .ui-button-text,\r\n.ui-button-text-icons .ui-button-text {\r\n\tpadding: .4em 1em .4em 2.1em;\r\n}\r\n\r\n.ui-button-text-icon-secondary .ui-button-text,\r\n.ui-button-text-icons .ui-button-text {\r\n\tpadding: .4em 2.1em .4em 1em;\r\n}\r\n\r\n.ui-button-text-icons .ui-button-text {\r\n\tpadding-left: 2.1em;\r\n\tpadding-right: 2.1em;\r\n}\r\n\r\n/* no icon support for input elements, provide padding by default */\r\ninput.ui-button {\r\n\tpadding: .4em 1em;\r\n}\r\n\r\n/*button icon element(s) */\r\n.ui-button-icon-only .ui-icon,\r\n.ui-button-text-icon-primary .ui-icon,\r\n.ui-button-text-icon-secondary .ui-icon,\r\n.ui-button-text-icons .ui-icon,\r\n.ui-button-icons-only .ui-icon {\r\n    margin-bottom: 0;\r\n    margin-top: 0;\r\n    top: 50%;\r\n}\r\n\r\n.ui-button-icon-only .ui-icon {\r\n\tleft: 50% !important;\r\n\t/* chrome margin*/\r\n\tmargin-left: -8px;\r\n\t/* firefox margin*/\r\n\tmargin-right: -6px;\r\n}\r\n\r\n.ui-button-text-icon-primary .ui-button-icon-primary,\r\n.ui-button-text-icons .ui-button-icon-primary,\r\n.ui-button-icons-only .ui-button-icon-primary {\r\n\tleft: .5em;\r\n}\r\n\r\n.ui-button-text-icon-secondary .ui-button-icon-secondary,\r\n.ui-button-text-icons .ui-button-icon-secondary,\r\n.ui-button-icons-only .ui-button-icon-secondary {\r\n\tright: .5em;\r\n}\r\n\r\n.ui-button-text-icons .ui-button-icon-secondary,\r\n.ui-button-icons-only .ui-button-icon-secondary {\r\n\tright: .5em;\r\n}\r\n\r\n/*button sets*/\r\n\r\n.ui-buttonset {\r\n\tmargin-right: 7px;\r\n}\r\n\r\n.ui-buttonset .ui-state-active {\r\n  color: #ffffff;\r\n  background-color: #428bca;\r\n  border-color: #357ebd;\r\n}\r\n\r\n.ui-buttonset .ui-state-active.ui-state-hover {\r\n  color: #ffffff;\r\n  background-color: #3276b1;\r\n  border-color: #285e8e;\r\n}\r\n\r\n.ui-buttonset .ui-button {\r\n\tmargin-left: 0;\r\n\tmargin-right: -.4em;\r\n}\r\n\r\n/* reset extra padding in Firefox */\r\nbutton.ui-button::-moz-focus-inner {\r\n\tborder: 0;\r\n\tpadding: 0;\r\n} \r\n\r\n\r\n/*\r\n * jQuery UI Menu 1.10.3\r\n *\r\n * Copyright 2013, AUTHORS.txt (http://jqueryui.com/about)\r\n * Dual licensed under the MIT or GPL Version 2 licenses.\r\n * http://jquery.org/license\r\n *\r\n * http://docs.jquery.com/UI/Menu#theming\r\n */\r\n\r\n.ui-menu {\r\n\tlist-style: none;\r\n\tpadding: 2px;\r\n\tmargin: 0;\r\n\tdisplay: block;\r\n\toutline: none;\r\n}\r\n\r\n.ui-menu .ui-menu{\r\n\tmargin-top: -3px;\r\n\tposition: absolute;\r\n\tlist-style:none;\r\n}\r\n\r\n/*\r\n* Bug inline with IE sub menu\r\n*/\r\n/* IE9, IE10 */\r\n@media screen and (min-width:0\\0) {\r\n\t.ui-menu li {\r\n\t  list-style-type: none;\r\n\t  display: inline;\r\n\t  line-height: 0;\r\n\t}\r\n\r\n\tli.ui-menu-item { \r\n\t  /* This fixes the IE10 issue (jQuery UI Issue #8844)*/\r\n\t  list-style-type: none;\r\n\t}\r\n}\r\n\r\n.ui-menu .ui-menu-item {\r\n\tmargin: 0;\r\n\tpadding: 0;\r\n\twidth: 100%;\r\n\tlist-style:none;\r\n\t/* support: IE10, see #8844 */\r\n\tlist-style-image: url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7);\r\n}\r\n\r\n.ui-menu .ui-menu-divider {\r\n\tmargin: 5px -2px 5px -2px;\r\n\theight: 0;\r\n\tfont-size: 0;\r\n\tline-height: 0;\r\n\tborder-width: 1px 0 0 0;\r\n}\r\n\r\n.ui-menu .ui-menu-item a {\r\n\ttext-decoration: none;\r\n\tdisplay: block;\r\n\tpadding: 2px .4em;\r\n\tline-height: 1.5;\r\n\tmin-height: 0; /* support: IE7 */\r\n\tfont-weight: normal;\r\n}\r\n\r\n.ui-menu .ui-menu-item a.ui-corner-all{\r\n\t-webkit-border-radius: 0px; /* Safari 4 */\r\n    -moz-border-radius: 0px; /* Firefox 3.6 */\r\n    border-radius: 0px;\r\n}\r\n\r\n.ui-menu .ui-menu-item a.ui-state-focus,\r\n.ui-menu .ui-menu-item a.ui-state-active,\r\n.ui-menu .ui-menu-item a.ui-widget-content{\r\n\tfont-weight: bold;\r\n\tmargin: 0;\r\n    background-color: #428BCA;\r\n    border-color: #357EBD;\r\n    color: #FFFFFF;\r\n    display: block;\r\n}\r\n\r\n/* Fix problem with border in ui-state-active */\r\n.ui-menu .ui-menu-item a.ui-state-active {\r\n\tpadding: 1px .4em;\r\n}\r\n\r\n.ui-menu .ui-state-disabled {\r\n\tfont-weight: normal;\r\n\tmargin: .4em 0 .2em;\r\n\tline-height: 1.5;\r\n}\r\n\r\n.ui-menu .ui-state-disabled a {\r\n\tcursor: default;\r\n}\r\n\r\n/* icon support */\r\n.ui-menu-icons {\r\n\tposition: relative;\r\n}\r\n\r\n.ui-menu-icons .ui-menu-item a {\r\n\tposition: relative;\r\n\tpadding-left: 2em;\r\n}\r\n\r\n/* left-aligned */\r\n.ui-menu .ui-icon {\r\n\tposition: absolute;\r\n\ttop: .2em;\r\n\tleft: .2em;\r\n}\r\n\r\n/* right-aligned */\r\n.ui-menu .ui-menu-icon {\r\n\tposition: static;\r\n\tfloat: right;\r\n}\r\n\r\n.ui-menu {\r\n\twidth: 200px;\r\n\tmargin-bottom: 2em;\r\n}\r\n\r\n\r\n/*\r\n * jQuery UI spinner 1.10.3\r\n *\r\n* Copyright 2013, AUTHORS.txt (http://jqueryui.com/about)\r\n * Dual licensed under the MIT or GPL Version 2 licenses.\r\n * http://jquery.org/license\r\n *\r\n * http://docs.jquery.com/UI/Menu#theming\r\n */\r\n\r\n.ui-spinner {\r\n\tposition: relative;\r\n\tdisplay: inline-block;\r\n\toverflow: hidden;\r\n\tpadding: 0;\r\n\tvertical-align: middle;\r\n}\r\n\r\n.ui-spinner-input {\r\n\tborder: none;\r\n\tbackground: none;\r\n\tpadding: 0;\r\n\tmargin: .2em 0;\r\n\tvertical-align: middle;\r\n\tmargin-left: .4em;\r\n\tmargin-right: 22px;\r\n}\r\n\r\n.ui-spinner-button {\r\n\twidth: 16px;\r\n\theight: 50%;\r\n\tfont-size: .5em;\r\n\tpadding: 0;\r\n\tmargin: 0;\r\n\ttext-align: center;\r\n\tposition: absolute;\r\n\tcursor: default;\r\n\tdisplay: block;\r\n\toverflow: hidden;\r\n\tright: 0;\r\n}\r\n\r\n/* more specificity required here to overide default borders */\r\n.ui-spinner a.ui-spinner-button {\r\n\tborder-top: none;\r\n\tborder-bottom: none;\r\n\tborder-right: none;\r\n}\r\n\r\n/* vertical centre icon */\r\n.ui-spinner .ui-icon {\r\n\tposition: absolute;\r\n\tmargin-top: -8px;\r\n\ttop: 50%;\r\n\tleft: 0;\r\n}\r\n\r\n.ui-spinner-up {\r\n\ttop: 0;\r\n}\r\n\r\n.ui-spinner-down {\r\n\tbottom: 0;\r\n}\r\n\r\n/* need to fix icons sprite */\r\n.ui-spinner .ui-icon-triangle-1-s {\r\n\tbackground-position: -65px -16px;\r\n}\r\n\r\n/*\r\n * jQuery UI Dialog 1.10.3\r\n *\r\n * Copyright 2013, AUTHORS.txt (http://jqueryui.com/about)\r\n * Dual licensed under the MIT or GPL Version 2 licenses.\r\n * http://jquery.org/license\r\n *\r\n * http://docs.jquery.com/UI/Dialog#theming\r\n */\r\n\r\n.ui-dialog {\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\tpadding: .2em;\r\n\twidth: 300px;\r\n\toverflow: hidden;\r\n\toutline: 0;\r\n\tbackground-clip: padding-box;\r\n\tbackground-color: #ffffff;\r\n\tborder: 1px solid rgba(0, 0, 0, 0.3);\r\n\tborder-radius: 6px 6px 6px 6px;\r\n\t-webkit-box-shadow: 0 3px 7px rgba(0, 0, 0, 0.3); /* Safari 4 */\r\n\t-moz-box-shadow: 0 3px 7px rgba(0, 0, 0, 0.3); /* Firefox 3.6 */\r\n\tbox-shadow: 0 3px 7px rgba(0, 0, 0, 0.3);\r\n\t/*left: 50%;\r\n\tmargin-left: -280px;*/\r\n\toutline: medium none;\r\n\t/*top: 10%;\r\n\twidth: 560px;*/\r\n\tz-index: 1050;\r\n}\r\n\r\n.ui-dialog .ui-dialog-titlebar {\r\n\t/*padding: .4em 1em;*/\r\n\tposition: relative;\r\n\tpadding: 5px 15px;\r\n\tborder: 0 0 0 1px solid;\r\n\tborder-color: white;\r\n\tpadding: 2px 15px;\r\n\tfont-size: 16px;\r\n\ttext-decoration: none;\r\n\t-webkit-border-bottom-right-radius: 0; /* Safari 4 */\r\n\t-moz-border-radius-bottomright: 0; /* Firefox 3.6 */\r\n\tborder-bottom-right-radius: 0;\r\n\t-webkit-border-bottom-left-radius: 0; /* Safari 4 */\r\n\t-moz-border-radius-bottomleft: 0; /* Firefox 3.6 */\r\n\tborder-bottom-left-radius: 0;\r\n\tborder-bottom: 1px solid #ccc;\r\n}\r\n\r\n.ui-dialog .ui-dialog-title {\r\n\tfloat: left;\r\n\tcolor: #404040;\r\n\tfont-weight: bold;\r\n\tmargin-top: 1px;\r\n\tmargin-bottom: 5px;\r\n\tpadding: 3px 5px;\r\n\ttext-overflow: ellipsis;\r\n\toverflow: hidden;\r\n\twhite-space:nowrap;\r\n\toverflow:hidden;\r\n\twidth:90%;\r\n}\r\n\r\n.ui-dialog-titlebar .ui-tab{\r\n\tdisplay:flex;\r\n\talign-items:flex-end;\r\n\tcursor:pointer;\r\n\tmargin-right:5px;\r\n\tmargin-top:5px;\r\n\tpadding: 3px 3px;\r\n\tbackground-color: #F5F5F5;\r\n}\r\n\r\n.ui-dialog-titlebar .ui-tab:hover{\r\n\tbackground-color:gray;\r\n}\r\n\r\n.ui-dialog-titlebar .ui-state-active{\r\n\tbackground-color:white;\r\n\tfont-weight:bold !important;\r\n\r\n}\r\n\r\n.ui-dialog .ui-dialog-titlebar-close {\r\n\tposition: absolute;\r\n\tright: .3em;\r\n\ttop: 50%;\r\n\twidth: 19px;\r\n\tmargin: -20px 0 0 0;\r\n\tpadding: 1px;\r\n\theight: 18px;\r\n\tfont-size: 20px;\r\n\tfont-weight: bold;\r\n\tline-height: 13.5px;\r\n\ttext-shadow: 0 1px 0 #ffffff;\r\n\tfilter:alpha(opacity=.75);\r\n\t-khtml-opacity: 0.75;\r\n\t-moz-opacity: 0.75;\r\n\topacity: 0.75;\r\n\tbackground: none;\r\n\tborder-width: 0;\r\n\tborder: none;\r\n\t-webkit-box-shadow: none; /* Safari 4 */\r\n\t-moz-box-shadow: none; /* Firefox 3.6 */\r\n\tbox-shadow: none;\r\n}\r\n\r\n.ui-dialog .ui-dialog-titlebar-close span {\r\n\tdisplay: block;\r\n\tmargin: 1px;\r\n\ttext-indent: 9999px;\r\n}\r\n\r\n.ui-dialog .ui-dialog-titlebar-close:hover,\r\n.ui-dialog .ui-dialog-titlebar-close:focus {\r\n\tpadding: 1px;\r\n\tfilter:alpha(opacity=90);\r\n\t-moz-opacity: 0.90;\r\n\topacity: 0.90;\t \r\n}\r\n\r\n.ui-dialog .ui-dialog-content {\r\n\tposition: relative;\r\n\tborder: 0;\r\n\tpadding: .5em 1em;\r\n\tbackground: none;\r\n\toverflow: auto;\r\n}\r\n\r\n.ui-dialog .ui-dialog-buttonpane {\r\n\ttext-align: left;\r\n\tborder-width: 1px 0 0 0;\r\n\tbackground-image: none;\r\n\tmargin: .5em 0 0 0;\r\n\tbackground-color: #ffffff;\r\n\tpadding: 2px 15px 2px;\r\n\tborder-top: 1px solid #ddd;\r\n\t-webkit-border-radius: 0 0 6px 6px; /* Safari 4 */\r\n\t-moz-border-radius: 0 0 6px 6px; /* Firefox 3.6 */\r\n\tborder-radius: 0 0 6px 6px;\r\n\t-webkit-box-shadow: inset 0 1px 0 #ffffff; /* Safari 4 */\r\n\t-moz-box-shadow: inset 0 1px 0 #ffffff; /* Firefox 3.6 */\r\n\tbox-shadow: inset 0 1px 0 #ffffff;\r\n\tmargin-bottom: 0;\r\n\r\n}\r\n\r\n.ui-dialog .ui-dialog-buttonpane .ui-dialog-buttonset {\r\n\tfloat: right;\r\n}\r\n\r\n.ui-dialog .ui-dialog-buttonpane button {\r\n\tmargin: .2em .4em .2em 0;\r\n\tcursor: pointer;\r\n}\r\n\r\n.ui-dialog .ui-resizable-se {\r\n\twidth: 14px;\r\n\theight: 14px;\r\n\tright: 3px;\r\n\tbottom: 3px;\r\n}\r\n\r\n.ui-draggable .ui-dialog-titlebar {\r\n\tcursor: move;\r\n}\r\n\r\n.ui-dialog-buttonpane .ui-dialog-buttonset .ui-button {\r\n    color: #ffffff;\r\n    background-color: #007bff;\r\n    border-color: #007bff;\r\n}\r\n\r\n.ui-dialog-buttonpane .ui-dialog-buttonset .ui-button.ui-state-hover:disabled{\r\n    color: #ffffff;\r\n    background-color:#007bff;\r\n    border-color:#007bff;\r\n}\r\n\r\n.ui-dialog-buttonset .ui-button[disabled]{\r\n\topacity:0.65;\r\n\tcursor:default\r\n}\r\n\r\n.ui-dialog-buttonpane .ui-dialog-buttonset .ui-button.ui-state-hover{\r\n    color: #ffffff;\r\n    background-color: #3276b1;\r\n    border-color: #285e8e;\r\n}\r\n\r\n/***Dialog fixes**/\r\n\r\n/*.ui-dialog-buttonset .ui-button:not(:first-child) {\r\n    cursor: pointer;\r\n    display: inline-block;\r\n    color: #333333;\r\n    background-color: #ffffff;\r\n    border: 1px solid #cccccc;\r\n    -webkit-transition: 0.1s linear all;\r\n    -moz-transition: 0.1s linear all;\r\n    -o-transition: 0.1s linear all;\r\n    transition: 0.1s linear all;\r\n    overflow: visible;\r\n}*/\r\n/*\r\n.ui-dialog-buttonset .ui-button:not(:first-child).ui-state-hover{\r\n    color: #333333;\r\n    background-color: #ebebeb;\r\n    border-color: #adadad;\r\n    text-decoration: none;\r\n}\r\n*/\r\n/* ui-dialog-buttonset UI info */\r\n.ui-dialog-buttonset .ui-button.ui-button-info{\r\n\tcolor: #ffffff;\r\n\tbackground-color: #5bc0de;\r\n\tborder-color: #46b8da;\r\n}\r\n\r\n.ui-dialog-buttonset .ui-button.ui-button-info.ui-state-hover{\r\n\tcolor: #ffffff;\r\n\tbackground-color: #39b3d7;\r\n\tborder-color: #269abc;\r\n}\r\n\r\n/* ui-dialog-buttonset UI success */\r\n.ui-dialog-buttonset .ui-button.ui-button-success{\r\n\tcolor: #ffffff;\r\n\tbackground-color: #5cb85c;\r\n\tborder-color: #4cae4c;\r\n}\r\n\r\n.ui-dialog-buttonset .ui-button.ui-button-success.ui-state-hover{\r\n\tcolor: #ffffff;\r\n\tbackground-color: #47a447;\r\n\tborder-color: #398439;\r\n}\r\n\r\n/* ui-dialog-buttonset UI warning */\r\n.ui-dialog-buttonset .ui-button.ui-button-warning{\r\n\tcolor: #ffffff;\r\n\tbackground-color: #f0ad4e;\r\n\tborder-color: #eea236;\r\n}\r\n\r\n.ui-dialog-buttonset .ui-button.ui-button-warning.ui-state-hover{\r\n    color: #ffffff;\r\n\tbackground-color: #ed9c28;\r\n\tborder-color: #d58512;\r\n}\r\n\r\n/* ui-dialog-buttonset UI Danger */\r\n.ui-dialog-buttonset .ui-button.ui-button-danger{\r\n\tcolor: #ffffff;\r\n\tbackground-color: #d9534f;\r\n\tborder-color: #d43f3a;\r\n}\r\n\r\n.ui-dialog-buttonset .ui-button.ui-button-danger.ui-state-hover{\r\n\tcolor: #ffffff;\r\n\tbackground-color: #d2322d;\r\n\tborder-color: #ac2925;\r\n}\r\n\r\n/* ui-dialog-buttonset UI Inverse */\r\n.ui-dialog-buttonset .ui-button.ui-button-inverse{\r\n\tcolor: #ffffff;\r\n\tbackground-color: #222222;\r\n    border-color: #080808;\r\n}\r\n\r\n.ui-dialog-buttonset .ui-button.ui-button-inverse.ui-state-hover{\r\n\tcolor: #ffffff;\r\n\tbackground-color: #363636;\r\n\tborder-color: #000000;\r\n}\r\n\r\n/*\r\n * jQuery UI Slider 1.10.3\r\n *\r\n * Copyright 2013, AUTHORS.txt (http://jqueryui.com/about)\r\n * Dual licensed under the MIT or GPL Version 2 licenses.\r\n * http://jquery.org/license\r\n *\r\n * http://docs.jquery.com/UI/Slider#theming\r\n */\r\n\r\n.ui-slider {\r\n\tposition: relative;\r\n\ttext-align: left;\r\n}\r\n\r\n/* For IE8 - See #6727 */\r\n.ui-slider.ui-state-disabled .ui-slider-handle,\r\n.ui-slider.ui-state-disabled .ui-slider-range {\r\n\tfilter: inherit;\r\n}\r\n\r\n.ui-slider .ui-slider-handle {\r\n\tposition: absolute;\r\n\tz-index: 2;\r\n\twidth: 1.2em;\r\n\theight: 1.2em;\r\n\tcursor: default;\r\n}\r\n\r\n.ui-slider .ui-slider-range {\r\n\tposition: absolute;\r\n\tz-index: 1;\r\n\tfont-size: .7em;\r\n\tdisplay: block;\r\n\tborder: 0;\r\n\tbackground-position: 0 0;\r\n\tcolor: #ffffff;\r\n\tbackground-color: #0e90d2;\r\n\tbackground-image: -moz-linear-gradient(top, #149bdf, #0480be);\r\n\tbackground-image: -webkit-gradient(linear, 0 0, 0 100%, from(#149bdf), to(#0480be));\r\n\tbackground-image: -webkit-linear-gradient(top, #149bdf, #0480be);\r\n\tbackground-image: -o-linear-gradient(top, #149bdf, #0480be);\r\n\tbackground-image: linear-gradient(to bottom, #149bdf, #0480be);\r\n\tbackground-repeat: repeat-x;\r\n\tfilter: progid:DXImageTransform.Microsoft.gradient(startColorstr=\'#ff149bdf\', endColorstr=\'#ff0480be\', GradientType=0);\r\n\t-webkit-box-shadow: inset 0 -1px 0 rgba(0, 0, 0, 0.15);\r\n\t-moz-box-shadow: inset 0 -1px 0 rgba(0, 0, 0, 0.15);\r\n\tbox-shadow: inset 0 -1px 0 rgba(0, 0, 0, 0.15);\r\n\t-webkit-box-sizing: border-box;\r\n\t-moz-box-sizing: border-box;\r\n\tbox-sizing: border-box;\r\n\t/*-webkit-transition: width 0.6s ease;\r\n\t-moz-transition: width 0.6s ease;\r\n\t-o-transition: width 0.6s ease;\r\n\ttransition: width 0.6s ease;*/\r\n}\r\n\r\n.ui-slider-horizontal {\r\n\theight: .8em;\r\n}\r\n\r\n.ui-slider-horizontal .ui-slider-handle {\r\n\ttop: -.3em;\r\n\tmargin-left: -.6em;\r\n}\r\n\r\n.ui-slider-horizontal .ui-slider-range {\r\n\ttop: 0;\r\n\theight: 100%;\r\n}\r\n\r\n.ui-slider-horizontal .ui-slider-range-min {\r\n\tleft: 0;\r\n}\r\n\r\n.ui-slider-horizontal .ui-slider-range-max {\r\n\tright: 0;\r\n}\r\n\r\n.ui-slider-vertical {\r\n\twidth: .8em;\r\n\theight: 100px;\r\n}\r\n\r\n.ui-slider-vertical .ui-slider-handle {\r\n\tleft: -.3em;\r\n\tmargin-left: 0;\r\n\tmargin-bottom: -.6em;\r\n}\r\n\r\n.ui-slider-vertical .ui-slider-range {\r\n\tleft: 0;\r\n\twidth: 100%;\r\n}\r\n\r\n.ui-slider-vertical .ui-slider-range-min {\r\n\tbottom: 0;\r\n}\r\n\r\n.ui-slider-vertical .ui-slider-range-max {\r\n\ttop: 0;\r\n}\r\n\r\n/*\r\n * jQuery UI Tabs 1.10.3\r\n *\r\n * Copyright 2013, AUTHORS.txt (http://jqueryui.com/about)\r\n * Dual licensed under the MIT or GPL Version 2 licenses.\r\n * http://jquery.org/license\r\n *\r\n * http://jqueryui.com/tabs/\r\n */\r\n\r\n.ui-tabs {\r\n\tposition: relative; /* position: relative prevents IE scroll bug (element with position: relative inside container with overflow: auto appear as "fixed") */\r\n\tborder: 0;\r\n\t-webkit-border-radius: 0; /* Safari 4 */\r\n\t-moz-border-radius: 0; /* Firefox 3.6 */\r\n\tborder-radius: 0;\r\n}\r\n\r\n.ui-tabs .ui-tabs-nav {\r\n\tmargin-bottom: 5px;\r\n\tborder: solid #ddd;\r\n\tborder-width: 0 0 1px 0;\r\n\t-webkit-border-radius: 0; /* Safari 4 */\r\n\t-moz-border-radius: 0; /* Firefox 3.6 */\r\n\tborder-radius: 0;\r\n\tbackground: none;\r\n}\r\n\r\n.ui-tabs .ui-tabs-nav li {\r\n\tposition: relative;\r\n\ttop: 0;\r\n\tfloat: left;\r\n\tmargin-right: 2px;\r\n\tmargin-bottom: -1px;\r\n\tborder: 0;\r\n\tlist-style: none;\r\n\twhite-space: nowrap;\r\n\tbackground: none;\r\n}\r\n\r\n.ui-tabs-nav .ui-state-default {\r\n\tborder: 0;\r\n\t-webkit-box-shadow: none;  /* Safari 4 */\r\n\t-moz-box-shadow: none;  /* Firefox 3.6 */\r\n\tbox-shadow: none;\r\n}\r\n\r\n.ui-tabs .ui-tabs-nav li a {\r\n\tfloat: left;\r\n\tborder: 1px solid #fff;\r\n\tborder-bottom: 1px solid #ddd;\r\n\t-webkit-border-radius: 4px 4px 0 0; /* Safari 4 */\r\n\t-moz-border-radius: 4px 4px 0 0; /* Firefox 3.6 */\r\n\tborder-radius: 4px 4px 0 0;\r\n\tpadding: 8px 12px;\r\n\tfont-weight: normal;\r\n\ttext-decoration: none;\r\n\toutline: none;\r\n\tcolor: #0069D6;\r\n\tbackground: none;\r\n}\r\n\r\n.ui-tabs .ui-tabs-nav li a:hover {\r\n\tborder: 1px solid whiteSmoke;\r\n\tborder-bottom: 1px solid #ddd;\r\n\tbackground-color: whiteSmoke;\r\n}\r\n\r\n.ui-tabs .ui-tabs-nav li.ui-tabs-active a {\r\n\tborder: 1px solid #ddd;\r\n\tborder-bottom: 1px solid #fff;\r\n\tbackground-color: #fff;\r\n\tcolor: #555;\r\n}\r\n\r\n.ui-tabs .ui-tabs-nav li.ui-tabs-active:hover {\r\n\tbackground: #fff;\r\n\tcursor: text;\r\n}\r\n\r\n.ui-tabs .ui-tabs-nav li.ui-tabs-active a,\r\n.ui-tabs .ui-tabs-nav li.ui-state-disabled a,\r\n.ui-tabs .ui-tabs-nav li.ui-tabs-loading a {\r\n\tcursor: text;\r\n}\r\n\r\n/* first selector in group seems obsolete, but required to overcome bug in Opera applying cursor: text overall if defined elsewhere... */\r\n.ui-tabs .ui-tabs-panel {\r\n\tdisplay: block;\r\n\tmargin: 1em 0;\r\n\tborder: 0;\r\n\t-webkit-border-radius: 0; /* Safari 4 */\r\n\t-moz-border-radius: 0; /* Firefox 3.6 */\r\n\tborder-radius: 0;\r\n\tpadding: 1px 0;\r\n\tbackground: none;\r\n}\r\n\r\n.ui-tabs .ui-tabs-hide {\r\n\tdisplay: none !important;\r\n}\r\n\r\n/* IE fix for background inheritance from ui-widget */\r\n.ui-tabs .ui-tabs-nav li {\r\n\tfilter:none;\r\n}\r\n\r\n/*\r\n * jQuery UI Tooltip 1.10.3\r\n *\r\n * Copyright 2013, AUTHORS.txt (http://jqueryui.com/about)\r\n * Dual licensed under the MIT or GPL Version 2 licenses.\r\n * http://jquery.org/license\r\n *\r\n * http://jqueryui.com/tooltip/\r\n */\r\n\r\n.ui-tooltip {\r\n    display: block;\r\n    font-size: 11px;\r\n    opacity: 0.8;\r\n    position: absolute;\r\n    visibility: visible;\r\n    z-index: 1024;\r\n    max-width: 200px;\r\n}\r\n\r\n.ui-tooltip {\r\n    background: #000000;\r\n    border: 1px solid #000000;\r\n}\r\n\r\n.ui-tooltip {\r\n    color: #FFFFFF;\r\n    padding: 3px 8px;\r\n    text-align: center;\r\n    text-decoration: none;\r\n    -webkit-box-shadow: inset 0 1px 0 #000000; /* Safari 4 */\r\n    -moz-box-shadow: inset 0 1px 0 #000000; /* Firefox 3.6 */\r\n    box-shadow: inset 0 1px 0 #000000;\r\n    border-radius: 4px 4px 4px 4px;\r\n}\r\n\r\nbody .ui-tooltip {\r\n\tborder-width: 1px;\r\n}\r\n\r\n.arrow {\r\n    overflow: hidden;\r\n    position: absolute;\r\n    margin-left: 0;\r\n    height: 20px;\r\n    width: 20px;\r\n}\r\n\r\n.arrow.bottom {\r\n    top: 100%;\r\n    left: 38%;\r\n}\r\n\r\n.arrow.top {\r\n    top: -50%;\r\n    bottom: 22px;\r\n    left: 42%;\r\n}\r\n\r\n.arrow.left {\r\n    top : 25%;\r\n    left: -15%;\r\n    right: 0;\r\n    bottom:-16px;\r\n}\r\n\r\n.arrow.right {\r\n    top: 26%;\r\n    left: 100%;\r\n    right: 0;\r\n    bottom:-16px;\r\n    margin-left: 1px;\r\n}\r\n\r\n.arrow:after {\r\n    content : " " ;\r\n    position : absolute ;\r\n    height : 0 ;\r\n    left:0;\r\n    top: 0;\r\n    width: 0;\r\n    margin-left : 0 ;\r\n    bottom : 12px ;\r\n    box-shadow: 6px 5px 9px -9px black;\r\n}\r\n\r\n.arrow.bottom:after {\r\n    border-top:8px solid #000000;\r\n    border-right:8px solid transparent;\r\n    border-bottom:8px solid transparent;\r\n    border-left:8px solid transparent;\r\n}\r\n\r\n.arrow.top:after {\r\n    border-top:6px solid transparent;\r\n    border-right:6px solid transparent;\r\n    border-bottom:6px solid #000000;\r\n    border-left:6px solid transparent;\r\n}\r\n\r\n.arrow.left:after{\r\n    width:0;\r\n    border-top: 6px solid transparent;\r\n    border-right: 6px solid #000000;\r\n    border-bottom: 6px solid transparent;\r\n    border-left: 6px solid transparent;\r\n}\r\n\r\n.arrow.right:after{\r\n    width:0;\r\n    border-top: 6px solid transparent;\r\n    border-right: 6px solid transparent;\r\n    border-bottom: 6px solid transparent;\r\n    border-left: 6px solid #000000;\r\n}\r\n\r\n/*\r\n * jQuery UI Datepicker 1.10.3\r\n *\r\n * Copyright 2013, AUTHORS.txt (http://jqueryui.com/about)\r\n * Dual licensed under the MIT or GPL Version 2 licenses.\r\n * http://jquery.org/license\r\n *\r\n * http://jqueryui.com/datepicker/\r\n */\r\n\r\n.ui-datepicker {\r\n\twidth: 17em;\r\n\tpadding: .2em .2em 0;\r\n\tdisplay: none;\r\n}\r\n\r\n.ui-datepicker .ui-datepicker-header {\r\n\tposition:relative;\r\n\tpadding: .2em 0;\r\n\tborder: 0;\r\n\tfont-weight: bold;\r\n\twidth: 100%;\r\n\tpadding: 4px 0;\r\n\tbackground-color: #f5f5f5;\r\n\tcolor: #808080;\r\n}\r\n\r\n.ui-datepicker .ui-datepicker-prev,\r\n.ui-datepicker .ui-datepicker-next {\r\n\tposition: absolute;\r\n\ttop: 2px;\r\n\twidth: 1.8em;\r\n\theight: 1.8em;\r\n}\r\n\r\n.ui-datepicker .ui-datepicker-prev-hover,\r\n.ui-datepicker .ui-datepicker-next-hover {\r\n\t/*top: 1px;*/\r\n}\r\n\r\n.ui-datepicker .ui-datepicker-prev {\r\n\tleft: 2px;\r\n}\r\n\r\n.ui-datepicker .ui-datepicker-next {\r\n\tright: 2px;\r\n}\r\n\r\n.ui-datepicker .ui-datepicker-prev-hover {\r\n\t/*left:1px;*/\r\n}\r\n\r\n.ui-datepicker .ui-datepicker-next-hover {\r\n\t/*right:1px;*/\r\n}\r\n\r\n.ui-datepicker .ui-datepicker-prev span,\r\n.ui-datepicker .ui-datepicker-next span {\r\n\tdisplay: block;\r\n\tposition: absolute;\r\n\tleft: 50%;\r\n\tmargin-left: -8px;\r\n\ttop: 50%;\r\n\tmargin-top: -8px;\r\n}\r\n\r\n.ui-datepicker .ui-datepicker-title {\r\n\tmargin: 0 2.3em;\r\n\tline-height: 1.8em;\r\n\ttext-align: center;\r\n}\r\n\r\n.ui-datepicker .ui-datepicker-title select {\r\n\tfont-size: 1em;\r\n\tmargin: 1px 0;\r\n}\r\n\r\n.ui-datepicker select.ui-datepicker-month-year {\r\n\twidth: 100%;\r\n}\r\n\r\n.ui-datepicker select.ui-datepicker-month,\r\n.ui-datepicker select.ui-datepicker-year {\r\n\twidth: 49%;\r\n}\r\n\r\n.ui-datepicker table {\r\n\twidth: 100%;\r\n\tfont-size: .9em;\r\n\tborder-collapse: collapse;\r\n\tmargin:0 0 .4em;\r\n}\r\n\r\n.ui-datepicker th {\r\n\tpadding: .7em .3em;\r\n\ttext-align: center;\r\n\tfont-weight: bold;\r\n\tborder: 0;\r\n}\r\n\r\n.ui-datepicker td {\r\n\tborder: 0;\r\n\tpadding: 1px;\r\n}\r\n\r\n.ui-datepicker td span,\r\n.ui-datepicker td a {\r\n\tdisplay: block;\r\n\tpadding: .2em;\r\n\ttext-align: right;\r\n\ttext-decoration: none;\r\n}\r\n\r\n.ui-datepicker .ui-datepicker-buttonpane {\r\n\tbackground-image: none;\r\n\tmargin: .7em 0 0 0;\r\n\tpadding:0 .2em;\r\n\tborder-left: 0;\r\n\tborder-right: 0;\r\n\tborder-bottom: 0;\r\n}\r\n\r\n.ui-datepicker .ui-datepicker-buttonpane button {\r\n\tfloat: right;\r\n\tmargin: .5em .2em .4em;\r\n\tcursor: pointer;\r\n\tpadding: .2em .6em .3em .6em;\r\n\twidth: auto;\r\n\toverflow:visible;\r\n}\r\n\r\n.ui-datepicker .ui-datepicker-buttonpane button.ui-datepicker-current {\r\n\tfloat: left;\r\n}\r\n\r\n/* with multiple calendars */\r\n\r\n.ui-datepicker.ui-datepicker-multi {\r\n\twidth: auto;\r\n}\r\n\r\n.ui-datepicker-multi .ui-datepicker-group {\r\n\tfloat: left;\r\n}\r\n\r\n.ui-datepicker-multi .ui-datepicker-group table {\r\n\twidth: 95%;\r\n\tmargin: 0 auto .4em;\r\n}\r\n\r\n.ui-datepicker-multi-2 .ui-datepicker-group {\r\n\twidth: 50%;\r\n}\r\n\r\n.ui-datepicker-multi-3 .ui-datepicker-group {\r\n\twidth: 33.3%;\r\n}\r\n\r\n.ui-datepicker-multi-4 .ui-datepicker-group {\r\n\twidth: 25%;\r\n}\r\n\r\n.ui-datepicker-multi .ui-datepicker-group-last .ui-datepicker-header {\r\n\tborder-left-width: 0;\r\n}\r\n\r\n.ui-datepicker-multi .ui-datepicker-group-middle .ui-datepicker-header {\r\n\tborder-left-width: 0;\r\n}\r\n\r\n.ui-datepicker-multi .ui-datepicker-buttonpane {\r\n\tclear: left;\r\n}\r\n\r\n.ui-datepicker-row-break {\r\n\tclear: both;\r\n\twidth: 100%;\r\n\tfont-size: 0em;\r\n}\r\n\r\n/* RTL support */\r\n\r\n.ui-datepicker-rtl {\r\n\tdirection: rtl;\r\n}\r\n\r\n.ui-datepicker-rtl .ui-datepicker-prev {\r\n\tright: 2px;\r\n\tleft: auto;\r\n}\r\n\r\n.ui-datepicker-rtl .ui-datepicker-next {\r\n\tleft: 2px;\r\n\tright: auto;\r\n}\r\n\r\n.ui-datepicker-rtl .ui-datepicker-prev:hover {\r\n\tright: 1px;\r\n\tleft: auto;\r\n}\r\n\r\n.ui-datepicker-rtl .ui-datepicker-next:hover {\r\n\tleft: 1px;\r\n\tright: auto;\r\n}\r\n\r\n.ui-datepicker-rtl .ui-datepicker-buttonpane {\r\n\tclear: right;\r\n}\r\n\r\n.ui-datepicker-rtl .ui-datepicker-buttonpane button {\r\n\tfloat: left;\r\n}\r\n\r\n.ui-datepicker-rtl .ui-datepicker-buttonpane button.ui-datepicker-current {\r\n\tfloat: right;\r\n}\r\n\r\n.ui-datepicker-rtl .ui-datepicker-group {\r\n\tfloat: right;\r\n}\r\n\r\n.ui-datepicker-rtl .ui-datepicker-group-last .ui-datepicker-header {\r\n\tborder-right-width: 0;\r\n\tborder-left-width: 1px;\r\n}\r\n\r\n.ui-datepicker-rtl .ui-datepicker-group-middle .ui-datepicker-header {\r\n\tborder-right-width: 0;\r\n\tborder-left-width: 1px;\r\n}\r\n\r\n/* IE6 IFRAME FIX (taken from datepicker 1.5.3 */\r\n.ui-datepicker-cover {\r\n\tdisplay: none; /*sorry for IE5*/\r\n\tdisplay/**/: block; /*sorry for IE5*/\r\n\tposition: absolute; /*must have*/\r\n\tz-index: -1; /*must have*/\r\n\tfilter: mask(); /*must have*/\r\n\ttop: -4px; /*must have*/\r\n\tleft: -4px; /*must have*/\r\n\twidth: 200px; /*must have*/\r\n\theight: 200px; /*must have*/\r\n}\r\n\r\n.ui-datepicker th {\r\n\tfont-weight: bold;\r\n\tcolor: gray;\r\n}\r\n\r\n.ui-datepicker-today a:hover {\r\n\tbackground-color: #808080;\r\n\tcolor: #ffffff;\r\n\r\n}\r\n.ui-datepicker-today a {\r\n\tbackground-color: #BFBFBF;\r\n\tcursor: pointer;\r\n\tpadding: 0 4px;\r\n\tmargin-bottom: 0;\r\n}\r\n\r\n.ui-datepicker td a {\r\n\tmargin-bottom: 0;\r\n\tborder: 0;\r\n}\r\n\r\n.ui-datepicker td:hover {\r\n\tcolor: #ffffff;\r\n}\r\n\r\n.ui-datepicker td .ui-state-default {\r\n\tborder: 0;\r\n\tbackground:none;\r\n\tmargin-bottom: 0;\r\n\tpadding: 5px;\r\n\tcolor: gray;\r\n\ttext-align: center;\r\n\tfilter: none;\r\n}\r\n\r\n.ui-datepicker td .ui-state-highlight{\r\n\tcolor: #ffffff;\r\n\tbackground-color: #5bc0de;\r\n\tborder-color: #46b8da;\r\n\ttext-shadow: 0 -1px 0 rgba(0, 0, 0, 0.25);\r\n\tborder-color: rgba(0, 0, 0, 0.1) rgba(0, 0, 0, 0.1) rgba(0, 0, 0, 0.25);\r\n\t-webkit-border-radius: 4px; /* Safari 4 */\r\n\t-moz-border-radius: 4px; /* Firefox 3.6 */\r\n\tborder-radius: 4px;\r\n}\r\n\r\n.ui-datepicker td .ui-state-active {\r\n\tcolor: #333333;\r\n    background-color: #ebebeb;\r\n    border-color: #adadad;\r\n\tmargin-bottom: 0;\r\n\tfont-size: normal;\r\n\ttext-shadow: 0;\r\n\tborder-color: rgba(0, 0, 0, 0.1) rgba(0, 0, 0, 0.1) rgba(0, 0, 0, 0.25);\r\n\t-webkit-border-radius: 4px; /* Safari 4 */\r\n\t-moz-border-radius: 4px; /* Firefox 3.6 */\r\n\tborder-radius: 4px;\r\n}\r\n\r\n.ui-datepicker td .ui-state-hover {\r\n\tcolor: #ffffff;\r\n\tbackground: #428bca;\r\n\tbackground-color: #428bca;\r\n\ttext-shadow: 0 -1px 0 rgba(0, 0, 0, 0.25);\r\n\tborder-color: #357ebd;\r\n\tborder-color: rgba(0, 0, 0, 0.1) rgba(0, 0, 0, 0.1) rgba(0, 0, 0, 0.25);\r\n\t-webkit-border-radius: 4px; /* Safari 4 */\r\n\t-moz-border-radius: 4px; /* Firefox 3.6 */\r\n\tborder-radius: 4px;\r\n}\r\n\r\n\r\n/*\r\n * jQuery UI Progressbar 1.10.3\r\n *\r\n * Copyright 2013, AUTHORS.txt (http://jqueryui.com/about)\r\n * Dual licensed under the MIT or GPL Version 2 licenses.\r\n * http://jquery.org/license\r\n *\r\n * http://docs.jquery.com/UI/Progressbar#theming\r\n */\r\n\r\n.ui-progressbar {\r\n\theight:2em;\r\n\tmargin-bottom: 2px;\r\n\tborder:0px;\r\n\toverflow: hidden;\r\n\tbackground-color: #f7f7f7;\r\n\tbackground-image: -moz-linear-gradient(top, #f5f5f5, #f9f9f9);\r\n\tbackground-image: -webkit-gradient(linear, 0 0, 0 100%, from(#f5f5f5), to(#f9f9f9));\r\n\tbackground-image: -webkit-linear-gradient(top, #f5f5f5, #f9f9f9);\r\n\tbackground-image: -o-linear-gradient(top, #f5f5f5, #f9f9f9);\r\n\tbackground-image: linear-gradient(to bottom, #f5f5f5, #f9f9f9);\r\n\tbackground-repeat: repeat-x;\r\n\t-webkit-border-radius: 4px;\r\n\t-moz-border-radius: 4px;\r\n\tborder-radius: 4px;\r\n\tfilter: progid:DXImageTransform.Microsoft.gradient(startColorstr=\'#fff5f5f5\', endColorstr=\'#fff9f9f9\', GradientType=0);\r\n\t-webkit-box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.1);\r\n\t-moz-box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.1);\r\n\tbox-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.ui-progressbar .ui-progressbar-value {\r\n\tmargin: 0px;\r\n\theight: 100%;\r\n\theight:100%;\r\n\tcolor: #ffffff; /*this can be removed if ui-widget-header is blue*/\r\n\tbackground-color: #428BCA;\r\n\t-webkit-box-sizing: border-box;\r\n\t-moz-box-sizing: border-box;\r\n\tbox-sizing: border-box;\r\n\t-webkit-transition: width 0.3s ease;\r\n\ttransition: width 0.3s ease;\r\n}\r\n\r\n.ui-progressbar .ui-progressbar-overlay {\r\n\tbackground-image: -webkit-gradient(linear, 0 100%, 100% 0, color-stop(0.25, rgba(255, 255, 255, 0.15)), color-stop(0.25, transparent), color-stop(0.5, transparent), color-stop(0.5, rgba(255, 255, 255, 0.15)), color-stop(0.75, rgba(255, 255, 255, 0.15)), color-stop(0.75, transparent), to(transparent));\r\n\tbackground-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);\r\n\tbackground-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);\r\n\tbackground-image: linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);\r\n\tbackground-size: 40px 40px;\r\n\t-webkit-animation: progress-bar-stripes 2s linear infinite;\r\n\t-moz-animation: progress-bar-stripes 2s linear infinite;\r\n\t-ms-animation: progress-bar-stripes 2s linear infinite;\r\n\t-o-animation: progress-bar-stripes 2s linear infinite;\r\n\tanimation: progress-bar-stripes 2s linear infinite;\r\n}\r\n\r\n.ui-progressbar-indeterminate .ui-progressbar-value {\r\n\tbackground-image: none;\r\n}\r\n\r\n/*** Input field styling from Bootstrap **/\r\n\r\n input, textarea {\r\n\t-webkit-transition: border linear 0.2s, box-shadow linear 0.2s;\r\n\t-moz-transition: border linear 0.2s, box-shadow linear 0.2s;\r\n\t-o-transition: border linear 0.2s, box-shadow linear 0.2s;\r\n\ttransition: border linear 0.2s, box-shadow linear 0.2s;\r\n\t\r\n}\r\n\r\ntextarea {\r\n  overflow: auto;\r\n  vertical-align: top;\r\n}\r\n\r\ninput:focus, textarea:focus {\r\n\toutline: 0;\r\n\tborder-color: rgba(82, 168, 236, 0.8);\r\n\t-webkit-box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1), 0 0 8px rgba(82, 168, 236, 0.6); /* Safari 4 */\r\n\t-moz-box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1), 0 0 8px rgba(82, 168, 236, 0.6); /* Firefox 3.6 */\r\n\tbox-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1), 0 0 8px rgba(82, 168, 236, 0.6);\r\n}\r\ninput[type=file]:focus, input[type=checkbox]:focus, select:focus {\r\n\t-webkit-box-shadow: none; /* Safari 4 */\r\n\t-moz-box-shadow: none; /* Firefox 3.6 */\r\n\tbox-shadow: none;\r\n\toutline: 1px dotted #666;\r\n}\r\n\r\ninput,\r\ninput[type="text"],\r\ninput[type="email"],\r\ninput[type="tel"],\r\ninput[type="search"],\r\ninput[type="url"],\r\ninput[type="password"],\r\n.ui-autocomplete-input,\r\ntextarea,\r\n.uneditable-input {\r\n\tdisplay: inline-block;\r\n\tpadding: 4px;\r\n\tfont-size: 13px;\r\n\tline-height: 18px;\r\n\tcolor: #555555;\r\n\tborder: 1px solid #ccc;\r\n\t-webkit-border-radius: 3px; /* Safari 4 */\r\n\t-moz-border-radius: 3px; /* Firefox 3.6 */\r\n\tborder-radius: 3px;\r\n}\r\n\r\ninput[type="search"] {\r\n  -webkit-appearance: textfield;\r\n  -moz-box-sizing: content-box;\r\n  -webkit-box-sizing: content-box;\r\n  box-sizing: content-box;\r\n}\r\ninput[type="search"]::-webkit-search-cancel-button,\r\ninput[type="search"]::-webkit-search-decoration {\r\n  -webkit-appearance: none;\r\n}\r\n\r\n/**Toolbar**/\r\n\r\n.ui-toolbar {\r\n\tpadding: 7px 14px;\r\n\tmargin: 0 0 18px;\r\n\tbackground-color: #f5f5f5;\r\n\tbackground-repeat: repeat-x;\r\n\tbackground-image: -webkit-linear-gradient(top, #ffffff, #f5f5f5); /* Safari 5.1+, Chrome 10+ */\r\n\tbackground-image: -moz-linear-gradient(top, #ffffff, #f5f5f5); /* Firefox 3.6 */\r\n\tbackground-image: -o-linear-gradient(top, #ffffff, #f5f5f5); /* Opera 11.10+ */\r\n\tbackground-image: linear-gradient(top, #ffffff, #f5f5f5); /* CSS3 Compliant */\r\n\tfilter:progid:DXImageTransform.Microsoft.gradient(startColorstr=\'#ffffff\', endColorstr=\'#f5f5f5\', GradientType=0); /* IE8 */\r\n\tborder: 1px solid #ddd;\r\n\t-webkit-border-radius: 3px; /* Safari 4 */\r\n\t-moz-border-radius: 3px; /* Firefox 3.6 */\r\n\tborder-radius: 3px;\r\n\t-webkit-box-shadow: inset 0 1px 0 #ffffff; /* Safari 4 */\r\n\t-moz-box-shadow: inset 0 1px 0 #ffffff; /* Firefox 3.6 */\r\n\tbox-shadow: inset 0 1px 0 #ffffff;\r\n}\r\n\r\n/********** VJ - Move to Less - End *************/\r\n\r\n/** File Input **/\r\n\r\n.customfile-button{\r\n    padding: 6px 12px;\r\n    margin-bottom: 0;\r\n    font-size: 14px;\r\n    font-weight: normal;\r\n    line-height: 1.428571429;\r\n    text-align: center;\r\n    white-space: nowrap;\r\n    vertical-align: middle;\r\n    cursor: pointer;\r\n    border: 1px solid #ccc;\r\n    -webkit-user-select: none;\r\n    -moz-user-select: none;\r\n    -ms-user-select: none;\r\n    -o-user-select: none;\r\n    user-select: none;\r\n}\r\n/***Wijmo Theming**/\r\n\r\ndiv.wijmo-wijmenu {\r\n\tpadding:0 20px;\r\n\tbackground-color: #222222;\r\n\tbackground-repeat: repeat-x;\r\n\tbackground-image: -webkit-linear-gradient(top, #333333, #222222); /* Safari 5.1+, Chrome 10+ */\r\n\tbackground-image: -moz-linear-gradient(top, #333333, #222222); /* Firefox 3.6 */\r\n\tbackground-image: -o-linear-gradient(top, #333333, #222222); /* Opera 11.10+ */\r\n\tbackground-image: linear-gradient(top, #333333, #222222); /* CSS3 Compliant */\r\n\tfilter:progid:DXImageTransform.Microsoft.gradient(startColorstr=\'#333333\', endColorstr=\'#222222\', GradientType=0); /* IE8 */\r\n\t-webkit-box-shadow: 0 1px 3px rgba(0, 0, 0, 0.25), inset 0 -1px 0 rgba(0, 0, 0, 0.1); /* Safari 4 */\r\n\t-moz-box-shadow: 0 1px 3px rgba(0, 0, 0, 0.25), inset 0 -1px 0 rgba(0, 0, 0, 0.1); /* Firefox 3.6 */\r\n\tbox-shadow: 0 1px 3px rgba(0, 0, 0, 0.25), inset 0 -1px 0 rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.wijmo-wijmenu .ui-state-default {\r\n\t-webkit-box-shadow: none; /* Safari 4 */\r\n\t-moz-box-shadow: none; /* Firefox 3.6 */\r\n\tbox-shadow: none;\r\n\tcolor: #bfbfbf;\r\n}\r\n\r\n.wijmo-wijmenu .ui-state-default .wijmo-wijmenu-text {\r\n\tcolor: #bfbfbf;\r\n}\r\n\r\n.wijmo-wijmenu .ui-state-hover {\r\n\tbackground: #444;\r\n\tbackground: rgba(255, 255, 255, 0.05);\r\n}\r\n\r\n.wijmo-wijmenu .ui-state-hover .wijmo-wijmenu-text {\r\n\tcolor: #ffffff;\r\n}\r\n\r\ndiv.wijmo-wijmenu .ui-widget-header h3 {\r\n\tposition: relative;\r\n\tmargin-top: 1px;\r\n\tpadding: 0;\r\n}\r\n\r\n.wijmo-wijmenu h3 a {\r\n\tcolor: #ffffff;\r\n\tdisplay: block;\r\n\tfloat: left;\r\n\tfont-size: 20px;\r\n\tfont-weight: 200;\r\n\tline-height: 1;\r\n\tmargin-left: -20px;\r\n\tmargin-top: 1px;\r\n\tpadding: 8px 20px 12px;\r\n}\r\n\r\n.wijmo-wijmenu h3 a:hover{\r\n\tbackground-color: rgba(255, 255, 255, 0.05);\r\n\tcolor: #ffffff;\r\n\ttext-decoration: none;\r\n}\r\n\r\n.wijmo-wijmenu .ui-widget-header {\r\n\tborder: 0;\r\n}\r\n\r\n.wijmo-wijmenu .wijmo-wijmenu-parent .wijmo-wijmenu-child {\r\n\tpadding: 0.3em 0;\r\n}\r\n\r\ndiv.wijmo-wijmenu .wijmo-wijmenu-item .wijmo-wijmenu-child {\r\n\tbackground: #333;\r\n\tborder: 0;\r\n\tmargin: 0;\r\n\tpadding: 6px 0;\r\n\twidth: 160px;\r\n\t-webkit-border-radius: 0 0 6px 6px; /* Safari 4 */\r\n\t-moz-border-radius: 0 0 6px 6px; /* Firefox 3.6 */\r\n\tborder-radius: 0 0 6px 6px;\r\n\t-webkit-box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2); /* Safari 4 */\r\n\t-moz-box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2); /* Firefox 3.6 */\r\n\tbox-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\r\n}\r\n\r\ndiv.wijmo-wijmenu .wijmo-wijmenu-item {\r\n\tmargin: 0;\r\n\tborder: 0;\r\n}\r\n\r\n.wijmo-wijmenu a.wijmo-wijmenu-link {\r\n\tmargin: 0;\r\n\tline-height: 19px;\r\n\tpadding: 10px 10px 11px;\r\n\tborder: 0;\r\n\t-webkit-border-radius: 0; /* Safari 4 */\r\n\t-moz-border-radius: 0; /* Firefox 3.6 */\r\n\tborder-radius: 0;\r\n}\r\n\r\ndiv.wijmo-wijmenu .wijmo-wijmenu-child .wijmo-wijmenu-link {\r\n\tdisplay: block;\r\n\tfloat: none;\r\n\tpadding: 4px 15px;\r\n\twidth: auto;\r\n}\r\n\r\ndiv.wijmo-wijmenu .wijmo-wijmenu-child .wijmo-wijmenu-text {\r\n\tfloat: none;\r\n}\r\n\r\n.wijmo-wijmenu .wijmo-wijmenu-item .wijmo-wijmenu-child .ui-state-hover {\r\n\tbackground: #191919;\r\n}\r\n\r\n.wijmo-wijmenu .wijmo-wijmenu-item .wijmo-wijmenu-separator {\r\n\tpadding: 5px 0;\r\n\tbackground-image: none;\r\n\tbackground-color: #222;\r\n\tborder-top: 1px solid #444;\r\n\tborder-bottom: 0;\r\n\tborder-left: 0;\r\n\tborder-right: 0;\r\n}\r\n\r\n.wijmo-wijmenu .wijmo-wijmenu-item input {\r\n\t-moz-transition: none 0s ease 0s;\r\n\tbackground-color: rgba(255, 255, 255, 0.3);\r\n\tborder: 1px solid #111111;\r\n\tborder-radius: 4px 4px 4px 4px;\r\n\t-webkit-box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1) inset, 0 1px 0 rgba(255, 255, 255, 0.25); /* Safari 4 */\r\n\t-moz-box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1) inset, 0 1px 0 rgba(255, 255, 255, 0.25); /* Firefox 3.6 */\r\n\tbox-shadow: 0 1px 2px rgba(0, 0, 0, 0.1) inset, 0 1px 0 rgba(255, 255, 255, 0.25);\r\n\tcolor: rgba(255, 255, 255, 0.75);\r\n\tfont-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\r\n\tline-height: 1;\r\n\tmargin: 5px 10px 0 10px;\r\n\tpadding: 4px 9px;\r\n\twidth: 100px;\r\n}\r\n\r\n.wijmo-wijmenu .wijmo-wijmenu-item input:hover {\r\n\tbackground-color: rgba(255, 255, 255, 0.5);\r\n\tcolor: #ffffff;\r\n}\r\n\r\n.wijmo-wijmenu .wijmo-wijmenu-item input:focus {\r\n\tbackground-color: #ffffff;\r\n\tborder: 0 none;\r\n\t-webkit-box-shadow: 0 0 3px rgba(0, 0, 0, 0.15); /* Safari 4 */\r\n\t-moz-box-shadow: 0 0 3px rgba(0, 0, 0, 0.15); /* Firefox 3.6 */\r\n\tbox-shadow: 0 0 3px rgba(0, 0, 0, 0.15);\r\n\tcolor: #404040;\r\n\toutline: 0 none;\r\n\tpadding: 5px 10px;\r\n\ttext-shadow: 0 1px 0 #ffffff;\r\n}\r\n\r\n.wijmo-wijmenu .ui-state-default,\r\n.ui-widget-content .ui-state-default,\r\n.ui-widget-header .ui-state-default {\r\n\ttext-shadow:none;\r\n}\r\n\r\n.wijmo-wijmenu .ui-state-default {\r\n\t-webkit-box-shadow: none; /* Safari 4 */\r\n\t-moz-box-shadow: none; /* Firefox 3.6 */\r\n\tbox-shadow: none;\r\n\tcolor: #bfbfbf;\r\n\tfilter: none;\r\n}\r\n\r\n/**\r\n* Font Awesome in jQuery UI\r\n* @author Gerits Aurelien\r\n*\r\n**/\r\n\r\n.ui-button-icon-primary.ui-icon[class^="icon-"]:before,\r\n.ui-button-icon-primary.ui-icon[class*=" icon-"]:before,\r\n.ui-button-icon-secondary.ui-icon[class^="icon-"]:before,\r\n.ui-button-icon-secondary.ui-icon[class*=" icon-"]:before {\r\n    font-size: inherit;\r\n    margin-left: 7px!important;\r\n    margin-left: 5px;\r\n    display: inline;\r\n    text-decoration: inherit;\r\n    color:inherit;\r\n}\r\n\r\n/* **\r\n* If you use "Font awesome" is disable UI icons in element\r\n** */\r\n.ui-state-default .ui-icon[class*=" icon-"]{\r\n    /* Reset background with font Awesome */\r\n    background:none;\r\n    margin-left:-12px; /*fix for margin issue with font awesome buttons*/\r\n}\r\n\r\n/* If you do not use ui-icon uncomment the lines */\r\n/*\r\n.ui-button .ui-button-text{\r\n    display: inline-block;\r\n    padding: 0px;\r\n}\r\n\r\n.ui-button-text-icon-primary .ui-button-icon-primary{\r\n    float:none;\r\n}*/\r\n',""])},function(t,e,n){var i=n(66);"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(1)(i,r);i.locals&&(t.exports=i.locals)},function(t,e,n){"use strict";(function(t){n(67),n(61),n(57),n(50),n(36),n(34),n(32),n(30),n(29);var e=n(11),i=n(22),r=n(7),o=n(10),a=n(5);window.FilterPanel=e.FilterPanel,window.MLVChart=e.MLVChart,window.$=t,window.dc=o.dc,window.d3=a.d3,window.MLVImageTable=i.MLVImageTable,window.FilterPanelDataView=r.FilterPanelDataView,window.MLVTable=r.MLVTable}).call(this,n(0))}]);