<!doctype html>
<html>
	<head>
		<style>
		    .civ-icon{
		    	font-size:18px;
		    	cursor:pointer;
		    	margin:1px 4px;
		    }
		</style>
	</head>


 	<body>
		<h2 style= "display:inline-block;margin-bottom:4px"> Basic Setup </h2>
		<a href="https://github.com/Hughes-Genome-Group/CIView/blob/master/examples/example1.html">View Source</a>
		<div style="width:100%;margin-bottom:10px"> Basic Setup</div>

		<!-- The div to hold the panel -->
		
   	 	<div id="panel" style="height:500px;width:49%;display:inline-block"> </div>
   	 	<div style="height:500px;width:49%;display:inline-block">
   	 	    <div style ="height:20px;width:100%">
                <i id ="sort-button" class="fas fa-sort-alpha-up civ-icon"></i>
                <i id ="filter-button" class="fas fa-filter civ-icon"></i>
   	 	    </div>
		    <div id="images" style="height:500px;width:100%"></div>
		</div>


		
		<!-- only necessary for browsers which do not support es6-->
		<script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.6.15/browser-polyfill.min.js"></script>
		<!-- contains all the js and css necessary for the browser-->
   	 	<script src="../dist/ciview.js" ></script>

		<script>
			function setUp(data){
			    var columns=[
					{field:"name",name:"Name",datatype:"text",filterable:true,sortable:true},
					{field:"club",name:"Club",datatype:"text",filterable:true,sortable:true},
				    {field:"position",name:"Position",datatype:"text",filterablble:true,sortable:true},
				    {field:"value",name:"Value(M)",datatype:"double",filterable:true,sortable:true},
				    {field:"foot",name:"Preferred Foot",datatype:"text",filterable:true,sortable:true},
				    {field:"height",name:"Height(inches)",datatype:"integer",filterable:true,sortable:true},
				    {field:"weight",name:"Weight(lbs)",datatype:"integer",filterable:true,sortable:true}
				];
				var fp = new FilterPanel("panel",data,{menu_bar:true,columns:columns});
				var dv = new FilterPanelDataView(fp);
			
				var it  = new MLVImageTable("images",dv,{url_field:"image","initial_image_width":100,show_info_box:true,columns:columns});
				fp.addChart({
					type:"bar_chart",
					param:"overall",
					title:"Overall Score"
				});

				fp.addChart({
					type:"bar_chart",
					param:"value",
					title:"Value(M)",
					display_max:20,
					bin_number:20
				});

				fp.addChart({
					type:"wgl_scatter_plot",
					param:["height","weight"]

				});

				fp.addChart({
					type:"box_plot",
					param:["foot","overall"],
					title:"Preferred Foot vs. Skill"
				});
				fp.addChart({
					type:"row_chart",
					param:"position",
					cap:15

				})

			    //set up interaction
			    $("#sort-button").click(function(e){
			    	it.showSortDialog();
			    });
			     $("#filter-button").click(function(e){
			    	it.showFilterDialog();
			    })
				
			
			}




			//load the data (take from https://www.kaggle.com/)
			$.ajax({
				dataType:"json",
				url:"data/fifa_all.json"//"https://martinsergeant.github.io/ciview/examples/data/fifa_all.json"
			}).done(setUp);
		</script>
 	 </body>
</html>